{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[137],{cLBp:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return k}));var n=a(\"rmht\"),c=a.n(n),r=a(\"wXtC\"),i=a.n(r),s=a(\"FAat\"),o=a.n(s),l=a(\"iJl9\"),d=a.n(l),u=a(\"nKUr\"),j=a(\"20a2\"),m=a(\"q1tI\"),h=(a(\"YFqc\"),a(\"l+S1\")),f=a(\"wd/R\"),b=a.n(f),p=a(\"2Sck\"),O=a(\"g6Xq\"),x=a.n(O),_=a(\"VXtC\"),g=a(\"T+/+\"),v=a(\"a3/r\"),S=a(\"6GDB\"),k=!0;t.default=function(e){var t=e.dataProfile,a=e.sidemenu,n=e.initProps,r=Object(j.useRouter)(),s=r.pathname.split(\"/\").slice(1);s.splice(1,2),s.push(\"Riwayat Tiket\");var l=Object(m.useState)({current_page:\"\",data:[],first_page_url:\"\",from:null,last_page:null,last_page_url:\"\",next_page_url:\"\",path:\"\",per_page:null,prev_page_url:null,to:null,total:null}),f=l[0],O=l[1],k=Object(m.useState)([]),w=k[0],y=k[1],N=Object(m.useState)({status_ticket:[{id:0,name:\"\"}],ticket_types:[],incident_type:[],companies:{data:[{id:0,title:\"\",key:\"\",value:0}]},ticket_task_types:[],resolved_times:[]}),C=N[0],T=N[1],E=Object(m.useState)(!1),F=E[0],I=E[1],P=Object(m.useState)(!1),B=(P[0],P[1],Object(m.useState)(1)),D=B[0],R=B[1],z=Object(m.useState)(10),A=z[0],J=(z[1],Object(m.useState)({sort_by:\"\",sort_type:\"\"})),L=J[0],q=J[1],K=Object(m.useState)([]),X=(K[0],K[1]),G=Object(m.useState)(\"\"),V=G[0],Y=G[1],M=Object(m.useState)(\"\"),U=M[0],H=M[1],Q=Object(m.useState)(\"\"),W=Q[0],Z=Q[1],$=Object(m.useState)(\"\"),ee=$[0],te=$[1],ae=Object(m.useState)(\"\"),ne=ae[0],ce=ae[1],re=Object(m.useState)(\"\"),ie=re[0],se=re[1],oe=Object(m.useState)(\"\"),le=oe[0],de=oe[1],ue=Object(m.useState)(\"\"),je=ue[0],me=ue[1],he=Object(m.useState)(!1),fe=(he[0],he[1],Object(m.useState)(!1)),be=(fe[0],fe[1],Object(m.useState)(-1)),pe=(be[0],be[1],Object(m.useState)({id:null,name:\"\"})),Oe=(pe[0],pe[1],Object(m.useState)(!1)),xe=(Oe[0],Oe[1],Object(m.useState)(!1)),_e=(xe[0],xe[1],Object(m.useState)(-1)),ge=(_e[0],_e[1],[{title:\"No\",dataIndex:\"num\",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:f.from+a})}}},{title:\"No. Tiket\",dataIndex:\"id\",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:t.full_name})}},sorter:function(e,t){return e.id>t.id}},{title:\"Tipe Tiket\",dataIndex:\"type\",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:t.type_name})}},sorter:function(e,t){return e.type.name.localeCompare(t.type.name)}},{title:\"Diajukan Oleh\",dataIndex:\"requested_by\",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:t.task.creator.name})}}},{title:\"Lokasi Problem\",dataIndex:\"location_id\",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:t.task.location.full_location})}}},{title:\"Tanggal Pengajuan\",dataIndex:\"raised_at\",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:t.raised_at})}},sorter:function(e,t){return e.raised_at.localeCompare(t.raised_at)}},{title:\"Di-assign Ke\",dataIndex:\"assignable\",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:0===t.task.users.length?Object(u.jsxs)(\"div\",{className:\" flex items-center bg-onhold bg-opacity-10\",children:[Object(u.jsx)(\"div\",{className:\" mr-2\",children:Object(u.jsx)(_.ib,{})}),Object(u.jsx)(\"div\",{children:\"Belum di-assign\"})]}):Object(u.jsx)(u.Fragment,{children:t.task.users[0].name})})}}},{title:\"Durasi Selesai\",dataIndex:\"resolved_times\",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:t.resolved_times})}},sorter:function(e,t){return e.resolved_times.localeCompare(t.resolved_times)}}]);return Object(m.useEffect)((function(){I(!0),fetch(\"https://boiling-thicket-46501.herokuapp.com/getClosedTickets?page=\".concat(D,\"&rows=\").concat(A,\"&ticket_id=\").concat(V,\"&from=\").concat(W,\"&to=\").concat(ee,\"&location_id=\").concat(ne,\"&from_res=\").concat(ie,\"&to_res=\").concat(je,\"&sort_by=\").concat(L.sort_by,\"&sort_type=\").concat(L.sort_type),{method:\"GET\",headers:{Authorization:JSON.parse(n)}}).then((function(e){return e.json()})).then((function(e){O(e.data),y(e.data.data),X(e.data.data),I(!1)}))}),[]),Object(m.useEffect)((function(){fetch(\"https://boiling-thicket-46501.herokuapp.com/\".concat(1===t.data.role?\"getTicketRelation\":\"getClientTicketRelation\"),{method:\"GET\",headers:{Authorization:JSON.parse(n)}}).then((function(e){return e.json()})).then((function(e){T(e.data)}))}),[]),Object(u.jsx)(p.a,{dataProfile:t,sidemenu:a,tok:n,st:x.a,pathArr:s,children:Object(u.jsx)(\"div\",{className:\" flex flex-col px-5\",children:Object(u.jsxs)(\"div\",{className:\"flex flex-col shadow-md rounded-lg bg-white p-5 mb-6 mx-3\",children:[Object(u.jsxs)(\"div\",{className:\"flex items-center mb-5\",children:[Object(u.jsx)(\"div\",{className:\"mr-2 cursor-pointer flex items-center\",onClick:function(){r.push(\"/tickets\")},children:Object(u.jsx)(_.i,{size:15,color:\"#000000\"})}),Object(u.jsx)(\"div\",{className:\" mr-2 flex items-center\",children:Object(u.jsx)(g.a,{children:\"Riwayat Tiket\"})})]}),Object(u.jsxs)(\"div\",{className:\" flex items-center mb-5\",children:[Object(u.jsx)(\"div\",{className:\"mx-1 w-2/12\",children:Object(u.jsx)(d.a,{value:\"\"===V?null:V,style:{width:\"100%\"},placeholder:\"Kata Kunci..\",allowClear:!0,onChange:function(e){\"\"===e.target.value?Y(\"\"):Y(e.target.value)}})}),Object(u.jsx)(\"div\",{className:\"mx-1 w-2/12\",children:Object(u.jsx)(o.a,{value:\"\"===U?null:U,placeholder:\"Semua Tipe Tiket\",style:{width:\"100%\"},allowClear:!0,name:\"task_type\",onChange:function(e){H(\"undefined\"===typeof e?\"\":e)},children:C.ticket_types.map((function(e,t){return Object(u.jsx)(o.a.Option,{value:e.id,children:e.name},t)}))})}),Object(u.jsx)(\"div\",{className:\" w-3/12 mx-1\",children:Object(u.jsx)(i.a.RangePicker,{style:{width:\"100%\"},allowEmpty:!0,className:\"datepickerStatus\",value:\"\"===W?[null,null]:[b()(W),b()(ee)],onChange:function(e,t){Z(t[0]),te(t[1])}})}),Object(u.jsx)(\"div\",{className:\" mx-1 w-5/12\",children:Object(u.jsx)(c.a,{style:{width:\"100%\"},allowClear:!0,placeholder:\"Semua Lokasi\",showSearch:!0,suffixIcon:Object(u.jsx)(h.a,{}),showArrow:!0,name:\"locations_id\",onChange:function(e){ce(\"undefined\"===typeof e?\"\":e)},treeData:[C.companies],treeDefaultExpandAll:!0,value:\"\"===ne?null:ne})}),Object(u.jsx)(\"div\",{className:\"mx-1 w-2/12\",children:Object(u.jsx)(o.a,{value:\"\"===le?null:le,placeholder:\"Durasi Selesai\",style:{width:\"100%\"},allowClear:!0,name:\"resolved_times\",onChange:function(e,t){\"undefined\"===typeof e?(se(\"\"),me(\"\"),de(\"\")):(se(t.from),me(t.to),de(e))},children:C.resolved_times.map((function(e,t){return null===e.from?Object(u.jsx)(o.a.Option,{value:1,from:\"\",to:e.to,children:\"Kurang dari 3 jam\"},t):10800===e.from?Object(u.jsx)(o.a.Option,{value:2,from:e.from,to:e.to,children:\"3 - 12 jam\"},t):43200===e.from?Object(u.jsx)(o.a.Option,{value:3,from:e.from,to:e.to,children:\"12 - 30 jam\"},t):108e3===e.from?Object(u.jsx)(o.a.Option,{value:4,from:e.from,to:e.to,children:\"30 jam - 3 hari\"},t):259200===e.from?Object(u.jsx)(o.a.Option,{value:5,from:e.from,to:\"\",children:\"Lebih dari 3 hari\"},t):void 0}))})}),Object(u.jsx)(\"div\",{className:\"mx-1 w-1/12\",children:Object(u.jsx)(v.a,{type:\"primary\",onClick:function(){I(!0),fetch(\"https://boiling-thicket-46501.herokuapp.com/getClosedTickets?page=\".concat(D,\"&rows=\").concat(A,\"&ticket_id=\").concat(V,\"&from=\").concat(W,\"&to=\").concat(ee,\"&location_id=\").concat(ne,\"&from_res=\").concat(ie,\"&to_res=\").concat(je,\"&sort_by=\").concat(L.sort_by,\"&sort_type=\").concat(L.sort_type),{method:\"GET\",headers:{Authorization:JSON.parse(n)}}).then((function(e){return e.json()})).then((function(e){O(e.data),y(e.data.data),X(e.data.data),I(!1)}))},children:\"Cari\"})})]}),Object(u.jsx)(\"div\",{children:Object(u.jsx)(S.g,{dataSource:w,setDataSource:y,columns:ge,loading:F,setpraloading:I,pageSize:A,total:f.total,initProps:n,setpage:R,pagefromsearch:D,setdataraw:O,setsorting:q,sorting:L,searching:V,tickettype:U,fromdate:W,todate:ee,location:ne,fromres:ie,tores:je})})]})})})}},\"l+S1\":function(e,t,a){\"use strict\";var n=a(\"VTBJ\"),c=a(\"q1tI\"),r={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\"}}]},name:\"search\",theme:\"outlined\"},i=a(\"6VBw\"),s=function(e,t){return c.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:r}))};s.displayName=\"SearchOutlined\";t.a=c.forwardRef(s)},s3BY:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/tickets/histories\",function(){return a(\"cLBp\")}])}},[[\"s3BY\",0,2,18,1,3,4,5,6,7,8,9,11,13,17,16,19,20,23,25]]]);","map":{"version":3,"sources":["static/chunks/pages/tickets/histories-426ac12dcdb2585d4723.js"],"names":["_N_E","window","push","cLBp","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_0__","antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_0___default","n","antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1__","antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default","antd_lib_select__WEBPACK_IMPORTED_MODULE_2__","antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default","antd_lib_input__WEBPACK_IMPORTED_MODULE_3__","antd_lib_input__WEBPACK_IMPORTED_MODULE_3___default","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__","next_router__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_6__","_ant_design_icons__WEBPACK_IMPORTED_MODULE_8__","moment__WEBPACK_IMPORTED_MODULE_9__","moment__WEBPACK_IMPORTED_MODULE_9___default","_components_layout_dashboardNew__WEBPACK_IMPORTED_MODULE_10__","_components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_11__","_components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_11___default","_components_icon__WEBPACK_IMPORTED_MODULE_12__","_components_typography__WEBPACK_IMPORTED_MODULE_13__","_components_button__WEBPACK_IMPORTED_MODULE_14__","_components_table_tableCustom__WEBPACK_IMPORTED_MODULE_15__","_ref","dataProfile","sidemenu","initProps","rt","Object","pathArr","pathname","split","slice","splice","_useState","current_page","data","first_page_url","from","last_page","last_page_url","next_page_url","path","per_page","prev_page_url","to","total","datarawhistories","setdatarawhistories","_useState2","datahistories","setdatahistories","_useState3","status_ticket","id","name","ticket_types","incident_type","companies","title","key","value","ticket_task_types","resolved_times","dataticketrelation","setdatatickrelation","_useState4","loadinghistories","setloadinghistories","_useState5","_useState6","pagehistories","setpagehistories","_useState7","rowshistories","_useState8","sort_by","sort_type","sortinghistories","setsortinghistories","_useState9","setdatafilterthistories","_useState10","searcingfilterhistories","setsearcingfilterhistories","_useState11","tickettypefilterhistories","settickettypefilterhistories","_useState12","fromfilterhistories","setfromfilterhistories","_useState13","tofilterhistories","settofilterhistories","_useState14","locfilterhistories","setlocfilterhistories","_useState15","fromresfilterhistories","setfromresfilterhistories","_useState16","helperfromresfilterhistories","sethelperfromresfilterhistories","_useState17","toresfilterhistories","settoresfilterhistories","_useState18","_useState19","_useState20","_useState21","_useState22","_useState23","_useState24","columnsTicketHistories","dataIndex","render","text","record","index","children","full_name","sorter","a","b","type_name","type","localeCompare","task","creator","location","full_location","raised_at","users","length","className","fetch","concat","method","headers","Authorization","JSON","parse","then","res","json","res2","role","tok","st","onClick","size","color","style","width","placeholder","allowClear","onChange","e","target","map","doc","idx","Option","RangePicker","allowEmpty","dates","datestrings","showSearch","suffixIcon","showArrow","treeData","treeDefaultExpandAll","option","dataSource","setDataSource","columns","loading","setpraloading","pageSize","setpage","pagefromsearch","setdataraw","setsorting","sorting","searching","tickettype","fromdate","todate","fromres","tores","l+S1","objectSpread2","react","asn_SearchOutlined","icon","tag","attrs","viewBox","focusable","theme","AntdIcon","icons_SearchOutlined_SearchOutlined","props","ref","displayName","s3BY","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/tickets/histories-426ac12dcdb2585d4723.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[137],{\n\n/***/ \"cLBp\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"rmht\");\n/* harmony import */ var antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"wXtC\");\n/* harmony import */ var antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"FAat\");\n/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"iJl9\");\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"l+S1\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"wd/R\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _components_layout_dashboardNew__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"2Sck\");\n/* harmony import */ var _components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"g6Xq\");\n/* harmony import */ var _components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _components_icon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"VXtC\");\n/* harmony import */ var _components_typography__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"T+/+\");\n/* harmony import */ var _components_button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"a3/r\");\n/* harmony import */ var _components_table_tableCustom__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"6GDB\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar TicketHistories = function TicketHistories(_ref) {\n  var dataProfile = _ref.dataProfile,\n      sidemenu = _ref.sidemenu,\n      initProps = _ref.initProps;\n  //1.Init\n  var rt = Object(next_router__WEBPACK_IMPORTED_MODULE_5__[\"useRouter\"])();\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  pathArr.splice(1, 2);\n  pathArr.push(\"Riwayat Tiket\"); //2.Use State\n  //TASK HISTORIES\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])({\n    current_page: \"\",\n    data: [],\n    first_page_url: \"\",\n    from: null,\n    last_page: null,\n    last_page_url: \"\",\n    next_page_url: \"\",\n    path: \"\",\n    per_page: null,\n    prev_page_url: null,\n    to: null,\n    total: null\n  }),\n      datarawhistories = _useState[0],\n      setdatarawhistories = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])([]),\n      datahistories = _useState2[0],\n      setdatahistories = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])({\n    status_ticket: [{\n      id: 0,\n      name: \"\"\n    }],\n    ticket_types: [],\n    incident_type: [],\n    companies: {\n      data: [{\n        id: 0,\n        title: '',\n        key: '',\n        value: 0\n      }]\n    },\n    ticket_task_types: [],\n    resolved_times: []\n  }),\n      dataticketrelation = _useState3[0],\n      setdatatickrelation = _useState3[1];\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      loadinghistories = _useState4[0],\n      setloadinghistories = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      loadingfilterhistories = _useState5[0],\n      setloadingfilterhistories = _useState5[1];\n\n  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(1),\n      pagehistories = _useState6[0],\n      setpagehistories = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(10),\n      rowshistories = _useState7[0],\n      setrowshistories = _useState7[1];\n\n  var _useState8 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])({\n    sort_by: \"\",\n    sort_type: \"\"\n  }),\n      sortinghistories = _useState8[0],\n      setsortinghistories = _useState8[1]; //Filter\n\n\n  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])([]),\n      datafilterthistories = _useState9[0],\n      setdatafilterthistories = _useState9[1];\n\n  var _useState10 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(\"\"),\n      searcingfilterhistories = _useState10[0],\n      setsearcingfilterhistories = _useState10[1];\n\n  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(\"\"),\n      tickettypefilterhistories = _useState11[0],\n      settickettypefilterhistories = _useState11[1];\n\n  var _useState12 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(\"\"),\n      fromfilterhistories = _useState12[0],\n      setfromfilterhistories = _useState12[1];\n\n  var _useState13 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(\"\"),\n      tofilterhistories = _useState13[0],\n      settofilterhistories = _useState13[1];\n\n  var _useState14 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(\"\"),\n      locfilterhistories = _useState14[0],\n      setlocfilterhistories = _useState14[1];\n\n  var _useState15 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(\"\"),\n      fromresfilterhistories = _useState15[0],\n      setfromresfilterhistories = _useState15[1];\n\n  var _useState16 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(\"\"),\n      helperfromresfilterhistories = _useState16[0],\n      sethelperfromresfilterhistories = _useState16[1];\n\n  var _useState17 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(\"\"),\n      toresfilterhistories = _useState17[0],\n      settoresfilterhistories = _useState17[1]; //create - ticket histories\n\n\n  var _useState18 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      drawerhistoriescreate = _useState18[0],\n      setdrawerhistoriescreate = _useState18[1];\n\n  var _useState19 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      loadinghistoriescreate = _useState19[0],\n      setloadinghistoriescreate = _useState19[1];\n\n  var _useState20 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(-1),\n      refreshcreatehistoriescreate = _useState20[0],\n      setrefreshcreatehistoriescreate = _useState20[1]; //delete - ticket histories\n\n\n  var _useState21 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])({\n    id: null,\n    name: \"\"\n  }),\n      datahistoriesdelete = _useState21[0],\n      setdatahistoriesdelete = _useState21[1];\n\n  var _useState22 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      modalhistoriesdelete = _useState22[0],\n      setmodalhistoriesdelete = _useState22[1];\n\n  var _useState23 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      loadinghistoriesdelete = _useState23[0],\n      setloadinghistoriesdelete = _useState23[1];\n\n  var _useState24 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(-1),\n      refreshcreatehistoriesdelete = _useState24[0],\n      setrefreshcreatehistoriesdelete = _useState24[1]; //2. Column Table\n\n\n  var columnsTicketHistories = [{\n    title: 'No',\n    dataIndex: 'num',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"Fragment\"], {\n          children: datarawhistories.from + index\n        })\n      };\n    }\n  }, {\n    title: 'No. Tiket',\n    dataIndex: 'id',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"Fragment\"], {\n          children: record.full_name\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.id > b.id;\n    }\n  }, {\n    title: 'Tipe Tiket',\n    dataIndex: 'type',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"Fragment\"], {\n          children: record.type_name\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.type.name.localeCompare(b.type.name);\n    }\n  }, {\n    title: 'Diajukan Oleh',\n    dataIndex: 'requested_by',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"Fragment\"], {\n          children: record.task.creator.name\n        })\n      };\n    }\n  }, {\n    title: 'Lokasi Problem',\n    dataIndex: 'location_id',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"Fragment\"], {\n          children: record.task.location.full_location\n        })\n      };\n    }\n  }, {\n    title: 'Tanggal Pengajuan',\n    dataIndex: 'raised_at',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"Fragment\"], {\n          children: record.raised_at\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.raised_at.localeCompare(b.raised_at);\n    }\n  }, {\n    title: 'Di-assign Ke',\n    dataIndex: 'assignable',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"Fragment\"], {\n          children: record.task.users.length === 0 ? /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\", {\n            className: \" flex items-center bg-onhold bg-opacity-10\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n              className: \" mr-2\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(_components_icon__WEBPACK_IMPORTED_MODULE_12__[/* UserIconSvg */ \"ib\"], {})\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n              children: \"Belum di-assign\"\n            })]\n          }) : /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"Fragment\"], {\n            children: record.task.users[0].name\n          })\n        })\n      };\n    }\n  }, {\n    title: 'Durasi Selesai',\n    dataIndex: 'resolved_times',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"Fragment\"], {\n          children: record.resolved_times\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.resolved_times.localeCompare(b.resolved_times);\n    }\n  }]; //3. Handler\n\n  var onFilterTicketHistories = function onFilterTicketHistories() {\n    setloadinghistories(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getClosedTickets?page=\".concat(pagehistories, \"&rows=\").concat(rowshistories, \"&ticket_id=\").concat(searcingfilterhistories, \"&from=\").concat(fromfilterhistories, \"&to=\").concat(tofilterhistories, \"&location_id=\").concat(locfilterhistories, \"&from_res=\").concat(fromresfilterhistories, \"&to_res=\").concat(toresfilterhistories, \"&sort_by=\").concat(sortinghistories.sort_by, \"&sort_type=\").concat(sortinghistories.sort_type), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatarawhistories(res2.data);\n      setdatahistories(res2.data.data);\n      setdatafilterthistories(res2.data.data);\n      setloadinghistories(false);\n    });\n  }; // const handleDeleteTicketHistories = () => {\n  //     setloadinghistories(true)\n  //     fetch(`https://boiling-thicket-46501.herokuapp.com/deleteTicketTaskType`, {\n  //         method: 'DELETE',\n  //         headers: {\n  //             'Authorization': JSON.parse(initProps),\n  //             'Content-Type': 'application/json'\n  //         },\n  //         body: JSON.stringify({\n  //             id: datatickettypesdelete.id\n  //         })\n  //     })\n  //         .then((res) => res.json())\n  //         .then(res2 => {\n  //             setloadinghistories(false)\n  //             if (res2.success) {\n  //                 setrefreshcreatetickettypesdelete(prev => prev + 1)\n  //                 setmodaltickettypesdelete(false)\n  //                 notification['success']({\n  //                     message: res2.message,\n  //                     duration: 3\n  //                 })\n  //             }\n  //             else {\n  //                 notification['error']({\n  //                     message: res2.message,\n  //                     duration: 3\n  //                 })\n  //             }\n  //         })\n  // }\n  //4.Use Effect\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useEffect\"])(function () {\n    setloadinghistories(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getClosedTickets?page=\".concat(pagehistories, \"&rows=\").concat(rowshistories, \"&ticket_id=\").concat(searcingfilterhistories, \"&from=\").concat(fromfilterhistories, \"&to=\").concat(tofilterhistories, \"&location_id=\").concat(locfilterhistories, \"&from_res=\").concat(fromresfilterhistories, \"&to_res=\").concat(toresfilterhistories, \"&sort_by=\").concat(sortinghistories.sort_by, \"&sort_type=\").concat(sortinghistories.sort_type), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatarawhistories(res2.data);\n      setdatahistories(res2.data.data);\n      setdatafilterthistories(res2.data.data);\n      setloadinghistories(false);\n    });\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useEffect\"])(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/\".concat(dataProfile.data.role === 1 ? \"getTicketRelation\" : \"getClientTicketRelation\"), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatatickrelation(res2.data);\n    });\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(_components_layout_dashboardNew__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n    dataProfile: dataProfile,\n    sidemenu: sidemenu,\n    tok: initProps,\n    st: _components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_11___default.a,\n    pathArr: pathArr,\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n      className: \" flex flex-col px-5\",\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\", {\n        className: \"flex flex-col shadow-md rounded-lg bg-white p-5 mb-6 mx-3\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\", {\n          className: \"flex items-center mb-5\",\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n            className: \"mr-2 cursor-pointer flex items-center\",\n            onClick: function onClick() {\n              rt.push(\"/tickets\");\n            },\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(_components_icon__WEBPACK_IMPORTED_MODULE_12__[/* BackIconSvg */ \"i\"], {\n              size: 15,\n              color: \"#000000\"\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n            className: \" mr-2 flex items-center\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(_components_typography__WEBPACK_IMPORTED_MODULE_13__[/* H1 */ \"a\"], {\n              children: \"Riwayat Tiket\"\n            })\n          })]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\", {\n          className: \" flex items-center mb-5\",\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n            className: \"mx-1 w-2/12\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_3___default.a, {\n              value: searcingfilterhistories === \"\" ? null : searcingfilterhistories,\n              style: {\n                width: \"100%\"\n              },\n              placeholder: \"Kata Kunci..\",\n              allowClear: true,\n              onChange: function onChange(e) {\n                if (e.target.value === \"\") {\n                  setsearcingfilterhistories(\"\");\n                } else {\n                  setsearcingfilterhistories(e.target.value);\n                }\n              }\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n            className: \"mx-1 w-2/12\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a, {\n              value: tickettypefilterhistories === \"\" ? null : tickettypefilterhistories,\n              placeholder: \"Semua Tipe Tiket\",\n              style: {\n                width: \"100%\"\n              },\n              allowClear: true,\n              name: \"task_type\",\n              onChange: function onChange(value) {\n                typeof value === 'undefined' ? settickettypefilterhistories(\"\") : settickettypefilterhistories(value);\n              },\n              children: dataticketrelation.ticket_types.map(function (doc, idx) {\n                return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a.Option, {\n                  value: doc.id,\n                  children: doc.name\n                }, idx);\n              })\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n            className: \" w-3/12 mx-1\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default.a.RangePicker, {\n              style: {\n                width: \"100%\"\n              },\n              allowEmpty: true,\n              className: \"datepickerStatus\",\n              value: fromfilterhistories === \"\" ? [null, null] : [moment__WEBPACK_IMPORTED_MODULE_9___default()(fromfilterhistories), moment__WEBPACK_IMPORTED_MODULE_9___default()(tofilterhistories)],\n              onChange: function onChange(dates, datestrings) {\n                setfromfilterhistories(datestrings[0]);\n                settofilterhistories(datestrings[1]);\n              }\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n            className: \" mx-1 w-5/12\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_0___default.a, {\n              style: {\n                width: \"100%\"\n              },\n              allowClear: true,\n              placeholder: \"Semua Lokasi\",\n              showSearch: true,\n              suffixIcon: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {}),\n              showArrow: true,\n              name: \"locations_id\",\n              onChange: function onChange(value) {\n                typeof value === 'undefined' ? setlocfilterhistories(\"\") : setlocfilterhistories(value);\n              },\n              treeData: [dataticketrelation.companies],\n              treeDefaultExpandAll: true,\n              value: locfilterhistories === \"\" ? null : locfilterhistories\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n            className: \"mx-1 w-2/12\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a, {\n              value: helperfromresfilterhistories === \"\" ? null : helperfromresfilterhistories,\n              placeholder: \"Durasi Selesai\",\n              style: {\n                width: \"100%\"\n              },\n              allowClear: true,\n              name: \"resolved_times\",\n              onChange: function onChange(value, option) {\n                typeof value === 'undefined' ? (setfromresfilterhistories(''), settoresfilterhistories(''), sethelperfromresfilterhistories(\"\")) : (setfromresfilterhistories(option.from), settoresfilterhistories(option.to), sethelperfromresfilterhistories(value));\n              },\n              children: dataticketrelation.resolved_times.map(function (doc, idx) {\n                if (doc.from === null) return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a.Option, {\n                  value: 1,\n                  from: \"\",\n                  to: doc.to,\n                  children: \"Kurang dari 3 jam\"\n                }, idx);else if (doc.from === 10800) return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a.Option, {\n                  value: 2,\n                  from: doc.from,\n                  to: doc.to,\n                  children: \"3 - 12 jam\"\n                }, idx);else if (doc.from === 43200) return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a.Option, {\n                  value: 3,\n                  from: doc.from,\n                  to: doc.to,\n                  children: \"12 - 30 jam\"\n                }, idx);else if (doc.from === 108000) return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a.Option, {\n                  value: 4,\n                  from: doc.from,\n                  to: doc.to,\n                  children: \"30 jam - 3 hari\"\n                }, idx);else if (doc.from === 259200) return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a.Option, {\n                  value: 5,\n                  from: doc.from,\n                  to: \"\",\n                  children: \"Lebih dari 3 hari\"\n                }, idx);\n              })\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n            className: \"mx-1 w-1/12\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(_components_button__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n              type: \"primary\",\n              onClick: onFilterTicketHistories,\n              children: \"Cari\"\n            })\n          })]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\", {\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(_components_table_tableCustom__WEBPACK_IMPORTED_MODULE_15__[/* TableCustomTicketHistories */ \"g\"], {\n            dataSource: datahistories,\n            setDataSource: setdatahistories,\n            columns: columnsTicketHistories,\n            loading: loadinghistories,\n            setpraloading: setloadinghistories,\n            pageSize: rowshistories,\n            total: datarawhistories.total,\n            initProps: initProps,\n            setpage: setpagehistories,\n            pagefromsearch: pagehistories,\n            setdataraw: setdatarawhistories,\n            setsorting: setsortinghistories,\n            sorting: sortinghistories,\n            searching: searcingfilterhistories,\n            tickettype: tickettypefilterhistories,\n            fromdate: fromfilterhistories,\n            todate: tofilterhistories,\n            location: locfilterhistories,\n            fromres: fromresfilterhistories,\n            tores: toresfilterhistories\n          })\n        })]\n      })\n    })\n  });\n};\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (TicketHistories);\n\n/***/ }),\n\n/***/ \"l+S1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(\"VTBJ\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/SearchOutlined.js\n// This icon file is generated automatically.\nvar SearchOutlined_SearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\" } }] }, \"name\": \"search\", \"theme\": \"outlined\" };\n/* harmony default export */ var asn_SearchOutlined = (SearchOutlined_SearchOutlined);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/components/AntdIcon.js + 2 modules\nvar AntdIcon = __webpack_require__(\"6VBw\");\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/SearchOutlined.js\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\n\n\n\nvar icons_SearchOutlined_SearchOutlined = function SearchOutlined(props, ref) {\n  return /*#__PURE__*/react[\"createElement\"](AntdIcon[\"a\" /* default */], Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, props), {}, {\n    ref: ref,\n    icon: asn_SearchOutlined\n  }));\n};\n\nicons_SearchOutlined_SearchOutlined.displayName = 'SearchOutlined';\n/* harmony default export */ var icons_SearchOutlined = __webpack_exports__[\"a\"] = (/*#__PURE__*/react[\"forwardRef\"](icons_SearchOutlined_SearchOutlined));\n\n/***/ }),\n\n/***/ \"s3BY\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/tickets/histories\",\n        function () {\n          return __webpack_require__(\"cLBp\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"s3BY\",0,2,18,1,3,4,5,6,7,8,9,11,13,17,16,19,20,23,25]]]);","inputSourceMap":{"version":3,"sources":["/Users/makarim/Documents/code/Next/mighty-fe/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/makarim/Documents/code/Next/mighty-fe/pages/tickets/histories/index.js","/Users/makarim/Documents/code/Next/mighty-fe/node_modules/@ant-design/icons-svg/es/asn/SearchOutlined.js","/Users/makarim/Documents/code/Next/mighty-fe/node_modules/@ant-design/icons/es/icons/SearchOutlined.js","/Users/makarim/Documents/code/Next/mighty-fe/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Ftickets%2Fhistories&absolutePagePath=private-next-pages%2Ftickets%2Fhistories%2Findex.js!"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AACA;AACT;AACF;AACc;AACF;AACU;AAClB;AACY;AACvB;AACsB;AACvB;AACiC;AACI;AACK;AACD;AAClB;AACI;AAC4B;;AAEnF;AACA;AACA;AACA;AACA;AACA,WAAW,6DAAS;AACpB;AACA;AACA,gCAAgC;AAChC;;AAEA,kBAAkB,sDAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;AACA,GAAG;AACH;AACA,0CAA0C;;;AAG1C,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA,+CAA+C;;;AAG/C,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA,uDAAuD;;;AAGvD,oBAAoB,sDAAQ;AAC5B;AACA;AACA,GAAG;AACH;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA;;AAEA,oBAAoB,sDAAQ;AAC5B;AACA,uDAAuD;;;AAGvD;AACA;AACA;AACA;AACA;AACA,+BAA+B,6DAAI,CAAC,0DAAS;AAC7C;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,+BAA+B,6DAAI,CAAC,0DAAS;AAC7C;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,+BAA+B,6DAAI,CAAC,0DAAS;AAC7C;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,+BAA+B,6DAAI,CAAC,0DAAS;AAC7C;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,+BAA+B,6DAAI,CAAC,0DAAS;AAC7C;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,+BAA+B,6DAAI,CAAC,0DAAS;AAC7C;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,+BAA+B,6DAAI,CAAC,0DAAS;AAC7C,kEAAkE,8DAAK;AACvE;AACA,oCAAoC,6DAAI;AACxC;AACA,qCAAqC,6DAAI,CAAC,sEAAW,IAAI;AACzD,aAAa,gBAAgB,6DAAI;AACjC;AACA,aAAa;AACb,WAAW,iBAAiB,6DAAI,CAAC,0DAAS;AAC1C;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,+BAA+B,6DAAI,CAAC,0DAAS;AAC7C;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG,EAAE;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,cAAc;AACd;AACA;;;AAGA,EAAE,uDAAS;AACX;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,EAAE,uDAAS;AACX;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH,sBAAsB,6DAAI,CAAC,gFAAM;AACjC;AACA;AACA;AACA,QAAQ,+EAAE;AACV;AACA,2BAA2B,6DAAI;AAC/B;AACA,6BAA6B,8DAAK;AAClC;AACA,gCAAgC,8DAAK;AACrC;AACA,kCAAkC,6DAAI;AACtC;AACA;AACA;AACA,aAAa;AACb,mCAAmC,6DAAI,CAAC,qEAAW;AACnD;AACA;AACA,aAAa;AACb,WAAW,gBAAgB,6DAAI;AAC/B;AACA,mCAAmC,6DAAI,CAAC,kEAAE;AAC1C;AACA,aAAa;AACb,WAAW;AACX,SAAS,gBAAgB,8DAAK;AAC9B;AACA,kCAAkC,6DAAI;AACtC;AACA,mCAAmC,6DAAI,CAAC,qDAAM;AAC9C;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb,WAAW,gBAAgB,6DAAI;AAC/B;AACA,mCAAmC,6DAAI,CAAC,sDAAO;AAC/C;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,oCAAoC,6DAAI,CAAC,sDAAO;AAChD;AACA;AACA,iBAAiB;AACjB,eAAe;AACf,aAAa;AACb,WAAW,gBAAgB,6DAAI;AAC/B;AACA,mCAAmC,6DAAI,CAAC,2DAAW;AACnD;AACA;AACA,eAAe;AACf;AACA;AACA,kEAAkE,6CAAM,uBAAuB,6CAAM;AACrG;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW,gBAAgB,6DAAI;AAC/B;AACA,mCAAmC,6DAAI,CAAC,2DAAW;AACnD;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,uCAAuC,6DAAI,CAAC,iEAAc,IAAI;AAC9D;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,aAAa;AACb,WAAW,gBAAgB,6DAAI;AAC/B;AACA,mCAAmC,6DAAI,CAAC,sDAAO;AAC/C;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,2DAA2D,6DAAI,CAAC,sDAAO;AACvE;AACA;AACA;AACA;AACA,iBAAiB,OAAO,iDAAiD,6DAAI,CAAC,sDAAO;AACrF;AACA;AACA;AACA;AACA,iBAAiB,OAAO,iDAAiD,6DAAI,CAAC,sDAAO;AACrF;AACA;AACA;AACA;AACA,iBAAiB,OAAO,kDAAkD,6DAAI,CAAC,sDAAO;AACtF;AACA;AACA;AACA;AACA,iBAAiB,OAAO,kDAAkD,6DAAI,CAAC,sDAAO;AACtF;AACA;AACA;AACA;AACA,iBAAiB;AACjB,eAAe;AACf,aAAa;AACb,WAAW,gBAAgB,6DAAI;AAC/B;AACA,mCAAmC,6DAAI,CAAC,mEAAS;AACjD;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX,SAAS,gBAAgB,6DAAI;AAC7B,iCAAiC,6DAAI,CAAC,iGAA0B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEO;AACQ,8EAAe,E;;;;;;;;;;;;;;;;AC/gB9B;AACA,IAAI,6BAAc,IAAI,UAAU,yBAAyB,mDAAmD,gBAAgB,0BAA0B,0gBAA0gB,EAAE,GAAG;AACtpB,oFAAc,EAAC;;;;;;ACFuC;AACrE;AACA;AAC+B;AAC6C;AAC9B;;AAE9C,IAAI,mCAAc;AAClB,sBAAsB,sBAAmB,CAAC,2BAAQ,EAAE,wCAAa,CAAC,wCAAa,GAAG,YAAY;AAC9F;AACA,UAAU,kBAAiB;AAC3B,GAAG;AACH;;AAEA,mCAAc;AACc,oHAAgB,CAAC,mCAAc,CAAC,E;;;;;;;;ACd5D;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAA+C;AACxE;AACA","file":"x","sourcesContent":["import _TreeSelect from \"antd/lib/tree-select\";\nimport _DatePicker from \"antd/lib/date-picker\";\nimport _Select from \"antd/lib/select\";\nimport _Input from \"antd/lib/input\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useRouter } from 'next/router';\nimport { useEffect, useState, useRef } from 'react';\nimport Link from 'next/link';\nimport { SearchOutlined } from '@ant-design/icons';\nimport moment from 'moment';\nimport Layout from '../../../components/layout-dashboardNew';\nimport st from '../../../components/layout-dashboard.module.css';\nimport { SearchIconSvg, UserIconSvg } from '../../../components/icon';\nimport { H1, H2, Label, Text } from '../../../components/typography';\nimport ButtonSys from '../../../components/button';\nimport { BackIconSvg } from '../../../components/icon';\nimport { TableCustomTicketHistories } from '../../../components/table/tableCustom';\n\nvar TicketHistories = function TicketHistories(_ref) {\n  var dataProfile = _ref.dataProfile,\n      sidemenu = _ref.sidemenu,\n      initProps = _ref.initProps;\n  //1.Init\n  var rt = useRouter();\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  pathArr.splice(1, 2);\n  pathArr.push(\"Riwayat Tiket\"); //2.Use State\n  //TASK HISTORIES\n\n  var _useState = useState({\n    current_page: \"\",\n    data: [],\n    first_page_url: \"\",\n    from: null,\n    last_page: null,\n    last_page_url: \"\",\n    next_page_url: \"\",\n    path: \"\",\n    per_page: null,\n    prev_page_url: null,\n    to: null,\n    total: null\n  }),\n      datarawhistories = _useState[0],\n      setdatarawhistories = _useState[1];\n\n  var _useState2 = useState([]),\n      datahistories = _useState2[0],\n      setdatahistories = _useState2[1];\n\n  var _useState3 = useState({\n    status_ticket: [{\n      id: 0,\n      name: \"\"\n    }],\n    ticket_types: [],\n    incident_type: [],\n    companies: {\n      data: [{\n        id: 0,\n        title: '',\n        key: '',\n        value: 0\n      }]\n    },\n    ticket_task_types: [],\n    resolved_times: []\n  }),\n      dataticketrelation = _useState3[0],\n      setdatatickrelation = _useState3[1];\n\n  var _useState4 = useState(false),\n      loadinghistories = _useState4[0],\n      setloadinghistories = _useState4[1];\n\n  var _useState5 = useState(false),\n      loadingfilterhistories = _useState5[0],\n      setloadingfilterhistories = _useState5[1];\n\n  var _useState6 = useState(1),\n      pagehistories = _useState6[0],\n      setpagehistories = _useState6[1];\n\n  var _useState7 = useState(10),\n      rowshistories = _useState7[0],\n      setrowshistories = _useState7[1];\n\n  var _useState8 = useState({\n    sort_by: \"\",\n    sort_type: \"\"\n  }),\n      sortinghistories = _useState8[0],\n      setsortinghistories = _useState8[1]; //Filter\n\n\n  var _useState9 = useState([]),\n      datafilterthistories = _useState9[0],\n      setdatafilterthistories = _useState9[1];\n\n  var _useState10 = useState(\"\"),\n      searcingfilterhistories = _useState10[0],\n      setsearcingfilterhistories = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      tickettypefilterhistories = _useState11[0],\n      settickettypefilterhistories = _useState11[1];\n\n  var _useState12 = useState(\"\"),\n      fromfilterhistories = _useState12[0],\n      setfromfilterhistories = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      tofilterhistories = _useState13[0],\n      settofilterhistories = _useState13[1];\n\n  var _useState14 = useState(\"\"),\n      locfilterhistories = _useState14[0],\n      setlocfilterhistories = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      fromresfilterhistories = _useState15[0],\n      setfromresfilterhistories = _useState15[1];\n\n  var _useState16 = useState(\"\"),\n      helperfromresfilterhistories = _useState16[0],\n      sethelperfromresfilterhistories = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      toresfilterhistories = _useState17[0],\n      settoresfilterhistories = _useState17[1]; //create - ticket histories\n\n\n  var _useState18 = useState(false),\n      drawerhistoriescreate = _useState18[0],\n      setdrawerhistoriescreate = _useState18[1];\n\n  var _useState19 = useState(false),\n      loadinghistoriescreate = _useState19[0],\n      setloadinghistoriescreate = _useState19[1];\n\n  var _useState20 = useState(-1),\n      refreshcreatehistoriescreate = _useState20[0],\n      setrefreshcreatehistoriescreate = _useState20[1]; //delete - ticket histories\n\n\n  var _useState21 = useState({\n    id: null,\n    name: \"\"\n  }),\n      datahistoriesdelete = _useState21[0],\n      setdatahistoriesdelete = _useState21[1];\n\n  var _useState22 = useState(false),\n      modalhistoriesdelete = _useState22[0],\n      setmodalhistoriesdelete = _useState22[1];\n\n  var _useState23 = useState(false),\n      loadinghistoriesdelete = _useState23[0],\n      setloadinghistoriesdelete = _useState23[1];\n\n  var _useState24 = useState(-1),\n      refreshcreatehistoriesdelete = _useState24[0],\n      setrefreshcreatehistoriesdelete = _useState24[1]; //2. Column Table\n\n\n  var columnsTicketHistories = [{\n    title: 'No',\n    dataIndex: 'num',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: datarawhistories.from + index\n        })\n      };\n    }\n  }, {\n    title: 'No. Tiket',\n    dataIndex: 'id',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.full_name\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.id > b.id;\n    }\n  }, {\n    title: 'Tipe Tiket',\n    dataIndex: 'type',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.type_name\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.type.name.localeCompare(b.type.name);\n    }\n  }, {\n    title: 'Diajukan Oleh',\n    dataIndex: 'requested_by',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.task.creator.name\n        })\n      };\n    }\n  }, {\n    title: 'Lokasi Problem',\n    dataIndex: 'location_id',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.task.location.full_location\n        })\n      };\n    }\n  }, {\n    title: 'Tanggal Pengajuan',\n    dataIndex: 'raised_at',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.raised_at\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.raised_at.localeCompare(b.raised_at);\n    }\n  }, {\n    title: 'Di-assign Ke',\n    dataIndex: 'assignable',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.task.users.length === 0 ? /*#__PURE__*/_jsxs(\"div\", {\n            className: \" flex items-center bg-onhold bg-opacity-10\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \" mr-2\",\n              children: /*#__PURE__*/_jsx(UserIconSvg, {})\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: \"Belum di-assign\"\n            })]\n          }) : /*#__PURE__*/_jsx(_Fragment, {\n            children: record.task.users[0].name\n          })\n        })\n      };\n    }\n  }, {\n    title: 'Durasi Selesai',\n    dataIndex: 'resolved_times',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.resolved_times\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.resolved_times.localeCompare(b.resolved_times);\n    }\n  }]; //3. Handler\n\n  var onFilterTicketHistories = function onFilterTicketHistories() {\n    setloadinghistories(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getClosedTickets?page=\".concat(pagehistories, \"&rows=\").concat(rowshistories, \"&ticket_id=\").concat(searcingfilterhistories, \"&from=\").concat(fromfilterhistories, \"&to=\").concat(tofilterhistories, \"&location_id=\").concat(locfilterhistories, \"&from_res=\").concat(fromresfilterhistories, \"&to_res=\").concat(toresfilterhistories, \"&sort_by=\").concat(sortinghistories.sort_by, \"&sort_type=\").concat(sortinghistories.sort_type), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatarawhistories(res2.data);\n      setdatahistories(res2.data.data);\n      setdatafilterthistories(res2.data.data);\n      setloadinghistories(false);\n    });\n  }; // const handleDeleteTicketHistories = () => {\n  //     setloadinghistories(true)\n  //     fetch(`https://boiling-thicket-46501.herokuapp.com/deleteTicketTaskType`, {\n  //         method: 'DELETE',\n  //         headers: {\n  //             'Authorization': JSON.parse(initProps),\n  //             'Content-Type': 'application/json'\n  //         },\n  //         body: JSON.stringify({\n  //             id: datatickettypesdelete.id\n  //         })\n  //     })\n  //         .then((res) => res.json())\n  //         .then(res2 => {\n  //             setloadinghistories(false)\n  //             if (res2.success) {\n  //                 setrefreshcreatetickettypesdelete(prev => prev + 1)\n  //                 setmodaltickettypesdelete(false)\n  //                 notification['success']({\n  //                     message: res2.message,\n  //                     duration: 3\n  //                 })\n  //             }\n  //             else {\n  //                 notification['error']({\n  //                     message: res2.message,\n  //                     duration: 3\n  //                 })\n  //             }\n  //         })\n  // }\n  //4.Use Effect\n\n\n  useEffect(function () {\n    setloadinghistories(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getClosedTickets?page=\".concat(pagehistories, \"&rows=\").concat(rowshistories, \"&ticket_id=\").concat(searcingfilterhistories, \"&from=\").concat(fromfilterhistories, \"&to=\").concat(tofilterhistories, \"&location_id=\").concat(locfilterhistories, \"&from_res=\").concat(fromresfilterhistories, \"&to_res=\").concat(toresfilterhistories, \"&sort_by=\").concat(sortinghistories.sort_by, \"&sort_type=\").concat(sortinghistories.sort_type), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatarawhistories(res2.data);\n      setdatahistories(res2.data.data);\n      setdatafilterthistories(res2.data.data);\n      setloadinghistories(false);\n    });\n  }, []);\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/\".concat(dataProfile.data.role === 1 ? \"getTicketRelation\" : \"getClientTicketRelation\"), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatatickrelation(res2.data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsx(Layout, {\n    dataProfile: dataProfile,\n    sidemenu: sidemenu,\n    tok: initProps,\n    st: st,\n    pathArr: pathArr,\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \" flex flex-col px-5\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col shadow-md rounded-lg bg-white p-5 mb-6 mx-3\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex items-center mb-5\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"mr-2 cursor-pointer flex items-center\",\n            onClick: function onClick() {\n              rt.push(\"/tickets\");\n            },\n            children: /*#__PURE__*/_jsx(BackIconSvg, {\n              size: 15,\n              color: \"#000000\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \" mr-2 flex items-center\",\n            children: /*#__PURE__*/_jsx(H1, {\n              children: \"Riwayat Tiket\"\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \" flex items-center mb-5\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"mx-1 w-2/12\",\n            children: /*#__PURE__*/_jsx(_Input, {\n              value: searcingfilterhistories === \"\" ? null : searcingfilterhistories,\n              style: {\n                width: \"100%\"\n              },\n              placeholder: \"Kata Kunci..\",\n              allowClear: true,\n              onChange: function onChange(e) {\n                if (e.target.value === \"\") {\n                  setsearcingfilterhistories(\"\");\n                } else {\n                  setsearcingfilterhistories(e.target.value);\n                }\n              }\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mx-1 w-2/12\",\n            children: /*#__PURE__*/_jsx(_Select, {\n              value: tickettypefilterhistories === \"\" ? null : tickettypefilterhistories,\n              placeholder: \"Semua Tipe Tiket\",\n              style: {\n                width: \"100%\"\n              },\n              allowClear: true,\n              name: \"task_type\",\n              onChange: function onChange(value) {\n                typeof value === 'undefined' ? settickettypefilterhistories(\"\") : settickettypefilterhistories(value);\n              },\n              children: dataticketrelation.ticket_types.map(function (doc, idx) {\n                return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: doc.id,\n                  children: doc.name\n                }, idx);\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \" w-3/12 mx-1\",\n            children: /*#__PURE__*/_jsx(_DatePicker.RangePicker, {\n              style: {\n                width: \"100%\"\n              },\n              allowEmpty: true,\n              className: \"datepickerStatus\",\n              value: fromfilterhistories === \"\" ? [null, null] : [moment(fromfilterhistories), moment(tofilterhistories)],\n              onChange: function onChange(dates, datestrings) {\n                setfromfilterhistories(datestrings[0]);\n                settofilterhistories(datestrings[1]);\n              }\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \" mx-1 w-5/12\",\n            children: /*#__PURE__*/_jsx(_TreeSelect, {\n              style: {\n                width: \"100%\"\n              },\n              allowClear: true,\n              placeholder: \"Semua Lokasi\",\n              showSearch: true,\n              suffixIcon: /*#__PURE__*/_jsx(SearchOutlined, {}),\n              showArrow: true,\n              name: \"locations_id\",\n              onChange: function onChange(value) {\n                typeof value === 'undefined' ? setlocfilterhistories(\"\") : setlocfilterhistories(value);\n              },\n              treeData: [dataticketrelation.companies],\n              treeDefaultExpandAll: true,\n              value: locfilterhistories === \"\" ? null : locfilterhistories\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mx-1 w-2/12\",\n            children: /*#__PURE__*/_jsx(_Select, {\n              value: helperfromresfilterhistories === \"\" ? null : helperfromresfilterhistories,\n              placeholder: \"Durasi Selesai\",\n              style: {\n                width: \"100%\"\n              },\n              allowClear: true,\n              name: \"resolved_times\",\n              onChange: function onChange(value, option) {\n                typeof value === 'undefined' ? (setfromresfilterhistories(''), settoresfilterhistories(''), sethelperfromresfilterhistories(\"\")) : (setfromresfilterhistories(option.from), settoresfilterhistories(option.to), sethelperfromresfilterhistories(value));\n              },\n              children: dataticketrelation.resolved_times.map(function (doc, idx) {\n                if (doc.from === null) return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 1,\n                  from: \"\",\n                  to: doc.to,\n                  children: \"Kurang dari 3 jam\"\n                }, idx);else if (doc.from === 10800) return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 2,\n                  from: doc.from,\n                  to: doc.to,\n                  children: \"3 - 12 jam\"\n                }, idx);else if (doc.from === 43200) return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 3,\n                  from: doc.from,\n                  to: doc.to,\n                  children: \"12 - 30 jam\"\n                }, idx);else if (doc.from === 108000) return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 4,\n                  from: doc.from,\n                  to: doc.to,\n                  children: \"30 jam - 3 hari\"\n                }, idx);else if (doc.from === 259200) return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 5,\n                  from: doc.from,\n                  to: \"\",\n                  children: \"Lebih dari 3 hari\"\n                }, idx);\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mx-1 w-1/12\",\n            children: /*#__PURE__*/_jsx(ButtonSys, {\n              type: \"primary\",\n              onClick: onFilterTicketHistories,\n              children: \"Cari\"\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: /*#__PURE__*/_jsx(TableCustomTicketHistories, {\n            dataSource: datahistories,\n            setDataSource: setdatahistories,\n            columns: columnsTicketHistories,\n            loading: loadinghistories,\n            setpraloading: setloadinghistories,\n            pageSize: rowshistories,\n            total: datarawhistories.total,\n            initProps: initProps,\n            setpage: setpagehistories,\n            pagefromsearch: pagehistories,\n            setdataraw: setdatarawhistories,\n            setsorting: setsortinghistories,\n            sorting: sortinghistories,\n            searching: searcingfilterhistories,\n            tickettype: tickettypefilterhistories,\n            fromdate: fromfilterhistories,\n            todate: tofilterhistories,\n            location: locfilterhistories,\n            fromres: fromresfilterhistories,\n            tores: toresfilterhistories\n          })\n        })]\n      })\n    })\n  });\n};\n\nexport var __N_SSP = true;\nexport default TicketHistories;","// This icon file is generated automatically.\nvar SearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\" } }] }, \"name\": \"search\", \"theme\": \"outlined\" };\nexport default SearchOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SearchOutlinedSvg from \"@ant-design/icons-svg/es/asn/SearchOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SearchOutlined = function SearchOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: SearchOutlinedSvg\n  }));\n};\n\nSearchOutlined.displayName = 'SearchOutlined';\nexport default /*#__PURE__*/React.forwardRef(SearchOutlined);","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/tickets/histories\",\n        function () {\n          return require(\"private-next-pages/tickets/histories/index.js\");\n        }\n      ]);\n    "]}}