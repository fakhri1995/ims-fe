{"ast":null,"code":"import _TreeSelect from \"antd/lib/tree-select\";\nimport _Select from \"antd/lib/select\";\nimport _toConsumableArray from \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _Spin from \"antd/lib/spin\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _notification from \"antd/lib/notification\";\n\nvar _jsxFileName = \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/components/drawer/tasks/drawerTaskSpareParts.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\nimport ButtonSys from \"../../button\";\nimport { AssetIconSvg, CalendartimeIconSvg, CircleXIconSvg, TrashIconSvg, UserIconSvg } from \"../../icon\";\nimport { InputRequired, SelectRequired, TextAreaNotRequired } from \"../../input\";\nimport { H1, H2, Label } from \"../../typography\";\nimport DrawerCore from \"../drawerCore\";\n\nfunction modifData1(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    dataa[i][\"key\"] = dataa[i].id;\n    dataa[i][\"value\"] = dataa[i].id;\n    dataa[i][\"title\"] = dataa[i].mig_id;\n\n    if (dataa[i].inventory_parts) {\n      dataa[i][\"children\"] = dataa[i].inventory_parts;\n      delete dataa[i].inventory_parts;\n      modifData1(dataa[i].children);\n    }\n  }\n\n  return dataa;\n}\n\nfunction modifData2(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    var _dataa$i$model_invent, _dataa$i$model_invent2, _dataa$i$model_invent3;\n\n    dataa[i][\"key\"] = dataa[i].id;\n    dataa[i][\"value\"] = dataa[i].id;\n    dataa[i][\"title\"] = \"\".concat(dataa[i].mig_id, \" - \").concat((_dataa$i$model_invent = dataa[i].model_inventory) === null || _dataa$i$model_invent === void 0 ? void 0 : _dataa$i$model_invent.name, \" - \").concat((_dataa$i$model_invent2 = dataa[i].model_inventory) === null || _dataa$i$model_invent2 === void 0 ? void 0 : (_dataa$i$model_invent3 = _dataa$i$model_invent2.asset) === null || _dataa$i$model_invent3 === void 0 ? void 0 : _dataa$i$model_invent3.name);\n\n    if (dataa[i].inventory_parts) {\n      dataa[i][\"children\"] = dataa[i].inventory_parts;\n      delete dataa[i].inventory_parts;\n      modifData2(dataa[i].children);\n    }\n  }\n\n  return dataa;\n}\n\nvar DrawerTaskSpareParts = function DrawerTaskSpareParts(_ref) {\n  _s();\n\n  var title = _ref.title,\n      visible = _ref.visible,\n      onvisible = _ref.onvisible,\n      onClose = _ref.onClose,\n      buttonOkText = _ref.buttonOkText,\n      disabled = _ref.disabled,\n      initProps = _ref.initProps,\n      idtask = _ref.idtask,\n      selectedforin = _ref.selectedforin,\n      setselectedforin = _ref.setselectedforin,\n      selectedforout = _ref.selectedforout,\n      setselectedforout = _ref.setselectedforout,\n      prevpath = _ref.prevpath,\n      taskId = _ref.taskId;\n\n  //useState\n  var _useState = useState({\n    id: Number(idtask),\n    add_in_inventories: [],\n    remove_in_inventory_ids: [],\n    add_out_inventory_ids: [],\n    remove_out_inventory_ids: []\n  }),\n      datapayload = _useState[0],\n      setdatapayload = _useState[1];\n\n  var _useState2 = useState(false),\n      loadingspart = _useState2[0],\n      setloadingspart = _useState2[1]; //DATA IN\n\n\n  var _useState3 = useState(true),\n      praloadingin = _useState3[0],\n      setpraloadingin = _useState3[1];\n\n  var _useState4 = useState([]),\n      dataselectforin = _useState4[0],\n      setdataselectforin = _useState4[1];\n\n  var _useState5 = useState([]),\n      datainduk = _useState5[0],\n      setdatainduk = _useState5[1]; //DATA OUT\n\n\n  var _useState6 = useState(true),\n      praloadingout = _useState6[0],\n      setpraloadingout = _useState6[1];\n\n  var _useState7 = useState([]),\n      dataselectforout = _useState7[0],\n      setdataselectforout = _useState7[1];\n\n  var _useState8 = useState(false),\n      fetchingstate = _useState8[0],\n      setfetchingstate = _useState8[1]; //handler\n\n\n  var handleSendSpareParts = function handleSendSpareParts() {\n    setloadingspart(true);\n    fetch(\"\".concat(process.env.NEXT_PUBLIC_BACKEND_URL, \"/sendInventoriesTask\"), {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(datapayload)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setloadingspart(false);\n\n      if (res2.success) {\n        onvisible(false);\n\n        _notification[\"success\"]({\n          message: res2.message,\n          duration: 3\n        });\n\n        window.location.href = \"/tasks/detail/\".concat(idtask);\n      } else {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //useEffect\n\n\n  useEffect(function () {\n    setpraloadingin(true);\n    fetch(\"\".concat(process.env.NEXT_PUBLIC_BACKEND_URL, \"/getTaskSparePartList?type=masuk\"), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      console.log(res2);\n      setdataselectforin(res2.data); // console.log(res2.data);\n\n      setpraloadingin(false);\n    });\n  }, []);\n  useEffect(function () {\n    setpraloadingout(true);\n    fetch(\"\".concat(process.env.NEXT_PUBLIC_BACKEND_URL, \"/getTaskSparePartList?type=keluar&id=\").concat(idtask), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      var modif1 = modifData1(res2.data);\n      setdatainduk(modif1);\n      var modif2 = modifData2(res2.data);\n      setdataselectforout(modif2);\n      setpraloadingout(false);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DrawerCore, {\n    title: title,\n    visible: visible,\n    onClose: onClose,\n    buttonOkText: buttonOkText,\n    onClick: function onClick() {\n      console.log(datapayload, selectedforin);\n      handleSendSpareParts();\n    } // disabled={disabledcreate}\n    ,\n    children: loadingspart ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" flex w-full items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(_Spin, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-0 text-red-500 text-xs italic\",\n          children: \"*Informasi ini harus diisi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-88943343\" + \" \" + \"flex mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Suku Cadang Masuk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"jsx-88943343\" + \" \" + \"spartsin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n            id: \"88943343\",\n            children: \".spartsin.jsx-88943343::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL2NvbXBvbmVudHMvZHJhd2VyL3Rhc2tzL2RyYXdlclRhc2tTcGFyZVBhcnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStMaUIsQUFHaUQsWUFDRixVQUNkIiwiZmlsZSI6Ii9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL2NvbXBvbmVudHMvZHJhd2VyL3Rhc2tzL2RyYXdlclRhc2tTcGFyZVBhcnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VhcmNoT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIERhdGVQaWNrZXIsXG4gIFJhZGlvLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFN3aXRjaCxcbiAgVHJlZVNlbGVjdCxcbiAgbm90aWZpY2F0aW9uLFxufSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgQnV0dG9uU3lzIGZyb20gXCIuLi8uLi9idXR0b25cIjtcbmltcG9ydCB7XG4gIEFzc2V0SWNvblN2ZyxcbiAgQ2FsZW5kYXJ0aW1lSWNvblN2ZyxcbiAgQ2lyY2xlWEljb25TdmcsXG4gIFRyYXNoSWNvblN2ZyxcbiAgVXNlckljb25TdmcsXG59IGZyb20gXCIuLi8uLi9pY29uXCI7XG5pbXBvcnQge1xuICBJbnB1dFJlcXVpcmVkLFxuICBTZWxlY3RSZXF1aXJlZCxcbiAgVGV4dEFyZWFOb3RSZXF1aXJlZCxcbn0gZnJvbSBcIi4uLy4uL2lucHV0XCI7XG5pbXBvcnQgeyBIMSwgSDIsIExhYmVsIH0gZnJvbSBcIi4uLy4uL3R5cG9ncmFwaHlcIjtcbmltcG9ydCBEcmF3ZXJDb3JlIGZyb20gXCIuLi9kcmF3ZXJDb3JlXCI7XG5cbmZ1bmN0aW9uIG1vZGlmRGF0YTEoZGF0YWEpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhYS5sZW5ndGg7IGkrKykge1xuICAgIGRhdGFhW2ldW1wia2V5XCJdID0gZGF0YWFbaV0uaWQ7XG4gICAgZGF0YWFbaV1bXCJ2YWx1ZVwiXSA9IGRhdGFhW2ldLmlkO1xuICAgIGRhdGFhW2ldW1widGl0bGVcIl0gPSBkYXRhYVtpXS5taWdfaWQ7XG4gICAgaWYgKGRhdGFhW2ldLmludmVudG9yeV9wYXJ0cykge1xuICAgICAgZGF0YWFbaV1bXCJjaGlsZHJlblwiXSA9IGRhdGFhW2ldLmludmVudG9yeV9wYXJ0cztcbiAgICAgIGRlbGV0ZSBkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHM7XG4gICAgICBtb2RpZkRhdGExKGRhdGFhW2ldLmNoaWxkcmVuKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRhdGFhO1xufVxuZnVuY3Rpb24gbW9kaWZEYXRhMihkYXRhYSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFhLmxlbmd0aDsgaSsrKSB7XG4gICAgZGF0YWFbaV1bXCJrZXlcIl0gPSBkYXRhYVtpXS5pZDtcbiAgICBkYXRhYVtpXVtcInZhbHVlXCJdID0gZGF0YWFbaV0uaWQ7XG4gICAgZGF0YWFbaV1bXG4gICAgICBcInRpdGxlXCJcbiAgICBdID0gYCR7ZGF0YWFbaV0ubWlnX2lkfSAtICR7ZGF0YWFbaV0ubW9kZWxfaW52ZW50b3J5Py5uYW1lfSAtICR7ZGF0YWFbaV0ubW9kZWxfaW52ZW50b3J5Py5hc3NldD8ubmFtZX1gO1xuICAgIGlmIChkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHMpIHtcbiAgICAgIGRhdGFhW2ldW1wiY2hpbGRyZW5cIl0gPSBkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHM7XG4gICAgICBkZWxldGUgZGF0YWFbaV0uaW52ZW50b3J5X3BhcnRzO1xuICAgICAgbW9kaWZEYXRhMihkYXRhYVtpXS5jaGlsZHJlbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhYTtcbn1cblxuY29uc3QgRHJhd2VyVGFza1NwYXJlUGFydHMgPSAoe1xuICB0aXRsZSxcbiAgdmlzaWJsZSxcbiAgb252aXNpYmxlLFxuICBvbkNsb3NlLFxuICBidXR0b25Pa1RleHQsXG4gIGRpc2FibGVkLFxuICBpbml0UHJvcHMsXG4gIGlkdGFzayxcbiAgc2VsZWN0ZWRmb3JpbixcbiAgc2V0c2VsZWN0ZWRmb3JpbixcbiAgc2VsZWN0ZWRmb3JvdXQsXG4gIHNldHNlbGVjdGVkZm9yb3V0LFxuICBwcmV2cGF0aCxcbiAgdGFza0lkXG59KSA9PiB7XG4gIC8vdXNlU3RhdGVcbiAgY29uc3QgW2RhdGFwYXlsb2FkLCBzZXRkYXRhcGF5bG9hZF0gPSB1c2VTdGF0ZSh7XG4gICAgaWQ6IE51bWJlcihpZHRhc2spLFxuICAgIGFkZF9pbl9pbnZlbnRvcmllczogW10sXG4gICAgcmVtb3ZlX2luX2ludmVudG9yeV9pZHM6IFtdLFxuICAgIGFkZF9vdXRfaW52ZW50b3J5X2lkczogW10sXG4gICAgcmVtb3ZlX291dF9pbnZlbnRvcnlfaWRzOiBbXSxcbiAgfSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BhcnQsIHNldGxvYWRpbmdzcGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIC8vREFUQSBJTlxuICBjb25zdCBbcHJhbG9hZGluZ2luLCBzZXRwcmFsb2FkaW5naW5dID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtkYXRhc2VsZWN0Zm9yaW4sIHNldGRhdGFzZWxlY3Rmb3Jpbl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtkYXRhaW5kdWssIHNldGRhdGFpbmR1a10gPSB1c2VTdGF0ZShbXSk7XG4gIC8vREFUQSBPVVRcbiAgY29uc3QgW3ByYWxvYWRpbmdvdXQsIHNldHByYWxvYWRpbmdvdXRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtkYXRhc2VsZWN0Zm9yb3V0LCBzZXRkYXRhc2VsZWN0Zm9yb3V0XSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZldGNoaW5nc3RhdGUsIHNldGZldGNoaW5nc3RhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vaGFuZGxlclxuICBjb25zdCBoYW5kbGVTZW5kU3BhcmVQYXJ0cyA9ICgpID0+IHtcbiAgICBzZXRsb2FkaW5nc3BhcnQodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L3NlbmRJbnZlbnRvcmllc1Rhc2tgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFwYXlsb2FkKSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdzcGFydChmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBvbnZpc2libGUoZmFsc2UpO1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL3Rhc2tzL2RldGFpbC8ke2lkdGFza31gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvL3VzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldHByYWxvYWRpbmdpbih0cnVlKTtcbiAgICBmZXRjaChcbiAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRUYXNrU3BhcmVQYXJ0TGlzdD90eXBlPW1hc3VrYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzMik7XG4gICAgICAgIHNldGRhdGFzZWxlY3Rmb3JpbihyZXMyLmRhdGEpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMyLmRhdGEpO1xuXG4gICAgICAgIHNldHByYWxvYWRpbmdpbihmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldHByYWxvYWRpbmdvdXQodHJ1ZSk7XG4gICAgZmV0Y2goXG4gICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0VGFza1NwYXJlUGFydExpc3Q/dHlwZT1rZWx1YXImaWQ9JHtpZHRhc2t9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgdmFyIG1vZGlmMSA9IG1vZGlmRGF0YTEocmVzMi5kYXRhKTtcbiAgICAgICAgc2V0ZGF0YWluZHVrKG1vZGlmMSk7XG4gICAgICAgIHZhciBtb2RpZjIgPSBtb2RpZkRhdGEyKHJlczIuZGF0YSk7XG4gICAgICAgIHNldGRhdGFzZWxlY3Rmb3JvdXQobW9kaWYyKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZ291dChmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICByZXR1cm4gKFxuICAgIDxEcmF3ZXJDb3JlXG4gICAgICB0aXRsZT17dGl0bGV9XG4gICAgICB2aXNpYmxlPXt2aXNpYmxlfVxuICAgICAgb25DbG9zZT17b25DbG9zZX1cbiAgICAgIGJ1dHRvbk9rVGV4dD17YnV0dG9uT2tUZXh0fVxuICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhcGF5bG9hZCwgc2VsZWN0ZWRmb3Jpbik7XG4gICAgICAgIGhhbmRsZVNlbmRTcGFyZVBhcnRzKCk7XG4gICAgICB9fVxuICAgICAgLy8gZGlzYWJsZWQ9e2Rpc2FibGVkY3JlYXRlfVxuICAgID5cbiAgICAgIHtsb2FkaW5nc3BhcnQgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtcmVkLTUwMCB0ZXh0LXhzIGl0YWxpY1wiPlxuICAgICAgICAgICAgICAqSW5mb3JtYXNpIGluaSBoYXJ1cyBkaWlzaVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICA8TGFiZWw+U3VrdSBDYWRhbmcgTWFzdWs8L0xhYmVsPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzcGFydHNpblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BhcnRzaW46OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7cHJhbG9hZGluZ2luID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi0yIGZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAxMDAlYCB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkb250U2hvd1wiXG4gICAgICAgICAgICAgICAgICAgIHN1ZmZpeEljb249ezxTZWFyY2hPdXRsaW5lZCAvPn1cbiAgICAgICAgICAgICAgICAgICAgc2hvd0Fycm93XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTUlHIElELCBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e2BwYXJ0X2luYH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgb3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGF0YXBheWxvYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGF0YXBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRfaW5faW52ZW50b3JpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGF0YXBheWxvYWQuYWRkX2luX2ludmVudG9yaWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGludmVudG9yeV9pZDogdmFsdWUsIGNvbm5lY3RfaWQ6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0c2VsZWN0ZWRmb3JpbihbLi4uc2VsZWN0ZWRmb3Jpbiwgb3B0aW9uXSk7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cob3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9e1xuICAgICAgICAgICAgICAgICAgICAgIGZldGNoaW5nc3RhdGUgPyA8U3BpbiBzaXplPVwic21hbGxcIiAvPiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdzdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRUYXNrU3BhcmVQYXJ0TGlzdD90eXBlPW1hc3VrJmtleXdvcmQ9JHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkYXRhc2VsZWN0Zm9yaW4ocmVzMi5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdzdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBvcHQuY2hpbGRyZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49XG4gICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICB9PlxuICAgICAgICAgICAgICAgICAgICB7ZGF0YXNlbGVjdGZvcmluLm1hcCgoZG9jLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZG9jLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWlnaWQ9e2RvYy5taWdfaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbG5hbWU9e2RvYy5tb2RlbF9uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRuYW1lPXtkb2MuYXNzZXRfbmFtZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1pZ19pZH0gLSB7ZG9jLm1vZGVsX25hbWV9IC0ge2RvYy5hc3NldF9uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi0yIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZGZvcmluLm1hcCgoZG9jLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbXItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QXNzZXRJY29uU3ZnIHNpemU9ezUwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxIMj57ZG9jLm1vZGVsbmFtZX08L0gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5taWdpZH0ve2RvYy5hc3NldG5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEluZHVrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAxMHJlbWAsIG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeEljb249ezxTZWFyY2hPdXRsaW5lZCAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Fycm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmNvbm5lY3RfaWQgPT09IDAgPyBudWxsIDogZG9jLmNvbm5lY3RfaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcGFyZW50YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gWy4uLmRhdGFwYXlsb2FkLmFkZF9pbl9pbnZlbnRvcmllc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0uY29ubmVjdF9pZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkYXRhcGF5bG9hZCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX2luX2ludmVudG9yaWVzOiB0ZW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IFsuLi5kYXRhcGF5bG9hZC5hZGRfaW5faW52ZW50b3JpZXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdLmNvbm5lY3RfaWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRfaW5faW52ZW50b3JpZXM6IHRlbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17ZGF0YWluZHVrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbD48L1RyZWVTZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIiBjdXJzb3ItcG9pbnRlciBmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IFsuLi5zZWxlY3RlZGZvcmluXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHNlbGVjdGVkZm9yaW4odGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlX2luX2ludmVudG9yeV9pZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYucmVtb3ZlX2luX2ludmVudG9yeV9pZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX2luX2ludmVudG9yaWVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5hZGRfaW5faW52ZW50b3JpZXMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsKSA9PiBmaWwuaW52ZW50b3J5X2lkICE9PSBkb2MudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaEljb25Tdmcgc2l6ZT17MjB9IGNvbG9yPXtgI0JGNEE0MGB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICA8TGFiZWw+U3VrdSBDYWRhbmcgS2VsdWFyPC9MYWJlbD5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3BhcnRzb3V0XCI+PC9zcGFuPlxuICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGFydHNvdXQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7cHJhbG9hZGluZ291dCA/IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItMiBmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1JRyBJRCwgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDEwMCVgIH19XG4gICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9udFNob3dcIlxuICAgICAgICAgICAgICAgICAgICBzdWZmaXhJY29uPXs8U2VhcmNoT3V0bGluZWQgLz59XG4gICAgICAgICAgICAgICAgICAgIHNob3dBcnJvd1xuICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcGFydF9vdXRgfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRzZWxlY3RlZGZvcm91dChbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5zZWxlY3RlZGZvcm91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaWdpZDogZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMubWlnX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbG5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMubW9kZWxfaW52ZW50b3J5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0bmFtZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYS5hbGxDaGVja2VkTm9kZXNbMF0ubm9kZS5wcm9wcy5tb2RlbF9pbnZlbnRvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8uYXNzZXQ/Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgIHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZF9vdXRfaW52ZW50b3J5X2lkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LmFkZF9vdXRfaW52ZW50b3J5X2lkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2RhdGFzZWxlY3Rmb3JvdXR9XG4gICAgICAgICAgICAgICAgICAgIHRyZWVEZWZhdWx0RXhwYW5kQWxsPjwvVHJlZVNlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi0yIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZGZvcm91dC5tYXAoKGRvYywgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEFzc2V0SWNvblN2ZyBzaXplPXs1MH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SDI+e2RvYy5tb2RlbG5hbWV9PC9IMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubWlnaWR9L3tkb2MuYXNzZXRuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiIGN1cnNvci1wb2ludGVyIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gWy4uLnNlbGVjdGVkZm9yb3V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHNlbGVjdGVkZm9yb3V0KHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRkYXRhcGF5bG9hZCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZV9vdXRfaW52ZW50b3J5X2lkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldi5yZW1vdmVfb3V0X2ludmVudG9yeV9pZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX291dF9pbnZlbnRvcnlfaWRzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5hZGRfb3V0X2ludmVudG9yeV9pZHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsKSA9PiBmaWwgIT09IGRvYy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYXNoSWNvblN2ZyBzaXplPXsyMH0gY29sb3I9e2AjQkY0QTQwYH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L0RyYXdlckNvcmU+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBEcmF3ZXJUYXNrU3BhcmVQYXJ0cztcbiJdfQ== */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/components/drawer/tasks/drawerTaskSpareParts.js */\"\n          }, void 0, false, void 0, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, _this), praloadingin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(_Spin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" mb-2 flex\",\n            children: /*#__PURE__*/_jsxDEV(_Select, {\n              style: {\n                width: \"100%\"\n              },\n              className: \"dontShow\",\n              suffixIcon: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 33\n              }, _this),\n              showArrow: true,\n              placeholder: \"MIG ID, Model\",\n              name: \"part_in\",\n              onChange: function onChange(value, option) {\n                setdatapayload(_objectSpread(_objectSpread({}, datapayload), {}, {\n                  add_in_inventories: [].concat(_toConsumableArray(datapayload.add_in_inventories), [{\n                    inventory_id: value,\n                    connect_id: 0\n                  }])\n                }));\n                setselectedforin([].concat(_toConsumableArray(selectedforin), [option]));\n                console.log(option);\n              },\n              showSearch: true,\n              optionFilterProp: \"children\",\n              notFoundContent: fetchingstate ? /*#__PURE__*/_jsxDEV(_Spin, {\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 39\n              }, _this) : null,\n              onSearch: function onSearch(value) {\n                setfetchingstate(true);\n                fetch(\"\".concat(process.env.NEXT_PUBLIC_BACKEND_URL, \"/getTaskSparePartList?type=masuk&keyword=\").concat(value), {\n                  method: \"GET\",\n                  headers: {\n                    Authorization: JSON.parse(initProps)\n                  }\n                }).then(function (res) {\n                  return res.json();\n                }).then(function (res2) {\n                  setdataselectforin(res2.data);\n                  setfetchingstate(false);\n                });\n              },\n              filterOption: function filterOption(input, opt) {\n                return opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n              },\n              children: dataselectforin.map(function (doc, idx) {\n                return /*#__PURE__*/_jsxDEV(_Select.Option, {\n                  value: doc.id,\n                  migid: doc.mig_id,\n                  modelname: doc.model_name,\n                  assetname: doc.asset_name,\n                  children: [doc.mig_id, \" - \", doc.model_name, \" - \", doc.asset_name]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 23\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" mb-2 flex flex-col\",\n            children: selectedforin.map(function (doc, idx) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" mb-2 flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" mr-2\",\n                    children: /*#__PURE__*/_jsxDEV(AssetIconSvg, {\n                      size: 50\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" flex flex-col\",\n                    children: [/*#__PURE__*/_jsxDEV(H2, {\n                      children: doc.modelname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(Label, {\n                      children: [doc.migid, \"/\", doc.assetname]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 27\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(_TreeSelect, {\n                    allowClear: true,\n                    placeholder: \"Pilih Induk\",\n                    style: {\n                      width: \"10rem\",\n                      marginRight: \"0.5rem\"\n                    },\n                    showSearch: true,\n                    suffixIcon: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 39\n                    }, _this),\n                    showArrow: true,\n                    defaultValue: doc.connect_id === 0 ? null : doc.connect_id,\n                    name: \"parent\",\n                    onChange: function onChange(value) {\n                      if (typeof value === \"undefined\") {\n                        var temp = _toConsumableArray(datapayload.add_in_inventories);\n\n                        temp[idx].connect_id = 0;\n                        setdatapayload(function (prev) {\n                          return _objectSpread(_objectSpread({}, prev), {}, {\n                            add_in_inventories: temp\n                          });\n                        });\n                      } else {\n                        var temp = _toConsumableArray(datapayload.add_in_inventories);\n\n                        temp[idx].connect_id = value;\n                        setdatapayload(function (prev) {\n                          return _objectSpread(_objectSpread({}, prev), {}, {\n                            add_in_inventories: temp\n                          });\n                        });\n                      }\n                    },\n                    treeData: datainduk,\n                    treeDefaultExpandAll: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" cursor-pointer flex justify-center items-center\",\n                    onClick: function onClick() {\n                      var temp = _toConsumableArray(selectedforin);\n\n                      temp.splice(idx, 1);\n                      setselectedforin(temp);\n                      doc.id ? setdatapayload(function (prev) {\n                        return _objectSpread(_objectSpread({}, prev), {}, {\n                          remove_in_inventory_ids: [].concat(_toConsumableArray(prev.remove_in_inventory_ids), [doc.id])\n                        });\n                      }) : setdatapayload(function (prev) {\n                        return _objectSpread(_objectSpread({}, prev), {}, {\n                          add_in_inventories: prev.add_in_inventories.filter(function (fil) {\n                            return fil.inventory_id !== doc.value;\n                          })\n                        });\n                      });\n                    },\n                    children: /*#__PURE__*/_jsxDEV(TrashIconSvg, {\n                      size: 20,\n                      color: \"#BF4A40\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 21\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-1737872768\" + \" \" + \"flex mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Suku Cadang Keluar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"jsx-1737872768\" + \" \" + \"spartsout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n            id: \"1737872768\",\n            children: \".spartsout.jsx-1737872768::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL2NvbXBvbmVudHMvZHJhd2VyL3Rhc2tzL2RyYXdlclRhc2tTcGFyZVBhcnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXVWaUIsQUFHaUQsWUFDRixVQUNkIiwiZmlsZSI6Ii9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL2NvbXBvbmVudHMvZHJhd2VyL3Rhc2tzL2RyYXdlclRhc2tTcGFyZVBhcnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VhcmNoT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIERhdGVQaWNrZXIsXG4gIFJhZGlvLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFN3aXRjaCxcbiAgVHJlZVNlbGVjdCxcbiAgbm90aWZpY2F0aW9uLFxufSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgQnV0dG9uU3lzIGZyb20gXCIuLi8uLi9idXR0b25cIjtcbmltcG9ydCB7XG4gIEFzc2V0SWNvblN2ZyxcbiAgQ2FsZW5kYXJ0aW1lSWNvblN2ZyxcbiAgQ2lyY2xlWEljb25TdmcsXG4gIFRyYXNoSWNvblN2ZyxcbiAgVXNlckljb25TdmcsXG59IGZyb20gXCIuLi8uLi9pY29uXCI7XG5pbXBvcnQge1xuICBJbnB1dFJlcXVpcmVkLFxuICBTZWxlY3RSZXF1aXJlZCxcbiAgVGV4dEFyZWFOb3RSZXF1aXJlZCxcbn0gZnJvbSBcIi4uLy4uL2lucHV0XCI7XG5pbXBvcnQgeyBIMSwgSDIsIExhYmVsIH0gZnJvbSBcIi4uLy4uL3R5cG9ncmFwaHlcIjtcbmltcG9ydCBEcmF3ZXJDb3JlIGZyb20gXCIuLi9kcmF3ZXJDb3JlXCI7XG5cbmZ1bmN0aW9uIG1vZGlmRGF0YTEoZGF0YWEpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhYS5sZW5ndGg7IGkrKykge1xuICAgIGRhdGFhW2ldW1wia2V5XCJdID0gZGF0YWFbaV0uaWQ7XG4gICAgZGF0YWFbaV1bXCJ2YWx1ZVwiXSA9IGRhdGFhW2ldLmlkO1xuICAgIGRhdGFhW2ldW1widGl0bGVcIl0gPSBkYXRhYVtpXS5taWdfaWQ7XG4gICAgaWYgKGRhdGFhW2ldLmludmVudG9yeV9wYXJ0cykge1xuICAgICAgZGF0YWFbaV1bXCJjaGlsZHJlblwiXSA9IGRhdGFhW2ldLmludmVudG9yeV9wYXJ0cztcbiAgICAgIGRlbGV0ZSBkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHM7XG4gICAgICBtb2RpZkRhdGExKGRhdGFhW2ldLmNoaWxkcmVuKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRhdGFhO1xufVxuZnVuY3Rpb24gbW9kaWZEYXRhMihkYXRhYSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFhLmxlbmd0aDsgaSsrKSB7XG4gICAgZGF0YWFbaV1bXCJrZXlcIl0gPSBkYXRhYVtpXS5pZDtcbiAgICBkYXRhYVtpXVtcInZhbHVlXCJdID0gZGF0YWFbaV0uaWQ7XG4gICAgZGF0YWFbaV1bXG4gICAgICBcInRpdGxlXCJcbiAgICBdID0gYCR7ZGF0YWFbaV0ubWlnX2lkfSAtICR7ZGF0YWFbaV0ubW9kZWxfaW52ZW50b3J5Py5uYW1lfSAtICR7ZGF0YWFbaV0ubW9kZWxfaW52ZW50b3J5Py5hc3NldD8ubmFtZX1gO1xuICAgIGlmIChkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHMpIHtcbiAgICAgIGRhdGFhW2ldW1wiY2hpbGRyZW5cIl0gPSBkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHM7XG4gICAgICBkZWxldGUgZGF0YWFbaV0uaW52ZW50b3J5X3BhcnRzO1xuICAgICAgbW9kaWZEYXRhMihkYXRhYVtpXS5jaGlsZHJlbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhYTtcbn1cblxuY29uc3QgRHJhd2VyVGFza1NwYXJlUGFydHMgPSAoe1xuICB0aXRsZSxcbiAgdmlzaWJsZSxcbiAgb252aXNpYmxlLFxuICBvbkNsb3NlLFxuICBidXR0b25Pa1RleHQsXG4gIGRpc2FibGVkLFxuICBpbml0UHJvcHMsXG4gIGlkdGFzayxcbiAgc2VsZWN0ZWRmb3JpbixcbiAgc2V0c2VsZWN0ZWRmb3JpbixcbiAgc2VsZWN0ZWRmb3JvdXQsXG4gIHNldHNlbGVjdGVkZm9yb3V0LFxuICBwcmV2cGF0aCxcbiAgdGFza0lkXG59KSA9PiB7XG4gIC8vdXNlU3RhdGVcbiAgY29uc3QgW2RhdGFwYXlsb2FkLCBzZXRkYXRhcGF5bG9hZF0gPSB1c2VTdGF0ZSh7XG4gICAgaWQ6IE51bWJlcihpZHRhc2spLFxuICAgIGFkZF9pbl9pbnZlbnRvcmllczogW10sXG4gICAgcmVtb3ZlX2luX2ludmVudG9yeV9pZHM6IFtdLFxuICAgIGFkZF9vdXRfaW52ZW50b3J5X2lkczogW10sXG4gICAgcmVtb3ZlX291dF9pbnZlbnRvcnlfaWRzOiBbXSxcbiAgfSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BhcnQsIHNldGxvYWRpbmdzcGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIC8vREFUQSBJTlxuICBjb25zdCBbcHJhbG9hZGluZ2luLCBzZXRwcmFsb2FkaW5naW5dID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtkYXRhc2VsZWN0Zm9yaW4sIHNldGRhdGFzZWxlY3Rmb3Jpbl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtkYXRhaW5kdWssIHNldGRhdGFpbmR1a10gPSB1c2VTdGF0ZShbXSk7XG4gIC8vREFUQSBPVVRcbiAgY29uc3QgW3ByYWxvYWRpbmdvdXQsIHNldHByYWxvYWRpbmdvdXRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtkYXRhc2VsZWN0Zm9yb3V0LCBzZXRkYXRhc2VsZWN0Zm9yb3V0XSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZldGNoaW5nc3RhdGUsIHNldGZldGNoaW5nc3RhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vaGFuZGxlclxuICBjb25zdCBoYW5kbGVTZW5kU3BhcmVQYXJ0cyA9ICgpID0+IHtcbiAgICBzZXRsb2FkaW5nc3BhcnQodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L3NlbmRJbnZlbnRvcmllc1Rhc2tgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFwYXlsb2FkKSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdzcGFydChmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBvbnZpc2libGUoZmFsc2UpO1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL3Rhc2tzL2RldGFpbC8ke2lkdGFza31gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvL3VzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldHByYWxvYWRpbmdpbih0cnVlKTtcbiAgICBmZXRjaChcbiAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRUYXNrU3BhcmVQYXJ0TGlzdD90eXBlPW1hc3VrYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzMik7XG4gICAgICAgIHNldGRhdGFzZWxlY3Rmb3JpbihyZXMyLmRhdGEpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMyLmRhdGEpO1xuXG4gICAgICAgIHNldHByYWxvYWRpbmdpbihmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldHByYWxvYWRpbmdvdXQodHJ1ZSk7XG4gICAgZmV0Y2goXG4gICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0VGFza1NwYXJlUGFydExpc3Q/dHlwZT1rZWx1YXImaWQ9JHtpZHRhc2t9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgdmFyIG1vZGlmMSA9IG1vZGlmRGF0YTEocmVzMi5kYXRhKTtcbiAgICAgICAgc2V0ZGF0YWluZHVrKG1vZGlmMSk7XG4gICAgICAgIHZhciBtb2RpZjIgPSBtb2RpZkRhdGEyKHJlczIuZGF0YSk7XG4gICAgICAgIHNldGRhdGFzZWxlY3Rmb3JvdXQobW9kaWYyKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZ291dChmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICByZXR1cm4gKFxuICAgIDxEcmF3ZXJDb3JlXG4gICAgICB0aXRsZT17dGl0bGV9XG4gICAgICB2aXNpYmxlPXt2aXNpYmxlfVxuICAgICAgb25DbG9zZT17b25DbG9zZX1cbiAgICAgIGJ1dHRvbk9rVGV4dD17YnV0dG9uT2tUZXh0fVxuICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhcGF5bG9hZCwgc2VsZWN0ZWRmb3Jpbik7XG4gICAgICAgIGhhbmRsZVNlbmRTcGFyZVBhcnRzKCk7XG4gICAgICB9fVxuICAgICAgLy8gZGlzYWJsZWQ9e2Rpc2FibGVkY3JlYXRlfVxuICAgID5cbiAgICAgIHtsb2FkaW5nc3BhcnQgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtcmVkLTUwMCB0ZXh0LXhzIGl0YWxpY1wiPlxuICAgICAgICAgICAgICAqSW5mb3JtYXNpIGluaSBoYXJ1cyBkaWlzaVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICA8TGFiZWw+U3VrdSBDYWRhbmcgTWFzdWs8L0xhYmVsPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzcGFydHNpblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BhcnRzaW46OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7cHJhbG9hZGluZ2luID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi0yIGZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAxMDAlYCB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkb250U2hvd1wiXG4gICAgICAgICAgICAgICAgICAgIHN1ZmZpeEljb249ezxTZWFyY2hPdXRsaW5lZCAvPn1cbiAgICAgICAgICAgICAgICAgICAgc2hvd0Fycm93XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTUlHIElELCBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e2BwYXJ0X2luYH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgb3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGF0YXBheWxvYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGF0YXBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRfaW5faW52ZW50b3JpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGF0YXBheWxvYWQuYWRkX2luX2ludmVudG9yaWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGludmVudG9yeV9pZDogdmFsdWUsIGNvbm5lY3RfaWQ6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0c2VsZWN0ZWRmb3JpbihbLi4uc2VsZWN0ZWRmb3Jpbiwgb3B0aW9uXSk7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cob3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9e1xuICAgICAgICAgICAgICAgICAgICAgIGZldGNoaW5nc3RhdGUgPyA8U3BpbiBzaXplPVwic21hbGxcIiAvPiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdzdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRUYXNrU3BhcmVQYXJ0TGlzdD90eXBlPW1hc3VrJmtleXdvcmQ9JHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkYXRhc2VsZWN0Zm9yaW4ocmVzMi5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdzdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBvcHQuY2hpbGRyZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49XG4gICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICB9PlxuICAgICAgICAgICAgICAgICAgICB7ZGF0YXNlbGVjdGZvcmluLm1hcCgoZG9jLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZG9jLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWlnaWQ9e2RvYy5taWdfaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbG5hbWU9e2RvYy5tb2RlbF9uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRuYW1lPXtkb2MuYXNzZXRfbmFtZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1pZ19pZH0gLSB7ZG9jLm1vZGVsX25hbWV9IC0ge2RvYy5hc3NldF9uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi0yIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZGZvcmluLm1hcCgoZG9jLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbXItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QXNzZXRJY29uU3ZnIHNpemU9ezUwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxIMj57ZG9jLm1vZGVsbmFtZX08L0gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5taWdpZH0ve2RvYy5hc3NldG5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEluZHVrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAxMHJlbWAsIG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeEljb249ezxTZWFyY2hPdXRsaW5lZCAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Fycm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmNvbm5lY3RfaWQgPT09IDAgPyBudWxsIDogZG9jLmNvbm5lY3RfaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcGFyZW50YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gWy4uLmRhdGFwYXlsb2FkLmFkZF9pbl9pbnZlbnRvcmllc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0uY29ubmVjdF9pZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkYXRhcGF5bG9hZCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX2luX2ludmVudG9yaWVzOiB0ZW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IFsuLi5kYXRhcGF5bG9hZC5hZGRfaW5faW52ZW50b3JpZXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdLmNvbm5lY3RfaWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRfaW5faW52ZW50b3JpZXM6IHRlbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17ZGF0YWluZHVrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbD48L1RyZWVTZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIiBjdXJzb3ItcG9pbnRlciBmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IFsuLi5zZWxlY3RlZGZvcmluXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHNlbGVjdGVkZm9yaW4odGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlX2luX2ludmVudG9yeV9pZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYucmVtb3ZlX2luX2ludmVudG9yeV9pZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX2luX2ludmVudG9yaWVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5hZGRfaW5faW52ZW50b3JpZXMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsKSA9PiBmaWwuaW52ZW50b3J5X2lkICE9PSBkb2MudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaEljb25Tdmcgc2l6ZT17MjB9IGNvbG9yPXtgI0JGNEE0MGB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICA8TGFiZWw+U3VrdSBDYWRhbmcgS2VsdWFyPC9MYWJlbD5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3BhcnRzb3V0XCI+PC9zcGFuPlxuICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGFydHNvdXQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7cHJhbG9hZGluZ291dCA/IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItMiBmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1JRyBJRCwgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDEwMCVgIH19XG4gICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9udFNob3dcIlxuICAgICAgICAgICAgICAgICAgICBzdWZmaXhJY29uPXs8U2VhcmNoT3V0bGluZWQgLz59XG4gICAgICAgICAgICAgICAgICAgIHNob3dBcnJvd1xuICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcGFydF9vdXRgfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRzZWxlY3RlZGZvcm91dChbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5zZWxlY3RlZGZvcm91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaWdpZDogZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMubWlnX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbG5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMubW9kZWxfaW52ZW50b3J5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0bmFtZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYS5hbGxDaGVja2VkTm9kZXNbMF0ubm9kZS5wcm9wcy5tb2RlbF9pbnZlbnRvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8uYXNzZXQ/Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgIHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZF9vdXRfaW52ZW50b3J5X2lkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LmFkZF9vdXRfaW52ZW50b3J5X2lkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2RhdGFzZWxlY3Rmb3JvdXR9XG4gICAgICAgICAgICAgICAgICAgIHRyZWVEZWZhdWx0RXhwYW5kQWxsPjwvVHJlZVNlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi0yIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZGZvcm91dC5tYXAoKGRvYywgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEFzc2V0SWNvblN2ZyBzaXplPXs1MH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SDI+e2RvYy5tb2RlbG5hbWV9PC9IMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubWlnaWR9L3tkb2MuYXNzZXRuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiIGN1cnNvci1wb2ludGVyIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gWy4uLnNlbGVjdGVkZm9yb3V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHNlbGVjdGVkZm9yb3V0KHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRkYXRhcGF5bG9hZCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZV9vdXRfaW52ZW50b3J5X2lkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldi5yZW1vdmVfb3V0X2ludmVudG9yeV9pZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX291dF9pbnZlbnRvcnlfaWRzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5hZGRfb3V0X2ludmVudG9yeV9pZHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsKSA9PiBmaWwgIT09IGRvYy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYXNoSWNvblN2ZyBzaXplPXsyMH0gY29sb3I9e2AjQkY0QTQwYH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L0RyYXdlckNvcmU+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBEcmF3ZXJUYXNrU3BhcmVQYXJ0cztcbiJdfQ== */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/components/drawer/tasks/drawerTaskSpareParts.js */\"\n          }, void 0, false, void 0, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, _this), praloadingout ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(_Spin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" mb-2 flex\",\n            children: /*#__PURE__*/_jsxDEV(_TreeSelect, {\n              placeholder: \"MIG ID, Model\",\n              style: {\n                width: \"100%\"\n              },\n              showSearch: true,\n              className: \"dontShow\",\n              suffixIcon: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 33\n              }, _this),\n              showArrow: true,\n              name: \"part_out\",\n              onChange: function onChange(value, label, extra) {\n                var _extra$allCheckedNode, _extra$allCheckedNode2, _extra$allCheckedNode3;\n\n                setselectedforout([].concat(_toConsumableArray(selectedforout), [{\n                  value: extra.allCheckedNodes[0].node.props.value,\n                  migid: extra.allCheckedNodes[0].node.props.mig_id,\n                  modelname: (_extra$allCheckedNode = extra.allCheckedNodes[0].node.props.model_inventory) === null || _extra$allCheckedNode === void 0 ? void 0 : _extra$allCheckedNode.name,\n                  assetname: (_extra$allCheckedNode2 = extra.allCheckedNodes[0].node.props.model_inventory) === null || _extra$allCheckedNode2 === void 0 ? void 0 : (_extra$allCheckedNode3 = _extra$allCheckedNode2.asset) === null || _extra$allCheckedNode3 === void 0 ? void 0 : _extra$allCheckedNode3.name\n                }]));\n                setdatapayload(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    add_out_inventory_ids: [].concat(_toConsumableArray(prev.add_out_inventory_ids), [value])\n                  });\n                });\n              },\n              treeData: dataselectforout,\n              treeDefaultExpandAll: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 19\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" mb-2 flex flex-col\",\n            children: selectedforout.map(function (doc, idx) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" mb-2 flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" mr-2\",\n                    children: /*#__PURE__*/_jsxDEV(AssetIconSvg, {\n                      size: 50\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" flex flex-col\",\n                    children: [/*#__PURE__*/_jsxDEV(H2, {\n                      children: doc.modelname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(Label, {\n                      children: [doc.migid, \"/\", doc.assetname]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 27\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" flex items-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" cursor-pointer flex justify-center items-center\",\n                    onClick: function onClick() {\n                      var temp = _toConsumableArray(selectedforout);\n\n                      temp.splice(idx, 1);\n                      setselectedforout(temp);\n                      doc.id ? setdatapayload(function (prev) {\n                        return _objectSpread(_objectSpread({}, prev), {}, {\n                          remove_out_inventory_ids: [].concat(_toConsumableArray(prev.remove_out_inventory_ids), [doc.id])\n                        });\n                      }) : setdatapayload(function (prev) {\n                        return _objectSpread(_objectSpread({}, prev), {}, {\n                          add_out_inventory_ids: prev.add_out_inventory_ids.filter(function (fil) {\n                            return fil !== doc.value;\n                          })\n                        });\n                      });\n                    },\n                    children: /*#__PURE__*/_jsxDEV(TrashIconSvg, {\n                      size: 20,\n                      color: \"#BF4A40\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 21\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(DrawerTaskSpareParts, \"h9hRcg/AgDyufRSIKCdESqGgdYc=\");\n\n_c = DrawerTaskSpareParts;\nexport default DrawerTaskSpareParts;\n\nvar _c;\n\n$RefreshReg$(_c, \"DrawerTaskSpareParts\");","map":{"version":3,"sources":["/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/components/drawer/tasks/drawerTaskSpareParts.js"],"names":["SearchOutlined","moment","React","useEffect","useState","ButtonSys","AssetIconSvg","CalendartimeIconSvg","CircleXIconSvg","TrashIconSvg","UserIconSvg","InputRequired","SelectRequired","TextAreaNotRequired","H1","H2","Label","DrawerCore","modifData1","dataa","i","length","id","mig_id","inventory_parts","children","modifData2","model_inventory","name","asset","DrawerTaskSpareParts","title","visible","onvisible","onClose","buttonOkText","disabled","initProps","idtask","selectedforin","setselectedforin","selectedforout","setselectedforout","prevpath","taskId","Number","add_in_inventories","remove_in_inventory_ids","add_out_inventory_ids","remove_out_inventory_ids","datapayload","setdatapayload","loadingspart","setloadingspart","praloadingin","setpraloadingin","dataselectforin","setdataselectforin","datainduk","setdatainduk","praloadingout","setpraloadingout","dataselectforout","setdataselectforout","fetchingstate","setfetchingstate","handleSendSpareParts","fetch","process","env","NEXT_PUBLIC_BACKEND_URL","method","headers","Authorization","JSON","parse","body","stringify","then","res","json","res2","success","message","duration","window","location","href","console","log","data","modif1","modif2","width","value","option","inventory_id","connect_id","input","opt","toLowerCase","indexOf","map","doc","idx","model_name","asset_name","modelname","migid","assetname","marginRight","temp","prev","splice","filter","fil","label","extra","allCheckedNodes","node","props"],"mappings":"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","sourcesContent":["import { SearchOutlined } from \"@ant-design/icons\";\nimport {\n  DatePicker,\n  Radio,\n  Select,\n  Spin,\n  Switch,\n  TreeSelect,\n  notification,\n} from \"antd\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\n\nimport ButtonSys from \"../../button\";\nimport {\n  AssetIconSvg,\n  CalendartimeIconSvg,\n  CircleXIconSvg,\n  TrashIconSvg,\n  UserIconSvg,\n} from \"../../icon\";\nimport {\n  InputRequired,\n  SelectRequired,\n  TextAreaNotRequired,\n} from \"../../input\";\nimport { H1, H2, Label } from \"../../typography\";\nimport DrawerCore from \"../drawerCore\";\n\nfunction modifData1(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    dataa[i][\"key\"] = dataa[i].id;\n    dataa[i][\"value\"] = dataa[i].id;\n    dataa[i][\"title\"] = dataa[i].mig_id;\n    if (dataa[i].inventory_parts) {\n      dataa[i][\"children\"] = dataa[i].inventory_parts;\n      delete dataa[i].inventory_parts;\n      modifData1(dataa[i].children);\n    }\n  }\n  return dataa;\n}\nfunction modifData2(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    dataa[i][\"key\"] = dataa[i].id;\n    dataa[i][\"value\"] = dataa[i].id;\n    dataa[i][\n      \"title\"\n    ] = `${dataa[i].mig_id} - ${dataa[i].model_inventory?.name} - ${dataa[i].model_inventory?.asset?.name}`;\n    if (dataa[i].inventory_parts) {\n      dataa[i][\"children\"] = dataa[i].inventory_parts;\n      delete dataa[i].inventory_parts;\n      modifData2(dataa[i].children);\n    }\n  }\n  return dataa;\n}\n\nconst DrawerTaskSpareParts = ({\n  title,\n  visible,\n  onvisible,\n  onClose,\n  buttonOkText,\n  disabled,\n  initProps,\n  idtask,\n  selectedforin,\n  setselectedforin,\n  selectedforout,\n  setselectedforout,\n  prevpath,\n  taskId\n}) => {\n  //useState\n  const [datapayload, setdatapayload] = useState({\n    id: Number(idtask),\n    add_in_inventories: [],\n    remove_in_inventory_ids: [],\n    add_out_inventory_ids: [],\n    remove_out_inventory_ids: [],\n  });\n  const [loadingspart, setloadingspart] = useState(false);\n  //DATA IN\n  const [praloadingin, setpraloadingin] = useState(true);\n  const [dataselectforin, setdataselectforin] = useState([]);\n  const [datainduk, setdatainduk] = useState([]);\n  //DATA OUT\n  const [praloadingout, setpraloadingout] = useState(true);\n  const [dataselectforout, setdataselectforout] = useState([]);\n  const [fetchingstate, setfetchingstate] = useState(false);\n\n  //handler\n  const handleSendSpareParts = () => {\n    setloadingspart(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/sendInventoriesTask`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(datapayload),\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        setloadingspart(false);\n        if (res2.success) {\n          onvisible(false);\n          notification[\"success\"]({\n            message: res2.message,\n            duration: 3,\n          });\n          window.location.href = `/tasks/detail/${idtask}`;\n        } else {\n          notification[\"error\"]({\n            message: res2.message,\n            duration: 3,\n          });\n        }\n      });\n  };\n\n  //useEffect\n  useEffect(() => {\n    setpraloadingin(true);\n    fetch(\n      `${process.env.NEXT_PUBLIC_BACKEND_URL}/getTaskSparePartList?type=masuk`,\n      {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps),\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res2) => {\n        console.log(res2);\n        setdataselectforin(res2.data);\n        // console.log(res2.data);\n\n        setpraloadingin(false);\n      });\n  }, []);\n  useEffect(() => {\n    setpraloadingout(true);\n    fetch(\n      `${process.env.NEXT_PUBLIC_BACKEND_URL}/getTaskSparePartList?type=keluar&id=${idtask}`,\n      {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps),\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res2) => {\n        var modif1 = modifData1(res2.data);\n        setdatainduk(modif1);\n        var modif2 = modifData2(res2.data);\n        setdataselectforout(modif2);\n        setpraloadingout(false);\n      });\n  }, []);\n  return (\n    <DrawerCore\n      title={title}\n      visible={visible}\n      onClose={onClose}\n      buttonOkText={buttonOkText}\n      onClick={() => {\n        console.log(datapayload, selectedforin);\n        handleSendSpareParts();\n      }}\n      // disabled={disabledcreate}\n    >\n      {loadingspart ? (\n        <div className=\" flex w-full items-center justify-center\">\n          <Spin />\n        </div>\n      ) : (\n        <div className=\"flex flex-col\">\n          <div className=\"mb-6\">\n            <p className=\"mb-0 text-red-500 text-xs italic\">\n              *Informasi ini harus diisi\n            </p>\n          </div>\n          <div className=\"flex flex-col mb-6\">\n            <div className=\"flex mb-2\">\n              <Label>Suku Cadang Masuk</Label>\n              <span className=\"spartsin\"></span>\n              <style jsx>\n                {`\n                                .spartsin::before{\n                                    content: '*';\n                                    color: red;\n                                }\n                            `}\n              </style>\n            </div>\n            {praloadingin ? (\n              <>\n                <Spin />\n              </>\n            ) : (\n              <>\n                <div className=\" mb-2 flex\">\n                  <Select\n                    style={{ width: `100%` }}\n                    className=\"dontShow\"\n                    suffixIcon={<SearchOutlined />}\n                    showArrow\n                    placeholder=\"MIG ID, Model\"\n                    name={`part_in`}\n                    onChange={(value, option) => {\n                      setdatapayload({\n                        ...datapayload,\n                        add_in_inventories: [\n                          ...datapayload.add_in_inventories,\n                          { inventory_id: value, connect_id: 0 },\n                        ],\n                      });\n                      setselectedforin([...selectedforin, option]);\n                      console.log(option);\n                    }}\n                    showSearch\n                    optionFilterProp=\"children\"\n                    notFoundContent={\n                      fetchingstate ? <Spin size=\"small\" /> : null\n                    }\n                    onSearch={(value) => {\n                      setfetchingstate(true);\n                      fetch(\n                        `${process.env.NEXT_PUBLIC_BACKEND_URL}/getTaskSparePartList?type=masuk&keyword=${value}`,\n                        {\n                          method: `GET`,\n                          headers: {\n                            Authorization: JSON.parse(initProps),\n                          },\n                        }\n                      )\n                        .then((res) => res.json())\n                        .then((res2) => {\n                          setdataselectforin(res2.data);\n                          setfetchingstate(false);\n                        });\n                    }}\n                    filterOption={(input, opt) =>\n                      opt.children.toLowerCase().indexOf(input.toLowerCase()) >=\n                      0\n                    }>\n                    {dataselectforin.map((doc, idx) => (\n                      <Select.Option\n                        key={idx}\n                        value={doc.id}\n                        migid={doc.mig_id}\n                        modelname={doc.model_name}\n                        assetname={doc.asset_name}>\n                        {doc.mig_id} - {doc.model_name} - {doc.asset_name}\n                      </Select.Option>\n                    ))}\n                  </Select>\n                </div>\n                <div className=\" mb-2 flex flex-col\">\n                  {selectedforin.map((doc, idx) => (\n                    <div className=\" mb-2 flex items-center justify-between\">\n                      <div className=\" flex items-center\">\n                        <div className=\" mr-2\">\n                          <AssetIconSvg size={50} />\n                        </div>\n                        <div className=\" flex flex-col\">\n                          <H2>{doc.modelname}</H2>\n                          <Label>\n                            {doc.migid}/{doc.assetname}\n                          </Label>\n                        </div>\n                      </div>\n                      <div className=\" flex items-center\">\n                        <TreeSelect\n                          allowClear\n                          placeholder=\"Pilih Induk\"\n                          style={{ width: `10rem`, marginRight: `0.5rem` }}\n                          showSearch\n                          suffixIcon={<SearchOutlined />}\n                          showArrow\n                          defaultValue={\n                            doc.connect_id === 0 ? null : doc.connect_id\n                          }\n                          name={`parent`}\n                          onChange={(value) => {\n                            if (typeof value === \"undefined\") {\n                              var temp = [...datapayload.add_in_inventories];\n                              temp[idx].connect_id = 0;\n                              setdatapayload((prev) => ({\n                                ...prev,\n                                add_in_inventories: temp,\n                              }));\n                            } else {\n                              var temp = [...datapayload.add_in_inventories];\n                              temp[idx].connect_id = value;\n                              setdatapayload((prev) => ({\n                                ...prev,\n                                add_in_inventories: temp,\n                              }));\n                            }\n                          }}\n                          treeData={datainduk}\n                          treeDefaultExpandAll></TreeSelect>\n                        <div\n                          className=\" cursor-pointer flex justify-center items-center\"\n                          onClick={() => {\n                            var temp = [...selectedforin];\n                            temp.splice(idx, 1);\n                            setselectedforin(temp);\n                            doc.id\n                              ? setdatapayload((prev) => ({\n                                  ...prev,\n                                  remove_in_inventory_ids: [\n                                    ...prev.remove_in_inventory_ids,\n                                    doc.id,\n                                  ],\n                                }))\n                              : setdatapayload((prev) => ({\n                                  ...prev,\n                                  add_in_inventories:\n                                    prev.add_in_inventories.filter(\n                                      (fil) => fil.inventory_id !== doc.value\n                                    ),\n                                }));\n                          }}>\n                          <TrashIconSvg size={20} color={`#BF4A40`} />\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </>\n            )}\n          </div>\n          <div className=\"flex flex-col mb-6\">\n            <div className=\"flex mb-2\">\n              <Label>Suku Cadang Keluar</Label>\n              <span className=\"spartsout\"></span>\n              <style jsx>\n                {`\n                                .spartsout::before{\n                                    content: '*';\n                                    color: red;\n                                }\n                            `}\n              </style>\n            </div>\n            {praloadingout ? (\n              <>\n                <Spin />\n              </>\n            ) : (\n              <>\n                <div className=\" mb-2 flex\">\n                  <TreeSelect\n                    placeholder=\"MIG ID, Model\"\n                    style={{ width: `100%` }}\n                    showSearch\n                    className=\"dontShow\"\n                    suffixIcon={<SearchOutlined />}\n                    showArrow\n                    name={`part_out`}\n                    onChange={(value, label, extra) => {\n                      setselectedforout([\n                        ...selectedforout,\n                        {\n                          value: extra.allCheckedNodes[0].node.props.value,\n                          migid: extra.allCheckedNodes[0].node.props.mig_id,\n                          modelname:\n                            extra.allCheckedNodes[0].node.props.model_inventory\n                              ?.name,\n                          assetname:\n                            extra.allCheckedNodes[0].node.props.model_inventory\n                              ?.asset?.name,\n                        },\n                      ]);\n                      setdatapayload((prev) => ({\n                        ...prev,\n                        add_out_inventory_ids: [\n                          ...prev.add_out_inventory_ids,\n                          value,\n                        ],\n                      }));\n                    }}\n                    treeData={dataselectforout}\n                    treeDefaultExpandAll></TreeSelect>\n                </div>\n                <div className=\" mb-2 flex flex-col\">\n                  {selectedforout.map((doc, idx) => (\n                    <div className=\" mb-2 flex items-center justify-between\">\n                      <div className=\" flex items-center\">\n                        <div className=\" mr-2\">\n                          <AssetIconSvg size={50} />\n                        </div>\n                        <div className=\" flex flex-col\">\n                          <H2>{doc.modelname}</H2>\n                          <Label>\n                            {doc.migid}/{doc.assetname}\n                          </Label>\n                        </div>\n                      </div>\n                      <div className=\" flex items-center\">\n                        <div\n                          className=\" cursor-pointer flex justify-center items-center\"\n                          onClick={() => {\n                            var temp = [...selectedforout];\n                            temp.splice(idx, 1);\n                            setselectedforout(temp);\n                            doc.id\n                              ? setdatapayload((prev) => ({\n                                  ...prev,\n                                  remove_out_inventory_ids: [\n                                    ...prev.remove_out_inventory_ids,\n                                    doc.id,\n                                  ],\n                                }))\n                              : setdatapayload((prev) => ({\n                                  ...prev,\n                                  add_out_inventory_ids:\n                                    prev.add_out_inventory_ids.filter(\n                                      (fil) => fil !== doc.value\n                                    ),\n                                }));\n                          }}>\n                          <TrashIconSvg size={20} color={`#BF4A40`} />\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n    </DrawerCore>\n  );\n};\n\nexport default DrawerTaskSpareParts;\n"]},"metadata":{},"sourceType":"module"}