{"ast":null,"code":"import _Tree from \"antd/lib/tree\";\nimport _Empty from \"antd/lib/empty\";\nimport _Spin from \"antd/lib/spin\";\nimport _Input from \"antd/lib/input\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _notification from \"antd/lib/notification\";\nimport _regeneratorRuntime from \"/Users/makarim/Documents/code/Next/mighty-fe/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/makarim/Documents/code/Next/mighty-fe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/makarim/Documents/code/Next/mighty-fe/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"/Users/makarim/Documents/code/Next/mighty-fe/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Layout from '../../../../components/layout-dashboardNew';\nimport { useRouter } from 'next/router';\nimport { useEffect, useState } from 'react';\nimport st from '../../../../components/layout-dashboard.module.css';\nimport Buttonsys from '../../../../components/button';\nimport { H1, Text, Label, LabelDark } from '../../../../components/typography';\nimport { EditIconSvg, PhoneIconSvg, SortingIconSvg, TrashIconSvg, CheckIconSvg, LocationIconSvg, CameraIconSvg, ExternalLinkIconSvg, MoveIconSvg, BackIconSvg, RefreshIconSvg, EmailIconSvg, SquarePlusIconSvg, WebIconSvg, NotesIconSvg, FaxIconSvg, PkpIconSvg } from '../../../../components/icon';\nimport moment from 'moment';\nimport { ModalEdit, ModalHapusInventoryExist, ModalHapusLokasiCekChild, ModalHapusLokasiConfirm, ModalHapusLokasiMoveChild } from '../../../../components/modal/modalCustom';\nimport DrawerSublokasi from '../../../../components/drawer/companies/drawerSubLokasi';\nimport { TableCustom } from '../../../../components/table/tableCustom';\nimport { DownOutlined, LoadingOutlined } from '@ant-design/icons';\nimport { InputNotRequired, DateNotRequired } from '../../../../components/input';\n\nfunction modifData(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    dataa[i]['children'] = dataa[i].sub_children;\n    dataa[i]['image_logo'] = dataa[i].image_logo === \"\" || dataa[i].image_logo === \"-\" ? \"/image/Sublokasi.png\" : dataa[i].image_logo;\n    delete dataa[i].sub_children;\n    if (dataa[i].children) [modifData(dataa[i].children)];\n  }\n\n  return dataa;\n}\n\nfunction modifForIndukSubLokasi(rawdata, modifdata) {\n  var temp = [{\n    id: rawdata.id,\n    title: rawdata.name,\n    key: rawdata.id,\n    value: rawdata.id,\n    children: modifdata\n  }];\n  return temp;\n}\n\nvar Index4 = function Index4(_ref) {\n  var _displaydata$name, _displaydata$address, _displaydata$address2, _displaydata$penanggu, _displaydata$penanggu2, _displaydata$phone_nu;\n\n  var initProps = _ref.initProps,\n      dataProfile = _ref.dataProfile,\n      sidemenu = _ref.sidemenu,\n      locid = _ref.locid;\n  var rt = useRouter();\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      instanceForm = _Form$useForm2[0];\n\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  pathArr.splice(1, 1);\n  pathArr[pathArr.length - 1] = \"Detail Lokasi\"; //useState\n\n  var _useState = useState({\n    id: \"\",\n    top_parent_id: \"\",\n    name: \"\",\n    image_logo: \"\",\n    phone_number: \"\",\n    address: \"\",\n    role: \"\",\n    singkatan: \"\",\n    tanggal_pkp: moment(new Date()),\n    penanggung_jawab: \"\",\n    npwp: \"\",\n    fax: \"\",\n    email: \"\",\n    website: \"\",\n    induk_level_1_count: \"\",\n    induk_level_2_count: \"\",\n    induk_level_3_count: \"\",\n    sub_location_level_1_count: \"\",\n    sub_location_level_2_count: \"\",\n    level: \"\",\n    parent: null,\n    sub_children: []\n  }),\n      rawdata = _useState[0],\n      setrawdata = _useState[1];\n\n  var _useState2 = useState({\n    id: \"\",\n    name: \"\",\n    address: \"\",\n    phone_number: \"\",\n    image_logo: \"\",\n    singkatan: \"\",\n    tanggal_pkp: null,\n    penanggung_jawab: \"\",\n    npwp: \"\",\n    fax: \"\",\n    email: \"\",\n    website: \"\",\n    level: 0\n  }),\n      displaydata = _useState2[0],\n      setdisplaydata = _useState2[1];\n\n  var _useState3 = useState(false),\n      isenabled = _useState3[0],\n      setisenabled = _useState3[1];\n\n  var _useState4 = useState([]),\n      rawlocations = _useState4[0],\n      setrawlocations = _useState4[1]; //EDIT PROFILE\n\n\n  var _useState5 = useState(false),\n      editable = _useState5[0],\n      seteditable = _useState5[1];\n\n  var _useState6 = useState(false),\n      modaledit = _useState6[0],\n      setmodaledit = _useState6[1];\n\n  var _useState7 = useState(true),\n      praloadingedit = _useState7[0],\n      setpraloadingedit = _useState7[1];\n\n  var _useState8 = useState(false),\n      editloading = _useState8[0],\n      seteditloading = _useState8[1];\n\n  var _useState9 = useState(false),\n      loadingfoto = _useState9[0],\n      setloadingfoto = _useState9[1];\n\n  var _useState10 = useState(false),\n      warningphonenumber = _useState10[0],\n      setwarningphonenumber = _useState10[1];\n\n  var _useState11 = useState(false),\n      warningemail = _useState11[0],\n      setwarningemail = _useState11[1];\n\n  var _useState12 = useState(false),\n      disabledsave = _useState12[0],\n      setdisabledsave = _useState12[1];\n\n  var _useState13 = useState(-1),\n      refreshpage = _useState13[0],\n      setrefreshpage = _useState13[1];\n\n  var _useState14 = useState({\n    email: false,\n    website: false,\n    npwp: false,\n    fax: false,\n    tanggal_pkp: false\n  }),\n      dynamicattr = _useState14[0],\n      setdynamicattr = _useState14[1]; //ITEMS\n\n\n  var _useState15 = useState({\n    current_page: \"\",\n    data: [],\n    first_page_url: \"\",\n    from: null,\n    last_page: null,\n    last_page_url: \"\",\n    next_page_url: \"\",\n    path: \"\",\n    per_page: null,\n    prev_page_url: null,\n    to: null,\n    total: null\n  }),\n      rawitems = _useState15[0],\n      setrawitems = _useState15[1];\n\n  var _useState16 = useState([]),\n      items = _useState16[0],\n      setitems = _useState16[1];\n\n  var _useState17 = useState(1),\n      page = _useState17[0],\n      setpage = _useState17[1];\n\n  var _useState18 = useState(6),\n      rows = _useState18[0],\n      setrows = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      keyworditems = _useState19[0],\n      setkeyworditems = _useState19[1];\n\n  var _useState20 = useState({\n    sort_by: \"\",\n    sort_type: \"\"\n  }),\n      sortingitems = _useState20[0],\n      setsortingitems = _useState20[1];\n\n  var _useState21 = useState(true),\n      praloadingitem = _useState21[0],\n      setpraloadingitem = _useState21[1]; //SUB LOKASI\n\n\n  var _useState22 = useState([]),\n      subloc = _useState22[0],\n      setsubloc = _useState22[1];\n\n  var _useState23 = useState([]),\n      induksubloc = _useState23[0],\n      setinduksubloc = _useState23[1];\n\n  var _useState24 = useState(\"A-Z\"),\n      sortedname = _useState24[0],\n      setsortedname = _useState24[1];\n\n  var _useState25 = useState(-1),\n      sorted = _useState25[0],\n      setsorted = _useState25[1];\n\n  var _useState26 = useState(false),\n      sortedbtn = _useState26[0],\n      setsortedbtn = _useState26[1];\n\n  var _useState27 = useState(true),\n      loadingsorted = _useState27[0],\n      setloadingsorted = _useState27[1];\n\n  var _useState28 = useState([]),\n      expandedkeys = _useState28[0],\n      setexpandedkeys = _useState28[1];\n\n  var _useState29 = useState(false),\n      selectedsubloc = _useState29[0],\n      setselectedsubloc = _useState29[1];\n\n  var _useState30 = useState({}),\n      selectedsublocdata = _useState30[0],\n      setselectedsublocdata = _useState30[1];\n\n  var _useState31 = useState(false),\n      sublokasidrawer = _useState31[0],\n      setsublokasidrawer = _useState31[1]; //SEARCH TREE\n\n\n  var _useState32 = useState(''),\n      searchvalue = _useState32[0],\n      setsearchvalue = _useState32[1];\n\n  var _useState33 = useState(true),\n      autoexpandparent = _useState33[0],\n      setautoexpandparent = _useState33[1]; //DELETE\n\n\n  var _useState34 = useState({\n    id: Number(locid),\n    new_parent: null\n  }),\n      deletedata = _useState34[0],\n      setdeletedata = _useState34[1];\n\n  var _useState35 = useState(1),\n      tipe = _useState35[0],\n      settipe = _useState35[1];\n\n  var _useState36 = useState(false),\n      loadingdelete = _useState36[0],\n      setloadingdelete = _useState36[1]; //1. cek\n\n\n  var _useState37 = useState(false),\n      modalcheckchild = _useState37[0],\n      setmodalcheckchild = _useState37[1];\n\n  var _useState38 = useState(false),\n      modalchecksubchild = _useState38[0],\n      setmodalchecksubchild = _useState38[1]; //2. move sublokasi\n\n\n  var _useState39 = useState(false),\n      modalmove = _useState39[0],\n      setmodalmove = _useState39[1];\n\n  var _useState40 = useState(false),\n      modalsubmove = _useState40[0],\n      setmodalsubmove = _useState40[1]; //3. konfirmasi\n\n\n  var _useState41 = useState(false),\n      modalconfirm = _useState41[0],\n      setmodalconfirm = _useState41[1];\n\n  var _useState42 = useState(false),\n      modalsubconfirm = _useState42[0],\n      setmodalsubconfirm = _useState42[1]; //4. inventory exist\n\n\n  var _useState43 = useState([]),\n      datainvexist = _useState43[0],\n      setdatainvexist = _useState43[1];\n\n  var _useState44 = useState(false),\n      modalinvexist = _useState44[0],\n      setmodalinvexist = _useState44[1];\n\n  var _useState45 = useState(false),\n      modalsubinvexist = _useState45[0],\n      setmodalsubinvexist = _useState45[1]; //columns table items\n\n\n  var columnitems = [{\n    title: 'No',\n    dataIndex: 'num',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: rawitems.from + index\n        })\n      };\n    }\n  }, {\n    title: 'MIG ID',\n    dataIndex: 'mig_id',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.mig_id\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.mig_id - b.mig_id;\n    }\n  }, {\n    title: 'Tipe Aset',\n    dataIndex: 'asset_name',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.asset_name\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.asset_name - b.asset_name;\n    }\n  }, {\n    title: 'Model',\n    dataIndex: 'model_name',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.model_name\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.model_name - b.model_name;\n    }\n  }, {\n    title: 'Sublokasi',\n    dataIndex: 'full_location',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.full_location\n        })\n      };\n    }\n  }]; //handler\n\n  var onChangeInput = function onChangeInput(e) {\n    setdisplaydata(_objectSpread(_objectSpread({}, displaydata), {}, _defineProperty({}, e.target.name, e.target.value)));\n    setdisabledsave(false);\n  };\n\n  var onChangeInputNotRequired = function onChangeInputNotRequired(e) {\n    setdisplaydata(_objectSpread(_objectSpread({}, displaydata), {}, _defineProperty({}, e.target.name, e.target.value)));\n    setdisabledsave(false);\n  };\n\n  var onchangeDate = function onchangeDate(date, datestring) {\n    setdisplaydata(_objectSpread(_objectSpread({}, displaydata), {}, {\n      tanggal_pkp: datestring\n    }));\n  };\n\n  var onSortSubLoc = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(value) {\n      var temp;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setloadingsorted(true);\n              sorted === -1 ? setsorted(true) : setsorted(value);\n              setsortedbtn(true);\n\n              if (!(value === true)) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 6;\n              return subloc.sort(function (a, b) {\n                return a.title > b.title ? 1 : -1;\n              });\n\n            case 6:\n              temp = _context.sent;\n              setsubloc(temp);\n              setsortedname(\"A-Z\");\n              _context.next = 12;\n              break;\n\n            case 11:\n              fetch(\"https://boiling-thicket-46501.herokuapp.com/getSubCompanyDetail?id=\".concat(locid), {\n                method: \"GET\",\n                headers: {\n                  'Authorization': JSON.parse(initProps)\n                }\n              }).then(function (res) {\n                return res.json();\n              }).then(function (res2) {\n                if (res2.data.sub_children) {\n                  var childmap = modifData(res2.data.sub_children);\n                  var temp = childmap.sort(function (a, b) {\n                    return a.title < b.title ? 1 : -1;\n                  });\n                  setsubloc(temp);\n                  setsortedname(\"Z-A\");\n                } else {\n                  setsubloc([]);\n                }\n              });\n\n            case 12:\n              setloadingsorted(false);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSortSubLoc(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onSearchItems = function onSearchItems(e) {\n    setpraloadingitem(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getCompanyInventories?id=\".concat(locid, \"&page=1&rows=\").concat(rows, \"&keyword=\").concat(e.target.value, \"&sort_by=\").concat(sortingitems.sort_by, \"&sort_type=\").concat(sortingitems.sort_type), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setkeyworditems(e.target.value);\n      setpage(1);\n      setrawitems(res2.data);\n      setitems(res2.data.data);\n      setpraloadingitem(false);\n    });\n  };\n\n  var onChangeGambar = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var foto, formdata, fetching, datajson;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setloadingfoto(true);\n              foto = e.target.files;\n              formdata = new FormData();\n              formdata.append('file', foto[0]);\n              formdata.append('upload_preset', 'migsys');\n              _context2.next = 7;\n              return fetch(\"https://api.Cloudinary.com/v1_1/aqlpeduli/image/upload\", {\n                method: 'POST',\n                body: formdata\n              });\n\n            case 7:\n              fetching = _context2.sent;\n              _context2.next = 10;\n              return fetching.json();\n\n            case 10:\n              datajson = _context2.sent;\n              setdisplaydata(_objectSpread(_objectSpread({}, displaydata), {}, {\n                image_logo: datajson.secure_url\n              }));\n              setloadingfoto(false);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onChangeGambar(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleEdit = function handleEdit() {\n    seteditloading(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/updateCompany\", {\n      method: 'PUT',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(displaydata)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setmodaledit(false);\n      seteditloading(false);\n\n      if (res2.success) {\n        seteditable(false);\n\n        _notification['success']({\n          message: res2.message,\n          duration: 3\n        });\n\n        setTimeout(function () {\n          rt.push(\"/company/myCompany/locations/\".concat(locid));\n        }, 500);\n      } else if (!res2.success) {\n        _notification['error']({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  var handleDelete = function handleDelete() {\n    setloadingdelete(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/deleteCompany\", {\n      method: 'DELETE',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(deletedata)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setmodalconfirm(false);\n      setmodalmove(false);\n      setloadingdelete(false);\n\n      if (res2.success) {\n        setmodalcheckchild(false);\n\n        _notification['success']({\n          message: res2.message,\n          duration: 3\n        });\n\n        setTimeout(function () {\n          rawdata.top_parent_id === null ? rt.push(\"/company/myCompany/locations\") : window.location.href = \"/company/myCompany/locations/\".concat(rawdata.top_parent_id);\n        }, 500);\n      } else if (!res2.success) {\n        _notification['error']({\n          message: res2.inventories ? \"Masih terdapat inventori\" : res2.message,\n          duration: 3\n        });\n\n        if (res2.inventories) {\n          setdatainvexist(res2.inventories);\n          setmodalinvexist(true);\n        }\n      }\n    });\n  }; //FILTER TREE\n  //filterAsset\n\n\n  var onExpand = function onExpand(expandedKeys) {\n    setexpandedkeys(expandedKeys);\n    setautoexpandparent(false);\n  };\n\n  var dataList = [];\n\n  var generateList = function generateList(data) {\n    for (var i = 0; i < data.length; i++) {\n      var node = data[i];\n      var id = node.id,\n          key = node.key,\n          value = node.value,\n          parent_id = node.parent_id,\n          title = node.title,\n          sub_child_count = node.sub_child_count;\n      dataList.push({\n        id: id,\n        key: key,\n        value: value,\n        parent_id: parent_id,\n        title: title,\n        sub_child_count: sub_child_count\n      });\n\n      if (node.children) {\n        generateList(node.children);\n      }\n    }\n  };\n\n  generateList(subloc);\n\n  var getParentKey = function getParentKey(key, tree) {\n    var parentKey;\n\n    for (var i = 0; i < tree.length; i++) {\n      var node = tree[i];\n\n      if (node.children) {\n        if (node.children.some(function (item) {\n          return item.key === key;\n        })) {\n          parentKey = node.key;\n        } else if (getParentKey(key, node.children)) {\n          parentKey = getParentKey(key, node.children);\n        }\n      }\n    }\n\n    return parentKey;\n  };\n\n  var onChangeFilterSubLoc = function onChangeFilterSubLoc(e) {\n    var value = e.target.value;\n    var expandedKeys = dataList.map(function (item) {\n      if (item.title.indexOf(value) > -1) {\n        return getParentKey(item.key, subloc);\n      }\n\n      return null;\n    }).filter(function (item, i, self) {\n      return item && self.indexOf(item) === i;\n    });\n\n    if (value) {\n      setexpandedkeys(expandedKeys);\n      setsearchvalue(value);\n      setautoexpandparent(true);\n    } else {\n      setexpandedkeys(subloc.map(function (doc) {\n        return doc.key;\n      }));\n      setsearchvalue(\"\");\n      setautoexpandparent(false);\n    }\n  };\n\n  var filterTreeNode = function filterTreeNode(node) {\n    var title = node.title.props.children[0].props ? node.title.props.children[0].props.children[2] : node.title.props.children[2];\n    var result = title ? title.indexOf(searchvalue) !== -1 ? true : false : false;\n    return result;\n  };\n\n  var loop = function loop(data) {\n    return data.map(function (item) {\n      var index = item.title.indexOf(searchvalue);\n      var beforeStr = item.title.substr(0, index);\n      var afterStr = item.title.substr(index + searchvalue.length);\n      var title = index > -1 ? /*#__PURE__*/_jsxs(\"div\", {\n        id: \"wrap\".concat(item.key),\n        className: \"flex items-start w-full py-2 rounded-md px-2\",\n        onMouseOver: function onMouseOver() {\n          var d = document.getElementById(\"text\".concat(item.key));\n          d.classList.add(\"text-primary100\");\n          d.classList.remove(\"text-gray-400\");\n          var dd = document.getElementById(\"wrap\".concat(item.key));\n          dd.classList.add(\"bg-primary10\");\n          var ddd = document.getElementById(\"badge\".concat(item.key));\n          ddd.classList.add(\"bg-primary100\");\n          ddd.classList.remove(\"bg-gray-300\");\n        },\n        onMouseLeave: function onMouseLeave() {\n          var e = document.getElementById(\"text\".concat(item.key));\n          e.classList.add(\"text-gray-400\");\n          e.classList.remove(\"text-primary100\");\n          var ee = document.getElementById(\"wrap\".concat(item.key));\n          ee.classList.remove(\"bg-primary10\");\n          var eee = document.getElementById(\"badge\".concat(item.key));\n          eee.classList.add(\"bg-gray-300\");\n          eee.classList.remove(\"bg-primary100\");\n        },\n        onClick: function onClick() {\n          setselectedsubloc(true);\n          setselectedsublocdata(item);\n        },\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"mr-3 flex items-start\",\n          children: /*#__PURE__*/_jsx(LocationIconSvg, {\n            id: \"icon\".concat(item.key),\n            size: 15,\n            color: \"#808080\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"mr-3\",\n          children: /*#__PURE__*/_jsxs(LabelDark, {\n            id: \"text\".concat(item.key),\n            children: [beforeStr, /*#__PURE__*/_jsx(\"span\", {\n              className: \" text-primary100\",\n              children: searchvalue\n            }), afterStr]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          id: \"badge\".concat(item.key),\n          className: \"w-5 h-5 rounded-full bg-gray-400 text-white text-2xs flex items-center justify-center\",\n          children: item.sub_child_count\n        })]\n      }) : /*#__PURE__*/_jsxs(\"div\", {\n        id: \"wrap\".concat(item.key),\n        className: \"flex items-start w-full py-2 rounded-md px-2\",\n        onMouseOver: function onMouseOver() {\n          var d = document.getElementById(\"text\".concat(item.key));\n          d.classList.add(\"text-primary100\");\n          d.classList.remove(\"text-gray-400\");\n          var dd = document.getElementById(\"wrap\".concat(item.key));\n          dd.classList.add(\"bg-primary10\");\n          var ddd = document.getElementById(\"badge\".concat(item.key));\n          ddd.classList.add(\"bg-primary100\");\n          ddd.classList.remove(\"bg-gray-300\");\n        },\n        onMouseLeave: function onMouseLeave() {\n          var e = document.getElementById(\"text\".concat(item.key));\n          e.classList.add(\"text-gray-400\");\n          e.classList.remove(\"text-primary100\");\n          var ee = document.getElementById(\"wrap\".concat(item.key));\n          ee.classList.remove(\"bg-primary10\");\n          var eee = document.getElementById(\"badge\".concat(item.key));\n          eee.classList.add(\"bg-gray-300\");\n          eee.classList.remove(\"bg-primary100\");\n        },\n        onClick: function onClick() {\n          setselectedsubloc(true);\n          setselectedsublocdata(item);\n        },\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"mr-3 flex items-start\",\n          children: /*#__PURE__*/_jsx(LocationIconSvg, {\n            id: \"icon\".concat(item.key),\n            size: 15,\n            color: \"#808080\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"mr-3\",\n          children: /*#__PURE__*/_jsx(LabelDark, {\n            id: \"text\".concat(item.key),\n            children: item.title\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          id: \"badge\".concat(item.key),\n          className: \"w-5 h-5 rounded-full bg-gray-400 text-white text-2xs flex items-center justify-center\",\n          children: item.sub_child_count\n        })]\n      });\n\n      if (item.children) {\n        return {\n          title: title,\n          key: item.key,\n          children: loop(item.children)\n        };\n      }\n\n      return {\n        title: title,\n        key: item.key\n      };\n    });\n  };\n\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getSubCompanyDetail?id=\".concat(locid), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setrawdata(res2.data);\n      var childmap = modifData(res2.data.sub_children);\n      setsubloc(childmap);\n      var childmapforinduksublokasi = modifForIndukSubLokasi(res2.data, childmap);\n      setinduksubloc(childmapforinduksublokasi);\n      res2.data.sub_children.length > 0 ? setexpandedkeys(res2.data.sub_children.map(function (doc) {\n        return doc.key;\n      })) : setexpandedkeys([]);\n      setdisplaydata({\n        id: res2.data.id,\n        name: res2.data.name,\n        address: res2.data.address,\n        phone_number: res2.data.phone_number,\n        image_logo: res2.data.image_logo === \"-\" || res2.data.image_logo === \"\" ? res2.data.level === 1 ? '/image/Induk.png' : \"/image/Sublokasi.png\" : res2.data.image_logo,\n        singkatan: res2.data.singkatan,\n        tanggal_pkp: res2.data.tanggal_pkp === null ? null : moment(res2.data.tanggal_pkp),\n        penanggung_jawab: res2.data.penanggung_jawab,\n        npwp: res2.data.npwp,\n        fax: res2.data.fax,\n        email: res2.data.email,\n        website: res2.data.website,\n        level: res2.data.level\n      });\n      setdynamicattr({\n        email: res2.data.email === \"-\" || res2.data.email === \"\" ? false : true,\n        website: res2.data.website === \"-\" || res2.data.website === \"\" ? false : true,\n        npwp: res2.data.npwp === \"-\" || res2.data.npwp === \"\" ? false : true,\n        fax: res2.data.fax === \"-\" || res2.data.fax === \"\" ? false : true,\n        tanggal_pkp: res2.data.tanggal_pkp === \"-\" || res2.data === \"\" || res2.data.tanggal_pkp == null ? false : true\n      });\n      settipe(res2.data.level);\n      setisenabled(res2.data.is_enabled);\n      setpraloadingedit(false);\n      setloadingsorted(false);\n    });\n  }, [sublokasidrawer, refreshpage]);\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getCompanyInventories?id=\".concat(locid, \"&page=\").concat(page, \"&rows=\").concat(rows, \"&keyword=\").concat(keyworditems, \"&sort_by=\").concat(sortingitems.sort_by, \"&sort_type=\").concat(sortingitems.sort_type), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setrawitems(res2.data);\n      setitems(res2.data.data);\n      setpraloadingitem(false);\n    });\n  }, []);\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getLocations\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setrawlocations([res2.data]);\n    });\n  }, []);\n  return /*#__PURE__*/_jsx(Layout, {\n    tok: initProps,\n    dataProfile: dataProfile,\n    sidemenu: sidemenu,\n    pathArr: pathArr,\n    st: st,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"grid grid-cols-12\",\n      children: [praloadingedit ? null : /*#__PURE__*/_jsx(\"div\", {\n        className: \"col-span-3 flex flex-col shadow-md rounded bg-white m-4\",\n        children: /*#__PURE__*/_jsxs(_Spin, {\n          spinning: editloading,\n          children: [/*#__PURE__*/_jsxs(_Form, {\n            form: instanceForm,\n            initialValues: displaydata,\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"max-h-24 relative\",\n              children: [/*#__PURE__*/_jsx(\"img\", {\n                src: \"/image/Rectangle.png\",\n                alt: \"\",\n                className: \"object-fit max-h-24 w-full rounded-t\"\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"absolute -bottom-1/2 bg-white rounded-full\",\n                style: {\n                  left: \"35%\"\n                },\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: displaydata.image_logo,\n                  alt: \"\",\n                  className: \"object-contain w-24 h-24 rounded-full\"\n                })\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"mt-14 flex flex-col justify-center text-center\",\n              children: [editable && /*#__PURE__*/_jsx(\"div\", {\n                className: \"flex mx-auto mb-5\",\n                children: /*#__PURE__*/_jsxs(Buttonsys, {\n                  type: \"primaryInput\",\n                  onChangeGambar: onChangeGambar,\n                  children: [loadingfoto ? /*#__PURE__*/_jsx(LoadingOutlined, {\n                    style: {\n                      marginRight: \"0.5rem\"\n                    }\n                  }) : /*#__PURE__*/_jsx(RefreshIconSvg, {\n                    size: 15,\n                    color: \"#ffffff\"\n                  }), \"Atur Ulang\"]\n                })\n              }), editable ? /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col px-5\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"jsx-2034412771\" + \" \" + \"flex justify-center\",\n                  children: [/*#__PURE__*/_jsxs(Label, {\n                    children: [\"Nama \", tipe === 1 ? \"Lokasi\" : \"Sublokasi\"]\n                  }), /*#__PURE__*/_jsx(\"span\", {\n                    className: \"jsx-2034412771\" + \" \" + \"namaField\"\n                  }), /*#__PURE__*/_jsx(_JSXStyle, {\n                    id: \"2034412771\",\n                    children: [\".namaField.jsx-2034412771::before{content:'*';color:red;}\"]\n                  })]\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"name\",\n                  rules: [{\n                    required: true,\n                    message: 'Nama Perusahaan wajib diisi'\n                  }],\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    name: \"name\",\n                    onChange: onChangeInput\n                  })\n                })]\n              }) : /*#__PURE__*/_jsx(H1, {\n                children: (_displaydata$name = displaydata.name) !== null && _displaydata$name !== void 0 ? _displaydata$name : \"-\"\n              }), /*#__PURE__*/_jsx(Label, {\n                children: rawdata.parent.name\n              })]\n            }), editable ? /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex justify-center items-center mt-5\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-1\",\n                onClick: function onClick() {\n                  seteditable(false);\n                  setrefreshpage(function (prev) {\n                    return prev + 1;\n                  });\n                },\n                children: /*#__PURE__*/_jsx(Buttonsys, {\n                  type: \"default\",\n                  children: \"X Batalkan\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-1\",\n                onClick: function onClick() {},\n                children: /*#__PURE__*/_jsxs(Buttonsys, {\n                  disabled: disabledsave,\n                  type: \"primary\",\n                  submit: true,\n                  onClick: function onClick() {\n                    if (dynamicattr.email === true || /(^\\d+$)/.test(displaydata.phone_number) === false) {\n                      if (/(^\\d+$)/.test(displaydata.phone_number) === false || /(\\-)|(^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$)/.test(displaydata.email) === false) {\n                        new RegExp(/(^\\d+$)/).test(displaydata.phone_number) === false ? setwarningphonenumber(true) : setwarningphonenumber(false);\n                        new RegExp(/(\\-)|(^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$)/).test(displaydata.email) === false ? setwarningemail(true) : setwarningemail(false);\n                        setdisabledsave(true);\n                      } else {\n                        setwarningphonenumber(false);\n                        setwarningemail(false);\n                        instanceForm.submit();\n                        setmodaledit(true);\n                      }\n                    } else {\n                      setwarningphonenumber(false);\n                      setwarningemail(false);\n                      instanceForm.submit();\n                      setmodaledit(true);\n                    }\n                  },\n                  children: [/*#__PURE__*/_jsx(CheckIconSvg, {\n                    size: 15,\n                    color: \"#ffffff\"\n                  }), \"Simpan\"]\n                })\n              })]\n            }) : /*#__PURE__*/_jsxs(\"div\", {\n              className: \"mt-5 flex justify-center items-center cursor-pointer\",\n              onClick: function onClick() {\n                seteditable(true);\n              },\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"mr-1 mb-1\",\n                children: /*#__PURE__*/_jsx(EditIconSvg, {\n                  size: 20,\n                  color: \"#35763B\"\n                })\n              }), /*#__PURE__*/_jsx(Label, {\n                color: \"green\",\n                children: \"Sunting Profil\"\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"mt-7 flex flex-col px-5\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col mb-5 px-3\",\n                children: [/*#__PURE__*/_jsx(Label, {\n                  children: \"Tipe Lokasi\"\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  className: \"mb-0\",\n                  children: [\"Level \", rawdata.level]\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col mb-5 px-3\",\n                children: [/*#__PURE__*/_jsx(Label, {\n                  children: \"Alamat Perusahaan\"\n                }), editable ? /*#__PURE__*/_jsx(_Input, {\n                  name: \"address\",\n                  onChange: onChangeInput,\n                  defaultValue: (_displaydata$address = displaydata.address) !== null && _displaydata$address !== void 0 ? _displaydata$address : \"-\"\n                }) : /*#__PURE__*/_jsx(\"p\", {\n                  className: \"mb-0\",\n                  children: (_displaydata$address2 = displaydata.address) !== null && _displaydata$address2 !== void 0 ? _displaydata$address2 : \"-\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col mb-5 px-3\",\n                children: [/*#__PURE__*/_jsx(Label, {\n                  children: \"Penanggung Jawab (PIC)\"\n                }), editable ? /*#__PURE__*/_jsx(_Input, {\n                  name: \"penanggung_jawab\",\n                  onChange: onChangeInput,\n                  defaultValue: (_displaydata$penanggu = displaydata.penanggung_jawab) !== null && _displaydata$penanggu !== void 0 ? _displaydata$penanggu : \"-\"\n                }) : /*#__PURE__*/_jsx(\"p\", {\n                  className: \"mb-0\",\n                  children: (_displaydata$penanggu2 = displaydata.penanggung_jawab) !== null && _displaydata$penanggu2 !== void 0 ? _displaydata$penanggu2 : \"-\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col mb-5 px-3\",\n                children: [/*#__PURE__*/_jsx(Label, {\n                  children: \"No.Telp\"\n                }), editable ? /*#__PURE__*/_jsxs(\"div\", {\n                  className: \" flex flex-col\",\n                  children: [/*#__PURE__*/_jsx(_Input, {\n                    name: \"phone_number\",\n                    onChange: onChangeInput,\n                    prefix: /*#__PURE__*/_jsx(PhoneIconSvg, {\n                      size: 15,\n                      color: \"#35763B\"\n                    }),\n                    defaultValue: (_displaydata$phone_nu = displaydata.phone_number) !== null && _displaydata$phone_nu !== void 0 ? _displaydata$phone_nu : \"-\"\n                  }), warningphonenumber && /*#__PURE__*/_jsx(\"p\", {\n                    className: \" text-red-500 text-sm mb-0 mt-1\",\n                    children: \"Nomor Telepon harus angka\"\n                  })]\n                }) : /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"mr-1\",\n                    children: /*#__PURE__*/_jsx(PhoneIconSvg, {\n                      size: 20,\n                      color: \"#35763B\"\n                    })\n                  }), /*#__PURE__*/_jsx(\"a\", {\n                    href: \"tel:\".concat(displaydata.phone_number),\n                    className: \"text-primary100 hover:text-primary75\",\n                    children: displaydata.phone_number\n                  })]\n                })]\n              }), displaydata.level >= 2 ? null : displaydata.npwp === \"-\" || displaydata.npwp === \"\" ? null : /*#__PURE__*/_jsx(_Fragment, {\n                children: !editable && /*#__PURE__*/_jsx(\"div\", {\n                  className: \"flex flex-col mb-5 px-3\",\n                  children: /*#__PURE__*/_jsxs(_Fragment, {\n                    children: [/*#__PURE__*/_jsx(Label, {\n                      children: \"NPWP\"\n                    }), /*#__PURE__*/_jsx(\"p\", {\n                      className: \"mb-0\",\n                      children: displaydata.npwp === \"\" || displaydata.npwp === \"-\" ? \"-\" : displaydata.npwp\n                    })]\n                  })\n                })\n              }), displaydata.level >= 2 ? null : displaydata.tanggal_pkp === \"-\" || displaydata.tanggal_pkp === \"\" || displaydata.tanggal_pkp === null ? null : /*#__PURE__*/_jsx(_Fragment, {\n                children: !editable && /*#__PURE__*/_jsx(\"div\", {\n                  className: \"flex flex-col mb-5 px-3\",\n                  children: /*#__PURE__*/_jsxs(_Fragment, {\n                    children: [/*#__PURE__*/_jsx(Label, {\n                      children: \"Tanggal PKP\"\n                    }), /*#__PURE__*/_jsx(\"p\", {\n                      className: \"mb-0\",\n                      children: displaydata.tanggal_pkp === \"-\" || displaydata.tanggal_pkp === null ? \"-\" : moment(displaydata.tanggal_pkp).locale(\"id\").format(\"LL\")\n                    })]\n                  })\n                })\n              }), displaydata.level >= 2 ? null : displaydata.email === \"-\" || displaydata.email === \"\" ? null : /*#__PURE__*/_jsx(_Fragment, {\n                children: !editable && /*#__PURE__*/_jsx(\"div\", {\n                  className: \"flex flex-col mb-5 px-3\",\n                  children: /*#__PURE__*/_jsxs(_Fragment, {\n                    children: [/*#__PURE__*/_jsx(Label, {\n                      children: \"Email\"\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex\",\n                      children: [/*#__PURE__*/_jsx(\"div\", {\n                        className: \"mr-1\",\n                        children: /*#__PURE__*/_jsx(EmailIconSvg, {\n                          size: 20,\n                          color: \"#35763B\"\n                        })\n                      }), /*#__PURE__*/_jsx(\"a\", {\n                        href: \"mailto:\".concat(displaydata.email),\n                        className: \"text-primary100 hover:text-primary75\",\n                        children: displaydata.email\n                      })]\n                    })]\n                  })\n                })\n              }), displaydata.level >= 2 ? null : displaydata.fax === \"-\" || displaydata.fax === \"\" ? null : /*#__PURE__*/_jsx(_Fragment, {\n                children: !editable && /*#__PURE__*/_jsx(\"div\", {\n                  className: \"flex flex-col mb-5 px-3\",\n                  children: /*#__PURE__*/_jsxs(_Fragment, {\n                    children: [/*#__PURE__*/_jsx(Label, {\n                      children: \"Fax\"\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex\",\n                      children: [/*#__PURE__*/_jsx(\"div\", {\n                        className: \"mr-1\",\n                        children: /*#__PURE__*/_jsx(FaxIconSvg, {\n                          size: 20,\n                          color: \"#35763B\"\n                        })\n                      }), /*#__PURE__*/_jsx(\"a\", {\n                        href: \"\".concat(displaydata.fax),\n                        className: \"text-primary100 hover:text-primary75\",\n                        children: displaydata.fax\n                      })]\n                    })]\n                  })\n                })\n              }), displaydata.level >= 2 ? null : displaydata.website === \"-\" || displaydata.website === \"\" ? null : /*#__PURE__*/_jsx(_Fragment, {\n                children: !editable && /*#__PURE__*/_jsx(\"div\", {\n                  className: \"flex flex-col mb-5 px-3\",\n                  children: /*#__PURE__*/_jsxs(_Fragment, {\n                    children: [/*#__PURE__*/_jsx(Label, {\n                      children: \"Website\"\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex\",\n                      children: [/*#__PURE__*/_jsx(\"div\", {\n                        className: \"mr-1\",\n                        children: /*#__PURE__*/_jsx(WebIconSvg, {\n                          size: 20,\n                          color: \"#35763B\"\n                        })\n                      }), /*#__PURE__*/_jsx(\"a\", {\n                        href: \"\".concat(displaydata.website),\n                        className: \"text-primary100 hover:text-primary75\",\n                        children: displaydata.website\n                      })]\n                    })]\n                  })\n                })\n              }), displaydata.level >= 2 ? null : editable && /*#__PURE__*/_jsxs(_Fragment, {\n                children: [dynamicattr.email && /*#__PURE__*/_jsx(InputNotRequired, {\n                  name: \"email\",\n                  onChangeInput: onChangeInputNotRequired,\n                  defaultValue: displaydata.email,\n                  label: \"Email\"\n                }), dynamicattr.email && warningemail && /*#__PURE__*/_jsx(\"p\", {\n                  className: \" text-red-500 text-sm mb-3 -mt-3 mx-3\",\n                  children: \"Email belum diisi dengan benar\"\n                }), dynamicattr.website && /*#__PURE__*/_jsx(InputNotRequired, {\n                  name: \"website\",\n                  onChangeInput: onChangeInputNotRequired,\n                  defaultValue: displaydata.website,\n                  label: \"Website\"\n                }), dynamicattr.npwp && /*#__PURE__*/_jsx(InputNotRequired, {\n                  name: \"npwp\",\n                  onChangeInput: onChangeInputNotRequired,\n                  defaultValue: displaydata.npwp,\n                  label: \"NPWP\"\n                }), dynamicattr.fax && /*#__PURE__*/_jsx(InputNotRequired, {\n                  name: \"fax\",\n                  onChangeInput: onChangeInputNotRequired,\n                  defaultValue: displaydata.fax,\n                  label: \"Fax\"\n                }), dynamicattr.tanggal_pkp && /*#__PURE__*/_jsx(DateNotRequired, {\n                  name: \"tanggal_pkp\",\n                  onChangeDate: onchangeDate,\n                  label: \"Tanggal PKP\",\n                  defaultValue: displaydata.tanggal_pkp === null ? null : moment(displaydata.tanggal_pkp)\n                })]\n              }), displaydata.level >= 2 ? null : editable && /*#__PURE__*/_jsxs(\"div\", {\n                className: \"mb-5 flex flex-col\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"mb-3\",\n                  children: /*#__PURE__*/_jsx(Label, {\n                    children: \"Informasi Tambahan\"\n                  })\n                }), !dynamicattr.email && /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex justify-between mb-3\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"mr-2\",\n                      children: /*#__PURE__*/_jsx(EmailIconSvg, {\n                        size: 18,\n                        color: \"#808080\"\n                      })\n                    }), \"Email\"]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"cursor-pointer\",\n                    onClick: function onClick() {\n                      setdynamicattr(_objectSpread(_objectSpread({}, dynamicattr), {}, {\n                        email: true\n                      }));\n                    },\n                    children: /*#__PURE__*/_jsx(SquarePlusIconSvg, {\n                      size: 18,\n                      color: \"#808080\"\n                    })\n                  })]\n                }), !dynamicattr.website && /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex justify-between mb-3\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"mr-2\",\n                      children: /*#__PURE__*/_jsx(WebIconSvg, {\n                        size: 18,\n                        color: \"#808080\"\n                      })\n                    }), \"Website\"]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"cursor-pointer\",\n                    onClick: function onClick() {\n                      setdynamicattr(_objectSpread(_objectSpread({}, dynamicattr), {}, {\n                        website: true\n                      }));\n                    },\n                    children: /*#__PURE__*/_jsx(SquarePlusIconSvg, {\n                      size: 18,\n                      color: \"#808080\"\n                    })\n                  })]\n                }), !dynamicattr.npwp && /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex justify-between mb-3\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"mr-2\",\n                      children: /*#__PURE__*/_jsx(NotesIconSvg, {\n                        size: 18,\n                        color: \"#808080\"\n                      })\n                    }), \"NPWP\"]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"cursor-pointer\",\n                    onClick: function onClick() {\n                      setdynamicattr(_objectSpread(_objectSpread({}, dynamicattr), {}, {\n                        npwp: true\n                      }));\n                    },\n                    children: /*#__PURE__*/_jsx(SquarePlusIconSvg, {\n                      size: 18,\n                      color: \"#808080\"\n                    })\n                  })]\n                }), !dynamicattr.fax && /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex justify-between mb-3\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"mr-2\",\n                      children: /*#__PURE__*/_jsx(FaxIconSvg, {\n                        size: 18,\n                        color: \"#808080\"\n                      })\n                    }), \"Fax\"]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"cursor-pointer\",\n                    onClick: function onClick() {\n                      setdynamicattr(_objectSpread(_objectSpread({}, dynamicattr), {}, {\n                        fax: true\n                      }));\n                    },\n                    children: /*#__PURE__*/_jsx(SquarePlusIconSvg, {\n                      size: 18,\n                      color: \"#808080\"\n                    })\n                  })]\n                }), !dynamicattr.tanggal_pkp && /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex justify-between mb-3\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"mr-2\",\n                      children: /*#__PURE__*/_jsx(PkpIconSvg, {\n                        size: 18,\n                        color: \"#808080\"\n                      })\n                    }), \"Tanggal PKP\"]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"cursor-pointer\",\n                    onClick: function onClick() {\n                      setdynamicattr(_objectSpread(_objectSpread({}, dynamicattr), {}, {\n                        tanggal_pkp: true\n                      }));\n                    },\n                    children: /*#__PURE__*/_jsx(SquarePlusIconSvg, {\n                      size: 18,\n                      color: \"#808080\"\n                    })\n                  })]\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col mb-5\",\n                children: [/*#__PURE__*/_jsx(Label, {\n                  children: \"Total Sub-Location Level 1\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"mb-0\",\n                  children: rawdata.sub_location_level_1_count\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col mb-5\",\n                children: [/*#__PURE__*/_jsx(Label, {\n                  children: \"Total Sub-Location Level 2\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"mb-0\",\n                  children: rawdata.sub_location_level_2_count\n                })]\n              }), editable && /*#__PURE__*/_jsx(\"div\", {\n                className: \"flex justify-center items-center mb-10\",\n                children: /*#__PURE__*/_jsxs(Buttonsys\n                /*disabled={rawdata.induk_level_1_count > 0 ? true : false}*/\n                , {\n                  type: \"primary\",\n                  color: \"danger\",\n                  onClick: function onClick() {\n                    // if (tipe === 1) {\n                    setmodalcheckchild(true); // }\n                  },\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"mr-1\",\n                    children: /*#__PURE__*/_jsx(TrashIconSvg, {\n                      size: 18,\n                      color: \"#FFFFFF\"\n                    })\n                  }), \"Hapus Lokasi\"]\n                })\n              })]\n            })]\n          }), /*#__PURE__*/_jsx(ModalEdit, {\n            title: \"Konfirmasi Edit Perusahaan\",\n            visible: modaledit,\n            level: displaydata.level,\n            onCancel: function onCancel() {\n              setmodaledit(false);\n            },\n            footer: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsx(Buttonsys, {\n                type: \"default\",\n                onClick: function onClick() {\n                  setmodaledit(false);\n                },\n                children: \"Batalkan\"\n              }), /*#__PURE__*/_jsxs(Buttonsys, {\n                type: \"primary\",\n                onClick: handleEdit,\n                children: [/*#__PURE__*/_jsx(CheckIconSvg, {\n                  size: 15,\n                  color: \"#ffffff\"\n                }), \"Simpan\"]\n              })]\n            })\n          }), /*#__PURE__*/_jsx(ModalHapusLokasiCekChild, {\n            title: /*#__PURE__*/_jsxs(\"strong\", {\n              children: [\"Sebelum menghapus \", tipe === 1 ? \"lokasi induk\" : \"Sublokasi\", \"...\"]\n            }),\n            visible: modalcheckchild,\n            onCancel: function onCancel() {\n              setmodalcheckchild(false);\n            },\n            footer: /*#__PURE__*/_jsx(_Spin, {\n              spinning: loadingdelete,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsx(Buttonsys, {\n                  type: \"default\",\n                  onClick: function onClick() {\n                    setdeletedata(_objectSpread(_objectSpread({}, deletedata), {}, {\n                      new_parent: null\n                    }));\n                    setmodalcheckchild(false);\n                  },\n                  children: \"Batalkan\"\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex items-center justify-end\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"mr-5\",\n                    children: /*#__PURE__*/_jsxs(Buttonsys\n                    /*disabled={rawdata.induk_level_1_count > 0 ? true : false}*/\n                    , {\n                      type: \"primary\",\n                      onClick: function onClick() {\n                        setmodalcheckchild(false);\n                        setmodalmove(true);\n                      },\n                      children: [/*#__PURE__*/_jsx(MoveIconSvg, {\n                        size: 15\n                      }), \"Pindahkan Inventori\"]\n                    })\n                  }), /*#__PURE__*/_jsxs(Buttonsys\n                  /*disabled={rawdata.induk_level_1_count > 0 ? true : false}*/\n                  , {\n                    type: \"primary\",\n                    color: \"danger\",\n                    onClick: function onClick() {\n                      if (tipe === 1) {\n                        handleDelete();\n                      } else {\n                        setmodalcheckchild(false);\n                        setmodalconfirm(true);\n                      }\n                    },\n                    children: [/*#__PURE__*/_jsx(TrashIconSvg, {\n                      size: 15,\n                      color: \"#ffffff\"\n                    }), displaydata.level === 2 ? \"Hapus Sub Lokasi\" : \"Hapus Lokasi\"]\n                  })]\n                })]\n              })\n            }),\n            subloc: subloc,\n            rawdata: rawdata\n          }), /*#__PURE__*/_jsx(ModalHapusLokasiMoveChild, {\n            title: /*#__PURE__*/_jsx(\"strong\", {\n              children: rawdata.level === 1 ? \"Peringatan\" : \"Pemindahan Inventori\"\n            }),\n            visible: modalmove,\n            footer: /*#__PURE__*/_jsx(_Spin, {\n              spinning: loadingdelete,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsx(Buttonsys, {\n                  type: \"default\",\n                  onClick: function onClick() {\n                    setdeletedata(_objectSpread(_objectSpread({}, deletedata), {}, {\n                      new_parent: null\n                    }));\n                    setmodalmove(false);\n                    setmodalcheckchild(true);\n                  },\n                  children: \"Batalkan\"\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"flex items-center\",\n                  children: /*#__PURE__*/_jsxs(Buttonsys, {\n                    disabled: deletedata.new_parent === null ? true : false,\n                    type: \"primary\",\n                    color: \"danger\",\n                    onClick: handleDelete,\n                    children: [/*#__PURE__*/_jsx(TrashIconSvg, {\n                      size: 15,\n                      color: \"#ffffff\"\n                    }), \"Lanjutkan penghapusan\"]\n                  })\n                })]\n              })\n            }),\n            rawdata: rawdata,\n            rawlocations: rawlocations,\n            deletedata: deletedata,\n            setdeletedata: setdeletedata,\n            initProps: initProps\n          }), /*#__PURE__*/_jsx(ModalHapusInventoryExist, {\n            title: /*#__PURE__*/_jsx(\"strong\", {\n              children: \"Tidak dapat menghapus Lokasi\"\n            }),\n            visible: modalinvexist,\n            footer: /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex justify-end items-center\",\n              children: /*#__PURE__*/_jsxs(Buttonsys, {\n                type: \"primary\",\n                onClick: function onClick() {\n                  setmodalinvexist(false);\n                  setmodalcheckchild(true);\n                },\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"mr-2\",\n                  children: /*#__PURE__*/_jsx(BackIconSvg, {\n                    size: 15,\n                    color: \"#ffffff\"\n                  })\n                }), \"Kembali\"]\n              })\n            }),\n            invexistdata: datainvexist\n          }), /*#__PURE__*/_jsx(ModalHapusLokasiConfirm, {\n            title: /*#__PURE__*/_jsx(\"strong\", {\n              children: \"Peringatan\"\n            }),\n            visible: modalconfirm,\n            footer: /*#__PURE__*/_jsx(_Spin, {\n              spinning: loadingdelete,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsx(Buttonsys, {\n                  type: \"default\",\n                  onClick: function onClick() {\n                    setdeletedata(_objectSpread(_objectSpread({}, deletedata), {}, {\n                      new_parent: null\n                    }));\n                    setmodalconfirm(false);\n                    setmodalcheckchild(true);\n                  },\n                  children: \"Batalkan\"\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"flex items-center\",\n                  children: /*#__PURE__*/_jsxs(Buttonsys, {\n                    type: \"primary\",\n                    color: \"danger\",\n                    onClick: handleDelete,\n                    children: [/*#__PURE__*/_jsx(TrashIconSvg, {\n                      size: 15,\n                      color: \"#ffffff\"\n                    }), \"Ya, saya yakin dan hapus lokasi\"]\n                  })\n                })]\n              })\n            }),\n            rawdata: rawdata,\n            deletedata: deletedata\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-span-9 flex flex-col\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col shadow-md rounded-md bg-white p-5 m-4\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex mb-5\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"w-4/12\",\n              children: /*#__PURE__*/_jsx(H1, {\n                children: \"Semua Aset\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"w-8/12 flex justify-end\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-2\",\n                children: /*#__PURE__*/_jsx(_Input, {\n                  style: {\n                    width: \"20rem\"\n                  },\n                  placeholder: \"Cari ID, Tipe Aset, Model\",\n                  onChange: onSearchItems,\n                  allowClear: true\n                })\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(TableCustom, {\n              dataSource: items,\n              setDataSource: setitems,\n              columns: columnitems,\n              loading: praloadingitem,\n              setloading: setpraloadingitem,\n              pageSize: rows,\n              total: rawitems.total,\n              setdataraw: setrawitems,\n              initProps: initProps,\n              setpage: setpage,\n              pagefromsearch: page,\n              keyworditems: keyworditems,\n              locid: locid,\n              sorting: sortingitems,\n              setsorting: setsortingitems\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"grid grid-cols-7\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \" col-span-5 flex flex-col shadow-md rounded-md bg-white p-5 mt-4 ml-4 mb-4 mr-2\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \" mb-3\",\n              children: /*#__PURE__*/_jsx(H1, {\n                children: \"Daftar Sublokasi\"\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex justify-around mb-5\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-0\",\n                children: /*#__PURE__*/_jsx(_Input, {\n                  placeholder: \"Cari Sublokasi\",\n                  style: {\n                    backgroundColor: \"transparent\"\n                  },\n                  onChange: onChangeFilterSubLoc\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-0\",\n                children: /*#__PURE__*/_jsxs(Buttonsys, {\n                  type: \"ghost\",\n                  selected: sortedbtn === true ? true : false,\n                  onClick: function onClick() {\n                    onSortSubLoc(sorted === -1 ? true : !sorted);\n                  },\n                  children: [/*#__PURE__*/_jsx(SortingIconSvg, {\n                    size: 12,\n                    color: \"#35763B\"\n                  }), \"Urutkan: \", sortedname]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-0\",\n                children: /*#__PURE__*/_jsx(Buttonsys, {\n                  type: \"primary\",\n                  onClick: function onClick() {\n                    setsublokasidrawer(true);\n                  },\n                  children: \"+ Tambah Sublokasi\"\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"mb-5\",\n              children: loadingsorted ? /*#__PURE__*/_jsx(_Fragment, {\n                children: /*#__PURE__*/_jsx(_Spin, {})\n              }) : subloc.length === 0 ? /*#__PURE__*/_jsx(_Fragment, {\n                children: /*#__PURE__*/_jsx(_Empty, {\n                  image: _Empty.PRESENTED_IMAGE_SIMPLE\n                })\n              }) : /*#__PURE__*/_jsx(_Tree, {\n                onExpand: onExpand,\n                className: \"treeMyCompanySublokasi\",\n                showIcon: true,\n                filterTreeNode: filterTreeNode,\n                autoExpandParent: true,\n                expandedKeys: expandedkeys,\n                treeData: loop(subloc),\n                switcherIcon: /*#__PURE__*/_jsx(DownOutlined, {}),\n                style: {\n                  background: \"white\"\n                },\n                blockNode: true\n              })\n            })]\n          }), selectedsubloc ? /*#__PURE__*/_jsxs(\"div\", {\n            className: \" col-span-2 flex flex-col shadow-md rounded-md bg-white p-5 mt-2 ml-2 mb-4 mr-4\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \" mb-5 flex justify-center\",\n              children:\n              /*#__PURE__*/\n              // selectedsublocdata.image_logo === \"\" ?\n              // <div className=\"w-30 h-30 rounded-full bg-gray-400 flex justify-center items-center\">\n              //     <CameraIconSvg size={25} color={`#ffffff`} />\n              // </div>\n              // :\n              _jsx(\"img\", {\n                src: selectedsublocdata.image_logo,\n                className: \"object-contain w-20 h-20 rounded-full\",\n                alt: \"\"\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex flex-col items-center mb-5\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"mb-2 text-center\",\n                children: /*#__PURE__*/_jsx(H1, {\n                  children: selectedsublocdata.title\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"mb-4\",\n                children: /*#__PURE__*/_jsx(Label, {\n                  children: selectedsublocdata.parent_name\n                })\n              }), /*#__PURE__*/_jsx(\"a\", {\n                href: \"/company/myCompany/locations/\".concat(selectedsublocdata.id),\n                target: \"_blank\",\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"mr-2\",\n                    children: /*#__PURE__*/_jsx(Label, {\n                      color: \"green\",\n                      cursor: \"pointer\",\n                      children: \"Lihat Detail\"\n                    })\n                  }), /*#__PURE__*/_jsx(ExternalLinkIconSvg, {\n                    size: 15,\n                    color: \"#35763B\"\n                  })]\n                })\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex flex-col mb-5\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsx(Label, {\n                  children: \"Tipe Sublokasi\"\n                }), /*#__PURE__*/_jsxs(Text, {\n                  children: [\"Level \", selectedsublocdata.level]\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsx(Label, {\n                  children: \"Jumlah Aset\"\n                }), /*#__PURE__*/_jsx(Text, {\n                  children: selectedsublocdata.inventories_count\n                })]\n              })]\n            })]\n          }) : null, /*#__PURE__*/_jsx(DrawerSublokasi, {\n            title: \"Tambah Sublokasi\",\n            visible: sublokasidrawer,\n            onClose: function onClose() {\n              setsublokasidrawer(false);\n            },\n            buttonOkText: \"Simpan Sublokasi\",\n            initProps: initProps,\n            onvisible: setsublokasidrawer,\n            subchildren: induksubloc\n          })]\n        })]\n      })]\n    })\n  });\n};\n\nexport var __N_SSP = true;\nexport default Index4;","map":null,"metadata":{},"sourceType":"module"}