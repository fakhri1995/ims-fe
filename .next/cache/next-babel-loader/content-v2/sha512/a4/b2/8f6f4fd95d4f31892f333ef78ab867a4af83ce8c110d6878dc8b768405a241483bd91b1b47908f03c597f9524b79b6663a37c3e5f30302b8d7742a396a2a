{"ast":null,"code":"import _TreeSelect from \"antd/lib/tree-select\";\nimport _Select from \"antd/lib/select\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _Spin from \"antd/lib/spin\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _notification from \"antd/lib/notification\";\nvar _jsxFileName = \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/components/drawer/tasks/drawerTaskSpareParts.js\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\nimport ButtonSys from \"../../button\";\nimport { AssetIconSvg, CalendartimeIconSvg, CircleXIconSvg, TrashIconSvg, UserIconSvg } from \"../../icon\";\nimport { InputRequired, SelectRequired, TextAreaNotRequired } from \"../../input\";\nimport { H1, H2, Label } from \"../../typography\";\nimport DrawerCore from \"../drawerCore\";\n\nfunction modifData1(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    dataa[i][\"key\"] = dataa[i].id;\n    dataa[i][\"value\"] = dataa[i].id;\n    dataa[i][\"title\"] = dataa[i].mig_id;\n\n    if (dataa[i].inventory_parts) {\n      dataa[i][\"children\"] = dataa[i].inventory_parts;\n      delete dataa[i].inventory_parts;\n      modifData1(dataa[i].children);\n    }\n  }\n\n  return dataa;\n}\n\nfunction modifData2(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    var _dataa$i$model_invent, _dataa$i$model_invent2, _dataa$i$model_invent3;\n\n    dataa[i][\"key\"] = dataa[i].id;\n    dataa[i][\"value\"] = dataa[i].id;\n    dataa[i][\"title\"] = `${dataa[i].mig_id} - ${(_dataa$i$model_invent = dataa[i].model_inventory) === null || _dataa$i$model_invent === void 0 ? void 0 : _dataa$i$model_invent.name} - ${(_dataa$i$model_invent2 = dataa[i].model_inventory) === null || _dataa$i$model_invent2 === void 0 ? void 0 : (_dataa$i$model_invent3 = _dataa$i$model_invent2.asset) === null || _dataa$i$model_invent3 === void 0 ? void 0 : _dataa$i$model_invent3.name}`;\n\n    if (dataa[i].inventory_parts) {\n      dataa[i][\"children\"] = dataa[i].inventory_parts;\n      delete dataa[i].inventory_parts;\n      modifData2(dataa[i].children);\n    }\n  }\n\n  return dataa;\n}\n\nconst DrawerTaskSpareParts = ({\n  title,\n  visible,\n  onvisible,\n  onClose,\n  buttonOkText,\n  disabled,\n  initProps,\n  idtask,\n  selectedforin,\n  setselectedforin,\n  selectedforout,\n  setselectedforout,\n  prevpath\n}) => {\n  //useState\n  const {\n    0: datapayload,\n    1: setdatapayload\n  } = useState({\n    id: Number(idtask),\n    add_in_inventories: [],\n    remove_in_inventory_ids: [],\n    add_out_inventory_ids: [],\n    remove_out_inventory_ids: []\n  });\n  const {\n    0: loadingspart,\n    1: setloadingspart\n  } = useState(false); //DATA IN\n\n  const {\n    0: praloadingin,\n    1: setpraloadingin\n  } = useState(true);\n  const {\n    0: dataselectforin,\n    1: setdataselectforin\n  } = useState([]);\n  const {\n    0: datainduk,\n    1: setdatainduk\n  } = useState([]); //DATA OUT\n\n  const {\n    0: praloadingout,\n    1: setpraloadingout\n  } = useState(true);\n  const {\n    0: dataselectforout,\n    1: setdataselectforout\n  } = useState([]);\n  const {\n    0: fetchingstate,\n    1: setfetchingstate\n  } = useState(false); //handler\n\n  const handleSendSpareParts = () => {\n    setloadingspart(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/sendInventoriesTask`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(datapayload)\n    }).then(res => res.json()).then(res2 => {\n      setloadingspart(false);\n\n      if (res2.success) {\n        onvisible(false);\n\n        _notification[\"success\"]({\n          message: res2.message,\n          duration: 3\n        });\n\n        window.location.href = `/tasks/detail/${idtask}`;\n      } else {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //useEffect\n\n\n  useEffect(() => {\n    setpraloadingin(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getTaskSparePartList?type=masuk`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setdataselectforin(res2.data);\n      console.log(data2.res);\n      setpraloadingin(false);\n    });\n  }, []);\n  useEffect(() => {\n    setpraloadingout(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getTaskSparePartList?type=keluar&id=${idtask}`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      var modif1 = modifData1(res2.data);\n      setdatainduk(modif1);\n      var modif2 = modifData2(res2.data);\n      setdataselectforout(modif2);\n      setpraloadingout(false);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DrawerCore, {\n    title: title,\n    visible: visible,\n    onClose: onClose,\n    buttonOkText: buttonOkText,\n    onClick: () => {\n      console.log(datapayload, selectedforin);\n      handleSendSpareParts();\n    } // disabled={disabledcreate}\n    ,\n    children: loadingspart ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" flex w-full items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(_Spin, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-0 text-red-500 text-xs italic\",\n          children: \"*Informasi ini harus diisi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-88943343\" + \" \" + \"flex mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Suku Cadang Masuk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"jsx-88943343\" + \" \" + \"spartsin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n            id: \"88943343\",\n            children: \".spartsin.jsx-88943343::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL2NvbXBvbmVudHMvZHJhd2VyL3Rhc2tzL2RyYXdlclRhc2tTcGFyZVBhcnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZMaUIsQUFHaUQsWUFDRixVQUNkIiwiZmlsZSI6Ii9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL2NvbXBvbmVudHMvZHJhd2VyL3Rhc2tzL2RyYXdlclRhc2tTcGFyZVBhcnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VhcmNoT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIERhdGVQaWNrZXIsXG4gIFJhZGlvLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFN3aXRjaCxcbiAgVHJlZVNlbGVjdCxcbiAgbm90aWZpY2F0aW9uLFxufSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgQnV0dG9uU3lzIGZyb20gXCIuLi8uLi9idXR0b25cIjtcbmltcG9ydCB7XG4gIEFzc2V0SWNvblN2ZyxcbiAgQ2FsZW5kYXJ0aW1lSWNvblN2ZyxcbiAgQ2lyY2xlWEljb25TdmcsXG4gIFRyYXNoSWNvblN2ZyxcbiAgVXNlckljb25TdmcsXG59IGZyb20gXCIuLi8uLi9pY29uXCI7XG5pbXBvcnQge1xuICBJbnB1dFJlcXVpcmVkLFxuICBTZWxlY3RSZXF1aXJlZCxcbiAgVGV4dEFyZWFOb3RSZXF1aXJlZCxcbn0gZnJvbSBcIi4uLy4uL2lucHV0XCI7XG5pbXBvcnQgeyBIMSwgSDIsIExhYmVsIH0gZnJvbSBcIi4uLy4uL3R5cG9ncmFwaHlcIjtcbmltcG9ydCBEcmF3ZXJDb3JlIGZyb20gXCIuLi9kcmF3ZXJDb3JlXCI7XG5cbmZ1bmN0aW9uIG1vZGlmRGF0YTEoZGF0YWEpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhYS5sZW5ndGg7IGkrKykge1xuICAgIGRhdGFhW2ldW1wia2V5XCJdID0gZGF0YWFbaV0uaWQ7XG4gICAgZGF0YWFbaV1bXCJ2YWx1ZVwiXSA9IGRhdGFhW2ldLmlkO1xuICAgIGRhdGFhW2ldW1widGl0bGVcIl0gPSBkYXRhYVtpXS5taWdfaWQ7XG4gICAgaWYgKGRhdGFhW2ldLmludmVudG9yeV9wYXJ0cykge1xuICAgICAgZGF0YWFbaV1bXCJjaGlsZHJlblwiXSA9IGRhdGFhW2ldLmludmVudG9yeV9wYXJ0cztcbiAgICAgIGRlbGV0ZSBkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHM7XG4gICAgICBtb2RpZkRhdGExKGRhdGFhW2ldLmNoaWxkcmVuKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRhdGFhO1xufVxuZnVuY3Rpb24gbW9kaWZEYXRhMihkYXRhYSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFhLmxlbmd0aDsgaSsrKSB7XG4gICAgZGF0YWFbaV1bXCJrZXlcIl0gPSBkYXRhYVtpXS5pZDtcbiAgICBkYXRhYVtpXVtcInZhbHVlXCJdID0gZGF0YWFbaV0uaWQ7XG4gICAgZGF0YWFbaV1bXG4gICAgICBcInRpdGxlXCJcbiAgICBdID0gYCR7ZGF0YWFbaV0ubWlnX2lkfSAtICR7ZGF0YWFbaV0ubW9kZWxfaW52ZW50b3J5Py5uYW1lfSAtICR7ZGF0YWFbaV0ubW9kZWxfaW52ZW50b3J5Py5hc3NldD8ubmFtZX1gO1xuICAgIGlmIChkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHMpIHtcbiAgICAgIGRhdGFhW2ldW1wiY2hpbGRyZW5cIl0gPSBkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHM7XG4gICAgICBkZWxldGUgZGF0YWFbaV0uaW52ZW50b3J5X3BhcnRzO1xuICAgICAgbW9kaWZEYXRhMihkYXRhYVtpXS5jaGlsZHJlbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhYTtcbn1cblxuY29uc3QgRHJhd2VyVGFza1NwYXJlUGFydHMgPSAoe1xuICB0aXRsZSxcbiAgdmlzaWJsZSxcbiAgb252aXNpYmxlLFxuICBvbkNsb3NlLFxuICBidXR0b25Pa1RleHQsXG4gIGRpc2FibGVkLFxuICBpbml0UHJvcHMsXG4gIGlkdGFzayxcbiAgc2VsZWN0ZWRmb3JpbixcbiAgc2V0c2VsZWN0ZWRmb3JpbixcbiAgc2VsZWN0ZWRmb3JvdXQsXG4gIHNldHNlbGVjdGVkZm9yb3V0LFxuICBwcmV2cGF0aCxcbn0pID0+IHtcbiAgLy91c2VTdGF0ZVxuICBjb25zdCBbZGF0YXBheWxvYWQsIHNldGRhdGFwYXlsb2FkXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogTnVtYmVyKGlkdGFzayksXG4gICAgYWRkX2luX2ludmVudG9yaWVzOiBbXSxcbiAgICByZW1vdmVfaW5faW52ZW50b3J5X2lkczogW10sXG4gICAgYWRkX291dF9pbnZlbnRvcnlfaWRzOiBbXSxcbiAgICByZW1vdmVfb3V0X2ludmVudG9yeV9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2xvYWRpbmdzcGFydCwgc2V0bG9hZGluZ3NwYXJ0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgLy9EQVRBIElOXG4gIGNvbnN0IFtwcmFsb2FkaW5naW4sIHNldHByYWxvYWRpbmdpbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2RhdGFzZWxlY3Rmb3Jpbiwgc2V0ZGF0YXNlbGVjdGZvcmluXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2RhdGFpbmR1aywgc2V0ZGF0YWluZHVrXSA9IHVzZVN0YXRlKFtdKTtcbiAgLy9EQVRBIE9VVFxuICBjb25zdCBbcHJhbG9hZGluZ291dCwgc2V0cHJhbG9hZGluZ291dF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2RhdGFzZWxlY3Rmb3JvdXQsIHNldGRhdGFzZWxlY3Rmb3JvdXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdzdGF0ZSwgc2V0ZmV0Y2hpbmdzdGF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy9oYW5kbGVyXG4gIGNvbnN0IGhhbmRsZVNlbmRTcGFyZVBhcnRzID0gKCkgPT4ge1xuICAgIHNldGxvYWRpbmdzcGFydCh0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vc2VuZEludmVudG9yaWVzVGFza2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YXBheWxvYWQpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ3NwYXJ0KGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG9udmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvdGFza3MvZGV0YWlsLyR7aWR0YXNrfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vdXNlRWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0cHJhbG9hZGluZ2luKHRydWUpO1xuICAgIGZldGNoKFxuICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldFRhc2tTcGFyZVBhcnRMaXN0P3R5cGU9bWFzdWtgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIClcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRkYXRhc2VsZWN0Zm9yaW4ocmVzMi5kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YTIucmVzKTtcblxuICAgICAgICBzZXRwcmFsb2FkaW5naW4oZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRwcmFsb2FkaW5nb3V0KHRydWUpO1xuICAgIGZldGNoKFxuICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldFRhc2tTcGFyZVBhcnRMaXN0P3R5cGU9a2VsdWFyJmlkPSR7aWR0YXNrfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgKVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciBtb2RpZjEgPSBtb2RpZkRhdGExKHJlczIuZGF0YSk7XG4gICAgICAgIHNldGRhdGFpbmR1ayhtb2RpZjEpO1xuICAgICAgICB2YXIgbW9kaWYyID0gbW9kaWZEYXRhMihyZXMyLmRhdGEpO1xuICAgICAgICBzZXRkYXRhc2VsZWN0Zm9yb3V0KG1vZGlmMik7XG4gICAgICAgIHNldHByYWxvYWRpbmdvdXQoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIChcbiAgICA8RHJhd2VyQ29yZVxuICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgdmlzaWJsZT17dmlzaWJsZX1cbiAgICAgIG9uQ2xvc2U9e29uQ2xvc2V9XG4gICAgICBidXR0b25Pa1RleHQ9e2J1dHRvbk9rVGV4dH1cbiAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YXBheWxvYWQsIHNlbGVjdGVkZm9yaW4pO1xuICAgICAgICBoYW5kbGVTZW5kU3BhcmVQYXJ0cygpO1xuICAgICAgfX1cbiAgICAgIC8vIGRpc2FibGVkPXtkaXNhYmxlZGNyZWF0ZX1cbiAgICA+XG4gICAgICB7bG9hZGluZ3NwYXJ0ID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXJlZC01MDAgdGV4dC14cyBpdGFsaWNcIj5cbiAgICAgICAgICAgICAgKkluZm9ybWFzaSBpbmkgaGFydXMgZGlpc2lcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsPlN1a3UgQ2FkYW5nIE1hc3VrPC9MYWJlbD5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3BhcnRzaW5cIj48L3NwYW4+XG4gICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwYXJ0c2luOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3ByYWxvYWRpbmdpbiA/IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItMiBmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMTAwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9udFNob3dcIlxuICAgICAgICAgICAgICAgICAgICBzdWZmaXhJY29uPXs8U2VhcmNoT3V0bGluZWQgLz59XG4gICAgICAgICAgICAgICAgICAgIHNob3dBcnJvd1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1JRyBJRCwgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcGFydF9pbmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGRhdGFwYXlsb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGFwYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkX2luX2ludmVudG9yaWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGFwYXlsb2FkLmFkZF9pbl9pbnZlbnRvcmllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpbnZlbnRvcnlfaWQ6IHZhbHVlLCBjb25uZWN0X2lkOiAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHNlbGVjdGVkZm9yaW4oWy4uLnNlbGVjdGVkZm9yaW4sIG9wdGlvbl0pO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRDb250ZW50PXtcbiAgICAgICAgICAgICAgICAgICAgICBmZXRjaGluZ3N0YXRlID8gPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5nc3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0VGFza1NwYXJlUGFydExpc3Q/dHlwZT1tYXN1ayZrZXl3b3JkPSR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGF0YXNlbGVjdGZvcmluKHJlczIuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5nc3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbj17KGlucHV0LCBvcHQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgb3B0LmNoaWxkcmVuLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PVxuICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7ZGF0YXNlbGVjdGZvcmluLm1hcCgoZG9jLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZG9jLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWlnaWQ9e2RvYy5taWdfaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbG5hbWU9e2RvYy5tb2RlbF9uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRuYW1lPXtkb2MuYXNzZXRfbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1pZ19pZH0gLSB7ZG9jLm1vZGVsX25hbWV9IC0ge2RvYy5hc3NldF9uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi0yIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZGZvcmluLm1hcCgoZG9jLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbXItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QXNzZXRJY29uU3ZnIHNpemU9ezUwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxIMj57ZG9jLm1vZGVsbmFtZX08L0gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5taWdpZH0ve2RvYy5hc3NldG5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEluZHVrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAxMHJlbWAsIG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeEljb249ezxTZWFyY2hPdXRsaW5lZCAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Fycm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmNvbm5lY3RfaWQgPT09IDAgPyBudWxsIDogZG9jLmNvbm5lY3RfaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcGFyZW50YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gWy4uLmRhdGFwYXlsb2FkLmFkZF9pbl9pbnZlbnRvcmllc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0uY29ubmVjdF9pZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkYXRhcGF5bG9hZCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX2luX2ludmVudG9yaWVzOiB0ZW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IFsuLi5kYXRhcGF5bG9hZC5hZGRfaW5faW52ZW50b3JpZXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdLmNvbm5lY3RfaWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRfaW5faW52ZW50b3JpZXM6IHRlbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17ZGF0YWluZHVrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvVHJlZVNlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiIGN1cnNvci1wb2ludGVyIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gWy4uLnNlbGVjdGVkZm9yaW5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0c2VsZWN0ZWRmb3Jpbih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0ZGF0YXBheWxvYWQoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVfaW5faW52ZW50b3J5X2lkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldi5yZW1vdmVfaW5faW52ZW50b3J5X2lkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2V0ZGF0YXBheWxvYWQoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRfaW5faW52ZW50b3JpZXM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmFkZF9pbl9pbnZlbnRvcmllcy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmaWwpID0+IGZpbC5pbnZlbnRvcnlfaWQgIT09IGRvYy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2hJY29uU3ZnIHNpemU9ezIwfSBjb2xvcj17YCNCRjRBNDBgfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsPlN1a3UgQ2FkYW5nIEtlbHVhcjwvTGFiZWw+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNwYXJ0c291dFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BhcnRzb3V0OjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3ByYWxvYWRpbmdvdXQgPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTIgZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNSUcgSUQsIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAxMDAlYCB9fVxuICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbnRTaG93XCJcbiAgICAgICAgICAgICAgICAgICAgc3VmZml4SWNvbj17PFNlYXJjaE91dGxpbmVkIC8+fVxuICAgICAgICAgICAgICAgICAgICBzaG93QXJyb3dcbiAgICAgICAgICAgICAgICAgICAgbmFtZT17YHBhcnRfb3V0YH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0c2VsZWN0ZWRmb3JvdXQoW1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc2VsZWN0ZWRmb3JvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBleHRyYS5hbGxDaGVja2VkTm9kZXNbMF0ubm9kZS5wcm9wcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWlnaWQ6IGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLm1pZ19pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxuYW1lOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLm1vZGVsX2ludmVudG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldG5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMubW9kZWxfaW52ZW50b3J5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/LmFzc2V0Py5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRkYXRhcGF5bG9hZCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRfb3V0X2ludmVudG9yeV9pZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldi5hZGRfb3V0X2ludmVudG9yeV9pZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXtkYXRhc2VsZWN0Zm9yb3V0fVxuICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgPjwvVHJlZVNlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi0yIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZGZvcm91dC5tYXAoKGRvYywgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEFzc2V0SWNvblN2ZyBzaXplPXs1MH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SDI+e2RvYy5tb2RlbG5hbWV9PC9IMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubWlnaWR9L3tkb2MuYXNzZXRuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiIGN1cnNvci1wb2ludGVyIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gWy4uLnNlbGVjdGVkZm9yb3V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHNlbGVjdGVkZm9yb3V0KHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRkYXRhcGF5bG9hZCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZV9vdXRfaW52ZW50b3J5X2lkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldi5yZW1vdmVfb3V0X2ludmVudG9yeV9pZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX291dF9pbnZlbnRvcnlfaWRzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5hZGRfb3V0X2ludmVudG9yeV9pZHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsKSA9PiBmaWwgIT09IGRvYy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2hJY29uU3ZnIHNpemU9ezIwfSBjb2xvcj17YCNCRjRBNDBgfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvRHJhd2VyQ29yZT5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERyYXdlclRhc2tTcGFyZVBhcnRzO1xuIl19 */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/components/drawer/tasks/drawerTaskSpareParts.js */\"\n          }, void 0, false, void 0, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), praloadingin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(_Spin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" mb-2 flex\",\n            children: /*#__PURE__*/_jsxDEV(_Select, {\n              style: {\n                width: `100%`\n              },\n              className: \"dontShow\",\n              suffixIcon: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 33\n              }, this),\n              showArrow: true,\n              placeholder: \"MIG ID, Model\",\n              name: `part_in`,\n              onChange: (value, option) => {\n                setdatapayload(_objectSpread(_objectSpread({}, datapayload), {}, {\n                  add_in_inventories: [...datapayload.add_in_inventories, {\n                    inventory_id: value,\n                    connect_id: 0\n                  }]\n                }));\n                setselectedforin([...selectedforin, option]);\n                console.log(option);\n              },\n              showSearch: true,\n              optionFilterProp: \"children\",\n              notFoundContent: fetchingstate ? /*#__PURE__*/_jsxDEV(_Spin, {\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 39\n              }, this) : null,\n              onSearch: value => {\n                setfetchingstate(true);\n                fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getTaskSparePartList?type=masuk&keyword=${value}`, {\n                  method: `GET`,\n                  headers: {\n                    Authorization: JSON.parse(initProps)\n                  }\n                }).then(res => res.json()).then(res2 => {\n                  setdataselectforin(res2.data);\n                  setfetchingstate(false);\n                });\n              },\n              filterOption: (input, opt) => opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n              children: dataselectforin.map((doc, idx) => /*#__PURE__*/_jsxDEV(_Select.Option, {\n                value: doc.id,\n                migid: doc.mig_id,\n                modelname: doc.model_name,\n                assetname: doc.asset_name,\n                children: [doc.mig_id, \" - \", doc.model_name, \" - \", doc.asset_name]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" mb-2 flex flex-col\",\n            children: selectedforin.map((doc, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" mb-2 flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" mr-2\",\n                  children: /*#__PURE__*/_jsxDEV(AssetIconSvg, {\n                    size: 50\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" flex flex-col\",\n                  children: [/*#__PURE__*/_jsxDEV(H2, {\n                    children: doc.modelname\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Label, {\n                    children: [doc.migid, \"/\", doc.assetname]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(_TreeSelect, {\n                  allowClear: true,\n                  placeholder: \"Pilih Induk\",\n                  style: {\n                    width: `10rem`,\n                    marginRight: `0.5rem`\n                  },\n                  showSearch: true,\n                  suffixIcon: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 39\n                  }, this),\n                  showArrow: true,\n                  defaultValue: doc.connect_id === 0 ? null : doc.connect_id,\n                  name: `parent`,\n                  onChange: value => {\n                    if (typeof value === \"undefined\") {\n                      var temp = [...datapayload.add_in_inventories];\n                      temp[idx].connect_id = 0;\n                      setdatapayload(prev => _objectSpread(_objectSpread({}, prev), {}, {\n                        add_in_inventories: temp\n                      }));\n                    } else {\n                      var temp = [...datapayload.add_in_inventories];\n                      temp[idx].connect_id = value;\n                      setdatapayload(prev => _objectSpread(_objectSpread({}, prev), {}, {\n                        add_in_inventories: temp\n                      }));\n                    }\n                  },\n                  treeData: datainduk,\n                  treeDefaultExpandAll: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" cursor-pointer flex justify-center items-center\",\n                  onClick: () => {\n                    var temp = [...selectedforin];\n                    temp.splice(idx, 1);\n                    setselectedforin(temp);\n                    doc.id ? setdatapayload(prev => _objectSpread(_objectSpread({}, prev), {}, {\n                      remove_in_inventory_ids: [...prev.remove_in_inventory_ids, doc.id]\n                    })) : setdatapayload(prev => _objectSpread(_objectSpread({}, prev), {}, {\n                      add_in_inventories: prev.add_in_inventories.filter(fil => fil.inventory_id !== doc.value)\n                    }));\n                  },\n                  children: /*#__PURE__*/_jsxDEV(TrashIconSvg, {\n                    size: 20,\n                    color: `#BF4A40`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-1737872768\" + \" \" + \"flex mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Suku Cadang Keluar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"jsx-1737872768\" + \" \" + \"spartsout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n            id: \"1737872768\",\n            children: \".spartsout.jsx-1737872768::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL2NvbXBvbmVudHMvZHJhd2VyL3Rhc2tzL2RyYXdlclRhc2tTcGFyZVBhcnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlWaUIsQUFHaUQsWUFDRixVQUNkIiwiZmlsZSI6Ii9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL2NvbXBvbmVudHMvZHJhd2VyL3Rhc2tzL2RyYXdlclRhc2tTcGFyZVBhcnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VhcmNoT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIERhdGVQaWNrZXIsXG4gIFJhZGlvLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFN3aXRjaCxcbiAgVHJlZVNlbGVjdCxcbiAgbm90aWZpY2F0aW9uLFxufSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgQnV0dG9uU3lzIGZyb20gXCIuLi8uLi9idXR0b25cIjtcbmltcG9ydCB7XG4gIEFzc2V0SWNvblN2ZyxcbiAgQ2FsZW5kYXJ0aW1lSWNvblN2ZyxcbiAgQ2lyY2xlWEljb25TdmcsXG4gIFRyYXNoSWNvblN2ZyxcbiAgVXNlckljb25TdmcsXG59IGZyb20gXCIuLi8uLi9pY29uXCI7XG5pbXBvcnQge1xuICBJbnB1dFJlcXVpcmVkLFxuICBTZWxlY3RSZXF1aXJlZCxcbiAgVGV4dEFyZWFOb3RSZXF1aXJlZCxcbn0gZnJvbSBcIi4uLy4uL2lucHV0XCI7XG5pbXBvcnQgeyBIMSwgSDIsIExhYmVsIH0gZnJvbSBcIi4uLy4uL3R5cG9ncmFwaHlcIjtcbmltcG9ydCBEcmF3ZXJDb3JlIGZyb20gXCIuLi9kcmF3ZXJDb3JlXCI7XG5cbmZ1bmN0aW9uIG1vZGlmRGF0YTEoZGF0YWEpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhYS5sZW5ndGg7IGkrKykge1xuICAgIGRhdGFhW2ldW1wia2V5XCJdID0gZGF0YWFbaV0uaWQ7XG4gICAgZGF0YWFbaV1bXCJ2YWx1ZVwiXSA9IGRhdGFhW2ldLmlkO1xuICAgIGRhdGFhW2ldW1widGl0bGVcIl0gPSBkYXRhYVtpXS5taWdfaWQ7XG4gICAgaWYgKGRhdGFhW2ldLmludmVudG9yeV9wYXJ0cykge1xuICAgICAgZGF0YWFbaV1bXCJjaGlsZHJlblwiXSA9IGRhdGFhW2ldLmludmVudG9yeV9wYXJ0cztcbiAgICAgIGRlbGV0ZSBkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHM7XG4gICAgICBtb2RpZkRhdGExKGRhdGFhW2ldLmNoaWxkcmVuKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRhdGFhO1xufVxuZnVuY3Rpb24gbW9kaWZEYXRhMihkYXRhYSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFhLmxlbmd0aDsgaSsrKSB7XG4gICAgZGF0YWFbaV1bXCJrZXlcIl0gPSBkYXRhYVtpXS5pZDtcbiAgICBkYXRhYVtpXVtcInZhbHVlXCJdID0gZGF0YWFbaV0uaWQ7XG4gICAgZGF0YWFbaV1bXG4gICAgICBcInRpdGxlXCJcbiAgICBdID0gYCR7ZGF0YWFbaV0ubWlnX2lkfSAtICR7ZGF0YWFbaV0ubW9kZWxfaW52ZW50b3J5Py5uYW1lfSAtICR7ZGF0YWFbaV0ubW9kZWxfaW52ZW50b3J5Py5hc3NldD8ubmFtZX1gO1xuICAgIGlmIChkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHMpIHtcbiAgICAgIGRhdGFhW2ldW1wiY2hpbGRyZW5cIl0gPSBkYXRhYVtpXS5pbnZlbnRvcnlfcGFydHM7XG4gICAgICBkZWxldGUgZGF0YWFbaV0uaW52ZW50b3J5X3BhcnRzO1xuICAgICAgbW9kaWZEYXRhMihkYXRhYVtpXS5jaGlsZHJlbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhYTtcbn1cblxuY29uc3QgRHJhd2VyVGFza1NwYXJlUGFydHMgPSAoe1xuICB0aXRsZSxcbiAgdmlzaWJsZSxcbiAgb252aXNpYmxlLFxuICBvbkNsb3NlLFxuICBidXR0b25Pa1RleHQsXG4gIGRpc2FibGVkLFxuICBpbml0UHJvcHMsXG4gIGlkdGFzayxcbiAgc2VsZWN0ZWRmb3JpbixcbiAgc2V0c2VsZWN0ZWRmb3JpbixcbiAgc2VsZWN0ZWRmb3JvdXQsXG4gIHNldHNlbGVjdGVkZm9yb3V0LFxuICBwcmV2cGF0aCxcbn0pID0+IHtcbiAgLy91c2VTdGF0ZVxuICBjb25zdCBbZGF0YXBheWxvYWQsIHNldGRhdGFwYXlsb2FkXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogTnVtYmVyKGlkdGFzayksXG4gICAgYWRkX2luX2ludmVudG9yaWVzOiBbXSxcbiAgICByZW1vdmVfaW5faW52ZW50b3J5X2lkczogW10sXG4gICAgYWRkX291dF9pbnZlbnRvcnlfaWRzOiBbXSxcbiAgICByZW1vdmVfb3V0X2ludmVudG9yeV9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2xvYWRpbmdzcGFydCwgc2V0bG9hZGluZ3NwYXJ0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgLy9EQVRBIElOXG4gIGNvbnN0IFtwcmFsb2FkaW5naW4sIHNldHByYWxvYWRpbmdpbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2RhdGFzZWxlY3Rmb3Jpbiwgc2V0ZGF0YXNlbGVjdGZvcmluXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2RhdGFpbmR1aywgc2V0ZGF0YWluZHVrXSA9IHVzZVN0YXRlKFtdKTtcbiAgLy9EQVRBIE9VVFxuICBjb25zdCBbcHJhbG9hZGluZ291dCwgc2V0cHJhbG9hZGluZ291dF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2RhdGFzZWxlY3Rmb3JvdXQsIHNldGRhdGFzZWxlY3Rmb3JvdXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdzdGF0ZSwgc2V0ZmV0Y2hpbmdzdGF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy9oYW5kbGVyXG4gIGNvbnN0IGhhbmRsZVNlbmRTcGFyZVBhcnRzID0gKCkgPT4ge1xuICAgIHNldGxvYWRpbmdzcGFydCh0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vc2VuZEludmVudG9yaWVzVGFza2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YXBheWxvYWQpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ3NwYXJ0KGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG9udmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvdGFza3MvZGV0YWlsLyR7aWR0YXNrfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vdXNlRWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0cHJhbG9hZGluZ2luKHRydWUpO1xuICAgIGZldGNoKFxuICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldFRhc2tTcGFyZVBhcnRMaXN0P3R5cGU9bWFzdWtgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIClcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRkYXRhc2VsZWN0Zm9yaW4ocmVzMi5kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YTIucmVzKTtcblxuICAgICAgICBzZXRwcmFsb2FkaW5naW4oZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRwcmFsb2FkaW5nb3V0KHRydWUpO1xuICAgIGZldGNoKFxuICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldFRhc2tTcGFyZVBhcnRMaXN0P3R5cGU9a2VsdWFyJmlkPSR7aWR0YXNrfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgKVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciBtb2RpZjEgPSBtb2RpZkRhdGExKHJlczIuZGF0YSk7XG4gICAgICAgIHNldGRhdGFpbmR1ayhtb2RpZjEpO1xuICAgICAgICB2YXIgbW9kaWYyID0gbW9kaWZEYXRhMihyZXMyLmRhdGEpO1xuICAgICAgICBzZXRkYXRhc2VsZWN0Zm9yb3V0KG1vZGlmMik7XG4gICAgICAgIHNldHByYWxvYWRpbmdvdXQoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIChcbiAgICA8RHJhd2VyQ29yZVxuICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgdmlzaWJsZT17dmlzaWJsZX1cbiAgICAgIG9uQ2xvc2U9e29uQ2xvc2V9XG4gICAgICBidXR0b25Pa1RleHQ9e2J1dHRvbk9rVGV4dH1cbiAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YXBheWxvYWQsIHNlbGVjdGVkZm9yaW4pO1xuICAgICAgICBoYW5kbGVTZW5kU3BhcmVQYXJ0cygpO1xuICAgICAgfX1cbiAgICAgIC8vIGRpc2FibGVkPXtkaXNhYmxlZGNyZWF0ZX1cbiAgICA+XG4gICAgICB7bG9hZGluZ3NwYXJ0ID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXJlZC01MDAgdGV4dC14cyBpdGFsaWNcIj5cbiAgICAgICAgICAgICAgKkluZm9ybWFzaSBpbmkgaGFydXMgZGlpc2lcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsPlN1a3UgQ2FkYW5nIE1hc3VrPC9MYWJlbD5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3BhcnRzaW5cIj48L3NwYW4+XG4gICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwYXJ0c2luOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3ByYWxvYWRpbmdpbiA/IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItMiBmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMTAwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9udFNob3dcIlxuICAgICAgICAgICAgICAgICAgICBzdWZmaXhJY29uPXs8U2VhcmNoT3V0bGluZWQgLz59XG4gICAgICAgICAgICAgICAgICAgIHNob3dBcnJvd1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1JRyBJRCwgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcGFydF9pbmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGRhdGFwYXlsb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGFwYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkX2luX2ludmVudG9yaWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGFwYXlsb2FkLmFkZF9pbl9pbnZlbnRvcmllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpbnZlbnRvcnlfaWQ6IHZhbHVlLCBjb25uZWN0X2lkOiAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHNlbGVjdGVkZm9yaW4oWy4uLnNlbGVjdGVkZm9yaW4sIG9wdGlvbl0pO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRDb250ZW50PXtcbiAgICAgICAgICAgICAgICAgICAgICBmZXRjaGluZ3N0YXRlID8gPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5nc3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0VGFza1NwYXJlUGFydExpc3Q/dHlwZT1tYXN1ayZrZXl3b3JkPSR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGF0YXNlbGVjdGZvcmluKHJlczIuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5nc3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbj17KGlucHV0LCBvcHQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgb3B0LmNoaWxkcmVuLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PVxuICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7ZGF0YXNlbGVjdGZvcmluLm1hcCgoZG9jLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZG9jLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWlnaWQ9e2RvYy5taWdfaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbG5hbWU9e2RvYy5tb2RlbF9uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRuYW1lPXtkb2MuYXNzZXRfbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1pZ19pZH0gLSB7ZG9jLm1vZGVsX25hbWV9IC0ge2RvYy5hc3NldF9uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi0yIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZGZvcmluLm1hcCgoZG9jLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbXItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QXNzZXRJY29uU3ZnIHNpemU9ezUwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxIMj57ZG9jLm1vZGVsbmFtZX08L0gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5taWdpZH0ve2RvYy5hc3NldG5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEluZHVrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAxMHJlbWAsIG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeEljb249ezxTZWFyY2hPdXRsaW5lZCAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Fycm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmNvbm5lY3RfaWQgPT09IDAgPyBudWxsIDogZG9jLmNvbm5lY3RfaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcGFyZW50YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gWy4uLmRhdGFwYXlsb2FkLmFkZF9pbl9pbnZlbnRvcmllc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0uY29ubmVjdF9pZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkYXRhcGF5bG9hZCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX2luX2ludmVudG9yaWVzOiB0ZW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IFsuLi5kYXRhcGF5bG9hZC5hZGRfaW5faW52ZW50b3JpZXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdLmNvbm5lY3RfaWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRfaW5faW52ZW50b3JpZXM6IHRlbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17ZGF0YWluZHVrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvVHJlZVNlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiIGN1cnNvci1wb2ludGVyIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gWy4uLnNlbGVjdGVkZm9yaW5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0c2VsZWN0ZWRmb3Jpbih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0ZGF0YXBheWxvYWQoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVfaW5faW52ZW50b3J5X2lkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldi5yZW1vdmVfaW5faW52ZW50b3J5X2lkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2V0ZGF0YXBheWxvYWQoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRfaW5faW52ZW50b3JpZXM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmFkZF9pbl9pbnZlbnRvcmllcy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmaWwpID0+IGZpbC5pbnZlbnRvcnlfaWQgIT09IGRvYy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2hJY29uU3ZnIHNpemU9ezIwfSBjb2xvcj17YCNCRjRBNDBgfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsPlN1a3UgQ2FkYW5nIEtlbHVhcjwvTGFiZWw+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNwYXJ0c291dFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BhcnRzb3V0OjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3ByYWxvYWRpbmdvdXQgPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTIgZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNSUcgSUQsIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAxMDAlYCB9fVxuICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbnRTaG93XCJcbiAgICAgICAgICAgICAgICAgICAgc3VmZml4SWNvbj17PFNlYXJjaE91dGxpbmVkIC8+fVxuICAgICAgICAgICAgICAgICAgICBzaG93QXJyb3dcbiAgICAgICAgICAgICAgICAgICAgbmFtZT17YHBhcnRfb3V0YH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0c2VsZWN0ZWRmb3JvdXQoW1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc2VsZWN0ZWRmb3JvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBleHRyYS5hbGxDaGVja2VkTm9kZXNbMF0ubm9kZS5wcm9wcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWlnaWQ6IGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLm1pZ19pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxuYW1lOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLm1vZGVsX2ludmVudG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldG5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMubW9kZWxfaW52ZW50b3J5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/LmFzc2V0Py5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRkYXRhcGF5bG9hZCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRfb3V0X2ludmVudG9yeV9pZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldi5hZGRfb3V0X2ludmVudG9yeV9pZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXtkYXRhc2VsZWN0Zm9yb3V0fVxuICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgPjwvVHJlZVNlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi0yIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZGZvcm91dC5tYXAoKGRvYywgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEFzc2V0SWNvblN2ZyBzaXplPXs1MH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SDI+e2RvYy5tb2RlbG5hbWV9PC9IMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubWlnaWR9L3tkb2MuYXNzZXRuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiIGN1cnNvci1wb2ludGVyIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gWy4uLnNlbGVjdGVkZm9yb3V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHNlbGVjdGVkZm9yb3V0KHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRkYXRhcGF5bG9hZCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZV9vdXRfaW52ZW50b3J5X2lkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldi5yZW1vdmVfb3V0X2ludmVudG9yeV9pZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldGRhdGFwYXlsb2FkKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX291dF9pbnZlbnRvcnlfaWRzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5hZGRfb3V0X2ludmVudG9yeV9pZHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsKSA9PiBmaWwgIT09IGRvYy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2hJY29uU3ZnIHNpemU9ezIwfSBjb2xvcj17YCNCRjRBNDBgfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvRHJhd2VyQ29yZT5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERyYXdlclRhc2tTcGFyZVBhcnRzO1xuIl19 */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/components/drawer/tasks/drawerTaskSpareParts.js */\"\n          }, void 0, false, void 0, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this), praloadingout ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(_Spin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 17\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" mb-2 flex\",\n            children: /*#__PURE__*/_jsxDEV(_TreeSelect, {\n              placeholder: \"MIG ID, Model\",\n              style: {\n                width: `100%`\n              },\n              showSearch: true,\n              className: \"dontShow\",\n              suffixIcon: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 33\n              }, this),\n              showArrow: true,\n              name: `part_out`,\n              onChange: (value, label, extra) => {\n                var _extra$allCheckedNode, _extra$allCheckedNode2, _extra$allCheckedNode3;\n\n                setselectedforout([...selectedforout, {\n                  value: extra.allCheckedNodes[0].node.props.value,\n                  migid: extra.allCheckedNodes[0].node.props.mig_id,\n                  modelname: (_extra$allCheckedNode = extra.allCheckedNodes[0].node.props.model_inventory) === null || _extra$allCheckedNode === void 0 ? void 0 : _extra$allCheckedNode.name,\n                  assetname: (_extra$allCheckedNode2 = extra.allCheckedNodes[0].node.props.model_inventory) === null || _extra$allCheckedNode2 === void 0 ? void 0 : (_extra$allCheckedNode3 = _extra$allCheckedNode2.asset) === null || _extra$allCheckedNode3 === void 0 ? void 0 : _extra$allCheckedNode3.name\n                }]);\n                setdatapayload(prev => _objectSpread(_objectSpread({}, prev), {}, {\n                  add_out_inventory_ids: [...prev.add_out_inventory_ids, value]\n                }));\n              },\n              treeData: dataselectforout,\n              treeDefaultExpandAll: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" mb-2 flex flex-col\",\n            children: selectedforout.map((doc, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" mb-2 flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" mr-2\",\n                  children: /*#__PURE__*/_jsxDEV(AssetIconSvg, {\n                    size: 50\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" flex flex-col\",\n                  children: [/*#__PURE__*/_jsxDEV(H2, {\n                    children: doc.modelname\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Label, {\n                    children: [doc.migid, \"/\", doc.assetname]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" flex items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" cursor-pointer flex justify-center items-center\",\n                  onClick: () => {\n                    var temp = [...selectedforout];\n                    temp.splice(idx, 1);\n                    setselectedforout(temp);\n                    doc.id ? setdatapayload(prev => _objectSpread(_objectSpread({}, prev), {}, {\n                      remove_out_inventory_ids: [...prev.remove_out_inventory_ids, doc.id]\n                    })) : setdatapayload(prev => _objectSpread(_objectSpread({}, prev), {}, {\n                      add_out_inventory_ids: prev.add_out_inventory_ids.filter(fil => fil !== doc.value)\n                    }));\n                  },\n                  children: /*#__PURE__*/_jsxDEV(TrashIconSvg, {\n                    size: 20,\n                    color: `#BF4A40`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n};\n\nexport default DrawerTaskSpareParts;","map":{"version":3,"sources":["/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/components/drawer/tasks/drawerTaskSpareParts.js"],"names":["SearchOutlined","moment","React","useEffect","useState","ButtonSys","AssetIconSvg","CalendartimeIconSvg","CircleXIconSvg","TrashIconSvg","UserIconSvg","InputRequired","SelectRequired","TextAreaNotRequired","H1","H2","Label","DrawerCore","modifData1","dataa","i","length","id","mig_id","inventory_parts","children","modifData2","model_inventory","name","asset","DrawerTaskSpareParts","title","visible","onvisible","onClose","buttonOkText","disabled","initProps","idtask","selectedforin","setselectedforin","selectedforout","setselectedforout","prevpath","datapayload","setdatapayload","Number","add_in_inventories","remove_in_inventory_ids","add_out_inventory_ids","remove_out_inventory_ids","loadingspart","setloadingspart","praloadingin","setpraloadingin","dataselectforin","setdataselectforin","datainduk","setdatainduk","praloadingout","setpraloadingout","dataselectforout","setdataselectforout","fetchingstate","setfetchingstate","handleSendSpareParts","fetch","process","env","NEXT_PUBLIC_BACKEND_URL","method","headers","Authorization","JSON","parse","body","stringify","then","res","json","res2","success","message","duration","window","location","href","data","console","log","data2","modif1","modif2","width","value","option","inventory_id","connect_id","input","opt","toLowerCase","indexOf","map","doc","idx","model_name","asset_name","modelname","migid","assetname","marginRight","temp","prev","splice","filter","fil","label","extra","allCheckedNodes","node","props"],"mappings":"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","sourcesContent":["import { SearchOutlined } from \"@ant-design/icons\";\nimport {\n  DatePicker,\n  Radio,\n  Select,\n  Spin,\n  Switch,\n  TreeSelect,\n  notification,\n} from \"antd\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\n\nimport ButtonSys from \"../../button\";\nimport {\n  AssetIconSvg,\n  CalendartimeIconSvg,\n  CircleXIconSvg,\n  TrashIconSvg,\n  UserIconSvg,\n} from \"../../icon\";\nimport {\n  InputRequired,\n  SelectRequired,\n  TextAreaNotRequired,\n} from \"../../input\";\nimport { H1, H2, Label } from \"../../typography\";\nimport DrawerCore from \"../drawerCore\";\n\nfunction modifData1(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    dataa[i][\"key\"] = dataa[i].id;\n    dataa[i][\"value\"] = dataa[i].id;\n    dataa[i][\"title\"] = dataa[i].mig_id;\n    if (dataa[i].inventory_parts) {\n      dataa[i][\"children\"] = dataa[i].inventory_parts;\n      delete dataa[i].inventory_parts;\n      modifData1(dataa[i].children);\n    }\n  }\n  return dataa;\n}\nfunction modifData2(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    dataa[i][\"key\"] = dataa[i].id;\n    dataa[i][\"value\"] = dataa[i].id;\n    dataa[i][\n      \"title\"\n    ] = `${dataa[i].mig_id} - ${dataa[i].model_inventory?.name} - ${dataa[i].model_inventory?.asset?.name}`;\n    if (dataa[i].inventory_parts) {\n      dataa[i][\"children\"] = dataa[i].inventory_parts;\n      delete dataa[i].inventory_parts;\n      modifData2(dataa[i].children);\n    }\n  }\n  return dataa;\n}\n\nconst DrawerTaskSpareParts = ({\n  title,\n  visible,\n  onvisible,\n  onClose,\n  buttonOkText,\n  disabled,\n  initProps,\n  idtask,\n  selectedforin,\n  setselectedforin,\n  selectedforout,\n  setselectedforout,\n  prevpath,\n}) => {\n  //useState\n  const [datapayload, setdatapayload] = useState({\n    id: Number(idtask),\n    add_in_inventories: [],\n    remove_in_inventory_ids: [],\n    add_out_inventory_ids: [],\n    remove_out_inventory_ids: [],\n  });\n  const [loadingspart, setloadingspart] = useState(false);\n  //DATA IN\n  const [praloadingin, setpraloadingin] = useState(true);\n  const [dataselectforin, setdataselectforin] = useState([]);\n  const [datainduk, setdatainduk] = useState([]);\n  //DATA OUT\n  const [praloadingout, setpraloadingout] = useState(true);\n  const [dataselectforout, setdataselectforout] = useState([]);\n  const [fetchingstate, setfetchingstate] = useState(false);\n\n  //handler\n  const handleSendSpareParts = () => {\n    setloadingspart(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/sendInventoriesTask`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(datapayload),\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        setloadingspart(false);\n        if (res2.success) {\n          onvisible(false);\n          notification[\"success\"]({\n            message: res2.message,\n            duration: 3,\n          });\n          window.location.href = `/tasks/detail/${idtask}`;\n        } else {\n          notification[\"error\"]({\n            message: res2.message,\n            duration: 3,\n          });\n        }\n      });\n  };\n\n  //useEffect\n  useEffect(() => {\n    setpraloadingin(true);\n    fetch(\n      `${process.env.NEXT_PUBLIC_BACKEND_URL}/getTaskSparePartList?type=masuk`,\n      {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps),\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res2) => {\n        setdataselectforin(res2.data);\n        console.log(data2.res);\n\n        setpraloadingin(false);\n      });\n  }, []);\n  useEffect(() => {\n    setpraloadingout(true);\n    fetch(\n      `${process.env.NEXT_PUBLIC_BACKEND_URL}/getTaskSparePartList?type=keluar&id=${idtask}`,\n      {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps),\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res2) => {\n        var modif1 = modifData1(res2.data);\n        setdatainduk(modif1);\n        var modif2 = modifData2(res2.data);\n        setdataselectforout(modif2);\n        setpraloadingout(false);\n      });\n  }, []);\n  return (\n    <DrawerCore\n      title={title}\n      visible={visible}\n      onClose={onClose}\n      buttonOkText={buttonOkText}\n      onClick={() => {\n        console.log(datapayload, selectedforin);\n        handleSendSpareParts();\n      }}\n      // disabled={disabledcreate}\n    >\n      {loadingspart ? (\n        <div className=\" flex w-full items-center justify-center\">\n          <Spin />\n        </div>\n      ) : (\n        <div className=\"flex flex-col\">\n          <div className=\"mb-6\">\n            <p className=\"mb-0 text-red-500 text-xs italic\">\n              *Informasi ini harus diisi\n            </p>\n          </div>\n          <div className=\"flex flex-col mb-6\">\n            <div className=\"flex mb-2\">\n              <Label>Suku Cadang Masuk</Label>\n              <span className=\"spartsin\"></span>\n              <style jsx>\n                {`\n                                .spartsin::before{\n                                    content: '*';\n                                    color: red;\n                                }\n                            `}\n              </style>\n            </div>\n            {praloadingin ? (\n              <>\n                <Spin />\n              </>\n            ) : (\n              <>\n                <div className=\" mb-2 flex\">\n                  <Select\n                    style={{ width: `100%` }}\n                    className=\"dontShow\"\n                    suffixIcon={<SearchOutlined />}\n                    showArrow\n                    placeholder=\"MIG ID, Model\"\n                    name={`part_in`}\n                    onChange={(value, option) => {\n                      setdatapayload({\n                        ...datapayload,\n                        add_in_inventories: [\n                          ...datapayload.add_in_inventories,\n                          { inventory_id: value, connect_id: 0 },\n                        ],\n                      });\n                      setselectedforin([...selectedforin, option]);\n                      console.log(option);\n                    }}\n                    showSearch\n                    optionFilterProp=\"children\"\n                    notFoundContent={\n                      fetchingstate ? <Spin size=\"small\" /> : null\n                    }\n                    onSearch={(value) => {\n                      setfetchingstate(true);\n                      fetch(\n                        `${process.env.NEXT_PUBLIC_BACKEND_URL}/getTaskSparePartList?type=masuk&keyword=${value}`,\n                        {\n                          method: `GET`,\n                          headers: {\n                            Authorization: JSON.parse(initProps),\n                          },\n                        }\n                      )\n                        .then((res) => res.json())\n                        .then((res2) => {\n                          setdataselectforin(res2.data);\n                          setfetchingstate(false);\n                        });\n                    }}\n                    filterOption={(input, opt) =>\n                      opt.children.toLowerCase().indexOf(input.toLowerCase()) >=\n                      0\n                    }\n                  >\n                    {dataselectforin.map((doc, idx) => (\n                      <Select.Option\n                        key={idx}\n                        value={doc.id}\n                        migid={doc.mig_id}\n                        modelname={doc.model_name}\n                        assetname={doc.asset_name}\n                      >\n                        {doc.mig_id} - {doc.model_name} - {doc.asset_name}\n                      </Select.Option>\n                    ))}\n                  </Select>\n                </div>\n                <div className=\" mb-2 flex flex-col\">\n                  {selectedforin.map((doc, idx) => (\n                    <div className=\" mb-2 flex items-center justify-between\">\n                      <div className=\" flex items-center\">\n                        <div className=\" mr-2\">\n                          <AssetIconSvg size={50} />\n                        </div>\n                        <div className=\" flex flex-col\">\n                          <H2>{doc.modelname}</H2>\n                          <Label>\n                            {doc.migid}/{doc.assetname}\n                          </Label>\n                        </div>\n                      </div>\n                      <div className=\" flex items-center\">\n                        <TreeSelect\n                          allowClear\n                          placeholder=\"Pilih Induk\"\n                          style={{ width: `10rem`, marginRight: `0.5rem` }}\n                          showSearch\n                          suffixIcon={<SearchOutlined />}\n                          showArrow\n                          defaultValue={\n                            doc.connect_id === 0 ? null : doc.connect_id\n                          }\n                          name={`parent`}\n                          onChange={(value) => {\n                            if (typeof value === \"undefined\") {\n                              var temp = [...datapayload.add_in_inventories];\n                              temp[idx].connect_id = 0;\n                              setdatapayload((prev) => ({\n                                ...prev,\n                                add_in_inventories: temp,\n                              }));\n                            } else {\n                              var temp = [...datapayload.add_in_inventories];\n                              temp[idx].connect_id = value;\n                              setdatapayload((prev) => ({\n                                ...prev,\n                                add_in_inventories: temp,\n                              }));\n                            }\n                          }}\n                          treeData={datainduk}\n                          treeDefaultExpandAll\n                        ></TreeSelect>\n                        <div\n                          className=\" cursor-pointer flex justify-center items-center\"\n                          onClick={() => {\n                            var temp = [...selectedforin];\n                            temp.splice(idx, 1);\n                            setselectedforin(temp);\n                            doc.id\n                              ? setdatapayload((prev) => ({\n                                  ...prev,\n                                  remove_in_inventory_ids: [\n                                    ...prev.remove_in_inventory_ids,\n                                    doc.id,\n                                  ],\n                                }))\n                              : setdatapayload((prev) => ({\n                                  ...prev,\n                                  add_in_inventories:\n                                    prev.add_in_inventories.filter(\n                                      (fil) => fil.inventory_id !== doc.value\n                                    ),\n                                }));\n                          }}\n                        >\n                          <TrashIconSvg size={20} color={`#BF4A40`} />\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </>\n            )}\n          </div>\n          <div className=\"flex flex-col mb-6\">\n            <div className=\"flex mb-2\">\n              <Label>Suku Cadang Keluar</Label>\n              <span className=\"spartsout\"></span>\n              <style jsx>\n                {`\n                                .spartsout::before{\n                                    content: '*';\n                                    color: red;\n                                }\n                            `}\n              </style>\n            </div>\n            {praloadingout ? (\n              <>\n                <Spin />\n              </>\n            ) : (\n              <>\n                <div className=\" mb-2 flex\">\n                  <TreeSelect\n                    placeholder=\"MIG ID, Model\"\n                    style={{ width: `100%` }}\n                    showSearch\n                    className=\"dontShow\"\n                    suffixIcon={<SearchOutlined />}\n                    showArrow\n                    name={`part_out`}\n                    onChange={(value, label, extra) => {\n                      setselectedforout([\n                        ...selectedforout,\n                        {\n                          value: extra.allCheckedNodes[0].node.props.value,\n                          migid: extra.allCheckedNodes[0].node.props.mig_id,\n                          modelname:\n                            extra.allCheckedNodes[0].node.props.model_inventory\n                              ?.name,\n                          assetname:\n                            extra.allCheckedNodes[0].node.props.model_inventory\n                              ?.asset?.name,\n                        },\n                      ]);\n                      setdatapayload((prev) => ({\n                        ...prev,\n                        add_out_inventory_ids: [\n                          ...prev.add_out_inventory_ids,\n                          value,\n                        ],\n                      }));\n                    }}\n                    treeData={dataselectforout}\n                    treeDefaultExpandAll\n                  ></TreeSelect>\n                </div>\n                <div className=\" mb-2 flex flex-col\">\n                  {selectedforout.map((doc, idx) => (\n                    <div className=\" mb-2 flex items-center justify-between\">\n                      <div className=\" flex items-center\">\n                        <div className=\" mr-2\">\n                          <AssetIconSvg size={50} />\n                        </div>\n                        <div className=\" flex flex-col\">\n                          <H2>{doc.modelname}</H2>\n                          <Label>\n                            {doc.migid}/{doc.assetname}\n                          </Label>\n                        </div>\n                      </div>\n                      <div className=\" flex items-center\">\n                        <div\n                          className=\" cursor-pointer flex justify-center items-center\"\n                          onClick={() => {\n                            var temp = [...selectedforout];\n                            temp.splice(idx, 1);\n                            setselectedforout(temp);\n                            doc.id\n                              ? setdatapayload((prev) => ({\n                                  ...prev,\n                                  remove_out_inventory_ids: [\n                                    ...prev.remove_out_inventory_ids,\n                                    doc.id,\n                                  ],\n                                }))\n                              : setdatapayload((prev) => ({\n                                  ...prev,\n                                  add_out_inventory_ids:\n                                    prev.add_out_inventory_ids.filter(\n                                      (fil) => fil !== doc.value\n                                    ),\n                                }));\n                          }}\n                        >\n                          <TrashIconSvg size={20} color={`#BF4A40`} />\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n    </DrawerCore>\n  );\n};\n\nexport default DrawerTaskSpareParts;\n"]},"metadata":{},"sourceType":"module"}