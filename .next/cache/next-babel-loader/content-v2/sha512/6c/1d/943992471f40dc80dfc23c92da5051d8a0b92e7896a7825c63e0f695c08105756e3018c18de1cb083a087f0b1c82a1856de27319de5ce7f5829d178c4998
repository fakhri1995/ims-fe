{"ast":null,"code":"import _Popconfirm from \"antd/lib/popconfirm\";\nimport _DatePicker from \"antd/lib/date-picker\";\nimport _InputNumber from \"antd/lib/input-number\";\nimport _Input from \"antd/lib/input\";\nimport _TreeSelect from \"antd/lib/tree-select\";\nimport _Spin from \"antd/lib/spin\";\nimport _Button from \"antd/lib/button\";\nimport _notification from \"antd/lib/notification\";\nimport _Timeline from \"antd/lib/timeline\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _Checkbox from \"antd/lib/checkbox\";\nimport _Select from \"antd/lib/select\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _Collapse from \"antd/lib/collapse\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/create/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport { CalendarOutlined, CloseCircleOutlined, PlusSquareTwoTone } from \"@ant-design/icons\";\nimport Modal from \"antd/lib/modal/Modal\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport Sticky from \"wil-react-sticky\";\nimport Layout from \"../../../../components/layout-dashboard\";\nimport st from \"../../../../components/layout-dashboard.module.css\";\nimport httpcookie from \"cookie\";\n\nconst ModelsCreate = ({\n  sidemenu,\n  dataProfile,\n  initProps\n}) => {\n  //1.Init\n  const rt = useRouter();\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  pathArr.splice(3, 1);\n  pathArr[pathArr.length - 1] = \"Tambah Model\";\n\n  const [instanceForm] = _Form.useForm();\n\n  const [instanceForm2] = _Form.useForm();\n\n  const {\n    Panel\n  } = _Collapse; //2.Helper functions\n\n  const renderChildPartModel = item => {\n    return item.map((doc, idx) => {\n      return /*#__PURE__*/_jsxDEV(Children, {\n        doc: doc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 14\n      }, this);\n    });\n  };\n\n  const Children = ({\n    doc\n  }) => {\n    return /*#__PURE__*/_jsxDEV(_Timeline.Item, {\n      children: /*#__PURE__*/_jsxDEV(_Collapse, {\n        accordion: true,\n        children: /*#__PURE__*/_jsxDEV(Panel, {\n          header: doc.name,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jsx-2733278964\" + \" \" + \"flex flex-col p-3\",\n            children: [doc.model_columns.map((docmc2, idx) => {\n              var default2 = {};\n\n              if (docmc2.data_type === \"dropdown\" || docmc2.data_type === \"checkbox\") {\n                default2 = JSON.parse(docmc2.default);\n              }\n\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-2733278964\" + \" \" + \"flex flex-col mb-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"jsx-2733278964\" + \" \" + \"font-semibold mb-1\",\n                  children: [docmc2.name, \" \", docmc2.required ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"jsx-2733278964\" + \" \" + \"judulsn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 27\n                  }, this) : null, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"jsx-2733278964\" + \" \" + \"text-gray-400\",\n                    children: [\"(\", docmc2.data_type === \"single\" ? \"Single Textbox\" : docmc2.data_type.charAt(0).toUpperCase() + docmc2.data_type.slice(1), docmc2.data_type === \"paragraph\" && ` Text`, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-2733278964\" + \" \" + \"w-full flex items-center my-auto px-2\",\n                  children: docmc2.data_type === \"dropdown\" || docmc2.data_type === \"checkbox\" || docmc2.data_type === \"date\" || docmc2.data_type === \"paragraph\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [docmc2.data_type === \"dropdown\" && /*#__PURE__*/_jsxDEV(_Select, {\n                      disabled: true,\n                      style: {\n                        width: `100%`,\n                        backgroundColor: `rgba(229, 231, 235,1)`,\n                        color: `rgba(229, 231, 235,1)`\n                      },\n                      children: default2.opsi.map((doc2, idx2) => /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        disabled: true,\n                        value: idx2,\n                        children: doc2\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 102,\n                        columnNumber: 35\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 31\n                    }, this), docmc2.data_type === \"checkbox\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"w-full flex flex-col\",\n                      children: default2.opsi.map((doc3, idx3) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"jsx-2733278964\" + \" \" + \"flex mb-1\",\n                        children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                          disabled: true,\n                          style: {\n                            marginRight: `0.5rem`\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 112,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"jsx-2733278964\" + \" \" + \"mb-0\",\n                          children: doc3\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 111,\n                        columnNumber: 35\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 31\n                    }, this), docmc2.data_type === \"date\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"flex w-full items-center justify-between rounded bg-gray-100 h-10 px-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"jsx-2733278964\" + \" \" + \"mb-0\",\n                        children: docmc2.default\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"jsx-2733278964\",\n                        children: /*#__PURE__*/_jsxDEV(CalendarOutlined, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 125,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 31\n                    }, this), docmc2.data_type === \"paragraph\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"flex h-20 rounded border bg-gray-100 w-full px-3\",\n                      children: docmc2.default\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-2733278964\" + \" \" + \"rounded border bg-gray-100 flex items-center w-full h-10 px-3\",\n                    children: docmc2.default\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this);\n            }), doc.model_parts.length > 0 && renderChildPartModel(doc.model_parts)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n            id: \"2733278964\",\n            children: \".judulassettype.jsx-2733278964::before{content:'*';color:red;}.judulsn.jsx-2733278964::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBbUppQixBQUd5RSxBQUlBLFlBSEYsQUFJQSxVQUhkLEFBSUEiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL2NyZWF0ZS9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlbGV0ZU91dGxpbmVkIH0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQge1xuICBDYWxlbmRhck91dGxpbmVkLFxuICBDbG9zZUNpcmNsZU91dGxpbmVkLFxuICBQbHVzU3F1YXJlVHdvVG9uZSxcbn0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQge1xuICBCdXR0b24sXG4gIENoZWNrYm94LFxuICBDb2xsYXBzZSxcbiAgRGF0ZVBpY2tlcixcbiAgRW1wdHksXG4gIEZvcm0sXG4gIElucHV0LFxuICBJbnB1dE51bWJlcixcbiAgUG9wY29uZmlybSxcbiAgU2VsZWN0LFxuICBTcGluLFxuICBUaW1lbGluZSxcbiAgVHJlZVNlbGVjdCxcbiAgbm90aWZpY2F0aW9uLFxufSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IE1vZGFsIGZyb20gXCJhbnRkL2xpYi9tb2RhbC9Nb2RhbFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgU3RpY2t5IGZyb20gXCJ3aWwtcmVhY3Qtc3RpY2t5XCI7XG5cbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0LWRhc2hib2FyZFwiO1xuaW1wb3J0IHN0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmQubW9kdWxlLmNzc1wiO1xuaW1wb3J0IGh0dHBjb29raWUgZnJvbSBcImNvb2tpZVwiO1xuXG5jb25zdCBNb2RlbHNDcmVhdGUgPSAoeyBzaWRlbWVudSwgZGF0YVByb2ZpbGUsIGluaXRQcm9wcyB9KSA9PiB7XG4gIC8vMS5Jbml0XG4gIGNvbnN0IHJ0ID0gdXNlUm91dGVyKCk7XG4gIHZhciBwYXRoQXJyID0gcnQucGF0aG5hbWUuc3BsaXQoXCIvXCIpLnNsaWNlKDEpO1xuICBwYXRoQXJyLnNwbGljZSgzLCAxKTtcbiAgcGF0aEFycltwYXRoQXJyLmxlbmd0aCAtIDFdID0gXCJUYW1iYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgQ2hpbGRyZW4gPSAoeyBkb2MgfSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8VGltZWxpbmUuSXRlbT5cbiAgICAgICAgPENvbGxhcHNlIGFjY29yZGlvbj5cbiAgICAgICAgICB7XG4gICAgICAgICAgICA8UGFuZWwgaGVhZGVyPXtkb2MubmFtZX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBwLTNcIj5cbiAgICAgICAgICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5RdWFudGl0eSA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPjwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYmctZ3JheS0yMDAgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gaC0xMiBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5xdWFudGl0eX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICovfVxuICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jMiwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdDIgPSB7fTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQyID0gSlNPTi5wYXJzZShkb2NtYzIuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIubmFtZX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvY21jMi5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAxMDAlYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGByZ2JhKDIyOSwgMjMxLCAyMzUsMSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RlZmF1bHQyLm9wc2kubWFwKChkb2MyLCBpZHgyKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gZGlzYWJsZWQgdmFsdWU9e2lkeDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkZWZhdWx0Mi5vcHNpLm1hcCgoZG9jMywgaWR4MykgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jM308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQgYmctZ3JheS0xMDAgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jbWMyLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgIHJlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgIDwvVGltZWxpbmUuSXRlbT5cbiAgICApO1xuICB9O1xuXG4gIC8vMi51c2VTdGF0ZVxuICBjb25zdCBbbmV3ZGF0YSwgc2V0bmV3ZGF0YV0gPSB1c2VTdGF0ZSh7XG4gICAgYXNzZXRfaWQ6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICBtYW51ZmFjdHVyZXJfaWQ6IG51bGwsXG4gICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgfSk7XG4gIGNvbnN0IFtuZXdkYXRhMiwgc2V0bmV3ZGF0YTJdID0gdXNlU3RhdGUoe1xuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gIH0pO1xuICBjb25zdCBbYXNzZXRkYXRhLCBzZXRhc3NldGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbWFudWZkYXRhLCBzZXRtYW51ZmRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxkYXRhLCBzZXRtb2RlbGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhLCBzZXRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhMiwgc2V0ZmllbGRkYXRhMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhLCBzZXRmaWVsZGRhdGFhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEyLCBzZXRmaWVsZGRhdGFhMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbHBhcnRmaWVsZGRhdGEsIHNldG1vZGVscGFydGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQsIHNldGN1cnJlbnRmaWVsZF0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgZGVmYXVsdDogXCJzaW5nbGVcIixcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pO1xuICBjb25zdCBbY3VycmVudGZpZWxkMiwgc2V0Y3VycmVudGZpZWxkMl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgZGVmYXVsdDogXCJzaW5nbGVcIixcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pO1xuICBjb25zdCBbY3VycmVudGlkbW9kZWwsIHNldGN1cnJlbnRpZG1vZGVsXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYWRkZWRmaWVsZCwgc2V0YWRkZWRmaWVsZF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMSwgc2V0YWRkZWRmaWVsZDFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDIsIHNldGFkZGVkZmllbGQyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQzLCBzZXRhZGRlZGZpZWxkM10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4LCBzZXRhZGRlZGZpZWxkaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4MSwgc2V0YWRkZWRmaWVsZGlkeDFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIxLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDIsIHNldGFkZGVkZmllbGRpZHgyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMiwgc2V0YWRkZWRmaWVsZHRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgzLCBzZXRhZGRlZGZpZWxkaWR4M10gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjMsIHNldGFkZGVkZmllbGR0cmlnZ2VyM10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlLCBzZXRsb2FkaW5nY3JlYXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGVtb2RlbCwgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdnZXRtb2RlbCwgc2V0bG9hZGluZ2dldG1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ByYWxvYWRpbmcsIHNldHByYWxvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYywgc2V0bG9hZGluZ3NwZWNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMyLCBzZXRsb2FkaW5nc3BlYzJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VycmVudGRyb3Bkb3duMiwgc2V0Y3VycmVudGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGRyb3Bkb3dubjIsIHNldGN1cnJlbnRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyM10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIxLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjIsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMywgc2V0aWR4ZHJvcGRvd250cmlnZ2VyM10gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjb25jYXRmaWVsZHRyaWdnZXIsIHNldGNvbmNhdGZpZWxkdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRmaWVsZHRyaWdnZXIyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VkaXRwYXJ0LCBzZXRlZGl0cGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RhbGNyZWF0ZW1vZGVsLCBzZXRtb2RhbGNyZWF0ZW1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld2RhdGF0cmlnZ2VyLCBzZXRuZXdkYXRhdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlcjIsIHNldG5ld2RhdGF0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RlbHRyaWdnZXIsIHNldG1vZGVsdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRwYXJ0dHJpZ2dlciwgc2V0Y29uY2F0cGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHZhbHVlLCBzZXRjb25jYXRwYXJ0dmFsdWVdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYXNzZXR0eXBlY29kZSwgc2V0YXNzZXR0eXBlY29kZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUyLCBzZXRhc3NldHR5cGVjb2RlMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Rpc2FibGVkdGFtYmFoLCBzZXRkaXNhYmxlZHRhbWJhaF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaDIsIHNldGRpc2FibGVkdGFtYmFoMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkLCBzZXRkaXNhYmxlZGFkZGZpZWxkXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZDIsIHNldGRpc2FibGVkYWRkZmllbGQyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkcGFydCwgc2V0ZGlzYWJsZWRhZGRwYXJ0XSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmZXRjaGluZ3BhcnQsIHNldGZldGNoaW5ncGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIC8vY3JlYXRlIG1hbnVmYWN0dXJlclxuICBjb25zdCBbbW9kYWxtYW51Ziwgc2V0bW9kYWxtYW51Zl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nbWFudWYsIHNldGxvYWRpbmdtYW51Zl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZG1hbnVmLCBzZXRkaXNhYmxlZG1hbnVmXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbdHJpZ2dlcm1hbnVmLCBzZXR0cmlnZ2VybWFudWZdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbZGF0YW1hbnVmLCBzZXRkYXRhbWFudWZdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gIH0pO1xuXG4gIC8vMy5vbkNoYW5nZVxuICBjb25zdCBvbkNsaWNrQWRkRmllbGQgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhMihbXG4gICAgICAuLi5maWVsZGRhdGEyLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkMiA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGFhMihbXG4gICAgICAuLi5maWVsZGRhdGFhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQgPSAoaWQpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYXNzZXRfaWQ6IE51bWJlcihpZCkgfSk7XG4gICAgc2V0bG9hZGluZ3NwZWModHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDEoYm9vbCk7XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmlkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGFzc2V0dHlwZWNvZGUocmVzMi5kYXRhLmlkKTtcbiAgICAgICAgICAvLyBzZXRuZXdkYXRhdHJpZ2dlcihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZHBhcnQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tTZWxlY3RBc3NldDIgPSAoaWQpID0+IHtcbiAgICBzZXRsb2FkaW5nc3BlYzIodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgYm9vbCA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9vbC5wdXNoKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRhZGRlZGZpZWxkMyhib29sKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YTIubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIHNldGxvYWRpbmdjcmVhdGUodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgcnQucHVzaChgL2FkbWluL21vZGVscy9kZXRhaWwvJHtyZXMyLmlkfWApO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTW9kZWxpbk1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhMikge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhc3NldF9pZFwiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBOdW1iZXIoYXNzZXR0eXBlY29kZTIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGEyW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTW9kZWwgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TWFudWZhY3R1cmVyc2AsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRtYW51ZmRhdGEocmVzMi5kYXRhKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW3RyaWdnZXJtYW51Zl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwobW9kZWx0cmlnZ2VyKTtcbiAgICAgICAgbW9kZWx0cmlnZ2VyICE9PSBmYWxzZSA/IHNldGVkaXRwYXJ0KHRydWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICB9LCBbbW9kZWx0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlciAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIxICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjFdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIzICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIzXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyM10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEoe1xuICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YS5jb25jYXQoZmllbGRkYXRhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4XSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgxICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDFdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4MV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MyAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgzXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIyICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyMl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhMih7XG4gICAgICAuLi5uZXdkYXRhMixcbiAgICAgIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YWEuY29uY2F0KGZpZWxkZGF0YWEyKSxcbiAgICB9KTtcbiAgfSwgW2NvbmNhdGZpZWxkdHJpZ2dlcjJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDIgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMigocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4Ml0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgyXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhIH0pO1xuICB9LCBbbmV3ZGF0YXRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhIH0pO1xuICB9LCBbbmV3ZGF0YXRyaWdnZXIyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgdGVtcCA9IFtdO1xuICAgIGlmIChjb25jYXRwYXJ0dmFsdWUgIT09IC0xKSB7XG4gICAgICBpZiAoY29uY2F0cGFydHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfcGFydHM6IFtdIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uY2F0cGFydHZhbHVlLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICB2YXIgaWR4dGVtcCA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgIGlmIChpZHh0ZW1wICE9PSAtMSAmJiB0ZW1wW2lkeHRlbXBdW1wiaWRcIl0gPT09IGRvYy5pZCkge1xuICAgICAgICAgICAgdmFyIGlkeG9mID0gdGVtcC5tYXAoKGRvYykgPT4gZG9jLmlkKS5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICB0ZW1wW2lkeG9mXSA9IHtcbiAgICAgICAgICAgICAgLi4udGVtcFtpZHhvZl0sXG4gICAgICAgICAgICAgIHF1YW50aXR5OiB0ZW1wW2lkeG9mXS5xdWFudGl0eSArIGRvYy5xdWFudGl0eSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIGlmIChpZHh0ZW1wID09PSAtMSkge1xuICAgICAgICAgICAgdGVtcC5wdXNoKHtcbiAgICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IGRvYy5xdWFudGl0eSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9wYXJ0czogdGVtcCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRwYXJ0dHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMi5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkaWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RwYXJ0aWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMnBhcnQuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZHBhcnRpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RwYXJ0aWR4KSk7XG4gICAgfVxuICB9LCBbY2RwYXJ0dHJpZ2dlcl0pO1xuXG4gIHJldHVybiAoXG4gICAgPExheW91dFxuICAgICAgc3Q9e3N0fVxuICAgICAgdG9rPXtpbml0UHJvcHN9XG4gICAgICBzaWRlbWVudT17c2lkZW1lbnV9XG4gICAgICBkYXRhUHJvZmlsZT17ZGF0YVByb2ZpbGV9XG4gICAgICBwYXRoQXJyPXtwYXRoQXJyfVxuICAgID5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtYXV0byBncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy00XCJcbiAgICAgICAgaWQ9XCJjcmVhdGVBc3NldHNXcmFwcGVyXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IG1iLThcIj5cbiAgICAgICAgICA8U3RpY2t5IGNvbnRhaW5lclNlbGVjdG9yRm9jdXM9XCIjY3JlYXRlQWdlbnRzV3JhcHBlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tNCBmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTIgcHQtNCBib3JkZXItdC0yIGJvcmRlci1iLTIgYmctd2hpdGVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgcHktMlwiPkZvcm0gVGFtYmFoIE1vZGVsPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvYWRtaW4vbW9kZWxzYH0+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCIgLypvbkNsaWNrPXsoKSA9PiB7IGNvbnNvbGUubG9nKGZpZWxkZGF0YTIpOyBjb25zb2xlLmxvZyhuZXdkYXRhKTsgfX0qL1xuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkfVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2NyZWF0ZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybS5zdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9TdGlja3k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+SW5mb3JtYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAge3ByYWxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxTcGluPjwvU3Bpbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtfVxuICAgICAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWx9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17bmV3ZGF0YX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTEvMTIgbXItMlwiPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIiBsYWJlbD1cIk1hbnVmYWN0dXJlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdtYW51Zn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBwdC0yIG15LWF1dG8gaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsbWFudWYodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgTW9kZWwgQ29uc3VtYWJsZSBkZW5nYW4gc2F0dWFuIGp1bWxhaFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2xvYWRpbmdzcGVjID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMVtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihpZGspICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2NkZCwgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jZGR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2N4eCwgaWR4eCkgPT4gZG9jeHguaWQgIT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGRbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihpZGspICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvY2RkLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2NkZCwgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPSB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT4gaWR4eCAhPT0gZmllbGRkYXRhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkRmllbGR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgVGFtYmFoIFNwZXNpZmlrYXNpIE1vZGVsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtuZXdkYXRhLmlzX2NvbnN1bWFibGUgPT09IGZhbHNlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi04IGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Lb25maWd1cmFzaSBQYXJ0IE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAgICAgICAgICB7bW9kZWxwYXJ0ZmllbGRkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgcGFuZWwke2lkeH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI9ezxzdHJvbmc+e2RvYy5uYW1lfTwvc3Ryb25nPn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBNb2RlbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBkYXJpIE1vZGVsIFBhcnQgJHtuZXdkYXRhLm5hbWV9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEgPSB0ZW1wLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MyKSA9PiBkb2MyLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC5tb2RlbF9wYXJ0c1tpZHhkYXRhXS5xdWFudGl0eSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHNbaWR4ZGF0YV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9wYXJ0cy5zcGxpY2UoaWR4ZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGByZWRgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXQgVHlwZXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsYXNzZXR0eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5hc3NldC5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jLCBpZHhtYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYy5kYXRhX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIG15LWF1dG8gcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy13aGl0ZSBib3JkZXIgdy0zLzEyIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGJnLWdyYXktMTAwIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGltZWxpbmUgc3R5bGU9e3sgbWFyZ2luVG9wOiBgMXJlbWAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UaW1lbGluZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsYXNzZXR0eXBlOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bHNuOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtlZGl0cGFydCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBteS0zIGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC01IHRleHQtbGcgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB4XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGlkbW9kZWx9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctMTEvMTIgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17Y3VycmVudGlkbW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRDb250ZW50PXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoaW5ncGFydCA/IDxTcGluIHNpemU9XCJzbWFsbFwiIC8+IDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS9nZXRNb2RlbHM/cm93cz0xMCZuYW1lPSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgIT09IFwiXCIgPyB2YWx1ZSA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRtb2RlbGRhdGEoW10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNhcmkgbmFtYSBtb2R1bFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb249eyhpbnB1dCwgb3B0KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kZWxkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17ZG9jLmlkfSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdnZXRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke2N1cnJlbnRpZG1vZGVsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAxID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiByZXMyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbcHJvcF0gPSByZXMyLmRhdGFbcHJvcF0ubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtwcm9wXSA9IHJlczIuZGF0YVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcDEgPSBbLi4udGVtcDEsIHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR2YWx1ZShyZXMyLmRhdGEubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dHJpZ2dlcihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEyID0gdGVtcC5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzMpID0+IGRvYzMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGlkbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9wYXJ0cy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhkYXRhMiA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9wYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50aWRtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkeGRhdGEyICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMubWFwKChkb2MxKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jMS5pZCA9PT0gY3VycmVudGlkbW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMS5xdWFudGl0eSA9IGRvYzEucXVhbnRpdHkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkcGFydH1cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICsgVGFtYmFoIFBhcnQgTW9kZWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTsgLypjb25zb2xlLmxvZyhuZXdkYXRhMikqL1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybTIuc3VibWl0fVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGVtb2RlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsY3JlYXRlbW9kZWx9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgbWItOFwiPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm0yfVxuICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImFzc2V0X2lkXCIgbGFiZWw9XCJBc3NldCBUeXBlXCI+XG4gICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld2RhdGEyLmFzc2V0X2lkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5uYW1lfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5tYW51ZmFjdHVyZXJfaWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e25ld2RhdGEyLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi01XCI+XG4gICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEyLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGlzX2NvbnN1bWFibGU6IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5pc19jb25zdW1hYmxlfVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgTW9kZWwgQ29uc3VtYWJsZSBkZW5nYW4gc2F0dWFuIGp1bWxhaFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Gb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgey8qIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdzcGVjMiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYVtpZHhdLnJlcXVpcmVkID8gPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj4gOiBudWxsfSA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj4oe2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCIgPyBcIlNpbmdsZSBUZXh0Ym94XCIgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX0pPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy1mdWxsJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2kgZGliYXdhaCBpbmk8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2NjLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTcgZmxleCBqdXN0aWZ5LWNlbnRlciBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdW1wiZGVmYXVsdFwiXSA9IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fSBkZWZhdWx0VmFsdWU9e2RvY2N9IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9IGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlciBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInBhcmFncmFwaFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYSByb3dzPXs0fSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdW1wiZGVmYXVsdFwiXS5wdXNoKGlkeHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+IHtkb2NjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXIgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBkYXRlU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICB9ICovfVxuICAgICAgICAgIHtsb2FkaW5nc3BlYzIgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhYS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkM1tpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDModGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoZmllbGRkYXRhYVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jeHgsIGlkeHgpID0+IGRvY3h4LmlkICE9PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMyhpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMygocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGFhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MyhpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2ZpZWxkZGF0YWEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQyW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMl07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YWEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkMi5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkRmllbGQyfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTWFudWZhY3R1cmVyPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpOyAvKmNvbnNvbGUubG9nKG5ld2RhdGEyKSovXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRtYW51Zn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRNYW51ZmFjdHVyZXJ9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ21hbnVmfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAgdmlzaWJsZT17bW9kYWxtYW51Zn1cbiAgICAgICAgZm9vdGVyPXtudWxsfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICB3aWR0aD17OTAwfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgIE5hbWEgTWFudWZhY3R1cmVyIDxzcGFuIGNsYXNzTmFtZT1cIm5hbWFtYW51XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHZhbHVlPXtkYXRhbWFudWYubmFtZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBOYW1hIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICA/IHNldGRpc2FibGVkbWFudWYodHJ1ZSlcbiAgICAgICAgICAgICAgICAgIDogc2V0ZGlzYWJsZWRtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0ZGF0YW1hbnVmKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5uYW1hbWFudTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKHsgcmVxLCByZXMgfSkge1xuICB2YXIgaW5pdFByb3BzID0ge307XG4gIGlmICghcmVxLmhlYWRlcnMuY29va2llKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvb2tpZXNKU09OMSA9IGh0dHBjb29raWUucGFyc2UocmVxLmhlYWRlcnMuY29va2llKTtcbiAgaWYgKCFjb29raWVzSlNPTjEudG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaW5pdFByb3BzID0gY29va2llc0pTT04xLnRva2VuO1xuICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZGV0YWlsUHJvZmlsZWAsXG4gICAge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IHJlc2pzb24gPSBhd2FpdCByZXNvdXJjZXMuanNvbigpO1xuICBjb25zdCBkYXRhUHJvZmlsZSA9IHJlc2pzb247XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgaW5pdFByb3BzLFxuICAgICAgZGF0YVByb2ZpbGUsXG4gICAgICBzaWRlbWVudTogXCI4MlwiLFxuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGVsc0NyZWF0ZTtcbiJdfQ== */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/create/index.js */\"\n          }, void 0, false, void 0, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }; //2.useState\n\n\n  const {\n    0: newdata,\n    1: setnewdata\n  } = useState({\n    asset_id: \"\",\n    name: \"\",\n    description: \"\",\n    manufacturer_id: null,\n    required_sn: false,\n    is_consumable: false,\n    model_columns: [],\n    model_parts: []\n  });\n  const {\n    0: newdata2,\n    1: setnewdata2\n  } = useState({\n    asset_id: \"\",\n    name: \"\",\n    description: \"\",\n    manufacturer_id: \"\",\n    required_sn: false,\n    is_consumable: false,\n    model_columns: [],\n    model_parts: []\n  });\n  const {\n    0: assetdata,\n    1: setassetdata\n  } = useState([]);\n  const {\n    0: manufdata,\n    1: setmanufdata\n  } = useState([]);\n  const {\n    0: modeldata,\n    1: setmodeldata\n  } = useState([]);\n  const {\n    0: fielddata,\n    1: setfielddata\n  } = useState([]);\n  const {\n    0: fielddata2,\n    1: setfielddata2\n  } = useState([]);\n  const {\n    0: fielddataa,\n    1: setfielddataa\n  } = useState([]);\n  const {\n    0: fielddataa2,\n    1: setfielddataa2\n  } = useState([]);\n  const {\n    0: modelpartfielddata,\n    1: setmodelpartfielddata\n  } = useState([]);\n  const {\n    0: currentfield,\n    1: setcurrentfield\n  } = useState({\n    name: \"\",\n    data_type: \"\",\n    default: \"single\",\n    required: false\n  });\n  const {\n    0: currentfield2,\n    1: setcurrentfield2\n  } = useState({\n    name: \"\",\n    data_type: \"\",\n    default: \"single\",\n    required: false\n  });\n  const {\n    0: currentidmodel,\n    1: setcurrentidmodel\n  } = useState(\"\");\n  const {\n    0: addedfield,\n    1: setaddedfield\n  } = useState([]);\n  const {\n    0: addedfield1,\n    1: setaddedfield1\n  } = useState([]);\n  const {\n    0: addedfield2,\n    1: setaddedfield2\n  } = useState([]);\n  const {\n    0: addedfield3,\n    1: setaddedfield3\n  } = useState([]);\n  const {\n    0: addedfieldidx,\n    1: setaddedfieldidx\n  } = useState(-1);\n  const {\n    0: addedfieldtrigger,\n    1: setaddedfieldtrigger\n  } = useState(false);\n  const {\n    0: addedfieldidx1,\n    1: setaddedfieldidx1\n  } = useState(-1);\n  const {\n    0: addedfieldtrigger1,\n    1: setaddedfieldtrigger1\n  } = useState(false);\n  const {\n    0: addedfieldidx2,\n    1: setaddedfieldidx2\n  } = useState(-1);\n  const {\n    0: addedfieldtrigger2,\n    1: setaddedfieldtrigger2\n  } = useState(false);\n  const {\n    0: addedfieldidx3,\n    1: setaddedfieldidx3\n  } = useState(-1);\n  const {\n    0: addedfieldtrigger3,\n    1: setaddedfieldtrigger3\n  } = useState(false);\n  const {\n    0: loadingcreate,\n    1: setloadingcreate\n  } = useState(false);\n  const {\n    0: loadingcreatemodel,\n    1: setloadingcreatemodel\n  } = useState(false);\n  const {\n    0: loadinggetmodel,\n    1: setloadinggetmodel\n  } = useState(false);\n  const {\n    0: praloading,\n    1: setpraloading\n  } = useState(true);\n  const {\n    0: loadingspec,\n    1: setloadingspec\n  } = useState(false);\n  const {\n    0: loadingspec2,\n    1: setloadingspec2\n  } = useState(false);\n  const {\n    0: currentdropdown2,\n    1: setcurrentdropdown2\n  } = useState([\"\", \"\"]);\n  const {\n    0: currentdropdownn2,\n    1: setcurrentdropdownn2\n  } = useState([\"\", \"\"]);\n  const {\n    0: currentcheckeddropdown2,\n    1: setcurrentcheckeddropdown2\n  } = useState(\"\");\n  const {\n    0: currentcheckeddropdownn2,\n    1: setcurrentcheckeddropdownn2\n  } = useState(\"\");\n  const {\n    0: valuedropdowntrigger,\n    1: setvaluedropdowntrigger\n  } = useState(false);\n  const {\n    0: valuedropdowntrigger1,\n    1: setvaluedropdowntrigger1\n  } = useState(false);\n  const {\n    0: valuedropdowntrigger2,\n    1: setvaluedropdowntrigger2\n  } = useState(false);\n  const {\n    0: valuedropdowntrigger3,\n    1: setvaluedropdowntrigger3\n  } = useState(false);\n  const {\n    0: idxdropdowntrigger,\n    1: setidxdropdowntrigger\n  } = useState(-1);\n  const {\n    0: idxdropdowntrigger1,\n    1: setidxdropdowntrigger1\n  } = useState(-1);\n  const {\n    0: idxdropdowntrigger2,\n    1: setidxdropdowntrigger2\n  } = useState(-1);\n  const {\n    0: idxdropdowntrigger3,\n    1: setidxdropdowntrigger3\n  } = useState(-1);\n  const {\n    0: concatfieldtrigger,\n    1: setconcatfieldtrigger\n  } = useState(false);\n  const {\n    0: concatfieldtrigger2,\n    1: setconcatfieldtrigger2\n  } = useState(false);\n  const {\n    0: editpart,\n    1: seteditpart\n  } = useState(false);\n  const {\n    0: modalcreatemodel,\n    1: setmodalcreatemodel\n  } = useState(false);\n  const {\n    0: newdatatrigger,\n    1: setnewdatatrigger\n  } = useState(false);\n  const {\n    0: newdatatrigger2,\n    1: setnewdatatrigger2\n  } = useState(false);\n  const {\n    0: modeltrigger,\n    1: setmodeltrigger\n  } = useState(false);\n  const {\n    0: concatparttrigger,\n    1: setconcatparttrigger\n  } = useState(false);\n  const {\n    0: concatpartvalue,\n    1: setconcatpartvalue\n  } = useState(-1);\n  const {\n    0: assettypecode,\n    1: setassettypecode\n  } = useState(\"\");\n  const {\n    0: assettypecode2,\n    1: setassettypecode2\n  } = useState(\"\");\n  const {\n    0: disabledtambah,\n    1: setdisabledtambah\n  } = useState(false);\n  const {\n    0: disabledtambah2,\n    1: setdisabledtambah2\n  } = useState(false);\n  const {\n    0: disabledaddfield,\n    1: setdisabledaddfield\n  } = useState(true);\n  const {\n    0: disabledaddfield2,\n    1: setdisabledaddfield2\n  } = useState(false);\n  const {\n    0: disabledaddpart,\n    1: setdisabledaddpart\n  } = useState(true);\n  const {\n    0: pointevent,\n    1: setpointevent\n  } = useState(\"\");\n  const {\n    0: pointevent2,\n    1: setpointevent2\n  } = useState(\"\");\n  const {\n    0: cd2,\n    1: setcd2\n  } = useState([\"\", \"\"]);\n  const {\n    0: cdidx,\n    1: setcdidx\n  } = useState(-1);\n  const {\n    0: cdtrigger,\n    1: setcdtrigger\n  } = useState(false);\n  const {\n    0: cd2part,\n    1: setcd2part\n  } = useState([\"\", \"\"]);\n  const {\n    0: cdpartidx,\n    1: setcdpartidx\n  } = useState(-1);\n  const {\n    0: cdparttrigger,\n    1: setcdparttrigger\n  } = useState(false);\n  const {\n    0: fetchingpart,\n    1: setfetchingpart\n  } = useState(false); //create manufacturer\n\n  const {\n    0: modalmanuf,\n    1: setmodalmanuf\n  } = useState(false);\n  const {\n    0: loadingmanuf,\n    1: setloadingmanuf\n  } = useState(false);\n  const {\n    0: disabledmanuf,\n    1: setdisabledmanuf\n  } = useState(true);\n  const {\n    0: triggermanuf,\n    1: settriggermanuf\n  } = useState(-1);\n  const {\n    0: datamanuf,\n    1: setdatamanuf\n  } = useState({\n    name: \"\"\n  }); //3.onChange\n\n  const onClickAddField = () => {\n    setfielddata2([...fielddata2, {\n      name: \"\",\n      data_type: \"\",\n      default: \"\",\n      required: false\n    }]);\n    setcurrentfield({\n      name: \"\",\n      data_type: \"\",\n      default: \"\",\n      required: false\n    });\n    setcurrentdropdown2([\"\", \"\"]);\n    setcd2([\"\", \"\"]);\n    setcurrentcheckeddropdown2([]);\n    setdisabledtambah(true);\n    setdisabledaddfield(true);\n    setpointevent(\"pointer-events-none\");\n  };\n\n  const onClickAddField2 = () => {\n    setfielddataa2([...fielddataa2, {\n      name: \"\",\n      data_type: \"\",\n      default: \"\",\n      required: false\n    }]);\n    setcurrentfield2({\n      name: \"\",\n      data_type: \"\",\n      default: \"\",\n      required: false\n    });\n    setcurrentdropdownn2([\"\", \"\"]);\n    setcd2part([\"\", \"\"]);\n    setcurrentcheckeddropdownn2([]);\n    setdisabledtambah2(true);\n    setdisabledaddfield2(true);\n    setpointevent2(\"pointer-events-none\");\n  };\n\n  const onClickSelectAsset = id => {\n    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n      asset_id: Number(id)\n    }));\n    setloadingspec(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getAsset?id=${id}`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      var temp = [];\n\n      if (res2.success) {\n        temp = res2.data.asset_columns.map((doc, idx) => {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              default: JSON.parse(doc.default)\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n        setfielddata(temp);\n        var bool = [];\n\n        for (var i = 0; i < temp.length; i++) {\n          bool.push(true);\n        }\n\n        setaddedfield1(bool);\n        const newfieldmap = newdata.model_columns.filter(docnewfield => typeof docnewfield.id === \"undefined\");\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          model_columns: temp.concat(newfieldmap),\n          required_sn: res2.data.required_sn,\n          asset_id: res2.data.id\n        }));\n        setassettypecode(res2.data.id); // setnewdatatrigger(prev => !prev)\n\n        setloadingspec(false);\n        setdisabledaddfield(false);\n        setdisabledaddpart(false);\n      } else {\n        temp = [];\n        setfielddata(temp);\n        const newfieldmap = newdata.model_columns.filter(docnewfield => typeof docnewfield.id === \"undefined\");\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          model_columns: temp.concat(newfieldmap),\n          required_sn: false,\n          asset_id: 0\n        }));\n        setloadingspec(false);\n      }\n    });\n  };\n\n  const onClickSelectAsset2 = id => {\n    setloadingspec2(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getAsset?id=${id}`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      var temp = [];\n\n      if (res2.success) {\n        temp = res2.data.asset_columns.map((doc, idx) => {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              default: JSON.parse(doc.default)\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n        var bool = [];\n\n        for (var i = 0; i < temp.length; i++) {\n          bool.push(true);\n        }\n\n        setaddedfield3(bool);\n        setfielddataa(temp);\n        const newfieldmap = newdata2.model_columns.filter(docnewfield => typeof docnewfield.id === \"undefined\");\n        setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n          required_sn: res2.data.required_sn,\n          asset_id: res2.data.id,\n          model_columns: temp.concat(newfieldmap)\n        }));\n        setassettypecode2(res2.data.id);\n        setloadingspec2(false);\n        setdisabledaddfield2(false);\n      } else {\n        temp = [];\n        const newfieldmap = newdata2.model_columns.filter(docnewfield => typeof docnewfield.id === \"undefined\");\n        setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n          model_columns: temp.concat(newfieldmap),\n          required_sn: false,\n          asset_id: 0\n        }));\n        setfielddataa(temp);\n        setloadingspec2(false);\n      }\n    });\n  }; //4.handle\n\n\n  const handleCreateModel = () => {\n    var t = {};\n\n    for (var prop in newdata) {\n      if (prop === \"model_columns\") {\n        t[prop] = newdata[prop].map((doc, idx) => {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              default: JSON.stringify(doc.default)\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n      } else if (prop === \"asset_id\") {\n        t[prop] = Number(assettypecode);\n      } else {\n        t[prop] = newdata[prop];\n      }\n    }\n\n    setloadingcreate(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addModel`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(t)\n    }).then(res => res.json()).then(res2 => {\n      setloadingcreate(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: \"Model berhasil ditambahkan\",\n          duration: 3\n        });\n\n        setTimeout(() => {\n          setmodalcreatemodel(false);\n          rt.push(`/admin/models/detail/${res2.id}`);\n        }, 500);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  const handleCreateModelinModel = () => {\n    var t = {};\n\n    for (var prop in newdata2) {\n      if (prop === \"model_columns\") {\n        t[prop] = newdata2[prop].map((doc, idx) => {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              default: JSON.stringify(doc.default)\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n      } else if (prop === \"asset_id\") {\n        t[prop] = Number(assettypecode2);\n      } else {\n        t[prop] = newdata2[prop];\n      }\n    }\n\n    setloadingcreatemodel(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addModel`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(t)\n    }).then(res => res.json()).then(res2 => {\n      setloadingcreatemodel(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: \"Model berhasil ditambahkan\",\n          duration: 3\n        });\n\n        setnewdata2({\n          asset_id: \"\",\n          name: \"\",\n          description: \"\",\n          manufacturer_id: \"\",\n          required_sn: false,\n          model_columns: [],\n          model_parts: []\n        });\n        setmodalcreatemodel(false);\n        seteditpart(false);\n        setmodeltrigger(res2.id);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  const handleAddManufacturer = () => {\n    setloadingmanuf(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addManufacturer`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(datamanuf)\n    }).then(res => res.json()).then(res2 => {\n      setloadingmanuf(false);\n      setmodalmanuf(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: \"Manufacturer berhasil ditambahkan\",\n          duration: 2\n        });\n\n        setdatamanuf(_objectSpread(_objectSpread({}, datamanuf), {}, {\n          name: \"\"\n        }));\n        settriggermanuf(prev => prev + 1);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //5.useEffect\n\n\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getAssets`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setassetdata(res2.data);\n      setpraloading(false);\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getManufacturers`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setmanufdata(res2.data);\n      setpraloading(false);\n    });\n  }, [triggermanuf]);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getModels`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setmodeldata(res2.data.data);\n      setcurrentidmodel(modeltrigger);\n      modeltrigger !== false ? seteditpart(true) : null;\n    });\n  }, [modeltrigger]);\n  useEffect(() => {\n    if (idxdropdowntrigger !== -1) {\n      setfielddata2(prev => {\n        const temp = prev; // temp[idxdropdowntrigger][\"default\"] = `${valuedropdowntrigger}`\n\n        temp[idxdropdowntrigger][\"default\"] = {\n          default: currentcheckeddropdown2,\n          opsi: currentdropdown2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger]);\n  useEffect(() => {\n    if (idxdropdowntrigger1 !== -1) {\n      setfielddata(prev => {\n        const temp = prev; // temp[idxdropdowntrigger][\"default\"] = `${valuedropdowntrigger}`\n\n        temp[idxdropdowntrigger1][\"default\"] = {\n          default: currentcheckeddropdown2,\n          opsi: currentdropdown2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger1]);\n  useEffect(() => {\n    if (idxdropdowntrigger3 !== -1) {\n      setfielddataa(prev => {\n        const temp = prev; // temp[idxdropdowntrigger][\"default\"] = `${valuedropdowntrigger}`\n\n        temp[idxdropdowntrigger3][\"default\"] = {\n          default: currentcheckeddropdownn2,\n          opsi: currentdropdownn2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger3]);\n  useEffect(() => {\n    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n      model_columns: fielddata.concat(fielddata2)\n    }));\n  }, [concatfieldtrigger]);\n  useEffect(() => {\n    if (addedfieldidx !== -1) {\n      setaddedfield(prev => {\n        if (prev[addedfieldidx] === false) {\n          prev[addedfieldidx] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx] === \"undefined\") {\n          const temp2 = [...prev, true];\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger]);\n  useEffect(() => {\n    if (addedfieldidx1 !== -1) {\n      setaddedfield1(prev => {\n        if (prev[addedfieldidx1] === false) {\n          prev[addedfieldidx1] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx1] === \"undefined\") {\n          const temp2 = [...prev, true];\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger1]);\n  useEffect(() => {\n    if (addedfieldidx3 !== -1) {\n      setaddedfield3(prev => {\n        if (prev[addedfieldidx3] === false) {\n          prev[addedfieldidx3] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx3] === \"undefined\") {\n          const temp2 = [...prev, true];\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger3]);\n  useEffect(() => {\n    if (idxdropdowntrigger2 !== -1) {\n      setfielddataa2(prev => {\n        const temp = prev;\n        temp[idxdropdowntrigger2][\"default\"] = {\n          default: currentcheckeddropdownn2,\n          opsi: currentdropdownn2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger2]);\n  useEffect(() => {\n    setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n      model_columns: fielddataa.concat(fielddataa2)\n    }));\n  }, [concatfieldtrigger2]);\n  useEffect(() => {\n    if (addedfieldidx2 !== -1) {\n      setaddedfield2(prev => {\n        if (prev[addedfieldidx2] === false) {\n          prev[addedfieldidx2] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx2] === \"undefined\") {\n          const temp2 = [...prev, true];\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger2]);\n  useEffect(() => {\n    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n      model_columns: fielddata\n    }));\n  }, [newdatatrigger]);\n  useEffect(() => {\n    setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n      model_columns: fielddataa\n    }));\n  }, [newdatatrigger2]);\n  useEffect(() => {\n    var temp = [];\n\n    if (concatpartvalue !== -1) {\n      if (concatpartvalue.length === 0) {\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          model_parts: []\n        }));\n      } else {\n        concatpartvalue.map((doc, idx) => {\n          var idxtemp = temp.map(doc => doc.id).indexOf(doc.id);\n\n          if (idxtemp !== -1 && temp[idxtemp][\"id\"] === doc.id) {\n            var idxof = temp.map(doc => doc.id).indexOf(doc.id);\n            temp[idxof] = _objectSpread(_objectSpread({}, temp[idxof]), {}, {\n              quantity: temp[idxof].quantity + doc.quantity\n            });\n          } else if (idxtemp === -1) {\n            temp.push({\n              id: doc.id,\n              quantity: doc.quantity\n            });\n          }\n        });\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          model_parts: temp\n        }));\n      }\n    }\n  }, [concatparttrigger]);\n  useEffect(() => {\n    if (cdidx !== -1) {\n      setcurrentdropdown2(prev => {\n        return cd2.filter((doc10, idx10) => idx10 !== cdidx);\n      });\n      setcd2(prev => prev.filter((doc11, idx11) => idx11 !== cdidx));\n    }\n  }, [cdtrigger]);\n  useEffect(() => {\n    if (cdpartidx !== -1) {\n      setcurrentdropdownn2(prev => {\n        return cd2part.filter((doc10, idx10) => idx10 !== cdpartidx);\n      });\n      setcd2part(prev => prev.filter((doc11, idx11) => idx11 !== cdpartidx));\n    }\n  }, [cdparttrigger]);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    st: st,\n    tok: initProps,\n    sidemenu: sidemenu,\n    dataProfile: dataProfile,\n    pathArr: pathArr,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-auto grid grid-cols-1 md:grid-cols-4\",\n      id: \"createAssetsWrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" col-span-1 md:col-span-4 mb-8\",\n        children: /*#__PURE__*/_jsxDEV(Sticky, {\n          containerSelectorFocus: \"#createAgentsWrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" col-span-4 flex justify-between p-2 pt-4 border-t-2 border-b-2 bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"font-semibold py-2\",\n              children: \"Form Tambah Model\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 797,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                href: `/admin/models`,\n                children: /*#__PURE__*/_jsxDEV(_Button, {\n                  type: \"default\"\n                  /*onClick={() => { console.log(fielddata2); console.log(newdata); }}*/\n                  ,\n                  children: \"Batal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"primary\",\n                disabled: disabledaddfield,\n                loading: loadingcreate,\n                onClick: instanceForm.submit,\n                children: \"Simpan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 806,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Informasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 820,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 819,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shadow-md border p-8 flex flex-col rounded-md\",\n          children: praloading ? /*#__PURE__*/_jsxDEV(_Spin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Form, {\n            form: instanceForm,\n            layout: \"vertical\",\n            onFinish: handleCreateModel,\n            initialValues: newdata,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n                name: \"asset_id\",\n                label: \"Asset Type\",\n                rules: [{\n                  required: true,\n                  message: \"Asset Type wajib diisi\"\n                }],\n                children: /*#__PURE__*/_jsxDEV(_TreeSelect, {\n                  style: {\n                    marginRight: `1rem`\n                  },\n                  dropdownStyle: {\n                    maxHeight: 400,\n                    overflow: \"auto\"\n                  },\n                  treeData: assetdata,\n                  placeholder: \"Pilih Asset Type\",\n                  treeDefaultExpandAll: true,\n                  onChange: (value, label, extra) => {\n                    if (typeof value !== \"undefined\") {\n                      onClickSelectAsset(extra.allCheckedNodes[0].node.props.id);\n                    } else {\n                      onClickSelectAsset(0);\n                    }\n                  },\n                  allowClear: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 843,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 833,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                name: \"name\",\n                label: \"Nama Model\",\n                rules: [{\n                  required: true,\n                  message: \"Nama Model wajib diisi\"\n                }],\n                children: /*#__PURE__*/_jsxDEV(_Input, {\n                  name: \"name\",\n                  onChange: e => {\n                    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                      name: e.target.value\n                    }));\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 832,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-11/12 mr-2\",\n                children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n                  name: \"manufacturer_id\",\n                  label: \"Manufacturer\",\n                  children: /*#__PURE__*/_jsxDEV(_Select, {\n                    loading: loadingmanuf,\n                    placeholder: \"Pilih Manufacturer\",\n                    onChange: value => {\n                      setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                        manufacturer_id: value\n                      }));\n                    },\n                    name: \"manufacturer_id\",\n                    children: manufdata.map((doc, idx) => {\n                      return /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: doc.id,\n                        children: doc.name\n                      }, idx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 892,\n                        columnNumber: 29\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 882,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 881,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 880,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-1/12 flex pt-2 my-auto items-center justify-center cursor-pointer\",\n                onClick: () => {\n                  setmodalmanuf(true);\n                },\n                children: /*#__PURE__*/_jsxDEV(PlusSquareTwoTone, {\n                  style: {\n                    fontSize: `1.5rem`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 906,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 879,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n              name: \"description\",\n              label: \"Deskripsi\",\n              children: /*#__PURE__*/_jsxDEV(_Input.TextArea, {\n                rows: 4,\n                name: \"description\",\n                onChange: e => {\n                  setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                    description: e.target.value\n                  }));\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 910,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex mb-5\",\n              children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                style: {\n                  marginRight: `0.5rem`\n                },\n                onChange: e => {\n                  setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                    required_sn: e.target.checked\n                  }));\n                },\n                checked: newdata.required_sn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 19\n              }, this), \" \", \"Serial Number wajib ada\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                style: {\n                  marginRight: `0.5rem`\n                },\n                onChange: e => {\n                  setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                    is_consumable: e.target.checked\n                  }));\n                },\n                checked: newdata.is_consumable\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 929,\n                columnNumber: 19\n              }, this), \" \", \"Model Consumable dengan satuan jumlah\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 928,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 826,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 822,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 947,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 946,\n          columnNumber: 11\n        }, this), loadingspec ? /*#__PURE__*/_jsxDEV(_Spin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 950,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: fielddata.map((doc, idx) => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: addedfield1[idx] === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => {\n                  const temp = [...addedfield1];\n                  temp[idx] = false;\n\n                  for (var i = 0; i < temp.length; i++) {\n                    if (i !== idx) {\n                      temp[i] = true;\n                    }\n                  }\n\n                  setaddedfield1(temp);\n                  setcurrentfield(fielddata[idx]);\n\n                  if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                    setcurrentdropdown2(doc.default.opsi);\n                    setcd2(doc.default.opsi);\n                    setcurrentcheckeddropdown2(doc.default.default);\n                  }\n\n                  if (fielddata[idx].data_type !== \"dropdown\" || fielddata[idx].data_type !== \"checkbox\") {\n                    if (fielddata[idx].name !== \"\" && fielddata[idx].data_type !== \"\") {\n                      setdisabledtambah(false);\n                    } else {\n                      setdisabledtambah(true);\n                    }\n                  } else {\n                    if (doc.default.opsi.some(docopsi => docopsi === \"\")) {\n                      setdisabledtambah(true);\n                    } else {\n                      setdisabledtambah(false);\n                    }\n                  }\n\n                  setdisabledaddfield(true);\n                  setpointevent(\"pointer-events-none\");\n                },\n                className: \"jsx-3315758188\" + \" \" + `${pointevent} shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3315758188\" + \" \" + \"font-semibold mb-2\",\n                  children: [doc.name, fielddata[idx].required ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"jsx-3315758188\" + \" \" + \"judulField\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1006,\n                    columnNumber: 29\n                  }, this) : null, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"jsx-3315758188\" + \" \" + \"text-gray-400 text-sm\",\n                    children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && ` Text`, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1008,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1003,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3315758188\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                  children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"paragraph\" || doc.data_type === \"date\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [doc.data_type === \"dropdown\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex flex-col w-full\",\n                      children: doc.default.opsi.map((dok, idk) => {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"jsx-3315758188\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                            disabled: true,\n                            checked: doc.default.default === idk ? true : false,\n                            style: {\n                              marginRight: `0.5rem`\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1031,\n                            columnNumber: 41\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1040,\n                            columnNumber: 41\n                          }, this)]\n                        }, idk, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1027,\n                          columnNumber: 39\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1024,\n                      columnNumber: 33\n                    }, this), doc.data_type === \"checkbox\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex flex-col w-full\",\n                      children: doc.default.opsi.map((dok, idk) => {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"jsx-3315758188\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                            disabled: true,\n                            checked: doc.default.default.indexOf(idk) !== -1 ? true : false,\n                            style: {\n                              marginRight: `0.5rem`\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1054,\n                            columnNumber: 41\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1064,\n                            columnNumber: 41\n                          }, this)]\n                        }, idk, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1050,\n                          columnNumber: 39\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1047,\n                      columnNumber: 33\n                    }, this), doc.data_type === \"date\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex justify-between w-full px-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                        children: doc.default\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1072,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"jsx-3315758188\",\n                        children: /*#__PURE__*/_jsxDEV(CalendarOutlined, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1074,\n                          columnNumber: 37\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1073,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1071,\n                      columnNumber: 33\n                    }, this), doc.data_type === \"paragraph\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex h-20\",\n                      children: doc.default\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1079,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                    children: doc.default\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1083,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1017,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n                  id: \"3315758188\",\n                  children: \".judulField.jsx-3315758188::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOGpDMkIsQUFHcUYsWUFDRixVQUNkIiwiZmlsZSI6Ii9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWxldGVPdXRsaW5lZCB9IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQ2FsZW5kYXJPdXRsaW5lZCxcbiAgQ2xvc2VDaXJjbGVPdXRsaW5lZCxcbiAgUGx1c1NxdWFyZVR3b1RvbmUsXG59IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBDaGVja2JveCxcbiAgQ29sbGFwc2UsXG4gIERhdGVQaWNrZXIsXG4gIEVtcHR5LFxuICBGb3JtLFxuICBJbnB1dCxcbiAgSW5wdXROdW1iZXIsXG4gIFBvcGNvbmZpcm0sXG4gIFNlbGVjdCxcbiAgU3BpbixcbiAgVGltZWxpbmUsXG4gIFRyZWVTZWxlY3QsXG4gIG5vdGlmaWNhdGlvbixcbn0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBNb2RhbCBmcm9tIFwiYW50ZC9saWIvbW9kYWwvTW9kYWxcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzQ3JlYXRlID0gKHsgc2lkZW1lbnUsIGRhdGFQcm9maWxlLCBpbml0UHJvcHMgfSkgPT4ge1xuICAvLzEuSW5pdFxuICBjb25zdCBydCA9IHVzZVJvdXRlcigpO1xuICB2YXIgcGF0aEFyciA9IHJ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcbiAgcGF0aEFyci5zcGxpY2UoMywgMSk7XG4gIHBhdGhBcnJbcGF0aEFyci5sZW5ndGggLSAxXSA9IFwiVGFtYmFoIE1vZGVsXCI7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm1dID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm0yXSA9IEZvcm0udXNlRm9ybSgpO1xuICBjb25zdCB7IFBhbmVsIH0gPSBDb2xsYXBzZTtcblxuICAvLzIuSGVscGVyIGZ1bmN0aW9uc1xuICBjb25zdCByZW5kZXJDaGlsZFBhcnRNb2RlbCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuIGl0ZW0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgcmV0dXJuIDxDaGlsZHJlbiBkb2M9e2RvY30+PC9DaGlsZHJlbj47XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IENoaWxkcmVuID0gKHsgZG9jIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRpbWVsaW5lLkl0ZW0+XG4gICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAge1xuICAgICAgICAgICAgPFBhbmVsIGhlYWRlcj17ZG9jLm5hbWV9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+UXVhbnRpdHkgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj48L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MucXVhbnRpdHl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYzIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdmFyIGRlZmF1bHQyID0ge307XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0MiA9IEpTT04ucGFyc2UoZG9jbWMyLmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkZWZhdWx0Mi5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGVmYXVsdDIub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2Fzc2V0ZGF0YSwgc2V0YXNzZXRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21hbnVmZGF0YSwgc2V0bWFudWZkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVsZGF0YSwgc2V0bW9kZWxkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YSwgc2V0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YTIsIHNldGZpZWxkZGF0YTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYSwgc2V0ZmllbGRkYXRhYV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhMiwgc2V0ZmllbGRkYXRhYTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxwYXJ0ZmllbGRkYXRhLCBzZXRtb2RlbHBhcnRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudGZpZWxkLCBzZXRjdXJyZW50ZmllbGRdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZDIsIHNldGN1cnJlbnRmaWVsZDJdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRpZG1vZGVsLCBzZXRjdXJyZW50aWRtb2RlbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FkZGVkZmllbGQsIHNldGFkZGVkZmllbGRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDEsIHNldGFkZGVkZmllbGQxXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQyLCBzZXRhZGRlZGZpZWxkMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMywgc2V0YWRkZWRmaWVsZDNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeCwgc2V0YWRkZWRmaWVsZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlciwgc2V0YWRkZWRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDEsIHNldGFkZGVkZmllbGRpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMSwgc2V0YWRkZWRmaWVsZHRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgyLCBzZXRhZGRlZGZpZWxkaWR4Ml0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjIsIHNldGFkZGVkZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Mywgc2V0YWRkZWRmaWVsZGlkeDNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIzLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZSwgc2V0bG9hZGluZ2NyZWF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlbW9kZWwsIHNldGxvYWRpbmdjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nZ2V0bW9kZWwsIHNldGxvYWRpbmdnZXRtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmFsb2FkaW5nLCBzZXRwcmFsb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMsIHNldGxvYWRpbmdzcGVjXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjMiwgc2V0bG9hZGluZ3NwZWMyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bjIsIHNldGN1cnJlbnRkcm9wZG93bjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bm4yLCBzZXRjdXJyZW50ZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlciwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMSwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjMsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkZmllbGQyLCBzZXRkaXNhYmxlZGFkZGZpZWxkMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZHBhcnQsIHNldGRpc2FibGVkYWRkcGFydF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQsIHNldHBvaW50ZXZlbnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwb2ludGV2ZW50Miwgc2V0cG9pbnRldmVudDJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjZDIsIHNldGNkMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RpZHgsIHNldGNkaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkdHJpZ2dlciwgc2V0Y2R0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NkMnBhcnQsIHNldGNkMnBhcnRdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2NkcGFydGlkeCwgc2V0Y2RwYXJ0aWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkcGFydHRyaWdnZXIsIHNldGNkcGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvL2NyZWF0ZSBtYW51ZmFjdHVyZXJcbiAgY29uc3QgW21vZGFsbWFudWYsIHNldG1vZGFsbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ21hbnVmLCBzZXRsb2FkaW5nbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRtYW51Ziwgc2V0ZGlzYWJsZWRtYW51Zl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyaWdnZXJtYW51Ziwgc2V0dHJpZ2dlcm1hbnVmXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2RhdGFtYW51Ziwgc2V0ZGF0YW1hbnVmXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICB9KTtcblxuICAvLzMub25DaGFuZ2VcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkID0gKCkgPT4ge1xuICAgIHNldGZpZWxkZGF0YTIoW1xuICAgICAgLi4uZmllbGRkYXRhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICB9KTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgIHZhciBib29sID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib29sLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGFkZGVkZmllbGQxKGJvb2wpO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlKHJlczIuZGF0YS5pZCk7XG4gICAgICAgICAgLy8gc2V0bmV3ZGF0YXRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRwYXJ0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0YXNzZXR0eXBlY29kZTIocmVzMi5kYXRhLmlkKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhMi5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICAuLi5uZXdkYXRhMixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy80LmhhbmRsZVxuICBjb25zdCBoYW5kbGVDcmVhdGVNb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YSkge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNb2RlbCBiZXJoYXNpbCBkaXRhbWJhaGthblwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7cmVzMi5pZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgbW9kZWxfcGFydHM6IFtdLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICBzZXRtb2RlbHRyaWdnZXIocmVzMi5pZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQWRkTWFudWZhY3R1cmVyID0gKCkgPT4ge1xuICAgIHNldGxvYWRpbmdtYW51Zih0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vYWRkTWFudWZhY3R1cmVyYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhbWFudWYpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ21hbnVmKGZhbHNlKTtcbiAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRkYXRhbWFudWYoe1xuICAgICAgICAgICAgLi4uZGF0YW1hbnVmLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXR0cmlnZ2VybWFudWYoKHByZXYpID0+IHByZXYgKyAxKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vNS51c2VFZmZlY3RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0QXNzZXRzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGFzc2V0ZGF0YShyZXMyLmRhdGEpO1xuICAgICAgICBzZXRwcmFsb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1hbnVmYWN0dXJlcnNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bWFudWZkYXRhKHJlczIuZGF0YSk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFt0cmlnZ2VybWFudWZdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKG1vZGVsdHJpZ2dlcik7XG4gICAgICAgIG1vZGVsdHJpZ2dlciAhPT0gZmFsc2UgPyBzZXRlZGl0cGFydCh0cnVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgfSwgW21vZGVsdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEuY29uY2F0KGZpZWxkZGF0YTIpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHggIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHhdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeF0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MSAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgxXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDMgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4M10gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4M10gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfcGFydHM6IHRlbXAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0cGFydHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDIuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMigocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkaWR4KSk7XG4gICAgfVxuICB9LCBbY2R0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkcGFydGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDJwYXJ0LmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RwYXJ0aWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QycGFydCgocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkcGFydGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkcGFydHRyaWdnZXJdKTtcblxuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL2FkbWluL21vZGVsc2B9PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiIC8qb25DbGljaz17KCkgPT4geyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2cobmV3ZGF0YSk7IH19Ki9cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0uc3VibWl0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU3RpY2t5PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkluZm9ybWFzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIHtwcmFsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8U3Bpbj48L1NwaW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybX1cbiAgICAgICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e25ld2RhdGF9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLmlzX2NvbnN1bWFibGV9XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtsb2FkaW5nc3BlYyA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDFbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvY2RkLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jeHgsIGlkeHgpID0+IGRvY3h4LmlkICE9PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7ZmllbGRkYXRhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2NkZCwgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXs8c3Ryb25nPntkb2MubmFtZX08L3N0cm9uZz59XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgTW9kZWwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZGFyaSBNb2RlbCBQYXJ0ICR7bmV3ZGF0YS5uYW1lfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMikgPT4gZG9jMi5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAubW9kZWxfcGFydHNbaWR4ZGF0YV0ucXVhbnRpdHkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX3BhcnRzW2lkeGRhdGFdLnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMuc3BsaWNlKGlkeGRhdGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgcmVkYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0IFR5cGV7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bGFzc2V0dHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MuYXNzZXQubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYywgaWR4bWMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jbWMuZGF0YV90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBteS1hdXRvIHB4LTIgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctd2hpdGUgYm9yZGVyIHctMy8xMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBiZy1ncmF5LTEwMCBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjAgcm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfcGFydHMubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVsaW5lIHN0eWxlPXt7IG1hcmdpblRvcDogYDFyZW1gIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyQ2hpbGRQYXJ0TW9kZWwoZG9jLm1vZGVsX3BhcnRzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGltZWxpbmU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZWRpdHBhcnQgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbXktMyBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtNSB0ZXh0LWxnIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRpZG1vZGVsfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2N1cnJlbnRpZG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaGluZ3BhcnQgPyA8U3BpbiBzaXplPVwic21hbGxcIiAvPiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vZ2V0TW9kZWxzP3Jvd3M9MTAmbmFtZT0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICE9PSBcIlwiID8gdmFsdWUgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0bW9kZWxkYXRhKFtdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3A9XCJjaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGVsZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2RvYy5pZH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nZ2V0bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHtjdXJyZW50aWRtb2RlbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMSA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzMi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W3Byb3BdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbcHJvcF0gPSByZXMyLmRhdGFbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAxID0gWy4uLnRlbXAxLCB0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dmFsdWUocmVzMi5kYXRhLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhMiA9IHRlbXAubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ZGF0YTIgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY3VycmVudGlkbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZHhkYXRhMiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX3BhcnRzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZHBhcnR9XG4gICAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICArIFRhbWJhaCBQYXJ0IE1vZGVsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTW9kZWw8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7IC8qY29uc29sZS5sb2cobmV3ZGF0YTIpKi9cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0yLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlbW9kZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbGNyZWF0ZW1vZGVsfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIG1iLThcIj5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtMn1cbiAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJhc3NldF9pZFwiIGxhYmVsPVwiQXNzZXQgVHlwZVwiPlxuICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5hc3NldF9pZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3ZGF0YTIubmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3ZGF0YTIubWFudWZhY3R1cmVyX2lkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGFhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMltpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDJdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGFhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTsgLypjb25zb2xlLmxvZyhuZXdkYXRhMikqL1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkbWFudWZ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTWFudWZhY3R1cmVyfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdtYW51Zn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsbWFudWZ9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICBOYW1hIE1hbnVmYWN0dXJlciA8c3BhbiBjbGFzc05hbWU9XCJuYW1hbWFudVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17ZGF0YW1hbnVmLm5hbWV9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gTmFtYSBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgPyBzZXRkaXNhYmxlZG1hbnVmKHRydWUpXG4gICAgICAgICAgICAgICAgICA6IHNldGRpc2FibGVkbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldGRhdGFtYW51Zih7IG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmFtYW1hbnU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzIH0pIHtcbiAgdmFyIGluaXRQcm9wcyA9IHt9O1xuICBpZiAoIXJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCBjb29raWVzSlNPTjEgPSBodHRwY29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSk7XG4gIGlmICghY29va2llc0pTT04xLnRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGluaXRQcm9wcyA9IGNvb2tpZXNKU09OMS50b2tlbjtcbiAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2RldGFpbFByb2ZpbGVgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCByZXNqc29uID0gYXdhaXQgcmVzb3VyY2VzLmpzb24oKTtcbiAgY29uc3QgZGF0YVByb2ZpbGUgPSByZXNqc29uO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRQcm9wcyxcbiAgICAgIGRhdGFQcm9maWxlLFxuICAgICAgc2lkZW1lbnU6IFwiODJcIixcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNDcmVhdGU7XG4iXX0= */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/create/index.js */\"\n                }, void 0, false, void 0, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 957,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n                children: /*#__PURE__*/_jsxDEV(_Form, {\n                  layout: \"vertical\",\n                  initialValues: currentfield,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n                      name: \"name\",\n                      label: \"Nama Spesifikasi\",\n                      rules: [{\n                        required: true,\n                        message: \"Nama Spesifikasi wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/_jsxDEV(_Input, {\n                        required: true,\n                        name: \"name\",\n                        onChange: e => {\n                          setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                            name: e.target.value\n                          }));\n\n                          if (e.target.value === \"\") {\n                            setdisabledtambah(true);\n                          } else if (e.target.value !== \"\" && currentfield.data_type !== \"\" && currentdropdown2.every((doca, idxa) => doca !== \"\")) {\n                            setdisabledtambah(false);\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1112,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1102,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                      name: \"data_type\",\n                      label: \"Tipe Field\",\n                      rules: [{\n                        required: true,\n                        message: \"Tipe Field wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/_jsxDEV(_Select, {\n                        placeholder: \"Pilih Tipe Field\",\n                        onChange: value => {\n                          setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                            data_type: value\n                          }));\n\n                          if (value === \"dropdown\" || value === \"checkbox\") {\n                            if (currentdropdown2.every((doca, idxa) => doca !== \"\")) {\n                              setdisabledtambah(false);\n                            } else {\n                              setdisabledtambah(true);\n                            }\n                          } else {\n                            setdisabledtambah(false);\n                          }\n\n                          if (value === \"dropdown\") {\n                            setcurrentcheckeddropdown2(\"\");\n                            setcurrentdropdown2([\"\", \"\"]);\n                            setcd2([\"\", \"\"]);\n                            setdisabledtambah(true);\n                          }\n\n                          if (value === \"checkbox\") {\n                            setcurrentcheckeddropdown2([]);\n                            setcurrentdropdown2([\"\", \"\"]);\n                            setcd2([\"\", \"\"]);\n                            setdisabledtambah(true);\n                          }\n                        },\n                        name: \"data_type\",\n                        children: [/*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"dropdown\",\n                          children: \"Dropdown\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1182,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"number\",\n                          children: \"Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1185,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"paragraph\",\n                          children: \"Paragraph Text\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1188,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"checkbox\",\n                          children: \"Checkbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1191,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"single\",\n                          children: \"Single Textbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1194,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"date\",\n                          children: \"Date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1197,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1144,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1134,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1101,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                    name: \"default\",\n                    label: \"Default\",\n                    children: [currentfield.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                        children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1207,\n                        columnNumber: 33\n                      }, this), currentdropdown2.map((docdd, idxx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/_jsxDEV(_Checkbox, {\n                            checked: currentcheckeddropdown2 === idxx ? true : false,\n                            onChange: e => {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdown2(idxx);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1214,\n                            columnNumber: 39\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1213,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/_jsxDEV(_Input, {\n                            style: {\n                              marginRight: `0.5rem`\n                            },\n                            defaultValue: docdd,\n                            placeholder: `Masukkan opsi ke-${idxx + 1}`,\n                            onChange: e => {\n                              setcurrentdropdown2(prev => {\n                                const temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2(prev => {\n                                const temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdown2.every((doca, idxa) => doca !== \"\") && currentfield.name !== \"\") {\n                                setdisabledtambah(false);\n                              } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                setdisabledtambah(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1228,\n                            columnNumber: 39\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1227,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: () => {\n                            setcurrentdropdown2([]);\n                            setcdtrigger(prev => !prev);\n                            setcdidx(idxx);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(_Button, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1270,\n                            columnNumber: 39\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1262,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1212,\n                        columnNumber: 35\n                      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/_jsxDEV(_Button, {\n                          onClick: () => {\n                            setcurrentdropdown2([...currentdropdown2, \"\"]);\n                            setcd2([...cd2, \"\"]);\n                            setdisabledtambah(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1275,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1274,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1206,\n                      columnNumber: 31\n                    }, this) : null, currentfield.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                        children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1293,\n                        columnNumber: 33\n                      }, this), currentdropdown2.map((docdd, idxx) => {\n                        const idxchecked = currentcheckeddropdown2.includes(idxx);\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex mb-3\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"w-7 flex items-center\",\n                            children: /*#__PURE__*/_jsxDEV(_Checkbox, {\n                              defaultChecked: idxchecked,\n                              onChange: e => {\n                                if (e.target.checked === true) {\n                                  setcurrentcheckeddropdown2(prev => {\n                                    var temp = prev;\n                                    temp.push(idxx);\n                                    return temp;\n                                  });\n                                } else {\n                                  setcurrentcheckeddropdown2(prev => {\n                                    var temp = prev;\n                                    const index = temp.indexOf(idxx);\n                                    temp.splice(index, 1);\n                                    return temp;\n                                  });\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1303,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1302,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"w-10/12 mr-5\",\n                            children: /*#__PURE__*/_jsxDEV(_Input, {\n                              style: {\n                                marginRight: `0.5rem`\n                              },\n                              defaultValue: docdd,\n                              placeholder: `Masukkan opsi ke-${idxx + 1}`,\n                              onChange: e => {\n                                setcurrentdropdown2(prev => {\n                                  const temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n                                setcd2(prev => {\n                                  const temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n\n                                if (e.target.value !== \"\" && currentdropdown2.every((doca, idxa) => doca !== \"\") && currentfield.name !== \"\") {\n                                  setdisabledtambah(false);\n                                } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                  setdisabledtambah(true);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1329,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1328,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"w-1/12 flex justify-around\",\n                            onClick: () => {\n                              setcurrentdropdown2([]);\n                              setcdtrigger(prev => !prev);\n                              setcdidx(idxx);\n                            },\n                            children: /*#__PURE__*/_jsxDEV(_Button, {\n                              type: \"danger\",\n                              children: \"-\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1371,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1363,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1301,\n                          columnNumber: 37\n                        }, this);\n                      }), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/_jsxDEV(_Button, {\n                          onClick: () => {\n                            setcurrentdropdown2([...currentdropdown2, \"\"]);\n                            setcd2([...cd2, \"\"]);\n                            setdisabledtambah(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1377,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1376,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1292,\n                      columnNumber: 31\n                    }, this) : null, currentfield.data_type.toLowerCase() === \"number\" && /*#__PURE__*/_jsxDEV(_InputNumber, {\n                      style: {\n                        width: `30%`\n                      },\n                      defaultValue: fielddata[idx].default,\n                      placeholder: `Masukkan default ${currentfield.name}`,\n                      onChange: value => {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          default: `${value}`\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1394,\n                      columnNumber: 31\n                    }, this), currentfield.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/_jsxDEV(_Input.TextArea, {\n                      rows: 4,\n                      placeholder: `Masukkan default ${currentfield.name}`,\n                      defaultValue: fielddata[idx].default,\n                      onChange: e => {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          default: e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1408,\n                      columnNumber: 31\n                    }, this), currentfield.data_type.toLowerCase() === \"string\" && /*#__PURE__*/_jsxDEV(_Input, {\n                      placeholder: `Masukkan default ${currentfield.name}`,\n                      defaultValue: fielddata[idx].default,\n                      onChange: e => {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          default: e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1422,\n                      columnNumber: 31\n                    }, this), currentfield.data_type.toLowerCase() === \"single\" && /*#__PURE__*/_jsxDEV(_Input, {\n                      placeholder: `Masukkan default ${currentfield.name}`,\n                      defaultValue: fielddata[idx].default,\n                      onChange: e => {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          default: e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1435,\n                      columnNumber: 31\n                    }, this), currentfield.data_type.toLowerCase() === \"date\" && /*#__PURE__*/_jsxDEV(_DatePicker, {\n                      style: {\n                        width: `30%`\n                      },\n                      placeholder: `Masukkan default ${currentfield.name}`,\n                      onChange: (value, dateString) => {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          default: dateString\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1448,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1203,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1460,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex mt-4 justify-end\",\n                    children: [/*#__PURE__*/_jsxDEV(_Popconfirm, {\n                      placement: \"bottom\",\n                      title: `Apakah anda yakin ingin menghapus field ${doc.name === \"\" ? \"ini\" : doc.name}?`,\n                      okText: \"Ya\",\n                      cancelText: \"Tidak\",\n                      onConfirm: () => {\n                        setfielddata(prev => prev.filter((_, idxx) => idxx !== idx));\n                        setnewdata(prev => {\n                          var temp = prev;\n                          temp.model_columns = temp.model_columns.filter((docxx, idxx) => docxx.id !== doc.id);\n                          return temp;\n                        });\n                        setaddedfield1(prev => {\n                          prev.splice(idx, 1);\n                          return prev;\n                        });\n                        setdisabledaddfield(false);\n                        setpointevent(\"\"); // setcurrentdropdown2([\"\", \"\"])\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                        children: /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n                          style: {\n                            fontSize: `1.25rem`\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1491,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1490,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1462,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \" flex items-center mr-4\",\n                      children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                        checked: currentfield.required,\n                        style: {\n                          marginRight: `0.5rem`\n                        },\n                        onChange: e => {\n                          setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                            required: e.target.checked\n                          }));\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1497,\n                        columnNumber: 31\n                      }, this), \" \", \"Required\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1496,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                      type: \"primary\",\n                      disabled: disabledtambah,\n                      onClick: () => {\n                        if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n                          setidxdropdowntrigger1(idx);\n                          setvaluedropdowntrigger1(prev => !prev);\n                        }\n\n                        const temp = fielddata;\n                        temp[idx] = currentfield;\n                        setfielddata(temp);\n                        setaddedfieldidx1(idx);\n                        setaddedfieldtrigger1(prev => !prev);\n                        setconcatfieldtrigger(prev => !prev);\n                        setdisabledaddfield(false);\n                        setpointevent(\"\");\n                      },\n                      children: \"Tambah\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1509,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1461,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1100,\n                  columnNumber: 25\n                }, this)\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1096,\n                columnNumber: 23\n              }, this)\n            }, void 0, false);\n          })\n        }, void 0, false), fielddata2.map((doc, idx) => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: addedfield[idx] === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => {\n                const temp = [...addedfield];\n                temp[idx] = false;\n\n                for (var i = 0; i < temp.length; i++) {\n                  if (i !== idx) {\n                    temp[i] = true;\n                  }\n                }\n\n                setaddedfield(temp);\n                setcurrentfield(fielddata2[idx]);\n\n                if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                  setcurrentdropdown2(doc.default.opsi);\n                  setcd2(doc.default.opsi);\n                  setcurrentcheckeddropdown2(doc.default.default);\n                }\n\n                if (fielddata2[idx].data_type !== \"dropdown\" || fielddata2[idx].data_type !== \"checkbox\") {\n                  if (fielddata2[idx].name !== \"\" && fielddata2[idx].data_type !== \"\") {\n                    setdisabledtambah(false);\n                  } else {\n                    setdisabledtambah(true);\n                  }\n                } else {\n                  if (doc.default.opsi.some(docopsi => docopsi === \"\")) {\n                    setdisabledtambah(true);\n                  } else {\n                    setdisabledtambah(false);\n                  }\n                }\n\n                setdisabledaddfield(true);\n                setpointevent(\"pointer-events-none\");\n              },\n              className: \"jsx-28588772\" + \" \" + `${pointevent} shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"font-semibold mb-2\",\n                children: [doc.name, fielddata2[idx].required ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"jsx-28588772\" + \" \" + \"judulField\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1594,\n                  columnNumber: 25\n                }, this) : null, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"jsx-28588772\" + \" \" + \"text-gray-400 text-sm\",\n                  children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && ` Text`, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1596,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1591,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"paragraph\" || doc.data_type === \"date\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [doc.data_type === \"dropdown\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex flex-col w-full\",\n                    children: doc.default.opsi.map((dok, idk) => {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"jsx-28588772\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                          disabled: true,\n                          checked: doc.default.default === idk ? true : false,\n                          style: {\n                            marginRight: `0.5rem`\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1619,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1628,\n                          columnNumber: 37\n                        }, this)]\n                      }, idk, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1615,\n                        columnNumber: 35\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1612,\n                    columnNumber: 29\n                  }, this), doc.data_type === \"checkbox\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex flex-col w-full\",\n                    children: doc.default.opsi.map((dok, idk) => {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"jsx-28588772\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                          disabled: true,\n                          checked: doc.default.default.indexOf(idk) !== -1 ? true : false,\n                          style: {\n                            marginRight: `0.5rem`\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1642,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1651,\n                          columnNumber: 37\n                        }, this)]\n                      }, idk, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1638,\n                        columnNumber: 35\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1635,\n                    columnNumber: 29\n                  }, this), doc.data_type === \"date\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex justify-between w-full px-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                      children: doc.default\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1659,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-28588772\",\n                      children: /*#__PURE__*/_jsxDEV(CalendarOutlined, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1661,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1660,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1658,\n                    columnNumber: 29\n                  }, this), doc.data_type === \"paragraph\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex h-20\",\n                    children: doc.default\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1666,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                  children: doc.default\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1670,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1605,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n                id: \"28588772\",\n                children: \".judulField.jsx-28588772::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeW9EdUIsQUFHeUUsWUFDRixVQUNkIiwiZmlsZSI6Ii9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWxldGVPdXRsaW5lZCB9IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQ2FsZW5kYXJPdXRsaW5lZCxcbiAgQ2xvc2VDaXJjbGVPdXRsaW5lZCxcbiAgUGx1c1NxdWFyZVR3b1RvbmUsXG59IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBDaGVja2JveCxcbiAgQ29sbGFwc2UsXG4gIERhdGVQaWNrZXIsXG4gIEVtcHR5LFxuICBGb3JtLFxuICBJbnB1dCxcbiAgSW5wdXROdW1iZXIsXG4gIFBvcGNvbmZpcm0sXG4gIFNlbGVjdCxcbiAgU3BpbixcbiAgVGltZWxpbmUsXG4gIFRyZWVTZWxlY3QsXG4gIG5vdGlmaWNhdGlvbixcbn0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBNb2RhbCBmcm9tIFwiYW50ZC9saWIvbW9kYWwvTW9kYWxcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzQ3JlYXRlID0gKHsgc2lkZW1lbnUsIGRhdGFQcm9maWxlLCBpbml0UHJvcHMgfSkgPT4ge1xuICAvLzEuSW5pdFxuICBjb25zdCBydCA9IHVzZVJvdXRlcigpO1xuICB2YXIgcGF0aEFyciA9IHJ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcbiAgcGF0aEFyci5zcGxpY2UoMywgMSk7XG4gIHBhdGhBcnJbcGF0aEFyci5sZW5ndGggLSAxXSA9IFwiVGFtYmFoIE1vZGVsXCI7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm1dID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm0yXSA9IEZvcm0udXNlRm9ybSgpO1xuICBjb25zdCB7IFBhbmVsIH0gPSBDb2xsYXBzZTtcblxuICAvLzIuSGVscGVyIGZ1bmN0aW9uc1xuICBjb25zdCByZW5kZXJDaGlsZFBhcnRNb2RlbCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuIGl0ZW0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgcmV0dXJuIDxDaGlsZHJlbiBkb2M9e2RvY30+PC9DaGlsZHJlbj47XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IENoaWxkcmVuID0gKHsgZG9jIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRpbWVsaW5lLkl0ZW0+XG4gICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAge1xuICAgICAgICAgICAgPFBhbmVsIGhlYWRlcj17ZG9jLm5hbWV9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+UXVhbnRpdHkgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj48L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MucXVhbnRpdHl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYzIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdmFyIGRlZmF1bHQyID0ge307XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0MiA9IEpTT04ucGFyc2UoZG9jbWMyLmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkZWZhdWx0Mi5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGVmYXVsdDIub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2Fzc2V0ZGF0YSwgc2V0YXNzZXRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21hbnVmZGF0YSwgc2V0bWFudWZkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVsZGF0YSwgc2V0bW9kZWxkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YSwgc2V0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YTIsIHNldGZpZWxkZGF0YTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYSwgc2V0ZmllbGRkYXRhYV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhMiwgc2V0ZmllbGRkYXRhYTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxwYXJ0ZmllbGRkYXRhLCBzZXRtb2RlbHBhcnRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudGZpZWxkLCBzZXRjdXJyZW50ZmllbGRdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZDIsIHNldGN1cnJlbnRmaWVsZDJdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRpZG1vZGVsLCBzZXRjdXJyZW50aWRtb2RlbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FkZGVkZmllbGQsIHNldGFkZGVkZmllbGRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDEsIHNldGFkZGVkZmllbGQxXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQyLCBzZXRhZGRlZGZpZWxkMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMywgc2V0YWRkZWRmaWVsZDNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeCwgc2V0YWRkZWRmaWVsZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlciwgc2V0YWRkZWRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDEsIHNldGFkZGVkZmllbGRpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMSwgc2V0YWRkZWRmaWVsZHRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgyLCBzZXRhZGRlZGZpZWxkaWR4Ml0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjIsIHNldGFkZGVkZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Mywgc2V0YWRkZWRmaWVsZGlkeDNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIzLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZSwgc2V0bG9hZGluZ2NyZWF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlbW9kZWwsIHNldGxvYWRpbmdjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nZ2V0bW9kZWwsIHNldGxvYWRpbmdnZXRtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmFsb2FkaW5nLCBzZXRwcmFsb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMsIHNldGxvYWRpbmdzcGVjXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjMiwgc2V0bG9hZGluZ3NwZWMyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bjIsIHNldGN1cnJlbnRkcm9wZG93bjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bm4yLCBzZXRjdXJyZW50ZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlciwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMSwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjMsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkZmllbGQyLCBzZXRkaXNhYmxlZGFkZGZpZWxkMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZHBhcnQsIHNldGRpc2FibGVkYWRkcGFydF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQsIHNldHBvaW50ZXZlbnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwb2ludGV2ZW50Miwgc2V0cG9pbnRldmVudDJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjZDIsIHNldGNkMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RpZHgsIHNldGNkaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkdHJpZ2dlciwgc2V0Y2R0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NkMnBhcnQsIHNldGNkMnBhcnRdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2NkcGFydGlkeCwgc2V0Y2RwYXJ0aWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkcGFydHRyaWdnZXIsIHNldGNkcGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvL2NyZWF0ZSBtYW51ZmFjdHVyZXJcbiAgY29uc3QgW21vZGFsbWFudWYsIHNldG1vZGFsbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ21hbnVmLCBzZXRsb2FkaW5nbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRtYW51Ziwgc2V0ZGlzYWJsZWRtYW51Zl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyaWdnZXJtYW51Ziwgc2V0dHJpZ2dlcm1hbnVmXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2RhdGFtYW51Ziwgc2V0ZGF0YW1hbnVmXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICB9KTtcblxuICAvLzMub25DaGFuZ2VcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkID0gKCkgPT4ge1xuICAgIHNldGZpZWxkZGF0YTIoW1xuICAgICAgLi4uZmllbGRkYXRhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICB9KTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgIHZhciBib29sID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib29sLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGFkZGVkZmllbGQxKGJvb2wpO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlKHJlczIuZGF0YS5pZCk7XG4gICAgICAgICAgLy8gc2V0bmV3ZGF0YXRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRwYXJ0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0YXNzZXR0eXBlY29kZTIocmVzMi5kYXRhLmlkKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhMi5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICAuLi5uZXdkYXRhMixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy80LmhhbmRsZVxuICBjb25zdCBoYW5kbGVDcmVhdGVNb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YSkge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNb2RlbCBiZXJoYXNpbCBkaXRhbWJhaGthblwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7cmVzMi5pZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgbW9kZWxfcGFydHM6IFtdLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICBzZXRtb2RlbHRyaWdnZXIocmVzMi5pZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQWRkTWFudWZhY3R1cmVyID0gKCkgPT4ge1xuICAgIHNldGxvYWRpbmdtYW51Zih0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vYWRkTWFudWZhY3R1cmVyYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhbWFudWYpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ21hbnVmKGZhbHNlKTtcbiAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRkYXRhbWFudWYoe1xuICAgICAgICAgICAgLi4uZGF0YW1hbnVmLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXR0cmlnZ2VybWFudWYoKHByZXYpID0+IHByZXYgKyAxKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vNS51c2VFZmZlY3RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0QXNzZXRzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGFzc2V0ZGF0YShyZXMyLmRhdGEpO1xuICAgICAgICBzZXRwcmFsb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1hbnVmYWN0dXJlcnNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bWFudWZkYXRhKHJlczIuZGF0YSk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFt0cmlnZ2VybWFudWZdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKG1vZGVsdHJpZ2dlcik7XG4gICAgICAgIG1vZGVsdHJpZ2dlciAhPT0gZmFsc2UgPyBzZXRlZGl0cGFydCh0cnVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgfSwgW21vZGVsdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEuY29uY2F0KGZpZWxkZGF0YTIpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHggIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHhdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeF0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MSAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgxXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDMgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4M10gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4M10gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfcGFydHM6IHRlbXAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0cGFydHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDIuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMigocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkaWR4KSk7XG4gICAgfVxuICB9LCBbY2R0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkcGFydGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDJwYXJ0LmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RwYXJ0aWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QycGFydCgocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkcGFydGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkcGFydHRyaWdnZXJdKTtcblxuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL2FkbWluL21vZGVsc2B9PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiIC8qb25DbGljaz17KCkgPT4geyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2cobmV3ZGF0YSk7IH19Ki9cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0uc3VibWl0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU3RpY2t5PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkluZm9ybWFzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIHtwcmFsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8U3Bpbj48L1NwaW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybX1cbiAgICAgICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e25ld2RhdGF9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLmlzX2NvbnN1bWFibGV9XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtsb2FkaW5nc3BlYyA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDFbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvY2RkLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jeHgsIGlkeHgpID0+IGRvY3h4LmlkICE9PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7ZmllbGRkYXRhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2NkZCwgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXs8c3Ryb25nPntkb2MubmFtZX08L3N0cm9uZz59XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgTW9kZWwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZGFyaSBNb2RlbCBQYXJ0ICR7bmV3ZGF0YS5uYW1lfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMikgPT4gZG9jMi5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAubW9kZWxfcGFydHNbaWR4ZGF0YV0ucXVhbnRpdHkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX3BhcnRzW2lkeGRhdGFdLnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMuc3BsaWNlKGlkeGRhdGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgcmVkYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0IFR5cGV7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bGFzc2V0dHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MuYXNzZXQubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYywgaWR4bWMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jbWMuZGF0YV90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBteS1hdXRvIHB4LTIgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctd2hpdGUgYm9yZGVyIHctMy8xMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBiZy1ncmF5LTEwMCBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjAgcm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfcGFydHMubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVsaW5lIHN0eWxlPXt7IG1hcmdpblRvcDogYDFyZW1gIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyQ2hpbGRQYXJ0TW9kZWwoZG9jLm1vZGVsX3BhcnRzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGltZWxpbmU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZWRpdHBhcnQgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbXktMyBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtNSB0ZXh0LWxnIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRpZG1vZGVsfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2N1cnJlbnRpZG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaGluZ3BhcnQgPyA8U3BpbiBzaXplPVwic21hbGxcIiAvPiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vZ2V0TW9kZWxzP3Jvd3M9MTAmbmFtZT0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICE9PSBcIlwiID8gdmFsdWUgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0bW9kZWxkYXRhKFtdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3A9XCJjaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGVsZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2RvYy5pZH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nZ2V0bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHtjdXJyZW50aWRtb2RlbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMSA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzMi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W3Byb3BdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbcHJvcF0gPSByZXMyLmRhdGFbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAxID0gWy4uLnRlbXAxLCB0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dmFsdWUocmVzMi5kYXRhLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhMiA9IHRlbXAubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ZGF0YTIgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY3VycmVudGlkbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZHhkYXRhMiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX3BhcnRzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZHBhcnR9XG4gICAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICArIFRhbWJhaCBQYXJ0IE1vZGVsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTW9kZWw8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7IC8qY29uc29sZS5sb2cobmV3ZGF0YTIpKi9cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0yLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlbW9kZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbGNyZWF0ZW1vZGVsfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIG1iLThcIj5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtMn1cbiAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJhc3NldF9pZFwiIGxhYmVsPVwiQXNzZXQgVHlwZVwiPlxuICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5hc3NldF9pZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3ZGF0YTIubmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3ZGF0YTIubWFudWZhY3R1cmVyX2lkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGFhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMltpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDJdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGFhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTsgLypjb25zb2xlLmxvZyhuZXdkYXRhMikqL1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkbWFudWZ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTWFudWZhY3R1cmVyfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdtYW51Zn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsbWFudWZ9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICBOYW1hIE1hbnVmYWN0dXJlciA8c3BhbiBjbGFzc05hbWU9XCJuYW1hbWFudVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17ZGF0YW1hbnVmLm5hbWV9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gTmFtYSBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgPyBzZXRkaXNhYmxlZG1hbnVmKHRydWUpXG4gICAgICAgICAgICAgICAgICA6IHNldGRpc2FibGVkbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldGRhdGFtYW51Zih7IG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmFtYW1hbnU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzIH0pIHtcbiAgdmFyIGluaXRQcm9wcyA9IHt9O1xuICBpZiAoIXJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCBjb29raWVzSlNPTjEgPSBodHRwY29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSk7XG4gIGlmICghY29va2llc0pTT04xLnRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGluaXRQcm9wcyA9IGNvb2tpZXNKU09OMS50b2tlbjtcbiAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2RldGFpbFByb2ZpbGVgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCByZXNqc29uID0gYXdhaXQgcmVzb3VyY2VzLmpzb24oKTtcbiAgY29uc3QgZGF0YVByb2ZpbGUgPSByZXNqc29uO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRQcm9wcyxcbiAgICAgIGRhdGFQcm9maWxlLFxuICAgICAgc2lkZW1lbnU6IFwiODJcIixcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNDcmVhdGU7XG4iXX0= */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/create/index.js */\"\n              }, void 0, false, void 0, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1545,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n              children: /*#__PURE__*/_jsxDEV(_Form, {\n                layout: \"vertical\",\n                initialValues: currentfield,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n                    name: \"name\",\n                    label: \"Nama Spesifikasi\",\n                    rules: [{\n                      required: true,\n                      message: \"Nama Spesifikasi wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(_Input, {\n                      required: true,\n                      name: \"name\",\n                      onChange: e => {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          name: e.target.value\n                        }));\n\n                        if (e.target.value === \"\") {\n                          setdisabledtambah(true);\n                        } else if (e.target.value !== \"\" && currentfield.data_type !== \"\" && currentdropdown2.every((doca, idxa) => doca !== \"\")) {\n                          setdisabledtambah(false);\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1699,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1689,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                    name: \"data_type\",\n                    label: \"Tipe Field\",\n                    rules: [{\n                      required: true,\n                      message: \"Tipe Field wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(_Select, {\n                      placeholder: \"Pilih Tipe Field\",\n                      onChange: value => {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          data_type: value\n                        }));\n\n                        if (value === \"dropdown\" || value === \"checkbox\") {\n                          if (currentdropdown2.every((doca, idxa) => doca !== \"\")) {\n                            setdisabledtambah(false);\n                          } else {\n                            setdisabledtambah(true);\n                          }\n                        } else {\n                          setdisabledtambah(false);\n                        }\n\n                        if (value === \"dropdown\") {\n                          setcurrentcheckeddropdown2(\"\");\n                          setcurrentdropdown2([\"\", \"\"]);\n                          setcd2([\"\", \"\"]);\n                          setdisabledtambah(true);\n                        }\n\n                        if (value === \"checkbox\") {\n                          setcurrentcheckeddropdown2([]);\n                          setcurrentdropdown2([\"\", \"\"]);\n                          setcd2([\"\", \"\"]);\n                          setdisabledtambah(true);\n                        }\n                      },\n                      name: \"data_type\",\n                      children: [/*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"dropdown\",\n                        children: \"Dropdown\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1769,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"number\",\n                        children: \"Number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1772,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"paragraph\",\n                        children: \"Paragraph Text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1775,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"checkbox\",\n                        children: \"Checkbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1778,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"single\",\n                        children: \"Single Textbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1781,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"date\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1784,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1731,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1721,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1688,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                  name: \"default\",\n                  label: \"Default\",\n                  children: [currentfield.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1791,\n                      columnNumber: 29\n                    }, this), currentdropdown2.map((docdd, idxx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-7 flex items-center\",\n                        children: /*#__PURE__*/_jsxDEV(_Checkbox, {\n                          checked: currentcheckeddropdown2 === idxx ? true : false,\n                          onChange: e => {\n                            if (e.target.checked === true) {\n                              setcurrentcheckeddropdown2(idxx);\n                            }\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1798,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1797,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-10/12 mr-5\",\n                        children: /*#__PURE__*/_jsxDEV(_Input, {\n                          style: {\n                            marginRight: `0.5rem`\n                          },\n                          defaultValue: docdd,\n                          placeholder: `Masukkan opsi ke-${idxx + 1}`,\n                          onChange: e => {\n                            setcurrentdropdown2(prev => {\n                              const temp = prev;\n                              temp[idxx] = e.target.value;\n                              return temp;\n                            });\n                            setcd2(prev => {\n                              const temp = prev;\n                              temp[idxx] = e.target.value;\n                              return temp;\n                            });\n\n                            if (e.target.value !== \"\" && currentdropdown2.every((doca, idxa) => doca !== \"\") && currentfield.name !== \"\") {\n                              setdisabledtambah(false);\n                            } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                              setdisabledtambah(true);\n                            }\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1812,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1811,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-1/12 flex justify-around\",\n                        onClick: () => {\n                          setcurrentdropdown2([]);\n                          setcdtrigger(prev => !prev);\n                          setcdidx(idxx);\n                        },\n                        children: /*#__PURE__*/_jsxDEV(_Button, {\n                          type: \"danger\",\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1852,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1844,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1796,\n                      columnNumber: 31\n                    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/_jsxDEV(_Button, {\n                        onClick: () => {\n                          setcurrentdropdown2([...currentdropdown2, \"\"]);\n                          setcd2([...cd2, \"\"]);\n                          setdisabledtambah(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1857,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1856,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1790,\n                    columnNumber: 27\n                  }, this) : null, currentfield.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1874,\n                      columnNumber: 29\n                    }, this), currentdropdown2.map((docdd, idxx) => {\n                      const idxchecked = currentcheckeddropdown2.includes(idxx);\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/_jsxDEV(_Checkbox, {\n                            defaultChecked: idxchecked,\n                            onChange: e => {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdown2(prev => {\n                                  var temp = prev;\n                                  temp.push(idxx);\n                                  return temp;\n                                });\n                              } else {\n                                setcurrentcheckeddropdown2(prev => {\n                                  var temp = prev;\n                                  const index = temp.indexOf(idxx);\n                                  temp.splice(index, 1);\n                                  return temp;\n                                });\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1884,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1883,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/_jsxDEV(_Input, {\n                            style: {\n                              marginRight: `0.5rem`\n                            },\n                            defaultValue: docdd,\n                            placeholder: `Masukkan opsi ke-${idxx + 1}`,\n                            onChange: e => {\n                              setcurrentdropdown2(prev => {\n                                const temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2(prev => {\n                                const temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdown2.every((doca, idxa) => doca !== \"\") && currentfield.name !== \"\") {\n                                setdisabledtambah(false);\n                              } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                setdisabledtambah(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1905,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1904,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: () => {\n                            setcurrentdropdown2([]);\n                            setcdtrigger(prev => !prev);\n                            setcdidx(idxx);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(_Button, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1947,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1939,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1882,\n                        columnNumber: 33\n                      }, this);\n                    }), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/_jsxDEV(_Button, {\n                        onClick: () => {\n                          setcurrentdropdown2([...currentdropdown2, \"\"]);\n                          setcd2([...cd2, \"\"]);\n                          setdisabledtambah(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1953,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1952,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1873,\n                    columnNumber: 27\n                  }, this) : null, currentfield.data_type.toLowerCase() === \"number\" && /*#__PURE__*/_jsxDEV(_InputNumber, {\n                    style: {\n                      width: `30%`\n                    },\n                    defaultValue: fielddata2[idx].default,\n                    placeholder: `Masukkan default ${currentfield.name}`,\n                    onChange: value => {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        default: `${value}`\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1969,\n                    columnNumber: 27\n                  }, this), currentfield.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/_jsxDEV(_Input.TextArea, {\n                    rows: 4,\n                    placeholder: `Masukkan default ${currentfield.name}`,\n                    defaultValue: fielddata2[idx].default,\n                    onChange: e => {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        default: e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1983,\n                    columnNumber: 27\n                  }, this), currentfield.data_type.toLowerCase() === \"string\" && /*#__PURE__*/_jsxDEV(_Input, {\n                    placeholder: `Masukkan default ${currentfield.name}`,\n                    defaultValue: fielddata2[idx].default,\n                    onChange: e => {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        default: e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1996,\n                    columnNumber: 27\n                  }, this), currentfield.data_type.toLowerCase() === \"single\" && /*#__PURE__*/_jsxDEV(_Input, {\n                    placeholder: `Masukkan default ${currentfield.name}`,\n                    defaultValue: fielddata2[idx].default,\n                    onChange: e => {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        default: e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2008,\n                    columnNumber: 27\n                  }, this), currentfield.data_type.toLowerCase() === \"date\" && /*#__PURE__*/_jsxDEV(_DatePicker, {\n                    style: {\n                      width: `30%`\n                    },\n                    placeholder: `Masukkan default ${currentfield.name}`,\n                    onChange: (value, dateString) => {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        default: dateString\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2020,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1788,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2032,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex mt-4 justify-end\",\n                  children: [/*#__PURE__*/_jsxDEV(_Popconfirm, {\n                    placement: \"bottom\",\n                    title: `Apakah anda yakin ingin menghapus field ${doc.name === \"\" ? \"ini\" : doc.name}?`,\n                    okText: \"Ya\",\n                    cancelText: \"Tidak\",\n                    onConfirm: () => {\n                      setfielddata2(prev => prev.filter((_, idxx) => idxx !== idx));\n                      setnewdata(prev => {\n                        var temp = prev;\n                        temp.model_columns = temp.model_columns.filter((_, idxx) => idxx !== fielddata.length + idx);\n                        return temp;\n                      });\n                      setaddedfield(prev => {\n                        prev.splice(idx, 1);\n                        return prev;\n                      });\n                      setdisabledaddfield(false);\n                      setpointevent(\"\"); // setcurrentdropdown2([\"\", \"\"])\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                      children: /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n                        style: {\n                          fontSize: `1.25rem`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2062,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2061,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2034,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" flex items-center mr-4\",\n                    children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                      checked: currentfield.required,\n                      style: {\n                        marginRight: `0.5rem`\n                      },\n                      onChange: e => {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          required: e.target.checked\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2068,\n                      columnNumber: 27\n                    }, this), \" \", \"Required\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2067,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                    type: \"primary\",\n                    disabled: disabledtambah,\n                    onClick: () => {\n                      if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n                        setidxdropdowntrigger(idx);\n                        setvaluedropdowntrigger(prev => !prev);\n                      }\n\n                      const temp = fielddata2;\n                      temp[idx] = currentfield;\n                      setfielddata2(temp);\n                      setaddedfieldidx(idx);\n                      setaddedfieldtrigger(prev => !prev);\n                      setconcatfieldtrigger(prev => !prev);\n                      setdisabledaddfield(false);\n                      setpointevent(\"\");\n                    },\n                    children: \"Tambah\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2080,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2033,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1687,\n                columnNumber: 21\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1683,\n              columnNumber: 19\n            }, this)\n          }, void 0, false);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full flex justify-center mt-5\",\n          children: /*#__PURE__*/_jsxDEV(_Button, {\n            type: \"dashed\",\n            disabled: disabledaddfield,\n            style: {\n              width: `80%`,\n              height: `4rem`\n            },\n            onClick: onClickAddField,\n            children: \"+ Tambah Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 945,\n        columnNumber: 9\n      }, this), newdata.is_consumable === false && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" mb-8 col-span-1 md:col-span-4 px-5 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Konfigurasi Part Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2124,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2123,\n          columnNumber: 13\n        }, this), modelpartfielddata.length === 0 ? null : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(_Collapse, {\n            accordion: true,\n            children: modelpartfielddata.map((doc, idx) => {\n              return /*#__PURE__*/_jsxDEV(Panel, {\n                id: `panel${idx}`,\n                header: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  className: \"jsx-2733278964\",\n                  children: doc.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2134,\n                  columnNumber: 33\n                }, this),\n                extra: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-2733278964\" + \" \" + \"flex\",\n                  children: /*#__PURE__*/_jsxDEV(_Popconfirm, {\n                    placement: \"bottom\",\n                    title: `Apakah anda yakin ingin menghapus Model ${doc.name === \"\" ? \"ini\" : doc.name} dari Model Part ${newdata.name}?`,\n                    okText: \"Ya\",\n                    cancelText: \"Tidak\",\n                    onConfirm: () => {\n                      setmodelpartfielddata(prev => prev.filter((_, idxx) => idxx !== idx));\n                      setnewdata(prev => {\n                        var temp = prev;\n                        const idxdata = temp.model_parts.map(doc2 => doc2.id).indexOf(doc.id);\n\n                        if (temp.model_parts[idxdata].quantity > 1) {\n                          temp.model_parts[idxdata].quantity -= 1;\n                        } else {\n                          temp.model_parts.splice(idxdata, 1);\n                        }\n\n                        return temp;\n                      });\n                    },\n                    children: /*#__PURE__*/_jsxDEV(CloseCircleOutlined, {\n                      style: {\n                        color: `red`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2162,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2137,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2136,\n                  columnNumber: 27\n                }, this),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-2733278964\" + \" \" + \"flex flex-col p-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-2733278964\" + \" \" + \"flex flex-col mb-5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"jsx-2733278964\" + \" \" + \"font-semibold mb-1\",\n                      children: [\"Asset Type\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"jsx-2733278964\" + \" \" + \"judulassettype\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2171,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2169,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"rounded bg-gray-200 w-full flex items-center my-auto h-12 px-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"jsx-2733278964\" + \" \" + \"mb-0 text-sm\",\n                        children: doc.asset.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2174,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2173,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2168,\n                    columnNumber: 27\n                  }, this), doc.model_columns.map((docmc, idxmc) => {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                        className: \"jsx-2733278964\" + \" \" + \"font-semibold mb-1\",\n                        children: [docmc.name, \" \", docmc.required ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"jsx-2733278964\" + \" \" + \"judulsn\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2183,\n                          columnNumber: 37\n                        }, this) : null, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"jsx-2733278964\" + \" \" + \"text-gray-400\",\n                          children: [\"(\", docmc.data_type === \"single\" ? \"Single Textbox\" : docmc.data_type.charAt(0).toUpperCase() + docmc.data_type.slice(1), docmc.data_type === \"paragraph\" && ` Text`, \")\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2185,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2180,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"jsx-2733278964\" + \" \" + \"w-full flex flex-col justify-center my-auto px-2 py-1\",\n                        children: docmc.data_type === \"dropdown\" || docmc.data_type === \"checkbox\" || docmc.data_type === \"paragraph\" || docmc.data_type === \"date\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [docmc.data_type === \"dropdown\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: docmc.default.opsi.map((docopsi, idxopsi) => /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"jsx-2733278964\" + \" \" + \"rounded bg-white border w-3/12 flex items-center my-auto px-2 py-1 mb-1\",\n                              children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                                disabled: true,\n                                checked: idxopsi === docmc.default.default,\n                                style: {\n                                  marginRight: `0.5rem`\n                                }\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2211,\n                                columnNumber: 49\n                              }, this), docopsi]\n                            }, idxopsi, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2207,\n                              columnNumber: 47\n                            }, this))\n                          }, void 0, false), docmc.data_type === \"checkbox\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: docmc.default.opsi.map((docopsi, idxopsi) => /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"jsx-2733278964\" + \" \" + \"rounded w-full flex items-center my-auto px-2 py-1 mb-1\",\n                              children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                                disabled: true,\n                                checked: idxopsi === docmc.default.default,\n                                style: {\n                                  marginRight: `0.5rem`\n                                }\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2235,\n                                columnNumber: 49\n                              }, this), docopsi]\n                            }, idxopsi, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2231,\n                              columnNumber: 47\n                            }, this))\n                          }, void 0, false), docmc.data_type === \"date\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"jsx-2733278964\" + \" \" + \"flex w-full items-center bg-gray-100 justify-between rounded h-10 px-3\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"jsx-2733278964\" + \" \" + \"mb-0\",\n                              children: docmc.default\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2253,\n                              columnNumber: 43\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"jsx-2733278964\",\n                              children: /*#__PURE__*/_jsxDEV(CalendarOutlined, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2257,\n                                columnNumber: 45\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2256,\n                              columnNumber: 43\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2252,\n                            columnNumber: 41\n                          }, this), docmc.data_type === \"paragraph\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"jsx-2733278964\" + \" \" + \"flex h-20 rounded border bg-gray-100 w-full px-3\",\n                            children: docmc.default\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2262,\n                            columnNumber: 41\n                          }, this)]\n                        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"jsx-2733278964\" + \" \" + \"rounded border bg-gray-100 flex items-center w-full h-10 px-3\",\n                          children: docmc.default\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2268,\n                          columnNumber: 37\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2197,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2179,\n                      columnNumber: 31\n                    }, this);\n                  }), doc.model_parts.length === 0 ? null : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(_Timeline, {\n                      style: {\n                        marginTop: `1rem`\n                      },\n                      children: renderChildPartModel(doc.model_parts)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2278,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2167,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n                  id: \"2733278964\",\n                  children: \".judulassettype.jsx-2733278964::before{content:'*';color:red;}.judulsn.jsx-2733278964::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNHVFMkIsQUFHeUUsQUFJQSxZQUhGLEFBSUEsVUFIZCxBQUlBIiwiZmlsZSI6Ii9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWxldGVPdXRsaW5lZCB9IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQ2FsZW5kYXJPdXRsaW5lZCxcbiAgQ2xvc2VDaXJjbGVPdXRsaW5lZCxcbiAgUGx1c1NxdWFyZVR3b1RvbmUsXG59IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBDaGVja2JveCxcbiAgQ29sbGFwc2UsXG4gIERhdGVQaWNrZXIsXG4gIEVtcHR5LFxuICBGb3JtLFxuICBJbnB1dCxcbiAgSW5wdXROdW1iZXIsXG4gIFBvcGNvbmZpcm0sXG4gIFNlbGVjdCxcbiAgU3BpbixcbiAgVGltZWxpbmUsXG4gIFRyZWVTZWxlY3QsXG4gIG5vdGlmaWNhdGlvbixcbn0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBNb2RhbCBmcm9tIFwiYW50ZC9saWIvbW9kYWwvTW9kYWxcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzQ3JlYXRlID0gKHsgc2lkZW1lbnUsIGRhdGFQcm9maWxlLCBpbml0UHJvcHMgfSkgPT4ge1xuICAvLzEuSW5pdFxuICBjb25zdCBydCA9IHVzZVJvdXRlcigpO1xuICB2YXIgcGF0aEFyciA9IHJ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcbiAgcGF0aEFyci5zcGxpY2UoMywgMSk7XG4gIHBhdGhBcnJbcGF0aEFyci5sZW5ndGggLSAxXSA9IFwiVGFtYmFoIE1vZGVsXCI7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm1dID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm0yXSA9IEZvcm0udXNlRm9ybSgpO1xuICBjb25zdCB7IFBhbmVsIH0gPSBDb2xsYXBzZTtcblxuICAvLzIuSGVscGVyIGZ1bmN0aW9uc1xuICBjb25zdCByZW5kZXJDaGlsZFBhcnRNb2RlbCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuIGl0ZW0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgcmV0dXJuIDxDaGlsZHJlbiBkb2M9e2RvY30+PC9DaGlsZHJlbj47XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IENoaWxkcmVuID0gKHsgZG9jIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRpbWVsaW5lLkl0ZW0+XG4gICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAge1xuICAgICAgICAgICAgPFBhbmVsIGhlYWRlcj17ZG9jLm5hbWV9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+UXVhbnRpdHkgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj48L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MucXVhbnRpdHl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYzIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdmFyIGRlZmF1bHQyID0ge307XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0MiA9IEpTT04ucGFyc2UoZG9jbWMyLmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkZWZhdWx0Mi5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGVmYXVsdDIub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2Fzc2V0ZGF0YSwgc2V0YXNzZXRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21hbnVmZGF0YSwgc2V0bWFudWZkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVsZGF0YSwgc2V0bW9kZWxkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YSwgc2V0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YTIsIHNldGZpZWxkZGF0YTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYSwgc2V0ZmllbGRkYXRhYV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhMiwgc2V0ZmllbGRkYXRhYTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxwYXJ0ZmllbGRkYXRhLCBzZXRtb2RlbHBhcnRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudGZpZWxkLCBzZXRjdXJyZW50ZmllbGRdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZDIsIHNldGN1cnJlbnRmaWVsZDJdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRpZG1vZGVsLCBzZXRjdXJyZW50aWRtb2RlbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FkZGVkZmllbGQsIHNldGFkZGVkZmllbGRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDEsIHNldGFkZGVkZmllbGQxXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQyLCBzZXRhZGRlZGZpZWxkMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMywgc2V0YWRkZWRmaWVsZDNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeCwgc2V0YWRkZWRmaWVsZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlciwgc2V0YWRkZWRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDEsIHNldGFkZGVkZmllbGRpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMSwgc2V0YWRkZWRmaWVsZHRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgyLCBzZXRhZGRlZGZpZWxkaWR4Ml0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjIsIHNldGFkZGVkZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Mywgc2V0YWRkZWRmaWVsZGlkeDNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIzLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZSwgc2V0bG9hZGluZ2NyZWF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlbW9kZWwsIHNldGxvYWRpbmdjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nZ2V0bW9kZWwsIHNldGxvYWRpbmdnZXRtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmFsb2FkaW5nLCBzZXRwcmFsb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMsIHNldGxvYWRpbmdzcGVjXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjMiwgc2V0bG9hZGluZ3NwZWMyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bjIsIHNldGN1cnJlbnRkcm9wZG93bjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bm4yLCBzZXRjdXJyZW50ZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlciwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMSwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjMsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkZmllbGQyLCBzZXRkaXNhYmxlZGFkZGZpZWxkMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZHBhcnQsIHNldGRpc2FibGVkYWRkcGFydF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQsIHNldHBvaW50ZXZlbnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwb2ludGV2ZW50Miwgc2V0cG9pbnRldmVudDJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjZDIsIHNldGNkMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RpZHgsIHNldGNkaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkdHJpZ2dlciwgc2V0Y2R0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NkMnBhcnQsIHNldGNkMnBhcnRdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2NkcGFydGlkeCwgc2V0Y2RwYXJ0aWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkcGFydHRyaWdnZXIsIHNldGNkcGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvL2NyZWF0ZSBtYW51ZmFjdHVyZXJcbiAgY29uc3QgW21vZGFsbWFudWYsIHNldG1vZGFsbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ21hbnVmLCBzZXRsb2FkaW5nbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRtYW51Ziwgc2V0ZGlzYWJsZWRtYW51Zl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyaWdnZXJtYW51Ziwgc2V0dHJpZ2dlcm1hbnVmXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2RhdGFtYW51Ziwgc2V0ZGF0YW1hbnVmXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICB9KTtcblxuICAvLzMub25DaGFuZ2VcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkID0gKCkgPT4ge1xuICAgIHNldGZpZWxkZGF0YTIoW1xuICAgICAgLi4uZmllbGRkYXRhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICB9KTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgIHZhciBib29sID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib29sLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGFkZGVkZmllbGQxKGJvb2wpO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlKHJlczIuZGF0YS5pZCk7XG4gICAgICAgICAgLy8gc2V0bmV3ZGF0YXRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRwYXJ0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0YXNzZXR0eXBlY29kZTIocmVzMi5kYXRhLmlkKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhMi5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICAuLi5uZXdkYXRhMixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy80LmhhbmRsZVxuICBjb25zdCBoYW5kbGVDcmVhdGVNb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YSkge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNb2RlbCBiZXJoYXNpbCBkaXRhbWJhaGthblwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7cmVzMi5pZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgbW9kZWxfcGFydHM6IFtdLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICBzZXRtb2RlbHRyaWdnZXIocmVzMi5pZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQWRkTWFudWZhY3R1cmVyID0gKCkgPT4ge1xuICAgIHNldGxvYWRpbmdtYW51Zih0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vYWRkTWFudWZhY3R1cmVyYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhbWFudWYpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ21hbnVmKGZhbHNlKTtcbiAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRkYXRhbWFudWYoe1xuICAgICAgICAgICAgLi4uZGF0YW1hbnVmLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXR0cmlnZ2VybWFudWYoKHByZXYpID0+IHByZXYgKyAxKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vNS51c2VFZmZlY3RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0QXNzZXRzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGFzc2V0ZGF0YShyZXMyLmRhdGEpO1xuICAgICAgICBzZXRwcmFsb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1hbnVmYWN0dXJlcnNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bWFudWZkYXRhKHJlczIuZGF0YSk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFt0cmlnZ2VybWFudWZdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKG1vZGVsdHJpZ2dlcik7XG4gICAgICAgIG1vZGVsdHJpZ2dlciAhPT0gZmFsc2UgPyBzZXRlZGl0cGFydCh0cnVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgfSwgW21vZGVsdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEuY29uY2F0KGZpZWxkZGF0YTIpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHggIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHhdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeF0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MSAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgxXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDMgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4M10gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4M10gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfcGFydHM6IHRlbXAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0cGFydHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDIuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMigocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkaWR4KSk7XG4gICAgfVxuICB9LCBbY2R0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkcGFydGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDJwYXJ0LmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RwYXJ0aWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QycGFydCgocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkcGFydGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkcGFydHRyaWdnZXJdKTtcblxuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL2FkbWluL21vZGVsc2B9PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiIC8qb25DbGljaz17KCkgPT4geyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2cobmV3ZGF0YSk7IH19Ki9cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0uc3VibWl0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU3RpY2t5PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkluZm9ybWFzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIHtwcmFsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8U3Bpbj48L1NwaW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybX1cbiAgICAgICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e25ld2RhdGF9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLmlzX2NvbnN1bWFibGV9XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtsb2FkaW5nc3BlYyA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDFbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvY2RkLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jeHgsIGlkeHgpID0+IGRvY3h4LmlkICE9PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7ZmllbGRkYXRhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2NkZCwgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXs8c3Ryb25nPntkb2MubmFtZX08L3N0cm9uZz59XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgTW9kZWwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZGFyaSBNb2RlbCBQYXJ0ICR7bmV3ZGF0YS5uYW1lfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMikgPT4gZG9jMi5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAubW9kZWxfcGFydHNbaWR4ZGF0YV0ucXVhbnRpdHkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX3BhcnRzW2lkeGRhdGFdLnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMuc3BsaWNlKGlkeGRhdGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgcmVkYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0IFR5cGV7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bGFzc2V0dHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MuYXNzZXQubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYywgaWR4bWMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jbWMuZGF0YV90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBteS1hdXRvIHB4LTIgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctd2hpdGUgYm9yZGVyIHctMy8xMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBiZy1ncmF5LTEwMCBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjAgcm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfcGFydHMubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVsaW5lIHN0eWxlPXt7IG1hcmdpblRvcDogYDFyZW1gIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyQ2hpbGRQYXJ0TW9kZWwoZG9jLm1vZGVsX3BhcnRzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGltZWxpbmU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZWRpdHBhcnQgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbXktMyBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtNSB0ZXh0LWxnIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRpZG1vZGVsfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2N1cnJlbnRpZG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaGluZ3BhcnQgPyA8U3BpbiBzaXplPVwic21hbGxcIiAvPiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vZ2V0TW9kZWxzP3Jvd3M9MTAmbmFtZT0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICE9PSBcIlwiID8gdmFsdWUgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0bW9kZWxkYXRhKFtdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3A9XCJjaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGVsZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2RvYy5pZH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nZ2V0bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHtjdXJyZW50aWRtb2RlbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMSA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzMi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W3Byb3BdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbcHJvcF0gPSByZXMyLmRhdGFbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAxID0gWy4uLnRlbXAxLCB0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dmFsdWUocmVzMi5kYXRhLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhMiA9IHRlbXAubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ZGF0YTIgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY3VycmVudGlkbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZHhkYXRhMiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX3BhcnRzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZHBhcnR9XG4gICAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICArIFRhbWJhaCBQYXJ0IE1vZGVsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTW9kZWw8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7IC8qY29uc29sZS5sb2cobmV3ZGF0YTIpKi9cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0yLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlbW9kZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbGNyZWF0ZW1vZGVsfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIG1iLThcIj5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtMn1cbiAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJhc3NldF9pZFwiIGxhYmVsPVwiQXNzZXQgVHlwZVwiPlxuICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5hc3NldF9pZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3ZGF0YTIubmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3ZGF0YTIubWFudWZhY3R1cmVyX2lkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGFhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMltpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDJdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGFhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTsgLypjb25zb2xlLmxvZyhuZXdkYXRhMikqL1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkbWFudWZ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTWFudWZhY3R1cmVyfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdtYW51Zn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsbWFudWZ9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICBOYW1hIE1hbnVmYWN0dXJlciA8c3BhbiBjbGFzc05hbWU9XCJuYW1hbWFudVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17ZGF0YW1hbnVmLm5hbWV9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gTmFtYSBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgPyBzZXRkaXNhYmxlZG1hbnVmKHRydWUpXG4gICAgICAgICAgICAgICAgICA6IHNldGRpc2FibGVkbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldGRhdGFtYW51Zih7IG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmFtYW1hbnU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzIH0pIHtcbiAgdmFyIGluaXRQcm9wcyA9IHt9O1xuICBpZiAoIXJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCBjb29raWVzSlNPTjEgPSBodHRwY29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSk7XG4gIGlmICghY29va2llc0pTT04xLnRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGluaXRQcm9wcyA9IGNvb2tpZXNKU09OMS50b2tlbjtcbiAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2RldGFpbFByb2ZpbGVgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCByZXNqc29uID0gYXdhaXQgcmVzb3VyY2VzLmpzb24oKTtcbiAgY29uc3QgZGF0YVByb2ZpbGUgPSByZXNqc29uO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRQcm9wcyxcbiAgICAgIGRhdGFQcm9maWxlLFxuICAgICAgc2lkZW1lbnU6IFwiODJcIixcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNDcmVhdGU7XG4iXX0= */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/create/index.js */\"\n                }, void 0, false, void 0, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2131,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2128,\n            columnNumber: 17\n          }, this)\n        }, void 0, false), /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: editpart ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shadow-md border p-8 mx-3 md:mx-8 my-3 flex flex-col rounded-md relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-2 right-5 text-lg cursor-pointer\",\n              onClick: () => {\n                seteditpart(false);\n              },\n              children: \"x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2305,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(_Form, {\n              layout: \"vertical\",\n              initialValues: currentidmodel,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" w-11/12 mr-3\",\n                  children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n                    name: \"id\",\n                    label: \"Nama Model\",\n                    rules: [{\n                      required: true,\n                      message: \"Nama Model wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(_Select, {\n                      defaultValue: currentidmodel,\n                      notFoundContent: fetchingpart ? /*#__PURE__*/_jsxDEV(_Spin, {\n                        size: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2329,\n                        columnNumber: 46\n                      }, this) : null,\n                      onSearch: value => {\n                        setfetchingpart(true);\n                        fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getModels?rows=10&name=${value !== \"\" ? value : \"\"}`, {\n                          method: `GET`,\n                          headers: {\n                            Authorization: JSON.parse(initProps)\n                          }\n                        }).then(res => res.json()).then(res2 => {\n                          res2.data.length === 0 ? setmodeldata([]) : setmodeldata(res2.data.data);\n                          setfetchingpart(false);\n                        });\n                      },\n                      showSearch: true,\n                      optionFilterProp: \"children\",\n                      placeholder: \"Cari nama modul\",\n                      onChange: value => {\n                        setcurrentidmodel(value);\n                      },\n                      name: \"id\",\n                      filterOption: (input, opt) => opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n                      children: modeldata.map((doc, idx) => {\n                        return /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: doc.id,\n                          children: doc.name\n                        }, doc.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2369,\n                          columnNumber: 33\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2326,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2316,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2315,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-1/12 flex pt-2 my-auto items-center cursor-pointer\",\n                  onClick: () => {\n                    setmodalcreatemodel(true);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(PlusSquareTwoTone, {\n                    style: {\n                      fontSize: `1.5rem`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2383,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2377,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2314,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2386,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex mt-4 justify-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                  onClick: () => {\n                    seteditpart(false);\n                    setcurrentidmodel(\"\");\n                  },\n                  children: /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n                    style: {\n                      fontSize: `1.25rem`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2395,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2388,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                  loading: loadinggetmodel,\n                  type: \"primary\",\n                  onClick: () => {\n                    seteditpart(false);\n                    setloadinggetmodel(true);\n                    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getModel?id=${currentidmodel}`, {\n                      method: `GET`,\n                      headers: {\n                        Authorization: JSON.parse(initProps)\n                      }\n                    }).then(res => res.json()).then(res2 => {\n                      setmodelpartfielddata(prev => {\n                        var temp1 = prev;\n                        var t = {};\n\n                        for (var prop in res2.data) {\n                          if (prop === \"model_columns\") {\n                            t[prop] = res2.data[prop].map((doc, idx) => {\n                              if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                                return _objectSpread(_objectSpread({}, doc), {}, {\n                                  default: JSON.parse(doc.default)\n                                });\n                              } else {\n                                return _objectSpread({}, doc);\n                              }\n                            });\n                          } else {\n                            t[prop] = res2.data[prop];\n                          }\n                        }\n\n                        temp1 = [...temp1, t];\n                        return temp1;\n                      }); // setconcatpartvalue(res2.data.model_parts)\n                      // setconcatparttrigger(prev => !prev)\n\n                      setnewdata(prev => {\n                        var temp = prev;\n                        const idxdata2 = temp.model_parts.map(doc3 => doc3.id).indexOf(currentidmodel);\n\n                        if (temp.model_parts.length === 0 || idxdata2 === -1) {\n                          temp.model_parts.push({\n                            id: currentidmodel,\n                            quantity: 1\n                          });\n                        } else if (idxdata2 !== -1) {\n                          temp.model_parts.map(doc1 => {\n                            if (doc1.id === currentidmodel) {\n                              doc1.quantity = doc1.quantity + 1;\n                            }\n                          });\n                        }\n\n                        return temp;\n                      });\n                      setloadinggetmodel(false);\n                      setcurrentidmodel(\"\");\n                    });\n                  },\n                  children: \"Tambah\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2399,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2387,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2313,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2304,\n            columnNumber: 17\n          }, this) : null\n        }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full flex justify-center mt-5\",\n          children: /*#__PURE__*/_jsxDEV(_Button, {\n            disabled: disabledaddpart,\n            type: \"dashed\",\n            style: {\n              width: `80%`,\n              height: `4rem`\n            },\n            onClick: () => {\n              seteditpart(true);\n            },\n            children: \"+ Tambah Part Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2480,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2479,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: \"Form Tambah Model\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2497,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(_Button, {\n            type: \"default\",\n            onClick: () => {\n              setmodalcreatemodel(false);\n              /*console.log(newdata2)*/\n            },\n            style: {\n              marginRight: `1rem`\n            },\n            children: \"Batal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2499,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            disabled: disabledaddfield2,\n            onClick: instanceForm2.submit,\n            loading: loadingcreatemodel,\n            children: \"Simpan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2508,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2498,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2496,\n        columnNumber: 11\n      }, this),\n      visible: modalcreatemodel,\n      footer: null,\n      onCancel: () => {\n        setmodalcreatemodel(false);\n      },\n      width: 900,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shadow-md border p-8 flex flex-col rounded-md mb-8\",\n        children: /*#__PURE__*/_jsxDEV(_Form, {\n          form: instanceForm2,\n          layout: \"vertical\",\n          onFinish: handleCreateModelinModel,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n              name: \"asset_id\",\n              label: \"Asset Type\",\n              children: /*#__PURE__*/_jsxDEV(_TreeSelect, {\n                style: {\n                  marginRight: `1rem`\n                },\n                dropdownStyle: {\n                  maxHeight: 400,\n                  overflow: \"auto\"\n                },\n                treeData: assetdata,\n                placeholder: \"Pilih Asset Type\",\n                treeDefaultExpandAll: true,\n                value: newdata2.asset_id,\n                onChange: (value, label, extra) => {\n                  if (typeof value !== \"undefined\") {\n                    onClickSelectAsset2(extra.allCheckedNodes[0].node.props.id);\n                  } else {\n                    onClickSelectAsset2(0);\n                  }\n                },\n                allowClear: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2534,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2533,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n              name: \"name\",\n              label: \"Nama Model\",\n              rules: [{\n                required: true,\n                message: \"Nama Model wajib diisi\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(_Input, {\n                name: \"name\",\n                value: newdata2.name,\n                onChange: e => {\n                  setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                    name: e.target.value\n                  }));\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2563,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2553,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2532,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"manufacturer_id\",\n            label: \"Manufacturer\",\n            rules: [{\n              required: true,\n              message: \"Manufacturer wajib diisi\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Select, {\n              placeholder: \"Pilih Manufacturer\",\n              value: newdata2.manufacturer_id,\n              onChange: value => {\n                setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                  manufacturer_id: value\n                }));\n              },\n              name: \"manufacturer_id\",\n              children: manufdata.map((doc, idx) => {\n                return /*#__PURE__*/_jsxDEV(_Select.Option, {\n                  value: doc.id,\n                  children: doc.name\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2592,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2582,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2572,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"description\",\n            label: \"Deskripsi\",\n            children: /*#__PURE__*/_jsxDEV(_Input.TextArea, {\n              rows: 4,\n              name: \"description\",\n              value: newdata2.description,\n              onChange: e => {\n                setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                  description: e.target.value\n                }));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2600,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2599,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex mb-5\",\n            children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n              style: {\n                marginRight: `0.5rem`\n              },\n              checked: newdata2.required_sn,\n              onChange: e => {\n                setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                  required_sn: e.target.checked\n                }));\n              },\n              checked: newdata2.required_sn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2610,\n              columnNumber: 15\n            }, this), \" \", \"Serial Number wajib ada\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2609,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n              style: {\n                marginRight: `0.5rem`\n              },\n              onChange: e => {\n                setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                  is_consumable: e.target.checked\n                }));\n              },\n              checked: newdata2.is_consumable\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2621,\n              columnNumber: 15\n            }, this), \" \", \"Model Consumable dengan satuan jumlah\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2620,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2527,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2526,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2634,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2633,\n          columnNumber: 11\n        }, this), loadingspec2 ? /*#__PURE__*/_jsxDEV(_Spin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2769,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: fielddataa.map((doc, idx) => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: addedfield3[idx] === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => {\n                  const temp = [...addedfield3];\n                  temp[idx] = false;\n\n                  for (var i = 0; i < temp.length; i++) {\n                    if (i !== idx) {\n                      temp[i] = true;\n                    }\n                  }\n\n                  setaddedfield3(temp);\n                  setcurrentfield2(fielddataa[idx]);\n\n                  if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                    setcurrentdropdownn2(doc.default.opsi);\n                    setcd2part(doc.default.opsi);\n                    setcurrentcheckeddropdownn2(doc.default.default);\n                  }\n\n                  if (fielddataa[idx].data_type !== \"dropdown\" || fielddataa[idx].data_type !== \"checkbox\") {\n                    if (fielddataa[idx].name !== \"\" && fielddataa[idx].data_type !== \"\") {\n                      setdisabledtambah2(false);\n                    } else {\n                      setdisabledtambah2(true);\n                    }\n                  } else {\n                    if (doc.default.opsi.some(docopsi => docopsi === \"\")) {\n                      setdisabledtambah2(true);\n                    } else {\n                      setdisabledtambah2(false);\n                    }\n                  }\n\n                  setdisabledaddfield2(true);\n                  setpointevent2(\"pointer-events-none\");\n                },\n                className: \"jsx-2751146913\" + \" \" + `${pointevent2} shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-2751146913\" + \" \" + \"font-semibold mb-2\",\n                  children: [doc.name, fielddataa[idx].required ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"jsx-2751146913\" + \" \" + \"judulField\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2825,\n                    columnNumber: 29\n                  }, this) : null, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"jsx-2751146913\" + \" \" + \"text-gray-400 text-sm\",\n                    children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && ` Text`, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2827,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2822,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-2751146913\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                  children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [doc.data_type === \"dropdown\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex flex-col w-full\",\n                      children: doc.default.opsi.map((dok, idk) => {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"jsx-2751146913\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2850,\n                            columnNumber: 41\n                          }, this)\n                        }, idk, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2846,\n                          columnNumber: 39\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2843,\n                      columnNumber: 33\n                    }, this), doc.data_type === \"checkbox\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex flex-col w-full\",\n                      children: doc.default.opsi.map((dok, idk) => {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"jsx-2751146913\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2864,\n                            columnNumber: 41\n                          }, this)\n                        }, idk, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2860,\n                          columnNumber: 39\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2857,\n                      columnNumber: 33\n                    }, this), doc.data_type === \"date\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex justify-between w-full px-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                        children: doc.default\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2872,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"jsx-2751146913\",\n                        children: /*#__PURE__*/_jsxDEV(CalendarOutlined, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2874,\n                          columnNumber: 37\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2873,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2871,\n                      columnNumber: 33\n                    }, this), doc.data_type === \"paragraph\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex h-20\",\n                      children: doc.default\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2879,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                    children: doc.default\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2883,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2836,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n                  id: \"2751146913\",\n                  children: \".judulField.jsx-2751146913::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBczBGMkIsQUFHaUUsWUFDRixVQUNkIiwiZmlsZSI6Ii9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWxldGVPdXRsaW5lZCB9IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQ2FsZW5kYXJPdXRsaW5lZCxcbiAgQ2xvc2VDaXJjbGVPdXRsaW5lZCxcbiAgUGx1c1NxdWFyZVR3b1RvbmUsXG59IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBDaGVja2JveCxcbiAgQ29sbGFwc2UsXG4gIERhdGVQaWNrZXIsXG4gIEVtcHR5LFxuICBGb3JtLFxuICBJbnB1dCxcbiAgSW5wdXROdW1iZXIsXG4gIFBvcGNvbmZpcm0sXG4gIFNlbGVjdCxcbiAgU3BpbixcbiAgVGltZWxpbmUsXG4gIFRyZWVTZWxlY3QsXG4gIG5vdGlmaWNhdGlvbixcbn0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBNb2RhbCBmcm9tIFwiYW50ZC9saWIvbW9kYWwvTW9kYWxcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzQ3JlYXRlID0gKHsgc2lkZW1lbnUsIGRhdGFQcm9maWxlLCBpbml0UHJvcHMgfSkgPT4ge1xuICAvLzEuSW5pdFxuICBjb25zdCBydCA9IHVzZVJvdXRlcigpO1xuICB2YXIgcGF0aEFyciA9IHJ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcbiAgcGF0aEFyci5zcGxpY2UoMywgMSk7XG4gIHBhdGhBcnJbcGF0aEFyci5sZW5ndGggLSAxXSA9IFwiVGFtYmFoIE1vZGVsXCI7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm1dID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm0yXSA9IEZvcm0udXNlRm9ybSgpO1xuICBjb25zdCB7IFBhbmVsIH0gPSBDb2xsYXBzZTtcblxuICAvLzIuSGVscGVyIGZ1bmN0aW9uc1xuICBjb25zdCByZW5kZXJDaGlsZFBhcnRNb2RlbCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuIGl0ZW0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgcmV0dXJuIDxDaGlsZHJlbiBkb2M9e2RvY30+PC9DaGlsZHJlbj47XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IENoaWxkcmVuID0gKHsgZG9jIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRpbWVsaW5lLkl0ZW0+XG4gICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAge1xuICAgICAgICAgICAgPFBhbmVsIGhlYWRlcj17ZG9jLm5hbWV9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+UXVhbnRpdHkgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj48L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MucXVhbnRpdHl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYzIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdmFyIGRlZmF1bHQyID0ge307XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0MiA9IEpTT04ucGFyc2UoZG9jbWMyLmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkZWZhdWx0Mi5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGVmYXVsdDIub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2Fzc2V0ZGF0YSwgc2V0YXNzZXRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21hbnVmZGF0YSwgc2V0bWFudWZkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVsZGF0YSwgc2V0bW9kZWxkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YSwgc2V0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YTIsIHNldGZpZWxkZGF0YTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYSwgc2V0ZmllbGRkYXRhYV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhMiwgc2V0ZmllbGRkYXRhYTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxwYXJ0ZmllbGRkYXRhLCBzZXRtb2RlbHBhcnRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudGZpZWxkLCBzZXRjdXJyZW50ZmllbGRdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZDIsIHNldGN1cnJlbnRmaWVsZDJdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRpZG1vZGVsLCBzZXRjdXJyZW50aWRtb2RlbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FkZGVkZmllbGQsIHNldGFkZGVkZmllbGRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDEsIHNldGFkZGVkZmllbGQxXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQyLCBzZXRhZGRlZGZpZWxkMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMywgc2V0YWRkZWRmaWVsZDNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeCwgc2V0YWRkZWRmaWVsZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlciwgc2V0YWRkZWRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDEsIHNldGFkZGVkZmllbGRpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMSwgc2V0YWRkZWRmaWVsZHRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgyLCBzZXRhZGRlZGZpZWxkaWR4Ml0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjIsIHNldGFkZGVkZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Mywgc2V0YWRkZWRmaWVsZGlkeDNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIzLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZSwgc2V0bG9hZGluZ2NyZWF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlbW9kZWwsIHNldGxvYWRpbmdjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nZ2V0bW9kZWwsIHNldGxvYWRpbmdnZXRtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmFsb2FkaW5nLCBzZXRwcmFsb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMsIHNldGxvYWRpbmdzcGVjXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjMiwgc2V0bG9hZGluZ3NwZWMyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bjIsIHNldGN1cnJlbnRkcm9wZG93bjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bm4yLCBzZXRjdXJyZW50ZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlciwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMSwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjMsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkZmllbGQyLCBzZXRkaXNhYmxlZGFkZGZpZWxkMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZHBhcnQsIHNldGRpc2FibGVkYWRkcGFydF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQsIHNldHBvaW50ZXZlbnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwb2ludGV2ZW50Miwgc2V0cG9pbnRldmVudDJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjZDIsIHNldGNkMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RpZHgsIHNldGNkaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkdHJpZ2dlciwgc2V0Y2R0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NkMnBhcnQsIHNldGNkMnBhcnRdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2NkcGFydGlkeCwgc2V0Y2RwYXJ0aWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkcGFydHRyaWdnZXIsIHNldGNkcGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvL2NyZWF0ZSBtYW51ZmFjdHVyZXJcbiAgY29uc3QgW21vZGFsbWFudWYsIHNldG1vZGFsbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ21hbnVmLCBzZXRsb2FkaW5nbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRtYW51Ziwgc2V0ZGlzYWJsZWRtYW51Zl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyaWdnZXJtYW51Ziwgc2V0dHJpZ2dlcm1hbnVmXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2RhdGFtYW51Ziwgc2V0ZGF0YW1hbnVmXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICB9KTtcblxuICAvLzMub25DaGFuZ2VcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkID0gKCkgPT4ge1xuICAgIHNldGZpZWxkZGF0YTIoW1xuICAgICAgLi4uZmllbGRkYXRhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICB9KTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgIHZhciBib29sID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib29sLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGFkZGVkZmllbGQxKGJvb2wpO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlKHJlczIuZGF0YS5pZCk7XG4gICAgICAgICAgLy8gc2V0bmV3ZGF0YXRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRwYXJ0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0YXNzZXR0eXBlY29kZTIocmVzMi5kYXRhLmlkKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhMi5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICAuLi5uZXdkYXRhMixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy80LmhhbmRsZVxuICBjb25zdCBoYW5kbGVDcmVhdGVNb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YSkge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNb2RlbCBiZXJoYXNpbCBkaXRhbWJhaGthblwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7cmVzMi5pZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgbW9kZWxfcGFydHM6IFtdLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICBzZXRtb2RlbHRyaWdnZXIocmVzMi5pZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQWRkTWFudWZhY3R1cmVyID0gKCkgPT4ge1xuICAgIHNldGxvYWRpbmdtYW51Zih0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vYWRkTWFudWZhY3R1cmVyYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhbWFudWYpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ21hbnVmKGZhbHNlKTtcbiAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRkYXRhbWFudWYoe1xuICAgICAgICAgICAgLi4uZGF0YW1hbnVmLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXR0cmlnZ2VybWFudWYoKHByZXYpID0+IHByZXYgKyAxKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vNS51c2VFZmZlY3RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0QXNzZXRzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGFzc2V0ZGF0YShyZXMyLmRhdGEpO1xuICAgICAgICBzZXRwcmFsb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1hbnVmYWN0dXJlcnNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bWFudWZkYXRhKHJlczIuZGF0YSk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFt0cmlnZ2VybWFudWZdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKG1vZGVsdHJpZ2dlcik7XG4gICAgICAgIG1vZGVsdHJpZ2dlciAhPT0gZmFsc2UgPyBzZXRlZGl0cGFydCh0cnVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgfSwgW21vZGVsdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEuY29uY2F0KGZpZWxkZGF0YTIpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHggIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHhdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeF0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MSAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgxXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDMgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4M10gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4M10gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfcGFydHM6IHRlbXAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0cGFydHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDIuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMigocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkaWR4KSk7XG4gICAgfVxuICB9LCBbY2R0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkcGFydGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDJwYXJ0LmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RwYXJ0aWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QycGFydCgocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkcGFydGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkcGFydHRyaWdnZXJdKTtcblxuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL2FkbWluL21vZGVsc2B9PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiIC8qb25DbGljaz17KCkgPT4geyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2cobmV3ZGF0YSk7IH19Ki9cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0uc3VibWl0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU3RpY2t5PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkluZm9ybWFzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIHtwcmFsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8U3Bpbj48L1NwaW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybX1cbiAgICAgICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e25ld2RhdGF9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLmlzX2NvbnN1bWFibGV9XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtsb2FkaW5nc3BlYyA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDFbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvY2RkLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jeHgsIGlkeHgpID0+IGRvY3h4LmlkICE9PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7ZmllbGRkYXRhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2NkZCwgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXs8c3Ryb25nPntkb2MubmFtZX08L3N0cm9uZz59XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgTW9kZWwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZGFyaSBNb2RlbCBQYXJ0ICR7bmV3ZGF0YS5uYW1lfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMikgPT4gZG9jMi5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAubW9kZWxfcGFydHNbaWR4ZGF0YV0ucXVhbnRpdHkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX3BhcnRzW2lkeGRhdGFdLnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMuc3BsaWNlKGlkeGRhdGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgcmVkYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0IFR5cGV7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bGFzc2V0dHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MuYXNzZXQubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYywgaWR4bWMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jbWMuZGF0YV90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBteS1hdXRvIHB4LTIgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctd2hpdGUgYm9yZGVyIHctMy8xMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBiZy1ncmF5LTEwMCBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjAgcm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfcGFydHMubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVsaW5lIHN0eWxlPXt7IG1hcmdpblRvcDogYDFyZW1gIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyQ2hpbGRQYXJ0TW9kZWwoZG9jLm1vZGVsX3BhcnRzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGltZWxpbmU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZWRpdHBhcnQgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbXktMyBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtNSB0ZXh0LWxnIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRpZG1vZGVsfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2N1cnJlbnRpZG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaGluZ3BhcnQgPyA8U3BpbiBzaXplPVwic21hbGxcIiAvPiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vZ2V0TW9kZWxzP3Jvd3M9MTAmbmFtZT0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICE9PSBcIlwiID8gdmFsdWUgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0bW9kZWxkYXRhKFtdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3A9XCJjaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGVsZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2RvYy5pZH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nZ2V0bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHtjdXJyZW50aWRtb2RlbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMSA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzMi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W3Byb3BdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbcHJvcF0gPSByZXMyLmRhdGFbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAxID0gWy4uLnRlbXAxLCB0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dmFsdWUocmVzMi5kYXRhLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhMiA9IHRlbXAubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ZGF0YTIgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY3VycmVudGlkbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZHhkYXRhMiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX3BhcnRzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZHBhcnR9XG4gICAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICArIFRhbWJhaCBQYXJ0IE1vZGVsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTW9kZWw8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7IC8qY29uc29sZS5sb2cobmV3ZGF0YTIpKi9cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0yLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlbW9kZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbGNyZWF0ZW1vZGVsfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIG1iLThcIj5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtMn1cbiAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJhc3NldF9pZFwiIGxhYmVsPVwiQXNzZXQgVHlwZVwiPlxuICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5hc3NldF9pZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3ZGF0YTIubmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3ZGF0YTIubWFudWZhY3R1cmVyX2lkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGFhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMltpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDJdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGFhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTsgLypjb25zb2xlLmxvZyhuZXdkYXRhMikqL1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkbWFudWZ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTWFudWZhY3R1cmVyfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdtYW51Zn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsbWFudWZ9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICBOYW1hIE1hbnVmYWN0dXJlciA8c3BhbiBjbGFzc05hbWU9XCJuYW1hbWFudVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17ZGF0YW1hbnVmLm5hbWV9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gTmFtYSBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgPyBzZXRkaXNhYmxlZG1hbnVmKHRydWUpXG4gICAgICAgICAgICAgICAgICA6IHNldGRpc2FibGVkbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldGRhdGFtYW51Zih7IG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmFtYW1hbnU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzIH0pIHtcbiAgdmFyIGluaXRQcm9wcyA9IHt9O1xuICBpZiAoIXJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCBjb29raWVzSlNPTjEgPSBodHRwY29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSk7XG4gIGlmICghY29va2llc0pTT04xLnRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGluaXRQcm9wcyA9IGNvb2tpZXNKU09OMS50b2tlbjtcbiAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2RldGFpbFByb2ZpbGVgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCByZXNqc29uID0gYXdhaXQgcmVzb3VyY2VzLmpzb24oKTtcbiAgY29uc3QgZGF0YVByb2ZpbGUgPSByZXNqc29uO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRQcm9wcyxcbiAgICAgIGRhdGFQcm9maWxlLFxuICAgICAgc2lkZW1lbnU6IFwiODJcIixcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNDcmVhdGU7XG4iXX0= */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/create/index.js */\"\n                }, void 0, false, void 0, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2776,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n                children: /*#__PURE__*/_jsxDEV(_Form, {\n                  layout: \"vertical\",\n                  initialValues: currentfield2,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n                      name: \"name\",\n                      label: \"Nama Field\",\n                      rules: [{\n                        required: true,\n                        message: \"Nama Field wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/_jsxDEV(_Input, {\n                        required: true,\n                        name: \"name\",\n                        onChange: e => {\n                          setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                            name: e.target.value\n                          }));\n\n                          if (e.target.value === \"\") {\n                            setdisabledtambah2(true);\n                          } else if (e.target.value !== \"\" && currentfield2.data_type !== \"\" && currentdropdownn2.every((doca, idxa) => doca !== \"\")) {\n                            setdisabledtambah2(false);\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2912,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2902,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                      name: \"data_type\",\n                      label: \"Tipe Field\",\n                      rules: [{\n                        required: true,\n                        message: \"Tipe Field wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/_jsxDEV(_Select, {\n                        placeholder: \"Pilih Tipe Field\",\n                        onChange: value => {\n                          setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                            data_type: value\n                          }));\n\n                          if (value === \"dropdown\" || value === \"checkbox\") {\n                            if (currentdropdownn2.every((doca, idxa) => doca !== \"\")) {\n                              setdisabledtambah2(false);\n                            } else {\n                              setdisabledtambah2(true);\n                            }\n                          } else {\n                            setdisabledtambah2(false);\n                          }\n\n                          if (value === \"dropdown\") {\n                            setcurrentcheckeddropdownn2(\"\");\n                            setcurrentdropdownn2([\"\", \"\"]);\n                            setcd2part([\"\", \"\"]);\n                            setdisabledtambah2(true);\n                          }\n\n                          if (value === \"checkbox\") {\n                            setcurrentcheckeddropdownn2([]);\n                            setcurrentdropdownn2([\"\", \"\"]);\n                            setcd2part([\"\", \"\"]);\n                            setdisabledtambah2(true);\n                          }\n                        },\n                        name: \"data_type\",\n                        children: [/*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"dropdown\",\n                          children: \"Dropdown\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2982,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"number\",\n                          children: \"Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2985,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"paragraph\",\n                          children: \"Paragraph Text\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2988,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"checkbox\",\n                          children: \"Checkbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2991,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"single\",\n                          children: \"Single Textbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2994,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                          value: \"date\",\n                          children: \"Date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2997,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2944,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2934,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2901,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                    name: \"default\",\n                    label: \"Default\",\n                    children: [currentfield2.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                        children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3007,\n                        columnNumber: 33\n                      }, this), currentdropdownn2.map((doc, idxx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/_jsxDEV(_Checkbox, {\n                            checked: currentcheckeddropdownn2 === idxx ? true : false,\n                            onChange: e => {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdownn2(idxx);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3014,\n                            columnNumber: 39\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3013,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/_jsxDEV(_Input, {\n                            style: {\n                              marginRight: `0.5rem`\n                            },\n                            defaultValue: doc,\n                            placeholder: `Masukkan opsi ke-${idxx + 1}`,\n                            onChange: e => {\n                              setcurrentdropdownn2(prev => {\n                                const temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2part(prev => {\n                                const temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdownn2.every((doca, idxa) => doca !== \"\") && currentfield2.name !== \"\") {\n                                setdisabledtambah2(false);\n                              } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                setdisabledtambah2(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3028,\n                            columnNumber: 39\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3027,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: () => {\n                            setcurrentdropdownn2([]);\n                            setcdparttrigger(prev => !prev);\n                            setcdpartidx(idxx);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(_Button, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3070,\n                            columnNumber: 39\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3062,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3012,\n                        columnNumber: 35\n                      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/_jsxDEV(_Button, {\n                          onClick: () => {\n                            setcurrentdropdownn2([...currentdropdownn2, \"\"]);\n                            setcd2part([...cd2part, \"\"]);\n                            setdisabledtambah2(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3075,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3074,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3006,\n                      columnNumber: 31\n                    }, this) : null, currentfield2.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                        children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3093,\n                        columnNumber: 33\n                      }, this), currentdropdownn2.map((doc, idxx) => {\n                        const idxchecked = currentcheckeddropdownn2.includes(idxx);\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex mb-3\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"w-7 flex items-center\",\n                            children: /*#__PURE__*/_jsxDEV(_Checkbox, {\n                              defaultChecked: idxchecked,\n                              onChange: e => {\n                                if (e.target.checked === true) {\n                                  setcurrentcheckeddropdownn2(prev => {\n                                    var temp = prev;\n                                    temp.push(idxx);\n                                    return temp;\n                                  });\n                                } else {\n                                  setcurrentcheckeddropdownn2(prev => {\n                                    var temp = prev;\n                                    const index = temp.indexOf(idxx);\n                                    temp.splice(index, 1);\n                                    return temp;\n                                  });\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3103,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3102,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"w-10/12 mr-5\",\n                            children: /*#__PURE__*/_jsxDEV(_Input, {\n                              style: {\n                                marginRight: `0.5rem`\n                              },\n                              defaultValue: doc,\n                              placeholder: `Masukkan opsi ke-${idxx + 1}`,\n                              onChange: e => {\n                                setcurrentdropdownn2(prev => {\n                                  const temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n                                setcd2part(prev => {\n                                  const temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n\n                                if (e.target.value !== \"\" && currentdropdownn2.every((doca, idxa) => doca !== \"\") && currentfield2.name !== \"\") {\n                                  setdisabledtambah2(false);\n                                } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                  setdisabledtambah2(true);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3129,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3128,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"w-1/12 flex justify-around\",\n                            onClick: () => {\n                              setcurrentdropdownn2([]);\n                              setcdparttrigger(prev => !prev);\n                              setcdpartidx(idxx);\n                            },\n                            children: /*#__PURE__*/_jsxDEV(_Button, {\n                              type: \"danger\",\n                              children: \"-\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3171,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3163,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3101,\n                          columnNumber: 37\n                        }, this);\n                      }), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/_jsxDEV(_Button, {\n                          onClick: () => {\n                            setcurrentdropdownn2([...currentdropdownn2, \"\"]);\n                            setcd2part([...cd2part, \"\"]);\n                            setdisabledtambah2(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3177,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3176,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3092,\n                      columnNumber: 31\n                    }, this) : null, currentfield2.data_type.toLowerCase() === \"number\" && /*#__PURE__*/_jsxDEV(_InputNumber, {\n                      style: {\n                        width: `30%`\n                      },\n                      defaultValue: fielddataa[idx].default,\n                      placeholder: `Masukkan default ${currentfield2.name}`,\n                      onChange: value => {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          default: `${value}`\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3194,\n                      columnNumber: 31\n                    }, this), currentfield2.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/_jsxDEV(_Input.TextArea, {\n                      rows: 4,\n                      placeholder: `Masukkan default ${currentfield2.name}`,\n                      defaultValue: fielddataa[idx].default,\n                      onChange: e => {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          default: e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3208,\n                      columnNumber: 31\n                    }, this), currentfield2.data_type.toLowerCase() === \"string\" && /*#__PURE__*/_jsxDEV(_Input, {\n                      placeholder: `Masukkan default ${currentfield2.name}`,\n                      defaultValue: fielddataa[idx].default,\n                      onChange: e => {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          default: e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3222,\n                      columnNumber: 31\n                    }, this), currentfield2.data_type.toLowerCase() === \"single\" && /*#__PURE__*/_jsxDEV(_Input, {\n                      placeholder: `Masukkan default ${currentfield2.name}`,\n                      defaultValue: fielddataa[idx].default,\n                      onChange: e => {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          default: e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3235,\n                      columnNumber: 31\n                    }, this), currentfield2.data_type.toLowerCase() === \"date\" && /*#__PURE__*/_jsxDEV(_DatePicker, {\n                      style: {\n                        width: `30%`\n                      },\n                      placeholder: `Masukkan default ${currentfield2.name}`,\n                      onChange: (value, dateString) => {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          default: dateString\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3248,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3003,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3260,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex mt-4 justify-end\",\n                    children: [/*#__PURE__*/_jsxDEV(_Popconfirm, {\n                      placement: \"bottom\",\n                      title: `Apakah anda yakin ingin menghapus field ${doc.name === \"\" ? \"ini\" : doc.name}?`,\n                      okText: \"Ya\",\n                      cancelText: \"Tidak\",\n                      onConfirm: () => {\n                        setfielddataa(prev => prev.filter((_, idxx) => idxx !== idx));\n                        setnewdata2(prev => {\n                          var temp = prev;\n                          temp.model_columns = temp.model_columns.filter((docxx, idxx) => docxx.id !== doc.id);\n                          return temp;\n                        });\n                        setaddedfield3(prev => {\n                          prev.splice(idx, 1);\n                          return prev;\n                        });\n                        setdisabledaddfield2(false);\n                        setpointevent2(\"\");\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                        children: /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n                          style: {\n                            fontSize: `1.25rem`\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3290,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3289,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3262,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \" flex items-center mr-4\",\n                      children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                        checked: currentfield2.required,\n                        style: {\n                          marginRight: `0.5rem`\n                        },\n                        onChange: e => {\n                          setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                            required: e.target.checked\n                          }));\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3296,\n                        columnNumber: 31\n                      }, this), \" \", \"Required\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3295,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                      disabled: disabledtambah2,\n                      type: \"primary\",\n                      onClick: () => {\n                        if (currentfield2.data_type === \"dropdown\" || currentfield2.data_type === \"checkbox\") {\n                          setidxdropdowntrigger3(idx);\n                          setvaluedropdowntrigger3(prev => !prev);\n                        }\n\n                        const temp = fielddataa;\n                        temp[idx] = currentfield2;\n                        setfielddataa(temp);\n                        setaddedfieldidx3(idx);\n                        setaddedfieldtrigger3(prev => !prev);\n                        setconcatfieldtrigger2(prev => !prev);\n                        setdisabledaddfield2(false);\n                        setpointevent2(\"\");\n                      },\n                      children: \"Tambah\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3308,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3261,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2900,\n                  columnNumber: 25\n                }, this)\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2896,\n                columnNumber: 23\n              }, this)\n            }, void 0, false);\n          })\n        }, void 0, false), fielddataa2.map((doc, idx) => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: addedfield2[idx] === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => {\n                const temp = [...addedfield2];\n                temp[idx] = false;\n\n                for (var i = 0; i < temp.length; i++) {\n                  if (i !== idx) {\n                    temp[i] = true;\n                  }\n                }\n\n                setaddedfield2(temp);\n                setcurrentfield2(fielddataa2[idx]);\n\n                if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                  setcurrentdropdownn2(doc.default.opsi);\n                  setcd2part(doc.default.opsi);\n                  setcurrentcheckeddropdownn2(doc.default.default);\n                }\n\n                if (fielddataa2[idx].data_type !== \"dropdown\" || fielddataa2[idx].data_type !== \"checkbox\") {\n                  if (fielddataa2[idx].name !== \"\" && fielddataa2[idx].data_type !== \"\") {\n                    setdisabledtambah2(false);\n                  } else {\n                    setdisabledtambah2(true);\n                  }\n                } else {\n                  if (doc.default.opsi.some(docopsi => docopsi === \"\")) {\n                    setdisabledtambah2(true);\n                  } else {\n                    setdisabledtambah2(false);\n                  }\n                }\n\n                setdisabledaddfield2(true);\n                setpointevent2(\"pointer-events-none\");\n              },\n              className: \"jsx-28588772\" + \" \" + `${pointevent2} shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"font-semibold mb-2\",\n                children: [doc.name, fielddataa2[idx].required ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"jsx-28588772\" + \" \" + \"judulField\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3393,\n                  columnNumber: 25\n                }, this) : null, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"jsx-28588772\" + \" \" + \"text-gray-400 text-sm\",\n                  children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && ` Text`, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3395,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3390,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [doc.data_type === \"dropdown\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex flex-col w-full\",\n                    children: doc.default.opsi.map((dok, idk) => {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"jsx-28588772\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3418,\n                          columnNumber: 37\n                        }, this)\n                      }, idk, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3414,\n                        columnNumber: 35\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3411,\n                    columnNumber: 29\n                  }, this), doc.data_type === \"checkbox\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex flex-col w-full\",\n                    children: doc.default.opsi.map((dok, idk) => {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"jsx-28588772\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3432,\n                          columnNumber: 37\n                        }, this)\n                      }, idk, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3428,\n                        columnNumber: 35\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3425,\n                    columnNumber: 29\n                  }, this), doc.data_type === \"date\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex justify-between w-full px-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                      children: doc.default\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3440,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-28588772\",\n                      children: /*#__PURE__*/_jsxDEV(CalendarOutlined, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3442,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3441,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3439,\n                    columnNumber: 29\n                  }, this), doc.data_type === \"paragraph\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex h-20\",\n                    children: doc.default\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3447,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                  children: doc.default\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3451,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3404,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n                id: \"28588772\",\n                children: \".judulField.jsx-28588772::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBODNHdUIsQUFHeUUsWUFDRixVQUNkIiwiZmlsZSI6Ii9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWxldGVPdXRsaW5lZCB9IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQ2FsZW5kYXJPdXRsaW5lZCxcbiAgQ2xvc2VDaXJjbGVPdXRsaW5lZCxcbiAgUGx1c1NxdWFyZVR3b1RvbmUsXG59IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBDaGVja2JveCxcbiAgQ29sbGFwc2UsXG4gIERhdGVQaWNrZXIsXG4gIEVtcHR5LFxuICBGb3JtLFxuICBJbnB1dCxcbiAgSW5wdXROdW1iZXIsXG4gIFBvcGNvbmZpcm0sXG4gIFNlbGVjdCxcbiAgU3BpbixcbiAgVGltZWxpbmUsXG4gIFRyZWVTZWxlY3QsXG4gIG5vdGlmaWNhdGlvbixcbn0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBNb2RhbCBmcm9tIFwiYW50ZC9saWIvbW9kYWwvTW9kYWxcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzQ3JlYXRlID0gKHsgc2lkZW1lbnUsIGRhdGFQcm9maWxlLCBpbml0UHJvcHMgfSkgPT4ge1xuICAvLzEuSW5pdFxuICBjb25zdCBydCA9IHVzZVJvdXRlcigpO1xuICB2YXIgcGF0aEFyciA9IHJ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcbiAgcGF0aEFyci5zcGxpY2UoMywgMSk7XG4gIHBhdGhBcnJbcGF0aEFyci5sZW5ndGggLSAxXSA9IFwiVGFtYmFoIE1vZGVsXCI7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm1dID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm0yXSA9IEZvcm0udXNlRm9ybSgpO1xuICBjb25zdCB7IFBhbmVsIH0gPSBDb2xsYXBzZTtcblxuICAvLzIuSGVscGVyIGZ1bmN0aW9uc1xuICBjb25zdCByZW5kZXJDaGlsZFBhcnRNb2RlbCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuIGl0ZW0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgcmV0dXJuIDxDaGlsZHJlbiBkb2M9e2RvY30+PC9DaGlsZHJlbj47XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IENoaWxkcmVuID0gKHsgZG9jIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRpbWVsaW5lLkl0ZW0+XG4gICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAge1xuICAgICAgICAgICAgPFBhbmVsIGhlYWRlcj17ZG9jLm5hbWV9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+UXVhbnRpdHkgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj48L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MucXVhbnRpdHl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYzIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdmFyIGRlZmF1bHQyID0ge307XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0MiA9IEpTT04ucGFyc2UoZG9jbWMyLmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkZWZhdWx0Mi5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGVmYXVsdDIub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2Fzc2V0ZGF0YSwgc2V0YXNzZXRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21hbnVmZGF0YSwgc2V0bWFudWZkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVsZGF0YSwgc2V0bW9kZWxkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YSwgc2V0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YTIsIHNldGZpZWxkZGF0YTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYSwgc2V0ZmllbGRkYXRhYV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhMiwgc2V0ZmllbGRkYXRhYTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxwYXJ0ZmllbGRkYXRhLCBzZXRtb2RlbHBhcnRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudGZpZWxkLCBzZXRjdXJyZW50ZmllbGRdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZDIsIHNldGN1cnJlbnRmaWVsZDJdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRpZG1vZGVsLCBzZXRjdXJyZW50aWRtb2RlbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FkZGVkZmllbGQsIHNldGFkZGVkZmllbGRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDEsIHNldGFkZGVkZmllbGQxXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQyLCBzZXRhZGRlZGZpZWxkMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMywgc2V0YWRkZWRmaWVsZDNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeCwgc2V0YWRkZWRmaWVsZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlciwgc2V0YWRkZWRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDEsIHNldGFkZGVkZmllbGRpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMSwgc2V0YWRkZWRmaWVsZHRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgyLCBzZXRhZGRlZGZpZWxkaWR4Ml0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjIsIHNldGFkZGVkZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Mywgc2V0YWRkZWRmaWVsZGlkeDNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIzLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZSwgc2V0bG9hZGluZ2NyZWF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlbW9kZWwsIHNldGxvYWRpbmdjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nZ2V0bW9kZWwsIHNldGxvYWRpbmdnZXRtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmFsb2FkaW5nLCBzZXRwcmFsb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMsIHNldGxvYWRpbmdzcGVjXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjMiwgc2V0bG9hZGluZ3NwZWMyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bjIsIHNldGN1cnJlbnRkcm9wZG93bjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bm4yLCBzZXRjdXJyZW50ZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlciwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMSwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjMsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkZmllbGQyLCBzZXRkaXNhYmxlZGFkZGZpZWxkMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZHBhcnQsIHNldGRpc2FibGVkYWRkcGFydF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQsIHNldHBvaW50ZXZlbnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwb2ludGV2ZW50Miwgc2V0cG9pbnRldmVudDJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjZDIsIHNldGNkMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RpZHgsIHNldGNkaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkdHJpZ2dlciwgc2V0Y2R0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NkMnBhcnQsIHNldGNkMnBhcnRdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2NkcGFydGlkeCwgc2V0Y2RwYXJ0aWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkcGFydHRyaWdnZXIsIHNldGNkcGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvL2NyZWF0ZSBtYW51ZmFjdHVyZXJcbiAgY29uc3QgW21vZGFsbWFudWYsIHNldG1vZGFsbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ21hbnVmLCBzZXRsb2FkaW5nbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRtYW51Ziwgc2V0ZGlzYWJsZWRtYW51Zl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyaWdnZXJtYW51Ziwgc2V0dHJpZ2dlcm1hbnVmXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2RhdGFtYW51Ziwgc2V0ZGF0YW1hbnVmXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICB9KTtcblxuICAvLzMub25DaGFuZ2VcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkID0gKCkgPT4ge1xuICAgIHNldGZpZWxkZGF0YTIoW1xuICAgICAgLi4uZmllbGRkYXRhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICB9KTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgIHZhciBib29sID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib29sLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGFkZGVkZmllbGQxKGJvb2wpO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlKHJlczIuZGF0YS5pZCk7XG4gICAgICAgICAgLy8gc2V0bmV3ZGF0YXRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRwYXJ0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0YXNzZXR0eXBlY29kZTIocmVzMi5kYXRhLmlkKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhMi5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICAuLi5uZXdkYXRhMixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy80LmhhbmRsZVxuICBjb25zdCBoYW5kbGVDcmVhdGVNb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YSkge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNb2RlbCBiZXJoYXNpbCBkaXRhbWJhaGthblwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7cmVzMi5pZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgbW9kZWxfcGFydHM6IFtdLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICBzZXRtb2RlbHRyaWdnZXIocmVzMi5pZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQWRkTWFudWZhY3R1cmVyID0gKCkgPT4ge1xuICAgIHNldGxvYWRpbmdtYW51Zih0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vYWRkTWFudWZhY3R1cmVyYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhbWFudWYpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ21hbnVmKGZhbHNlKTtcbiAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRkYXRhbWFudWYoe1xuICAgICAgICAgICAgLi4uZGF0YW1hbnVmLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXR0cmlnZ2VybWFudWYoKHByZXYpID0+IHByZXYgKyAxKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vNS51c2VFZmZlY3RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0QXNzZXRzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGFzc2V0ZGF0YShyZXMyLmRhdGEpO1xuICAgICAgICBzZXRwcmFsb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1hbnVmYWN0dXJlcnNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bWFudWZkYXRhKHJlczIuZGF0YSk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFt0cmlnZ2VybWFudWZdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKG1vZGVsdHJpZ2dlcik7XG4gICAgICAgIG1vZGVsdHJpZ2dlciAhPT0gZmFsc2UgPyBzZXRlZGl0cGFydCh0cnVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgfSwgW21vZGVsdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEuY29uY2F0KGZpZWxkZGF0YTIpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHggIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHhdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeF0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MSAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgxXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDMgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4M10gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4M10gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfcGFydHM6IHRlbXAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0cGFydHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDIuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMigocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkaWR4KSk7XG4gICAgfVxuICB9LCBbY2R0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkcGFydGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDJwYXJ0LmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RwYXJ0aWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QycGFydCgocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkcGFydGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkcGFydHRyaWdnZXJdKTtcblxuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL2FkbWluL21vZGVsc2B9PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiIC8qb25DbGljaz17KCkgPT4geyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2cobmV3ZGF0YSk7IH19Ki9cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0uc3VibWl0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU3RpY2t5PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkluZm9ybWFzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIHtwcmFsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8U3Bpbj48L1NwaW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybX1cbiAgICAgICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e25ld2RhdGF9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLmlzX2NvbnN1bWFibGV9XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtsb2FkaW5nc3BlYyA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDFbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvY2RkLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jeHgsIGlkeHgpID0+IGRvY3h4LmlkICE9PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7ZmllbGRkYXRhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2NkZCwgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2NkZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXs8c3Ryb25nPntkb2MubmFtZX08L3N0cm9uZz59XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgTW9kZWwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZGFyaSBNb2RlbCBQYXJ0ICR7bmV3ZGF0YS5uYW1lfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMikgPT4gZG9jMi5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAubW9kZWxfcGFydHNbaWR4ZGF0YV0ucXVhbnRpdHkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX3BhcnRzW2lkeGRhdGFdLnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMuc3BsaWNlKGlkeGRhdGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgcmVkYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0IFR5cGV7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bGFzc2V0dHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MuYXNzZXQubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYywgaWR4bWMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jbWMuZGF0YV90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBteS1hdXRvIHB4LTIgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctd2hpdGUgYm9yZGVyIHctMy8xMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBiZy1ncmF5LTEwMCBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjAgcm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfcGFydHMubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVsaW5lIHN0eWxlPXt7IG1hcmdpblRvcDogYDFyZW1gIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyQ2hpbGRQYXJ0TW9kZWwoZG9jLm1vZGVsX3BhcnRzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGltZWxpbmU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZWRpdHBhcnQgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbXktMyBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtNSB0ZXh0LWxnIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRpZG1vZGVsfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2N1cnJlbnRpZG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaGluZ3BhcnQgPyA8U3BpbiBzaXplPVwic21hbGxcIiAvPiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vZ2V0TW9kZWxzP3Jvd3M9MTAmbmFtZT0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICE9PSBcIlwiID8gdmFsdWUgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0bW9kZWxkYXRhKFtdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3A9XCJjaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGVsZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2RvYy5pZH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nZ2V0bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHtjdXJyZW50aWRtb2RlbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMSA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzMi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W3Byb3BdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbcHJvcF0gPSByZXMyLmRhdGFbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAxID0gWy4uLnRlbXAxLCB0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dmFsdWUocmVzMi5kYXRhLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhMiA9IHRlbXAubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ZGF0YTIgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY3VycmVudGlkbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZHhkYXRhMiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX3BhcnRzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZHBhcnR9XG4gICAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICArIFRhbWJhaCBQYXJ0IE1vZGVsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTW9kZWw8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7IC8qY29uc29sZS5sb2cobmV3ZGF0YTIpKi9cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0yLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlbW9kZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbGNyZWF0ZW1vZGVsfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIG1iLThcIj5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtMn1cbiAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJhc3NldF9pZFwiIGxhYmVsPVwiQXNzZXQgVHlwZVwiPlxuICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5hc3NldF9pZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3ZGF0YTIubmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3ZGF0YTIubWFudWZhY3R1cmVyX2lkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGFhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMltpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDJdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGFhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTsgLypjb25zb2xlLmxvZyhuZXdkYXRhMikqL1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkbWFudWZ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTWFudWZhY3R1cmVyfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdtYW51Zn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsbWFudWZ9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICBOYW1hIE1hbnVmYWN0dXJlciA8c3BhbiBjbGFzc05hbWU9XCJuYW1hbWFudVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17ZGF0YW1hbnVmLm5hbWV9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gTmFtYSBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgPyBzZXRkaXNhYmxlZG1hbnVmKHRydWUpXG4gICAgICAgICAgICAgICAgICA6IHNldGRpc2FibGVkbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldGRhdGFtYW51Zih7IG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmFtYW1hbnU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzIH0pIHtcbiAgdmFyIGluaXRQcm9wcyA9IHt9O1xuICBpZiAoIXJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCBjb29raWVzSlNPTjEgPSBodHRwY29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSk7XG4gIGlmICghY29va2llc0pTT04xLnRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGluaXRQcm9wcyA9IGNvb2tpZXNKU09OMS50b2tlbjtcbiAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2RldGFpbFByb2ZpbGVgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCByZXNqc29uID0gYXdhaXQgcmVzb3VyY2VzLmpzb24oKTtcbiAgY29uc3QgZGF0YVByb2ZpbGUgPSByZXNqc29uO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRQcm9wcyxcbiAgICAgIGRhdGFQcm9maWxlLFxuICAgICAgc2lkZW1lbnU6IFwiODJcIixcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNDcmVhdGU7XG4iXX0= */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/create/index.js */\"\n              }, void 0, false, void 0, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3344,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n              children: /*#__PURE__*/_jsxDEV(_Form, {\n                layout: \"vertical\",\n                initialValues: currentfield2,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n                    name: \"name\",\n                    label: \"Nama Field\",\n                    rules: [{\n                      required: true,\n                      message: \"Nama Field wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(_Input, {\n                      required: true,\n                      name: \"name\",\n                      onChange: e => {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          name: e.target.value\n                        }));\n\n                        if (e.target.value === \"\") {\n                          setdisabledtambah2(true);\n                        } else if (e.target.value !== \"\" && currentfield2.data_type !== \"\" && currentdropdownn2.every((doca, idxa) => doca !== \"\")) {\n                          setdisabledtambah2(false);\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3480,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3470,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                    name: \"data_type\",\n                    label: \"Tipe Field\",\n                    rules: [{\n                      required: true,\n                      message: \"Tipe Field wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(_Select, {\n                      placeholder: \"Pilih Tipe Field\",\n                      onChange: value => {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          data_type: value\n                        }));\n\n                        if (value === \"dropdown\" || value === \"checkbox\") {\n                          if (currentdropdownn2.every((doca, idxa) => doca !== \"\")) {\n                            setdisabledtambah2(false);\n                          } else {\n                            setdisabledtambah2(true);\n                          }\n                        } else {\n                          setdisabledtambah2(false);\n                        }\n\n                        if (value === \"dropdown\") {\n                          setcurrentcheckeddropdownn2(\"\");\n                          setcurrentdropdownn2([\"\", \"\"]);\n                          setcd2part([\"\", \"\"]);\n                          setdisabledtambah2(true);\n                        }\n\n                        if (value === \"checkbox\") {\n                          setcurrentcheckeddropdownn2([]);\n                          setcurrentdropdownn2([\"\", \"\"]);\n                          setcd2part([\"\", \"\"]);\n                          setdisabledtambah2(true);\n                        }\n                      },\n                      name: \"data_type\",\n                      children: [/*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"dropdown\",\n                        children: \"Dropdown\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3550,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"number\",\n                        children: \"Number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3553,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"paragraph\",\n                        children: \"Paragraph Text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3556,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"checkbox\",\n                        children: \"Checkbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3559,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"single\",\n                        children: \"Single Textbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3562,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                        value: \"date\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3565,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3512,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3502,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3469,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                  name: \"default\",\n                  label: \"Default\",\n                  children: [currentfield2.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3573,\n                      columnNumber: 29\n                    }, this), currentdropdownn2.map((doc, idxx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-7 flex items-center\",\n                        children: /*#__PURE__*/_jsxDEV(_Checkbox, {\n                          checked: currentcheckeddropdownn2 === idxx ? true : false,\n                          onChange: e => {\n                            if (e.target.checked === true) {\n                              setcurrentcheckeddropdownn2(idxx);\n                            }\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3580,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3579,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-10/12 mr-5\",\n                        children: /*#__PURE__*/_jsxDEV(_Input, {\n                          style: {\n                            marginRight: `0.5rem`\n                          },\n                          defaultValue: doc,\n                          placeholder: `Masukkan opsi ke-${idxx + 1}`,\n                          onChange: e => {\n                            setcurrentdropdownn2(prev => {\n                              const temp = prev;\n                              temp[idxx] = e.target.value;\n                              return temp;\n                            });\n                            setcd2part(prev => {\n                              const temp = prev;\n                              temp[idxx] = e.target.value;\n                              return temp;\n                            });\n\n                            if (e.target.value !== \"\" && currentdropdownn2.every((doca, idxa) => doca !== \"\") && currentfield2.name !== \"\") {\n                              setdisabledtambah2(false);\n                            } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                              setdisabledtambah2(true);\n                            }\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3594,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3593,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-1/12 flex justify-around\",\n                        onClick: () => {\n                          setcurrentdropdownn2([]);\n                          setcdparttrigger(prev => !prev);\n                          setcdpartidx(idxx);\n                        },\n                        children: /*#__PURE__*/_jsxDEV(_Button, {\n                          type: \"danger\",\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3634,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3626,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3578,\n                      columnNumber: 31\n                    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/_jsxDEV(_Button, {\n                        onClick: () => {\n                          setcurrentdropdownn2([...currentdropdownn2, \"\"]);\n                          setcd2part([...cd2part, \"\"]);\n                          setdisabledtambah2(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3639,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3638,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3572,\n                    columnNumber: 27\n                  }, this) : null, currentfield2.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3657,\n                      columnNumber: 29\n                    }, this), currentdropdownn2.map((doc, idxx) => {\n                      const idxchecked = currentcheckeddropdownn2.includes(idxx);\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/_jsxDEV(_Checkbox, {\n                            defaultChecked: idxchecked,\n                            onChange: e => {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdownn2(prev => {\n                                  var temp = prev;\n                                  temp.push(idxx);\n                                  return temp;\n                                });\n                              } else {\n                                setcurrentcheckeddropdownn2(prev => {\n                                  var temp = prev;\n                                  const index = temp.indexOf(idxx);\n                                  temp.splice(index, 1);\n                                  return temp;\n                                });\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3667,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3666,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/_jsxDEV(_Input, {\n                            style: {\n                              marginRight: `0.5rem`\n                            },\n                            defaultValue: doc,\n                            placeholder: `Masukkan opsi ke-${idxx + 1}`,\n                            onChange: e => {\n                              setcurrentdropdownn2(prev => {\n                                const temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2part(prev => {\n                                const temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdownn2.every((doca, idxa) => doca !== \"\") && currentfield2.name !== \"\") {\n                                setdisabledtambah2(false);\n                              } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                setdisabledtambah2(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3692,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3691,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: () => {\n                            setcurrentdropdownn2([]);\n                            setcdparttrigger(prev => !prev);\n                            setcdpartidx(idxx);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(_Button, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3734,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3726,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3665,\n                        columnNumber: 33\n                      }, this);\n                    }), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/_jsxDEV(_Button, {\n                        onClick: () => {\n                          setcurrentdropdownn2([...currentdropdownn2, \"\"]);\n                          setcd2part([...cd2part, \"\"]);\n                          setdisabledtambah2(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3740,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3739,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3656,\n                    columnNumber: 27\n                  }, this) : null, currentfield2.data_type.toLowerCase() === \"number\" && /*#__PURE__*/_jsxDEV(_InputNumber, {\n                    style: {\n                      width: `30%`\n                    },\n                    defaultValue: fielddataa2[idx].default,\n                    placeholder: `Masukkan default ${currentfield2.name}`,\n                    onChange: value => {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        default: `${value}`\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3756,\n                    columnNumber: 27\n                  }, this), currentfield2.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/_jsxDEV(_Input.TextArea, {\n                    rows: 4,\n                    placeholder: `Masukkan default ${currentfield2.name}`,\n                    defaultValue: fielddataa2[idx].default,\n                    onChange: e => {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        default: e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3770,\n                    columnNumber: 27\n                  }, this), currentfield2.data_type.toLowerCase() === \"string\" && /*#__PURE__*/_jsxDEV(_Input, {\n                    placeholder: `Masukkan default ${currentfield2.name}`,\n                    defaultValue: fielddataa2[idx].default,\n                    onChange: e => {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        default: e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3783,\n                    columnNumber: 27\n                  }, this), currentfield2.data_type.toLowerCase() === \"single\" && /*#__PURE__*/_jsxDEV(_Input, {\n                    placeholder: `Masukkan default ${currentfield2.name}`,\n                    defaultValue: fielddataa2[idx].default,\n                    onChange: e => {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        default: e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3795,\n                    columnNumber: 27\n                  }, this), currentfield2.data_type.toLowerCase() === \"date\" && /*#__PURE__*/_jsxDEV(_DatePicker, {\n                    style: {\n                      width: `30%`\n                    },\n                    placeholder: `Masukkan default ${currentfield2.name}`,\n                    onChange: (value, dateString) => {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        default: dateString\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3807,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3569,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3819,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex mt-4 justify-end\",\n                  children: [/*#__PURE__*/_jsxDEV(_Popconfirm, {\n                    placement: \"bottom\",\n                    title: `Apakah anda yakin ingin menghapus field ${doc.name === \"\" ? \"ini\" : doc.name}?`,\n                    okText: \"Ya\",\n                    cancelText: \"Tidak\",\n                    onConfirm: () => {\n                      setfielddataa2(prev => prev.filter((_, idxx) => idxx !== idx));\n                      setnewdata2(prev => {\n                        var temp = prev;\n                        temp.model_columns = temp.model_columns.filter((_, idxx) => idxx !== fielddataa.length + idx);\n                        return temp;\n                      });\n                      setaddedfield2(prev => {\n                        prev.splice(idx, 1);\n                        return prev;\n                      });\n                      setdisabledaddfield2(false);\n                      setpointevent(\"\");\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                      children: /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n                        style: {\n                          fontSize: `1.25rem`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3848,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3847,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3821,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" flex items-center mr-4\",\n                    children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                      checked: currentfield2.required,\n                      style: {\n                        marginRight: `0.5rem`\n                      },\n                      onChange: e => {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          required: e.target.checked\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3854,\n                      columnNumber: 27\n                    }, this), \" \", \"Required\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3853,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                    disabled: disabledtambah2,\n                    type: \"primary\",\n                    onClick: () => {\n                      if (currentfield2.data_type === \"dropdown\" || currentfield2.data_type === \"checkbox\") {\n                        setidxdropdowntrigger2(idx);\n                        setvaluedropdowntrigger2(prev => !prev);\n                      }\n\n                      const temp = fielddataa2;\n                      temp[idx] = currentfield2;\n                      setfielddataa2(temp);\n                      setaddedfieldidx2(idx);\n                      setaddedfieldtrigger2(prev => !prev);\n                      setconcatfieldtrigger2(prev => !prev);\n                      setdisabledaddfield2(false);\n                      setpointevent2(\"\");\n                    },\n                    children: \"Tambah\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3866,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3820,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3468,\n                columnNumber: 21\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3464,\n              columnNumber: 19\n            }, this)\n          }, void 0, false);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full flex justify-center mt-5\",\n          children: /*#__PURE__*/_jsxDEV(_Button, {\n            type: \"dashed\",\n            disabled: disabledaddfield2,\n            style: {\n              width: `80%`,\n              height: `4rem`\n            },\n            onClick: onClickAddField2,\n            children: \"+ Tambah Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3897,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3896,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2632,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2494,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: \"Form Tambah Manufacturer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3911,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(_Button, {\n            type: \"default\",\n            onClick: () => {\n              setmodalcreatemodel(false);\n              /*console.log(newdata2)*/\n            },\n            style: {\n              marginRight: `1rem`\n            },\n            children: \"Batal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3913,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            disabled: disabledmanuf,\n            onClick: handleAddManufacturer,\n            loading: loadingmanuf,\n            children: \"Simpan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3922,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3912,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3910,\n        columnNumber: 11\n      }, this),\n      visible: modalmanuf,\n      footer: null,\n      onCancel: () => {\n        setmodalmanuf(false);\n      },\n      width: 900,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-842967156\" + \" \" + \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"jsx-842967156\" + \" \" + \"mb-0\",\n            children: [\"Nama Manufacturer \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"jsx-842967156\" + \" \" + \"namamanu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3943,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3942,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Input, {\n            value: datamanuf.name,\n            placeholder: \"Masukkan Nama Manufacturer\",\n            onChange: e => {\n              e.target.value === \"\" ? setdisabledmanuf(true) : setdisabledmanuf(false);\n              setdatamanuf({\n                name: e.target.value\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3945,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n            id: \"842967156\",\n            children: \".namamanu.jsx-842967156::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy9jcmVhdGUvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBbTNIZSxBQUdpRCxZQUNGLFVBQ2QiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL2NyZWF0ZS9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlbGV0ZU91dGxpbmVkIH0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQge1xuICBDYWxlbmRhck91dGxpbmVkLFxuICBDbG9zZUNpcmNsZU91dGxpbmVkLFxuICBQbHVzU3F1YXJlVHdvVG9uZSxcbn0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQge1xuICBCdXR0b24sXG4gIENoZWNrYm94LFxuICBDb2xsYXBzZSxcbiAgRGF0ZVBpY2tlcixcbiAgRW1wdHksXG4gIEZvcm0sXG4gIElucHV0LFxuICBJbnB1dE51bWJlcixcbiAgUG9wY29uZmlybSxcbiAgU2VsZWN0LFxuICBTcGluLFxuICBUaW1lbGluZSxcbiAgVHJlZVNlbGVjdCxcbiAgbm90aWZpY2F0aW9uLFxufSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IE1vZGFsIGZyb20gXCJhbnRkL2xpYi9tb2RhbC9Nb2RhbFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgU3RpY2t5IGZyb20gXCJ3aWwtcmVhY3Qtc3RpY2t5XCI7XG5cbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0LWRhc2hib2FyZFwiO1xuaW1wb3J0IHN0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmQubW9kdWxlLmNzc1wiO1xuaW1wb3J0IGh0dHBjb29raWUgZnJvbSBcImNvb2tpZVwiO1xuXG5jb25zdCBNb2RlbHNDcmVhdGUgPSAoeyBzaWRlbWVudSwgZGF0YVByb2ZpbGUsIGluaXRQcm9wcyB9KSA9PiB7XG4gIC8vMS5Jbml0XG4gIGNvbnN0IHJ0ID0gdXNlUm91dGVyKCk7XG4gIHZhciBwYXRoQXJyID0gcnQucGF0aG5hbWUuc3BsaXQoXCIvXCIpLnNsaWNlKDEpO1xuICBwYXRoQXJyLnNwbGljZSgzLCAxKTtcbiAgcGF0aEFycltwYXRoQXJyLmxlbmd0aCAtIDFdID0gXCJUYW1iYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgQ2hpbGRyZW4gPSAoeyBkb2MgfSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8VGltZWxpbmUuSXRlbT5cbiAgICAgICAgPENvbGxhcHNlIGFjY29yZGlvbj5cbiAgICAgICAgICB7XG4gICAgICAgICAgICA8UGFuZWwgaGVhZGVyPXtkb2MubmFtZX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBwLTNcIj5cbiAgICAgICAgICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5RdWFudGl0eSA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPjwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYmctZ3JheS0yMDAgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gaC0xMiBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5xdWFudGl0eX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICovfVxuICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jMiwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdDIgPSB7fTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQyID0gSlNPTi5wYXJzZShkb2NtYzIuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIubmFtZX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvY21jMi5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAxMDAlYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGByZ2JhKDIyOSwgMjMxLCAyMzUsMSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RlZmF1bHQyLm9wc2kubWFwKChkb2MyLCBpZHgyKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gZGlzYWJsZWQgdmFsdWU9e2lkeDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkZWZhdWx0Mi5vcHNpLm1hcCgoZG9jMywgaWR4MykgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jM308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQgYmctZ3JheS0xMDAgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jbWMyLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgIHJlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgIDwvVGltZWxpbmUuSXRlbT5cbiAgICApO1xuICB9O1xuXG4gIC8vMi51c2VTdGF0ZVxuICBjb25zdCBbbmV3ZGF0YSwgc2V0bmV3ZGF0YV0gPSB1c2VTdGF0ZSh7XG4gICAgYXNzZXRfaWQ6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICBtYW51ZmFjdHVyZXJfaWQ6IG51bGwsXG4gICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgfSk7XG4gIGNvbnN0IFtuZXdkYXRhMiwgc2V0bmV3ZGF0YTJdID0gdXNlU3RhdGUoe1xuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gIH0pO1xuICBjb25zdCBbYXNzZXRkYXRhLCBzZXRhc3NldGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbWFudWZkYXRhLCBzZXRtYW51ZmRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxkYXRhLCBzZXRtb2RlbGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhLCBzZXRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhMiwgc2V0ZmllbGRkYXRhMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhLCBzZXRmaWVsZGRhdGFhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEyLCBzZXRmaWVsZGRhdGFhMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbHBhcnRmaWVsZGRhdGEsIHNldG1vZGVscGFydGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQsIHNldGN1cnJlbnRmaWVsZF0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgZGVmYXVsdDogXCJzaW5nbGVcIixcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pO1xuICBjb25zdCBbY3VycmVudGZpZWxkMiwgc2V0Y3VycmVudGZpZWxkMl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgZGVmYXVsdDogXCJzaW5nbGVcIixcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pO1xuICBjb25zdCBbY3VycmVudGlkbW9kZWwsIHNldGN1cnJlbnRpZG1vZGVsXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYWRkZWRmaWVsZCwgc2V0YWRkZWRmaWVsZF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMSwgc2V0YWRkZWRmaWVsZDFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDIsIHNldGFkZGVkZmllbGQyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQzLCBzZXRhZGRlZGZpZWxkM10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4LCBzZXRhZGRlZGZpZWxkaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4MSwgc2V0YWRkZWRmaWVsZGlkeDFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIxLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDIsIHNldGFkZGVkZmllbGRpZHgyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMiwgc2V0YWRkZWRmaWVsZHRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgzLCBzZXRhZGRlZGZpZWxkaWR4M10gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjMsIHNldGFkZGVkZmllbGR0cmlnZ2VyM10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlLCBzZXRsb2FkaW5nY3JlYXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGVtb2RlbCwgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdnZXRtb2RlbCwgc2V0bG9hZGluZ2dldG1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ByYWxvYWRpbmcsIHNldHByYWxvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYywgc2V0bG9hZGluZ3NwZWNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMyLCBzZXRsb2FkaW5nc3BlYzJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VycmVudGRyb3Bkb3duMiwgc2V0Y3VycmVudGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGRyb3Bkb3dubjIsIHNldGN1cnJlbnRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyM10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIxLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjIsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMywgc2V0aWR4ZHJvcGRvd250cmlnZ2VyM10gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjb25jYXRmaWVsZHRyaWdnZXIsIHNldGNvbmNhdGZpZWxkdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRmaWVsZHRyaWdnZXIyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VkaXRwYXJ0LCBzZXRlZGl0cGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RhbGNyZWF0ZW1vZGVsLCBzZXRtb2RhbGNyZWF0ZW1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld2RhdGF0cmlnZ2VyLCBzZXRuZXdkYXRhdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlcjIsIHNldG5ld2RhdGF0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RlbHRyaWdnZXIsIHNldG1vZGVsdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRwYXJ0dHJpZ2dlciwgc2V0Y29uY2F0cGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHZhbHVlLCBzZXRjb25jYXRwYXJ0dmFsdWVdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYXNzZXR0eXBlY29kZSwgc2V0YXNzZXR0eXBlY29kZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUyLCBzZXRhc3NldHR5cGVjb2RlMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Rpc2FibGVkdGFtYmFoLCBzZXRkaXNhYmxlZHRhbWJhaF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaDIsIHNldGRpc2FibGVkdGFtYmFoMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkLCBzZXRkaXNhYmxlZGFkZGZpZWxkXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZDIsIHNldGRpc2FibGVkYWRkZmllbGQyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkcGFydCwgc2V0ZGlzYWJsZWRhZGRwYXJ0XSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmZXRjaGluZ3BhcnQsIHNldGZldGNoaW5ncGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIC8vY3JlYXRlIG1hbnVmYWN0dXJlclxuICBjb25zdCBbbW9kYWxtYW51Ziwgc2V0bW9kYWxtYW51Zl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nbWFudWYsIHNldGxvYWRpbmdtYW51Zl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZG1hbnVmLCBzZXRkaXNhYmxlZG1hbnVmXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbdHJpZ2dlcm1hbnVmLCBzZXR0cmlnZ2VybWFudWZdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbZGF0YW1hbnVmLCBzZXRkYXRhbWFudWZdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gIH0pO1xuXG4gIC8vMy5vbkNoYW5nZVxuICBjb25zdCBvbkNsaWNrQWRkRmllbGQgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhMihbXG4gICAgICAuLi5maWVsZGRhdGEyLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkMiA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGFhMihbXG4gICAgICAuLi5maWVsZGRhdGFhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQgPSAoaWQpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYXNzZXRfaWQ6IE51bWJlcihpZCkgfSk7XG4gICAgc2V0bG9hZGluZ3NwZWModHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDEoYm9vbCk7XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmlkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGFzc2V0dHlwZWNvZGUocmVzMi5kYXRhLmlkKTtcbiAgICAgICAgICAvLyBzZXRuZXdkYXRhdHJpZ2dlcihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZHBhcnQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tTZWxlY3RBc3NldDIgPSAoaWQpID0+IHtcbiAgICBzZXRsb2FkaW5nc3BlYzIodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgYm9vbCA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9vbC5wdXNoKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRhZGRlZGZpZWxkMyhib29sKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YTIubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIHNldGxvYWRpbmdjcmVhdGUodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgcnQucHVzaChgL2FkbWluL21vZGVscy9kZXRhaWwvJHtyZXMyLmlkfWApO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTW9kZWxpbk1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhMikge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhc3NldF9pZFwiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBOdW1iZXIoYXNzZXR0eXBlY29kZTIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGEyW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTW9kZWwgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TWFudWZhY3R1cmVyc2AsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRtYW51ZmRhdGEocmVzMi5kYXRhKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW3RyaWdnZXJtYW51Zl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwobW9kZWx0cmlnZ2VyKTtcbiAgICAgICAgbW9kZWx0cmlnZ2VyICE9PSBmYWxzZSA/IHNldGVkaXRwYXJ0KHRydWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICB9LCBbbW9kZWx0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlciAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIxICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjFdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIzICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIzXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyM10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEoe1xuICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YS5jb25jYXQoZmllbGRkYXRhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4XSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgxICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDFdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4MV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MyAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgzXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIyICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyMl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhMih7XG4gICAgICAuLi5uZXdkYXRhMixcbiAgICAgIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YWEuY29uY2F0KGZpZWxkZGF0YWEyKSxcbiAgICB9KTtcbiAgfSwgW2NvbmNhdGZpZWxkdHJpZ2dlcjJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDIgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMigocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4Ml0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgyXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhIH0pO1xuICB9LCBbbmV3ZGF0YXRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhIH0pO1xuICB9LCBbbmV3ZGF0YXRyaWdnZXIyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgdGVtcCA9IFtdO1xuICAgIGlmIChjb25jYXRwYXJ0dmFsdWUgIT09IC0xKSB7XG4gICAgICBpZiAoY29uY2F0cGFydHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfcGFydHM6IFtdIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uY2F0cGFydHZhbHVlLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICB2YXIgaWR4dGVtcCA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgIGlmIChpZHh0ZW1wICE9PSAtMSAmJiB0ZW1wW2lkeHRlbXBdW1wiaWRcIl0gPT09IGRvYy5pZCkge1xuICAgICAgICAgICAgdmFyIGlkeG9mID0gdGVtcC5tYXAoKGRvYykgPT4gZG9jLmlkKS5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICB0ZW1wW2lkeG9mXSA9IHtcbiAgICAgICAgICAgICAgLi4udGVtcFtpZHhvZl0sXG4gICAgICAgICAgICAgIHF1YW50aXR5OiB0ZW1wW2lkeG9mXS5xdWFudGl0eSArIGRvYy5xdWFudGl0eSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIGlmIChpZHh0ZW1wID09PSAtMSkge1xuICAgICAgICAgICAgdGVtcC5wdXNoKHtcbiAgICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IGRvYy5xdWFudGl0eSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9wYXJ0czogdGVtcCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRwYXJ0dHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMi5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkaWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RwYXJ0aWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMnBhcnQuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZHBhcnRpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RwYXJ0aWR4KSk7XG4gICAgfVxuICB9LCBbY2RwYXJ0dHJpZ2dlcl0pO1xuXG4gIHJldHVybiAoXG4gICAgPExheW91dFxuICAgICAgc3Q9e3N0fVxuICAgICAgdG9rPXtpbml0UHJvcHN9XG4gICAgICBzaWRlbWVudT17c2lkZW1lbnV9XG4gICAgICBkYXRhUHJvZmlsZT17ZGF0YVByb2ZpbGV9XG4gICAgICBwYXRoQXJyPXtwYXRoQXJyfVxuICAgID5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtYXV0byBncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy00XCJcbiAgICAgICAgaWQ9XCJjcmVhdGVBc3NldHNXcmFwcGVyXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IG1iLThcIj5cbiAgICAgICAgICA8U3RpY2t5IGNvbnRhaW5lclNlbGVjdG9yRm9jdXM9XCIjY3JlYXRlQWdlbnRzV3JhcHBlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tNCBmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTIgcHQtNCBib3JkZXItdC0yIGJvcmRlci1iLTIgYmctd2hpdGVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgcHktMlwiPkZvcm0gVGFtYmFoIE1vZGVsPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvYWRtaW4vbW9kZWxzYH0+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCIgLypvbkNsaWNrPXsoKSA9PiB7IGNvbnNvbGUubG9nKGZpZWxkZGF0YTIpOyBjb25zb2xlLmxvZyhuZXdkYXRhKTsgfX0qL1xuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkfVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2NyZWF0ZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybS5zdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9TdGlja3k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+SW5mb3JtYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAge3ByYWxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxTcGluPjwvU3Bpbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtfVxuICAgICAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWx9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17bmV3ZGF0YX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTEvMTIgbXItMlwiPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIiBsYWJlbD1cIk1hbnVmYWN0dXJlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdtYW51Zn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBwdC0yIG15LWF1dG8gaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsbWFudWYodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgTW9kZWwgQ29uc3VtYWJsZSBkZW5nYW4gc2F0dWFuIGp1bWxhaFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2xvYWRpbmdzcGVjID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMVtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihpZGspICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2NkZCwgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jZGR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jZGQsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2N4eCwgaWR4eCkgPT4gZG9jeHguaWQgIT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGRbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihpZGspICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvY2RkLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2NkZCwgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY2RkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPSB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT4gaWR4eCAhPT0gZmllbGRkYXRhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkRmllbGR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgVGFtYmFoIFNwZXNpZmlrYXNpIE1vZGVsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtuZXdkYXRhLmlzX2NvbnN1bWFibGUgPT09IGZhbHNlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi04IGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Lb25maWd1cmFzaSBQYXJ0IE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAgICAgICAgICB7bW9kZWxwYXJ0ZmllbGRkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgcGFuZWwke2lkeH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI9ezxzdHJvbmc+e2RvYy5uYW1lfTwvc3Ryb25nPn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBNb2RlbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBkYXJpIE1vZGVsIFBhcnQgJHtuZXdkYXRhLm5hbWV9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEgPSB0ZW1wLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MyKSA9PiBkb2MyLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC5tb2RlbF9wYXJ0c1tpZHhkYXRhXS5xdWFudGl0eSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHNbaWR4ZGF0YV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9wYXJ0cy5zcGxpY2UoaWR4ZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGByZWRgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXQgVHlwZXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsYXNzZXR0eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5hc3NldC5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jLCBpZHhtYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYy5kYXRhX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIG15LWF1dG8gcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy13aGl0ZSBib3JkZXIgdy0zLzEyIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGJnLWdyYXktMTAwIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGltZWxpbmUgc3R5bGU9e3sgbWFyZ2luVG9wOiBgMXJlbWAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UaW1lbGluZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsYXNzZXR0eXBlOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bHNuOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtlZGl0cGFydCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBteS0zIGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC01IHRleHQtbGcgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB4XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGlkbW9kZWx9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctMTEvMTIgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17Y3VycmVudGlkbW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRDb250ZW50PXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoaW5ncGFydCA/IDxTcGluIHNpemU9XCJzbWFsbFwiIC8+IDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS9nZXRNb2RlbHM/cm93cz0xMCZuYW1lPSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgIT09IFwiXCIgPyB2YWx1ZSA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRtb2RlbGRhdGEoW10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNhcmkgbmFtYSBtb2R1bFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb249eyhpbnB1dCwgb3B0KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kZWxkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17ZG9jLmlkfSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdnZXRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke2N1cnJlbnRpZG1vZGVsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAxID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiByZXMyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbcHJvcF0gPSByZXMyLmRhdGFbcHJvcF0ubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtwcm9wXSA9IHJlczIuZGF0YVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcDEgPSBbLi4udGVtcDEsIHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR2YWx1ZShyZXMyLmRhdGEubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dHJpZ2dlcihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEyID0gdGVtcC5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzMpID0+IGRvYzMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGlkbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9wYXJ0cy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhkYXRhMiA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9wYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50aWRtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkeGRhdGEyICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfcGFydHMubWFwKChkb2MxKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jMS5pZCA9PT0gY3VycmVudGlkbW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMS5xdWFudGl0eSA9IGRvYzEucXVhbnRpdHkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkcGFydH1cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICsgVGFtYmFoIFBhcnQgTW9kZWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTsgLypjb25zb2xlLmxvZyhuZXdkYXRhMikqL1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybTIuc3VibWl0fVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGVtb2RlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsY3JlYXRlbW9kZWx9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgbWItOFwiPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm0yfVxuICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImFzc2V0X2lkXCIgbGFiZWw9XCJBc3NldCBUeXBlXCI+XG4gICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld2RhdGEyLmFzc2V0X2lkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5uYW1lfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdkYXRhMi5tYW51ZmFjdHVyZXJfaWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e25ld2RhdGEyLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi01XCI+XG4gICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEyLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGlzX2NvbnN1bWFibGU6IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5pc19jb25zdW1hYmxlfVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgTW9kZWwgQ29uc3VtYWJsZSBkZW5nYW4gc2F0dWFuIGp1bWxhaFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Gb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgey8qIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdzcGVjMiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYVtpZHhdLnJlcXVpcmVkID8gPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj4gOiBudWxsfSA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj4oe2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCIgPyBcIlNpbmdsZSBUZXh0Ym94XCIgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX0pPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy1mdWxsJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2kgZGliYXdhaCBpbmk8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2NjLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTcgZmxleCBqdXN0aWZ5LWNlbnRlciBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdW1wiZGVmYXVsdFwiXSA9IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fSBkZWZhdWx0VmFsdWU9e2RvY2N9IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9IGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlciBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInBhcmFncmFwaFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYSByb3dzPXs0fSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdW1wiZGVmYXVsdFwiXS5wdXNoKGlkeHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+IHtkb2NjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXIgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBkYXRlU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICB9ICovfVxuICAgICAgICAgIHtsb2FkaW5nc3BlYzIgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhYS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkM1tpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDModGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoZmllbGRkYXRhYVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jeHgsIGlkeHgpID0+IGRvY3h4LmlkICE9PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMyhpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMygocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGFhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MyhpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2ZpZWxkZGF0YWEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQyW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMl07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YWEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkMi5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkRmllbGQyfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTWFudWZhY3R1cmVyPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpOyAvKmNvbnNvbGUubG9nKG5ld2RhdGEyKSovXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRtYW51Zn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRNYW51ZmFjdHVyZXJ9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ21hbnVmfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAgdmlzaWJsZT17bW9kYWxtYW51Zn1cbiAgICAgICAgZm9vdGVyPXtudWxsfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICB3aWR0aD17OTAwfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgIE5hbWEgTWFudWZhY3R1cmVyIDxzcGFuIGNsYXNzTmFtZT1cIm5hbWFtYW51XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHZhbHVlPXtkYXRhbWFudWYubmFtZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBOYW1hIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICA/IHNldGRpc2FibGVkbWFudWYodHJ1ZSlcbiAgICAgICAgICAgICAgICAgIDogc2V0ZGlzYWJsZWRtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0ZGF0YW1hbnVmKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5uYW1hbWFudTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKHsgcmVxLCByZXMgfSkge1xuICB2YXIgaW5pdFByb3BzID0ge307XG4gIGlmICghcmVxLmhlYWRlcnMuY29va2llKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvb2tpZXNKU09OMSA9IGh0dHBjb29raWUucGFyc2UocmVxLmhlYWRlcnMuY29va2llKTtcbiAgaWYgKCFjb29raWVzSlNPTjEudG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaW5pdFByb3BzID0gY29va2llc0pTT04xLnRva2VuO1xuICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZGV0YWlsUHJvZmlsZWAsXG4gICAge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IHJlc2pzb24gPSBhd2FpdCByZXNvdXJjZXMuanNvbigpO1xuICBjb25zdCBkYXRhUHJvZmlsZSA9IHJlc2pzb247XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgaW5pdFByb3BzLFxuICAgICAgZGF0YVByb2ZpbGUsXG4gICAgICBzaWRlbWVudTogXCI4MlwiLFxuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGVsc0NyZWF0ZTtcbiJdfQ== */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/create/index.js */\"\n          }, void 0, false, void 0, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3941,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3940,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3908,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 783,\n    columnNumber: 5\n  }, this);\n};\n\nexport async function getServerSideProps({\n  req,\n  res\n}) {\n  var initProps = {};\n\n  if (!req.headers.cookie) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\"\n      }\n    };\n  }\n\n  const cookiesJSON1 = httpcookie.parse(req.headers.cookie);\n\n  if (!cookiesJSON1.token) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\"\n      }\n    };\n  }\n\n  initProps = cookiesJSON1.token;\n  const resources = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/detailProfile`, {\n    method: `GET`,\n    headers: {\n      Authorization: JSON.parse(initProps)\n    }\n  });\n  const resjson = await resources.json();\n  const dataProfile = resjson;\n  return {\n    props: {\n      initProps,\n      dataProfile,\n      sidemenu: \"82\"\n    }\n  };\n}\nexport default ModelsCreate;","map":{"version":3,"sources":["/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/create/index.js"],"names":["DeleteOutlined","CalendarOutlined","CloseCircleOutlined","PlusSquareTwoTone","Modal","Link","useRouter","useEffect","useState","Sticky","Layout","st","httpcookie","ModelsCreate","sidemenu","dataProfile","initProps","rt","pathArr","pathname","split","slice","splice","length","instanceForm","useForm","instanceForm2","Panel","renderChildPartModel","item","map","doc","idx","Children","name","model_columns","docmc2","default2","data_type","JSON","parse","default","required","charAt","toUpperCase","width","backgroundColor","color","opsi","doc2","idx2","doc3","idx3","marginRight","model_parts","newdata","setnewdata","asset_id","description","manufacturer_id","required_sn","is_consumable","newdata2","setnewdata2","assetdata","setassetdata","manufdata","setmanufdata","modeldata","setmodeldata","fielddata","setfielddata","fielddata2","setfielddata2","fielddataa","setfielddataa","fielddataa2","setfielddataa2","modelpartfielddata","setmodelpartfielddata","currentfield","setcurrentfield","currentfield2","setcurrentfield2","currentidmodel","setcurrentidmodel","addedfield","setaddedfield","addedfield1","setaddedfield1","addedfield2","setaddedfield2","addedfield3","setaddedfield3","addedfieldidx","setaddedfieldidx","addedfieldtrigger","setaddedfieldtrigger","addedfieldidx1","setaddedfieldidx1","addedfieldtrigger1","setaddedfieldtrigger1","addedfieldidx2","setaddedfieldidx2","addedfieldtrigger2","setaddedfieldtrigger2","addedfieldidx3","setaddedfieldidx3","addedfieldtrigger3","setaddedfieldtrigger3","loadingcreate","setloadingcreate","loadingcreatemodel","setloadingcreatemodel","loadinggetmodel","setloadinggetmodel","praloading","setpraloading","loadingspec","setloadingspec","loadingspec2","setloadingspec2","currentdropdown2","setcurrentdropdown2","currentdropdownn2","setcurrentdropdownn2","currentcheckeddropdown2","setcurrentcheckeddropdown2","currentcheckeddropdownn2","setcurrentcheckeddropdownn2","valuedropdowntrigger","setvaluedropdowntrigger","valuedropdowntrigger1","setvaluedropdowntrigger1","valuedropdowntrigger2","setvaluedropdowntrigger2","valuedropdowntrigger3","setvaluedropdowntrigger3","idxdropdowntrigger","setidxdropdowntrigger","idxdropdowntrigger1","setidxdropdowntrigger1","idxdropdowntrigger2","setidxdropdowntrigger2","idxdropdowntrigger3","setidxdropdowntrigger3","concatfieldtrigger","setconcatfieldtrigger","concatfieldtrigger2","setconcatfieldtrigger2","editpart","seteditpart","modalcreatemodel","setmodalcreatemodel","newdatatrigger","setnewdatatrigger","newdatatrigger2","setnewdatatrigger2","modeltrigger","setmodeltrigger","concatparttrigger","setconcatparttrigger","concatpartvalue","setconcatpartvalue","assettypecode","setassettypecode","assettypecode2","setassettypecode2","disabledtambah","setdisabledtambah","disabledtambah2","setdisabledtambah2","disabledaddfield","setdisabledaddfield","disabledaddfield2","setdisabledaddfield2","disabledaddpart","setdisabledaddpart","pointevent","setpointevent","pointevent2","setpointevent2","cd2","setcd2","cdidx","setcdidx","cdtrigger","setcdtrigger","cd2part","setcd2part","cdpartidx","setcdpartidx","cdparttrigger","setcdparttrigger","fetchingpart","setfetchingpart","modalmanuf","setmodalmanuf","loadingmanuf","setloadingmanuf","disabledmanuf","setdisabledmanuf","triggermanuf","settriggermanuf","datamanuf","setdatamanuf","onClickAddField","onClickAddField2","onClickSelectAsset","id","Number","fetch","process","env","NEXT_PUBLIC_BACKEND_URL","method","headers","Authorization","then","res","json","res2","temp","success","data","asset_columns","bool","i","push","newfieldmap","filter","docnewfield","concat","onClickSelectAsset2","handleCreateModel","t","prop","stringify","body","message","duration","setTimeout","handleCreateModelinModel","handleAddManufacturer","prev","temp2","idxtemp","indexOf","idxof","quantity","doc10","idx10","doc11","idx11","submit","maxHeight","overflow","value","label","extra","allCheckedNodes","node","props","e","target","fontSize","checked","some","docopsi","dok","idk","every","doca","idxa","toLowerCase","docdd","idxx","idxchecked","includes","index","dateString","_","docxx","height","idxdata","asset","docmc","idxmc","idxopsi","marginTop","input","opt","children","temp1","idxdata2","doc1","getServerSideProps","req","cookie","redirect","permanent","destination","cookiesJSON1","token","resources","resjson"],"mappings":"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","sourcesContent":["import { DeleteOutlined } from \"@ant-design/icons\";\nimport {\n  CalendarOutlined,\n  CloseCircleOutlined,\n  PlusSquareTwoTone,\n} from \"@ant-design/icons\";\nimport {\n  Button,\n  Checkbox,\n  Collapse,\n  DatePicker,\n  Empty,\n  Form,\n  Input,\n  InputNumber,\n  Popconfirm,\n  Select,\n  Spin,\n  Timeline,\n  TreeSelect,\n  notification,\n} from \"antd\";\nimport Modal from \"antd/lib/modal/Modal\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport Sticky from \"wil-react-sticky\";\n\nimport Layout from \"../../../../components/layout-dashboard\";\nimport st from \"../../../../components/layout-dashboard.module.css\";\nimport httpcookie from \"cookie\";\n\nconst ModelsCreate = ({ sidemenu, dataProfile, initProps }) => {\n  //1.Init\n  const rt = useRouter();\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  pathArr.splice(3, 1);\n  pathArr[pathArr.length - 1] = \"Tambah Model\";\n  const [instanceForm] = Form.useForm();\n  const [instanceForm2] = Form.useForm();\n  const { Panel } = Collapse;\n\n  //2.Helper functions\n  const renderChildPartModel = (item) => {\n    return item.map((doc, idx) => {\n      return <Children doc={doc}></Children>;\n    });\n  };\n  const Children = ({ doc }) => {\n    return (\n      <Timeline.Item>\n        <Collapse accordion>\n          {\n            <Panel header={doc.name}>\n              <div className=\"flex flex-col p-3\">\n                {/* <div className=\"flex flex-col mb-5\">\n                                    <h1 className=\"font-semibold mb-1\">Quantity <span className=\"judulsn\"></span></h1>\n                                    <div className=\"rounded bg-gray-200 w-full flex items-center my-auto h-12 px-2\">\n                                        <p className=\"mb-0 text-sm\">{doc.quantity}</p>\n                                    </div>\n                                </div> */}\n                {doc.model_columns.map((docmc2, idx) => {\n                  var default2 = {};\n                  if (\n                    docmc2.data_type === \"dropdown\" ||\n                    docmc2.data_type === \"checkbox\"\n                  ) {\n                    default2 = JSON.parse(docmc2.default);\n                  }\n                  return (\n                    <div className=\"flex flex-col mb-5\">\n                      <h1 className=\"font-semibold mb-1\">\n                        {docmc2.name}{\" \"}\n                        {docmc2.required ? (\n                          <span className=\"judulsn\"></span>\n                        ) : null}{\" \"}\n                        <span className=\"text-gray-400\">\n                          (\n                          {docmc2.data_type === \"single\"\n                            ? \"Single Textbox\"\n                            : docmc2.data_type.charAt(0).toUpperCase() +\n                              docmc2.data_type.slice(1)}\n                          {docmc2.data_type === \"paragraph\" && ` Text`})\n                        </span>\n                      </h1>\n                      <div className=\"w-full flex items-center my-auto px-2\">\n                        {docmc2.data_type === \"dropdown\" ||\n                        docmc2.data_type === \"checkbox\" ||\n                        docmc2.data_type === \"date\" ||\n                        docmc2.data_type === \"paragraph\" ? (\n                          <>\n                            {docmc2.data_type === \"dropdown\" && (\n                              <Select\n                                disabled\n                                style={{\n                                  width: `100%`,\n                                  backgroundColor: `rgba(229, 231, 235,1)`,\n                                  color: `rgba(229, 231, 235,1)`,\n                                }}\n                              >\n                                {default2.opsi.map((doc2, idx2) => (\n                                  <Select.Option disabled value={idx2}>\n                                    {doc2}\n                                  </Select.Option>\n                                ))}\n                              </Select>\n                            )}\n                            {docmc2.data_type === \"checkbox\" && (\n                              <div className=\"w-full flex flex-col\">\n                                {default2.opsi.map((doc3, idx3) => (\n                                  <div className=\"flex mb-1\">\n                                    <Checkbox\n                                      disabled\n                                      style={{ marginRight: `0.5rem` }}\n                                    ></Checkbox>\n                                    <p className=\"mb-0\">{doc3}</p>\n                                  </div>\n                                ))}\n                              </div>\n                            )}\n                            {docmc2.data_type === \"date\" && (\n                              <div className=\"flex w-full items-center justify-between rounded bg-gray-100 h-10 px-3\">\n                                <p className=\"mb-0\">{docmc2.default}</p>\n                                <div>\n                                  <CalendarOutlined></CalendarOutlined>\n                                </div>\n                              </div>\n                            )}\n                            {docmc2.data_type === \"paragraph\" && (\n                              <div className=\"flex h-20 rounded border bg-gray-100 w-full px-3\">\n                                {docmc2.default}\n                              </div>\n                            )}\n                          </>\n                        ) : (\n                          <div className=\"rounded border bg-gray-100 flex items-center w-full h-10 px-3\">\n                            {docmc2.default}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n                {doc.model_parts.length > 0 &&\n                  renderChildPartModel(doc.model_parts)}\n              </div>\n              <style jsx>\n                {`\n                                                        .judulassettype::before{\n                                                            content: '*';\n                                                            color: red;\n                                                        }\n                                                        .judulsn::before{\n                                                            content: '*';\n                                                            color: red;\n                                                        }\n                                                    `}\n              </style>\n            </Panel>\n          }\n        </Collapse>\n      </Timeline.Item>\n    );\n  };\n\n  //2.useState\n  const [newdata, setnewdata] = useState({\n    asset_id: \"\",\n    name: \"\",\n    description: \"\",\n    manufacturer_id: null,\n    required_sn: false,\n    is_consumable: false,\n    model_columns: [],\n    model_parts: [],\n  });\n  const [newdata2, setnewdata2] = useState({\n    asset_id: \"\",\n    name: \"\",\n    description: \"\",\n    manufacturer_id: \"\",\n    required_sn: false,\n    is_consumable: false,\n    model_columns: [],\n    model_parts: [],\n  });\n  const [assetdata, setassetdata] = useState([]);\n  const [manufdata, setmanufdata] = useState([]);\n  const [modeldata, setmodeldata] = useState([]);\n  const [fielddata, setfielddata] = useState([]);\n  const [fielddata2, setfielddata2] = useState([]);\n  const [fielddataa, setfielddataa] = useState([]);\n  const [fielddataa2, setfielddataa2] = useState([]);\n  const [modelpartfielddata, setmodelpartfielddata] = useState([]);\n  const [currentfield, setcurrentfield] = useState({\n    name: \"\",\n    data_type: \"\",\n    default: \"single\",\n    required: false,\n  });\n  const [currentfield2, setcurrentfield2] = useState({\n    name: \"\",\n    data_type: \"\",\n    default: \"single\",\n    required: false,\n  });\n  const [currentidmodel, setcurrentidmodel] = useState(\"\");\n  const [addedfield, setaddedfield] = useState([]);\n  const [addedfield1, setaddedfield1] = useState([]);\n  const [addedfield2, setaddedfield2] = useState([]);\n  const [addedfield3, setaddedfield3] = useState([]);\n  const [addedfieldidx, setaddedfieldidx] = useState(-1);\n  const [addedfieldtrigger, setaddedfieldtrigger] = useState(false);\n  const [addedfieldidx1, setaddedfieldidx1] = useState(-1);\n  const [addedfieldtrigger1, setaddedfieldtrigger1] = useState(false);\n  const [addedfieldidx2, setaddedfieldidx2] = useState(-1);\n  const [addedfieldtrigger2, setaddedfieldtrigger2] = useState(false);\n  const [addedfieldidx3, setaddedfieldidx3] = useState(-1);\n  const [addedfieldtrigger3, setaddedfieldtrigger3] = useState(false);\n  const [loadingcreate, setloadingcreate] = useState(false);\n  const [loadingcreatemodel, setloadingcreatemodel] = useState(false);\n  const [loadinggetmodel, setloadinggetmodel] = useState(false);\n  const [praloading, setpraloading] = useState(true);\n  const [loadingspec, setloadingspec] = useState(false);\n  const [loadingspec2, setloadingspec2] = useState(false);\n  const [currentdropdown2, setcurrentdropdown2] = useState([\"\", \"\"]);\n  const [currentdropdownn2, setcurrentdropdownn2] = useState([\"\", \"\"]);\n  const [currentcheckeddropdown2, setcurrentcheckeddropdown2] = useState(\"\");\n  const [currentcheckeddropdownn2, setcurrentcheckeddropdownn2] = useState(\"\");\n  const [valuedropdowntrigger, setvaluedropdowntrigger] = useState(false);\n  const [valuedropdowntrigger1, setvaluedropdowntrigger1] = useState(false);\n  const [valuedropdowntrigger2, setvaluedropdowntrigger2] = useState(false);\n  const [valuedropdowntrigger3, setvaluedropdowntrigger3] = useState(false);\n  const [idxdropdowntrigger, setidxdropdowntrigger] = useState(-1);\n  const [idxdropdowntrigger1, setidxdropdowntrigger1] = useState(-1);\n  const [idxdropdowntrigger2, setidxdropdowntrigger2] = useState(-1);\n  const [idxdropdowntrigger3, setidxdropdowntrigger3] = useState(-1);\n  const [concatfieldtrigger, setconcatfieldtrigger] = useState(false);\n  const [concatfieldtrigger2, setconcatfieldtrigger2] = useState(false);\n  const [editpart, seteditpart] = useState(false);\n  const [modalcreatemodel, setmodalcreatemodel] = useState(false);\n  const [newdatatrigger, setnewdatatrigger] = useState(false);\n  const [newdatatrigger2, setnewdatatrigger2] = useState(false);\n  const [modeltrigger, setmodeltrigger] = useState(false);\n  const [concatparttrigger, setconcatparttrigger] = useState(false);\n  const [concatpartvalue, setconcatpartvalue] = useState(-1);\n  const [assettypecode, setassettypecode] = useState(\"\");\n  const [assettypecode2, setassettypecode2] = useState(\"\");\n  const [disabledtambah, setdisabledtambah] = useState(false);\n  const [disabledtambah2, setdisabledtambah2] = useState(false);\n  const [disabledaddfield, setdisabledaddfield] = useState(true);\n  const [disabledaddfield2, setdisabledaddfield2] = useState(false);\n  const [disabledaddpart, setdisabledaddpart] = useState(true);\n  const [pointevent, setpointevent] = useState(\"\");\n  const [pointevent2, setpointevent2] = useState(\"\");\n  const [cd2, setcd2] = useState([\"\", \"\"]);\n  const [cdidx, setcdidx] = useState(-1);\n  const [cdtrigger, setcdtrigger] = useState(false);\n  const [cd2part, setcd2part] = useState([\"\", \"\"]);\n  const [cdpartidx, setcdpartidx] = useState(-1);\n  const [cdparttrigger, setcdparttrigger] = useState(false);\n  const [fetchingpart, setfetchingpart] = useState(false);\n  //create manufacturer\n  const [modalmanuf, setmodalmanuf] = useState(false);\n  const [loadingmanuf, setloadingmanuf] = useState(false);\n  const [disabledmanuf, setdisabledmanuf] = useState(true);\n  const [triggermanuf, settriggermanuf] = useState(-1);\n  const [datamanuf, setdatamanuf] = useState({\n    name: \"\",\n  });\n\n  //3.onChange\n  const onClickAddField = () => {\n    setfielddata2([\n      ...fielddata2,\n      {\n        name: \"\",\n        data_type: \"\",\n        default: \"\",\n        required: false,\n      },\n    ]);\n    setcurrentfield({\n      name: \"\",\n      data_type: \"\",\n      default: \"\",\n      required: false,\n    });\n    setcurrentdropdown2([\"\", \"\"]);\n    setcd2([\"\", \"\"]);\n    setcurrentcheckeddropdown2([]);\n    setdisabledtambah(true);\n    setdisabledaddfield(true);\n    setpointevent(\"pointer-events-none\");\n  };\n  const onClickAddField2 = () => {\n    setfielddataa2([\n      ...fielddataa2,\n      {\n        name: \"\",\n        data_type: \"\",\n        default: \"\",\n        required: false,\n      },\n    ]);\n    setcurrentfield2({\n      name: \"\",\n      data_type: \"\",\n      default: \"\",\n      required: false,\n    });\n    setcurrentdropdownn2([\"\", \"\"]);\n    setcd2part([\"\", \"\"]);\n    setcurrentcheckeddropdownn2([]);\n    setdisabledtambah2(true);\n    setdisabledaddfield2(true);\n    setpointevent2(\"pointer-events-none\");\n  };\n  const onClickSelectAsset = (id) => {\n    setnewdata({ ...newdata, asset_id: Number(id) });\n    setloadingspec(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getAsset?id=${id}`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps),\n      },\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        var temp = [];\n        if (res2.success) {\n          temp = res2.data.asset_columns.map((doc, idx) => {\n            if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n              return {\n                ...doc,\n                default: JSON.parse(doc.default),\n              };\n            } else {\n              return { ...doc };\n            }\n          });\n          setfielddata(temp);\n          var bool = [];\n          for (var i = 0; i < temp.length; i++) {\n            bool.push(true);\n          }\n          setaddedfield1(bool);\n          const newfieldmap = newdata.model_columns.filter(\n            (docnewfield) => typeof docnewfield.id === \"undefined\"\n          );\n          setnewdata({\n            ...newdata,\n            model_columns: temp.concat(newfieldmap),\n            required_sn: res2.data.required_sn,\n            asset_id: res2.data.id,\n          });\n          setassettypecode(res2.data.id);\n          // setnewdatatrigger(prev => !prev)\n          setloadingspec(false);\n          setdisabledaddfield(false);\n          setdisabledaddpart(false);\n        } else {\n          temp = [];\n          setfielddata(temp);\n          const newfieldmap = newdata.model_columns.filter(\n            (docnewfield) => typeof docnewfield.id === \"undefined\"\n          );\n          setnewdata({\n            ...newdata,\n            model_columns: temp.concat(newfieldmap),\n            required_sn: false,\n            asset_id: 0,\n          });\n          setloadingspec(false);\n        }\n      });\n  };\n  const onClickSelectAsset2 = (id) => {\n    setloadingspec2(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getAsset?id=${id}`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps),\n      },\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        var temp = [];\n        if (res2.success) {\n          temp = res2.data.asset_columns.map((doc, idx) => {\n            if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n              return {\n                ...doc,\n                default: JSON.parse(doc.default),\n              };\n            } else {\n              return { ...doc };\n            }\n          });\n          var bool = [];\n          for (var i = 0; i < temp.length; i++) {\n            bool.push(true);\n          }\n          setaddedfield3(bool);\n          setfielddataa(temp);\n          const newfieldmap = newdata2.model_columns.filter(\n            (docnewfield) => typeof docnewfield.id === \"undefined\"\n          );\n          setnewdata2({\n            ...newdata2,\n            required_sn: res2.data.required_sn,\n            asset_id: res2.data.id,\n            model_columns: temp.concat(newfieldmap),\n          });\n          setassettypecode2(res2.data.id);\n          setloadingspec2(false);\n          setdisabledaddfield2(false);\n        } else {\n          temp = [];\n          const newfieldmap = newdata2.model_columns.filter(\n            (docnewfield) => typeof docnewfield.id === \"undefined\"\n          );\n          setnewdata2({\n            ...newdata2,\n            model_columns: temp.concat(newfieldmap),\n            required_sn: false,\n            asset_id: 0,\n          });\n          setfielddataa(temp);\n          setloadingspec2(false);\n        }\n      });\n  };\n\n  //4.handle\n  const handleCreateModel = () => {\n    var t = {};\n    for (var prop in newdata) {\n      if (prop === \"model_columns\") {\n        t[prop] = newdata[prop].map((doc, idx) => {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return {\n              ...doc,\n              default: JSON.stringify(doc.default),\n            };\n          } else {\n            return { ...doc };\n          }\n        });\n      } else if (prop === \"asset_id\") {\n        t[prop] = Number(assettypecode);\n      } else {\n        t[prop] = newdata[prop];\n      }\n    }\n    setloadingcreate(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addModel`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(t),\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        setloadingcreate(false);\n        if (res2.success) {\n          notification[\"success\"]({\n            message: \"Model berhasil ditambahkan\",\n            duration: 3,\n          });\n          setTimeout(() => {\n            setmodalcreatemodel(false);\n            rt.push(`/admin/models/detail/${res2.id}`);\n          }, 500);\n        } else if (!res2.success) {\n          notification[\"error\"]({\n            message: res2.message,\n            duration: 3,\n          });\n        }\n      });\n  };\n  const handleCreateModelinModel = () => {\n    var t = {};\n    for (var prop in newdata2) {\n      if (prop === \"model_columns\") {\n        t[prop] = newdata2[prop].map((doc, idx) => {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return {\n              ...doc,\n              default: JSON.stringify(doc.default),\n            };\n          } else {\n            return { ...doc };\n          }\n        });\n      } else if (prop === \"asset_id\") {\n        t[prop] = Number(assettypecode2);\n      } else {\n        t[prop] = newdata2[prop];\n      }\n    }\n    setloadingcreatemodel(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addModel`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(t),\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        setloadingcreatemodel(false);\n        if (res2.success) {\n          notification[\"success\"]({\n            message: \"Model berhasil ditambahkan\",\n            duration: 3,\n          });\n          setnewdata2({\n            asset_id: \"\",\n            name: \"\",\n            description: \"\",\n            manufacturer_id: \"\",\n            required_sn: false,\n            model_columns: [],\n            model_parts: [],\n          });\n          setmodalcreatemodel(false);\n          seteditpart(false);\n          setmodeltrigger(res2.id);\n        } else if (!res2.success) {\n          notification[\"error\"]({\n            message: res2.message,\n            duration: 3,\n          });\n        }\n      });\n  };\n  const handleAddManufacturer = () => {\n    setloadingmanuf(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addManufacturer`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(datamanuf),\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        setloadingmanuf(false);\n        setmodalmanuf(false);\n        if (res2.success) {\n          notification[\"success\"]({\n            message: \"Manufacturer berhasil ditambahkan\",\n            duration: 2,\n          });\n          setdatamanuf({\n            ...datamanuf,\n            name: \"\",\n          });\n          settriggermanuf((prev) => prev + 1);\n        } else if (!res2.success) {\n          notification[\"error\"]({\n            message: res2.message,\n            duration: 3,\n          });\n        }\n      });\n  };\n\n  //5.useEffect\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getAssets`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps),\n      },\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        setassetdata(res2.data);\n        setpraloading(false);\n      });\n  }, []);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getManufacturers`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps),\n      },\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        setmanufdata(res2.data);\n        setpraloading(false);\n      });\n  }, [triggermanuf]);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getModels`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps),\n      },\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        setmodeldata(res2.data.data);\n        setcurrentidmodel(modeltrigger);\n        modeltrigger !== false ? seteditpart(true) : null;\n      });\n  }, [modeltrigger]);\n  useEffect(() => {\n    if (idxdropdowntrigger !== -1) {\n      setfielddata2((prev) => {\n        const temp = prev;\n        // temp[idxdropdowntrigger][\"default\"] = `${valuedropdowntrigger}`\n        temp[idxdropdowntrigger][\"default\"] = {\n          default: currentcheckeddropdown2,\n          opsi: currentdropdown2,\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger]);\n  useEffect(() => {\n    if (idxdropdowntrigger1 !== -1) {\n      setfielddata((prev) => {\n        const temp = prev;\n        // temp[idxdropdowntrigger][\"default\"] = `${valuedropdowntrigger}`\n        temp[idxdropdowntrigger1][\"default\"] = {\n          default: currentcheckeddropdown2,\n          opsi: currentdropdown2,\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger1]);\n  useEffect(() => {\n    if (idxdropdowntrigger3 !== -1) {\n      setfielddataa((prev) => {\n        const temp = prev;\n        // temp[idxdropdowntrigger][\"default\"] = `${valuedropdowntrigger}`\n        temp[idxdropdowntrigger3][\"default\"] = {\n          default: currentcheckeddropdownn2,\n          opsi: currentdropdownn2,\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger3]);\n  useEffect(() => {\n    setnewdata({\n      ...newdata,\n      model_columns: fielddata.concat(fielddata2),\n    });\n  }, [concatfieldtrigger]);\n  useEffect(() => {\n    if (addedfieldidx !== -1) {\n      setaddedfield((prev) => {\n        if (prev[addedfieldidx] === false) {\n          prev[addedfieldidx] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx] === \"undefined\") {\n          const temp2 = [...prev, true];\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger]);\n  useEffect(() => {\n    if (addedfieldidx1 !== -1) {\n      setaddedfield1((prev) => {\n        if (prev[addedfieldidx1] === false) {\n          prev[addedfieldidx1] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx1] === \"undefined\") {\n          const temp2 = [...prev, true];\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger1]);\n  useEffect(() => {\n    if (addedfieldidx3 !== -1) {\n      setaddedfield3((prev) => {\n        if (prev[addedfieldidx3] === false) {\n          prev[addedfieldidx3] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx3] === \"undefined\") {\n          const temp2 = [...prev, true];\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger3]);\n\n  useEffect(() => {\n    if (idxdropdowntrigger2 !== -1) {\n      setfielddataa2((prev) => {\n        const temp = prev;\n        temp[idxdropdowntrigger2][\"default\"] = {\n          default: currentcheckeddropdownn2,\n          opsi: currentdropdownn2,\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger2]);\n  useEffect(() => {\n    setnewdata2({\n      ...newdata2,\n      model_columns: fielddataa.concat(fielddataa2),\n    });\n  }, [concatfieldtrigger2]);\n  useEffect(() => {\n    if (addedfieldidx2 !== -1) {\n      setaddedfield2((prev) => {\n        if (prev[addedfieldidx2] === false) {\n          prev[addedfieldidx2] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx2] === \"undefined\") {\n          const temp2 = [...prev, true];\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger2]);\n\n  useEffect(() => {\n    setnewdata({ ...newdata, model_columns: fielddata });\n  }, [newdatatrigger]);\n  useEffect(() => {\n    setnewdata2({ ...newdata2, model_columns: fielddataa });\n  }, [newdatatrigger2]);\n\n  useEffect(() => {\n    var temp = [];\n    if (concatpartvalue !== -1) {\n      if (concatpartvalue.length === 0) {\n        setnewdata({ ...newdata, model_parts: [] });\n      } else {\n        concatpartvalue.map((doc, idx) => {\n          var idxtemp = temp.map((doc) => doc.id).indexOf(doc.id);\n          if (idxtemp !== -1 && temp[idxtemp][\"id\"] === doc.id) {\n            var idxof = temp.map((doc) => doc.id).indexOf(doc.id);\n            temp[idxof] = {\n              ...temp[idxof],\n              quantity: temp[idxof].quantity + doc.quantity,\n            };\n          } else if (idxtemp === -1) {\n            temp.push({\n              id: doc.id,\n              quantity: doc.quantity,\n            });\n          }\n        });\n        setnewdata({ ...newdata, model_parts: temp });\n      }\n    }\n  }, [concatparttrigger]);\n  useEffect(() => {\n    if (cdidx !== -1) {\n      setcurrentdropdown2((prev) => {\n        return cd2.filter((doc10, idx10) => idx10 !== cdidx);\n      });\n      setcd2((prev) => prev.filter((doc11, idx11) => idx11 !== cdidx));\n    }\n  }, [cdtrigger]);\n  useEffect(() => {\n    if (cdpartidx !== -1) {\n      setcurrentdropdownn2((prev) => {\n        return cd2part.filter((doc10, idx10) => idx10 !== cdpartidx);\n      });\n      setcd2part((prev) => prev.filter((doc11, idx11) => idx11 !== cdpartidx));\n    }\n  }, [cdparttrigger]);\n\n  return (\n    <Layout\n      st={st}\n      tok={initProps}\n      sidemenu={sidemenu}\n      dataProfile={dataProfile}\n      pathArr={pathArr}\n    >\n      <div\n        className=\"w-full h-auto grid grid-cols-1 md:grid-cols-4\"\n        id=\"createAssetsWrapper\"\n      >\n        <div className=\" col-span-1 md:col-span-4 mb-8\">\n          <Sticky containerSelectorFocus=\"#createAgentsWrapper\">\n            <div className=\" col-span-4 flex justify-between p-2 pt-4 border-t-2 border-b-2 bg-white\">\n              <h1 className=\"font-semibold py-2\">Form Tambah Model</h1>\n              <div className=\"flex space-x-2\">\n                <Link href={`/admin/models`}>\n                  <Button\n                    type=\"default\" /*onClick={() => { console.log(fielddata2); console.log(newdata); }}*/\n                  >\n                    Batal\n                  </Button>\n                </Link>\n                <Button\n                  type=\"primary\"\n                  disabled={disabledaddfield}\n                  loading={loadingcreate}\n                  onClick={instanceForm.submit}\n                >\n                  Simpan\n                </Button>\n              </div>\n            </div>\n          </Sticky>\n        </div>\n        <div className=\"col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\">\n          <div className=\"mb-5\">\n            <h1 className=\"font-bold text-xl\">Informasi Model</h1>\n          </div>\n          <div className=\"shadow-md border p-8 flex flex-col rounded-md\">\n            {praloading ? (\n              <Spin></Spin>\n            ) : (\n              <Form\n                form={instanceForm}\n                layout=\"vertical\"\n                onFinish={handleCreateModel}\n                initialValues={newdata}\n              >\n                <div className=\"grid grid-cols-1 md:grid-cols-2 space-x-2\">\n                  <Form.Item\n                    name=\"asset_id\"\n                    label=\"Asset Type\"\n                    rules={[\n                      {\n                        required: true,\n                        message: \"Asset Type wajib diisi\",\n                      },\n                    ]}\n                  >\n                    <TreeSelect\n                      style={{ marginRight: `1rem` }}\n                      dropdownStyle={{ maxHeight: 400, overflow: \"auto\" }}\n                      treeData={assetdata}\n                      placeholder=\"Pilih Asset Type\"\n                      treeDefaultExpandAll\n                      onChange={(value, label, extra) => {\n                        if (typeof value !== \"undefined\") {\n                          onClickSelectAsset(\n                            extra.allCheckedNodes[0].node.props.id\n                          );\n                        } else {\n                          onClickSelectAsset(0);\n                        }\n                      }}\n                      allowClear\n                    />\n                  </Form.Item>\n                  <Form.Item\n                    name=\"name\"\n                    label=\"Nama Model\"\n                    rules={[\n                      {\n                        required: true,\n                        message: \"Nama Model wajib diisi\",\n                      },\n                    ]}\n                  >\n                    <Input\n                      name=\"name\"\n                      onChange={(e) => {\n                        setnewdata({ ...newdata, name: e.target.value });\n                      }}\n                    />\n                  </Form.Item>\n                </div>\n                <div className=\"flex mb-2\">\n                  <div className=\"w-11/12 mr-2\">\n                    <Form.Item name=\"manufacturer_id\" label=\"Manufacturer\">\n                      <Select\n                        loading={loadingmanuf}\n                        placeholder=\"Pilih Manufacturer\"\n                        onChange={(value) => {\n                          setnewdata({ ...newdata, manufacturer_id: value });\n                        }}\n                        name=\"manufacturer_id\"\n                      >\n                        {manufdata.map((doc, idx) => {\n                          return (\n                            <Select.Option key={idx} value={doc.id}>\n                              {doc.name}\n                            </Select.Option>\n                          );\n                        })}\n                      </Select>\n                    </Form.Item>\n                  </div>\n                  <div\n                    className=\"w-1/12 flex pt-2 my-auto items-center justify-center cursor-pointer\"\n                    onClick={() => {\n                      setmodalmanuf(true);\n                    }}\n                  >\n                    <PlusSquareTwoTone style={{ fontSize: `1.5rem` }} />\n                  </div>\n                </div>\n                <Form.Item name=\"description\" label=\"Deskripsi\">\n                  <Input.TextArea\n                    rows={4}\n                    name=\"description\"\n                    onChange={(e) => {\n                      setnewdata({ ...newdata, description: e.target.value });\n                    }}\n                  />\n                </Form.Item>\n                <div className=\"flex mb-5\">\n                  <Checkbox\n                    style={{ marginRight: `0.5rem` }}\n                    onChange={(e) => {\n                      setnewdata({ ...newdata, required_sn: e.target.checked });\n                    }}\n                    checked={newdata.required_sn}\n                  />{\" \"}\n                  Serial Number wajib ada\n                </div>\n                <div className=\"flex\">\n                  <Checkbox\n                    style={{ marginRight: `0.5rem` }}\n                    onChange={(e) => {\n                      setnewdata({\n                        ...newdata,\n                        is_consumable: e.target.checked,\n                      });\n                    }}\n                    checked={newdata.is_consumable}\n                  />{\" \"}\n                  Model Consumable dengan satuan jumlah\n                </div>\n              </Form>\n            )}\n          </div>\n        </div>\n        <div className=\" col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\">\n          <div className=\"mb-5\">\n            <h1 className=\"font-bold text-xl\">Spesifikasi Model</h1>\n          </div>\n          {loadingspec ? (\n            <Spin />\n          ) : (\n            <>\n              {fielddata.map((doc, idx) => {\n                return (\n                  <>\n                    {addedfield1[idx] === true ? (\n                      <div\n                        key={idx}\n                        className={`${pointevent} shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer`}\n                        onClick={() => {\n                          const temp = [...addedfield1];\n                          temp[idx] = false;\n                          for (var i = 0; i < temp.length; i++) {\n                            if (i !== idx) {\n                              temp[i] = true;\n                            }\n                          }\n                          setaddedfield1(temp);\n                          setcurrentfield(fielddata[idx]);\n                          if (\n                            doc.data_type === \"dropdown\" ||\n                            doc.data_type === \"checkbox\"\n                          ) {\n                            setcurrentdropdown2(doc.default.opsi);\n                            setcd2(doc.default.opsi);\n                            setcurrentcheckeddropdown2(doc.default.default);\n                          }\n                          if (\n                            fielddata[idx].data_type !== \"dropdown\" ||\n                            fielddata[idx].data_type !== \"checkbox\"\n                          ) {\n                            if (\n                              fielddata[idx].name !== \"\" &&\n                              fielddata[idx].data_type !== \"\"\n                            ) {\n                              setdisabledtambah(false);\n                            } else {\n                              setdisabledtambah(true);\n                            }\n                          } else {\n                            if (\n                              doc.default.opsi.some((docopsi) => docopsi === \"\")\n                            ) {\n                              setdisabledtambah(true);\n                            } else {\n                              setdisabledtambah(false);\n                            }\n                          }\n                          setdisabledaddfield(true);\n                          setpointevent(\"pointer-events-none\");\n                        }}\n                      >\n                        <div className=\"font-semibold mb-2\">\n                          {doc.name}\n                          {fielddata[idx].required ? (\n                            <span className=\"judulField\"></span>\n                          ) : null}{\" \"}\n                          <span className=\"text-gray-400 text-sm\">\n                            (\n                            {doc.data_type === \"single\"\n                              ? \"Single Textbox\"\n                              : doc.data_type.charAt(0).toUpperCase() +\n                                doc.data_type.slice(1)}\n                            {doc.data_type === \"paragraph\" && ` Text`})\n                          </span>\n                        </div>\n                        <div className=\"rounded border w-full pl-3 py-2 flex items-center my-auto\">\n                          {doc.data_type === \"checkbox\" ||\n                          doc.data_type === \"dropdown\" ||\n                          doc.data_type === \"paragraph\" ||\n                          doc.data_type === \"date\" ? (\n                            <>\n                              {doc.data_type === \"dropdown\" && (\n                                <div className=\"flex flex-col w-full\">\n                                  {doc.default.opsi.map((dok, idk) => {\n                                    return (\n                                      <div\n                                        key={idk}\n                                        className=\"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\"\n                                      >\n                                        <Checkbox\n                                          disabled\n                                          checked={\n                                            doc.default.default === idk\n                                              ? true\n                                              : false\n                                          }\n                                          style={{ marginRight: `0.5rem` }}\n                                        />\n                                        <p className=\"mb-0\">{dok}</p>\n                                      </div>\n                                    );\n                                  })}\n                                </div>\n                              )}\n                              {doc.data_type === \"checkbox\" && (\n                                <div className=\"flex flex-col w-full\">\n                                  {doc.default.opsi.map((dok, idk) => {\n                                    return (\n                                      <div\n                                        key={idk}\n                                        className=\"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\"\n                                      >\n                                        <Checkbox\n                                          disabled\n                                          checked={\n                                            doc.default.default.indexOf(idk) !==\n                                            -1\n                                              ? true\n                                              : false\n                                          }\n                                          style={{ marginRight: `0.5rem` }}\n                                        />\n                                        <p className=\"mb-0\">{dok}</p>\n                                      </div>\n                                    );\n                                  })}\n                                </div>\n                              )}\n                              {doc.data_type === \"date\" && (\n                                <div className=\"flex justify-between w-full px-3\">\n                                  <p className=\"mb-0\">{doc.default}</p>\n                                  <div>\n                                    <CalendarOutlined></CalendarOutlined>\n                                  </div>\n                                </div>\n                              )}\n                              {doc.data_type === \"paragraph\" && (\n                                <div className=\"flex h-20\">{doc.default}</div>\n                              )}\n                            </>\n                          ) : (\n                            <p className=\"mb-0\">{doc.default}</p>\n                          )}\n                        </div>\n                        <style jsx>\n                          {`\n                                                                    .judulField::before{\n                                                                        content: '*';\n                                                                        color: red;\n                                                                    }\n                                                                `}\n                        </style>\n                      </div>\n                    ) : (\n                      <div\n                        key={idx}\n                        className=\"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\"\n                      >\n                        <Form layout=\"vertical\" initialValues={currentfield}>\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 space-x-2\">\n                            <Form.Item\n                              name=\"name\"\n                              label=\"Nama Spesifikasi\"\n                              rules={[\n                                {\n                                  required: true,\n                                  message: \"Nama Spesifikasi wajib diisi\",\n                                },\n                              ]}\n                            >\n                              <Input\n                                required\n                                name=\"name\"\n                                onChange={(e) => {\n                                  setcurrentfield({\n                                    ...currentfield,\n                                    name: e.target.value,\n                                  });\n                                  if (e.target.value === \"\") {\n                                    setdisabledtambah(true);\n                                  } else if (\n                                    e.target.value !== \"\" &&\n                                    currentfield.data_type !== \"\" &&\n                                    currentdropdown2.every(\n                                      (doca, idxa) => doca !== \"\"\n                                    )\n                                  ) {\n                                    setdisabledtambah(false);\n                                  }\n                                }}\n                              />\n                            </Form.Item>\n                            <Form.Item\n                              name=\"data_type\"\n                              label=\"Tipe Field\"\n                              rules={[\n                                {\n                                  required: true,\n                                  message: \"Tipe Field wajib diisi\",\n                                },\n                              ]}\n                            >\n                              <Select\n                                placeholder=\"Pilih Tipe Field\"\n                                onChange={(value) => {\n                                  setcurrentfield({\n                                    ...currentfield,\n                                    data_type: value,\n                                  });\n                                  if (\n                                    value === \"dropdown\" ||\n                                    value === \"checkbox\"\n                                  ) {\n                                    if (\n                                      currentdropdown2.every(\n                                        (doca, idxa) => doca !== \"\"\n                                      )\n                                    ) {\n                                      setdisabledtambah(false);\n                                    } else {\n                                      setdisabledtambah(true);\n                                    }\n                                  } else {\n                                    setdisabledtambah(false);\n                                  }\n                                  if (value === \"dropdown\") {\n                                    setcurrentcheckeddropdown2(\"\");\n                                    setcurrentdropdown2([\"\", \"\"]);\n                                    setcd2([\"\", \"\"]);\n                                    setdisabledtambah(true);\n                                  }\n                                  if (value === \"checkbox\") {\n                                    setcurrentcheckeddropdown2([]);\n                                    setcurrentdropdown2([\"\", \"\"]);\n                                    setcd2([\"\", \"\"]);\n                                    setdisabledtambah(true);\n                                  }\n                                }}\n                                name=\"data_type\"\n                              >\n                                <Select.Option value={\"dropdown\"}>\n                                  Dropdown\n                                </Select.Option>\n                                <Select.Option value={\"number\"}>\n                                  Number\n                                </Select.Option>\n                                <Select.Option value={\"paragraph\"}>\n                                  Paragraph Text\n                                </Select.Option>\n                                <Select.Option value={\"checkbox\"}>\n                                  Checkbox\n                                </Select.Option>\n                                <Select.Option value={\"single\"}>\n                                  Single Textbox\n                                </Select.Option>\n                                <Select.Option value={\"date\"}>\n                                  Date\n                                </Select.Option>\n                              </Select>\n                            </Form.Item>\n                          </div>\n                          <Form.Item name=\"default\" label=\"Default\">\n                            {currentfield.data_type.toLowerCase() ===\n                            \"dropdown\" ? (\n                              <div className=\"flex flex-col\">\n                                <h1>\n                                  Default hanya dipilih 1 (satu) dari beberapa\n                                  opsi dibawah ini\n                                </h1>\n                                {currentdropdown2.map((docdd, idxx) => (\n                                  <div className=\"flex mb-3\">\n                                    <div className=\"w-7 flex items-center\">\n                                      <Checkbox\n                                        checked={\n                                          currentcheckeddropdown2 === idxx\n                                            ? true\n                                            : false\n                                        }\n                                        onChange={(e) => {\n                                          if (e.target.checked === true) {\n                                            setcurrentcheckeddropdown2(idxx);\n                                          }\n                                        }}\n                                      ></Checkbox>\n                                    </div>\n                                    <div className=\"w-10/12 mr-5\">\n                                      <Input\n                                        style={{ marginRight: `0.5rem` }}\n                                        defaultValue={docdd}\n                                        placeholder={`Masukkan opsi ke-${\n                                          idxx + 1\n                                        }`}\n                                        onChange={(e) => {\n                                          setcurrentdropdown2((prev) => {\n                                            const temp = prev;\n                                            temp[idxx] = e.target.value;\n                                            return temp;\n                                          });\n                                          setcd2((prev) => {\n                                            const temp = prev;\n                                            temp[idxx] = e.target.value;\n                                            return temp;\n                                          });\n                                          if (\n                                            e.target.value !== \"\" &&\n                                            currentdropdown2.every(\n                                              (doca, idxa) => doca !== \"\"\n                                            ) &&\n                                            currentfield.name !== \"\"\n                                          ) {\n                                            setdisabledtambah(false);\n                                          } else if (\n                                            e.target.value === \"\" ||\n                                            currentfield.name === \"\"\n                                          ) {\n                                            setdisabledtambah(true);\n                                          }\n                                        }}\n                                      />\n                                    </div>\n                                    <div\n                                      className=\"w-1/12 flex justify-around\"\n                                      onClick={() => {\n                                        setcurrentdropdown2([]);\n                                        setcdtrigger((prev) => !prev);\n                                        setcdidx(idxx);\n                                      }}\n                                    >\n                                      <Button type=\"danger\">-</Button>\n                                    </div>\n                                  </div>\n                                ))}\n                                <div className=\"mx-auto my-3\">\n                                  <Button\n                                    onClick={() => {\n                                      setcurrentdropdown2([\n                                        ...currentdropdown2,\n                                        \"\",\n                                      ]);\n                                      setcd2([...cd2, \"\"]);\n                                      setdisabledtambah(true);\n                                    }}\n                                  >\n                                    + Tambah Opsi\n                                  </Button>\n                                </div>\n                              </div>\n                            ) : null}\n                            {currentfield.data_type.toLowerCase() ===\n                            \"checkbox\" ? (\n                              <div className=\"flex flex-col\">\n                                <h1>\n                                  Default dapat dipilih lebih dari 1 (satu) opsi\n                                  dibawah ini\n                                </h1>\n                                {currentdropdown2.map((docdd, idxx) => {\n                                  const idxchecked =\n                                    currentcheckeddropdown2.includes(idxx);\n                                  return (\n                                    <div className=\"flex mb-3\">\n                                      <div className=\"w-7 flex items-center\">\n                                        <Checkbox\n                                          defaultChecked={idxchecked}\n                                          onChange={(e) => {\n                                            if (e.target.checked === true) {\n                                              setcurrentcheckeddropdown2(\n                                                (prev) => {\n                                                  var temp = prev;\n                                                  temp.push(idxx);\n                                                  return temp;\n                                                }\n                                              );\n                                            } else {\n                                              setcurrentcheckeddropdown2(\n                                                (prev) => {\n                                                  var temp = prev;\n                                                  const index =\n                                                    temp.indexOf(idxx);\n                                                  temp.splice(index, 1);\n                                                  return temp;\n                                                }\n                                              );\n                                            }\n                                          }}\n                                        ></Checkbox>\n                                      </div>\n                                      <div className=\"w-10/12 mr-5\">\n                                        <Input\n                                          style={{ marginRight: `0.5rem` }}\n                                          defaultValue={docdd}\n                                          placeholder={`Masukkan opsi ke-${\n                                            idxx + 1\n                                          }`}\n                                          onChange={(e) => {\n                                            setcurrentdropdown2((prev) => {\n                                              const temp = prev;\n                                              temp[idxx] = e.target.value;\n                                              return temp;\n                                            });\n                                            setcd2((prev) => {\n                                              const temp = prev;\n                                              temp[idxx] = e.target.value;\n                                              return temp;\n                                            });\n                                            if (\n                                              e.target.value !== \"\" &&\n                                              currentdropdown2.every(\n                                                (doca, idxa) => doca !== \"\"\n                                              ) &&\n                                              currentfield.name !== \"\"\n                                            ) {\n                                              setdisabledtambah(false);\n                                            } else if (\n                                              e.target.value === \"\" ||\n                                              currentfield.name === \"\"\n                                            ) {\n                                              setdisabledtambah(true);\n                                            }\n                                          }}\n                                        />\n                                      </div>\n                                      <div\n                                        className=\"w-1/12 flex justify-around\"\n                                        onClick={() => {\n                                          setcurrentdropdown2([]);\n                                          setcdtrigger((prev) => !prev);\n                                          setcdidx(idxx);\n                                        }}\n                                      >\n                                        <Button type=\"danger\">-</Button>\n                                      </div>\n                                    </div>\n                                  );\n                                })}\n                                <div className=\"mx-auto my-3\">\n                                  <Button\n                                    onClick={() => {\n                                      setcurrentdropdown2([\n                                        ...currentdropdown2,\n                                        \"\",\n                                      ]);\n                                      setcd2([...cd2, \"\"]);\n                                      setdisabledtambah(true);\n                                    }}\n                                  >\n                                    + Tambah Opsi\n                                  </Button>\n                                </div>\n                              </div>\n                            ) : null}\n                            {currentfield.data_type.toLowerCase() ===\n                              \"number\" && (\n                              <InputNumber\n                                style={{ width: `30%` }}\n                                defaultValue={fielddata[idx].default}\n                                placeholder={`Masukkan default ${currentfield.name}`}\n                                onChange={(value) => {\n                                  setcurrentfield({\n                                    ...currentfield,\n                                    default: `${value}`,\n                                  });\n                                }}\n                              ></InputNumber>\n                            )}\n                            {currentfield.data_type.toLowerCase() ===\n                              \"paragraph\" && (\n                              <Input.TextArea\n                                rows={4}\n                                placeholder={`Masukkan default ${currentfield.name}`}\n                                defaultValue={fielddata[idx].default}\n                                onChange={(e) => {\n                                  setcurrentfield({\n                                    ...currentfield,\n                                    default: e.target.value,\n                                  });\n                                }}\n                              ></Input.TextArea>\n                            )}\n                            {currentfield.data_type.toLowerCase() ===\n                              \"string\" && (\n                              <Input\n                                placeholder={`Masukkan default ${currentfield.name}`}\n                                defaultValue={fielddata[idx].default}\n                                onChange={(e) => {\n                                  setcurrentfield({\n                                    ...currentfield,\n                                    default: e.target.value,\n                                  });\n                                }}\n                              ></Input>\n                            )}\n                            {currentfield.data_type.toLowerCase() ===\n                              \"single\" && (\n                              <Input\n                                placeholder={`Masukkan default ${currentfield.name}`}\n                                defaultValue={fielddata[idx].default}\n                                onChange={(e) => {\n                                  setcurrentfield({\n                                    ...currentfield,\n                                    default: e.target.value,\n                                  });\n                                }}\n                              ></Input>\n                            )}\n                            {currentfield.data_type.toLowerCase() ===\n                              \"date\" && (\n                              <DatePicker\n                                style={{ width: `30%` }}\n                                placeholder={`Masukkan default ${currentfield.name}`}\n                                onChange={(value, dateString) => {\n                                  setcurrentfield({\n                                    ...currentfield,\n                                    default: dateString,\n                                  });\n                                }}\n                              ></DatePicker>\n                            )}\n                          </Form.Item>\n                          <hr />\n                          <div className=\"flex mt-4 justify-end\">\n                            <Popconfirm\n                              placement=\"bottom\"\n                              title={`Apakah anda yakin ingin menghapus field ${\n                                doc.name === \"\" ? \"ini\" : doc.name\n                              }?`}\n                              okText=\"Ya\"\n                              cancelText=\"Tidak\"\n                              onConfirm={() => {\n                                setfielddata((prev) =>\n                                  prev.filter((_, idxx) => idxx !== idx)\n                                );\n                                setnewdata((prev) => {\n                                  var temp = prev;\n                                  temp.model_columns =\n                                    temp.model_columns.filter(\n                                      (docxx, idxx) => docxx.id !== doc.id\n                                    );\n                                  return temp;\n                                });\n                                setaddedfield1((prev) => {\n                                  prev.splice(idx, 1);\n                                  return prev;\n                                });\n                                setdisabledaddfield(false);\n                                setpointevent(\"\");\n                                // setcurrentdropdown2([\"\", \"\"])\n                              }}\n                            >\n                              <div className=\"flex items-center mr-4 hover:text-red-500 cursor-pointer\">\n                                <DeleteOutlined\n                                  style={{ fontSize: `1.25rem` }}\n                                ></DeleteOutlined>\n                              </div>\n                            </Popconfirm>\n                            <div className=\" flex items-center mr-4\">\n                              <Checkbox\n                                checked={currentfield.required}\n                                style={{ marginRight: `0.5rem` }}\n                                onChange={(e) => {\n                                  setcurrentfield({\n                                    ...currentfield,\n                                    required: e.target.checked,\n                                  });\n                                }}\n                              />{\" \"}\n                              Required\n                            </div>\n                            <Button\n                              type=\"primary\"\n                              disabled={disabledtambah}\n                              onClick={() => {\n                                if (\n                                  currentfield.data_type === \"dropdown\" ||\n                                  currentfield.data_type === \"checkbox\"\n                                ) {\n                                  setidxdropdowntrigger1(idx);\n                                  setvaluedropdowntrigger1((prev) => !prev);\n                                }\n                                const temp = fielddata;\n                                temp[idx] = currentfield;\n                                setfielddata(temp);\n                                setaddedfieldidx1(idx);\n                                setaddedfieldtrigger1((prev) => !prev);\n                                setconcatfieldtrigger((prev) => !prev);\n                                setdisabledaddfield(false);\n                                setpointevent(\"\");\n                              }}\n                            >\n                              Tambah\n                            </Button>\n                          </div>\n                        </Form>\n                      </div>\n                    )}\n                  </>\n                );\n              })}\n            </>\n          )}\n          {fielddata2.map((doc, idx) => {\n            return (\n              <>\n                {addedfield[idx] === true ? (\n                  <div\n                    key={idx}\n                    className={`${pointevent} shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer`}\n                    onClick={() => {\n                      const temp = [...addedfield];\n                      temp[idx] = false;\n                      for (var i = 0; i < temp.length; i++) {\n                        if (i !== idx) {\n                          temp[i] = true;\n                        }\n                      }\n                      setaddedfield(temp);\n                      setcurrentfield(fielddata2[idx]);\n                      if (\n                        doc.data_type === \"dropdown\" ||\n                        doc.data_type === \"checkbox\"\n                      ) {\n                        setcurrentdropdown2(doc.default.opsi);\n                        setcd2(doc.default.opsi);\n                        setcurrentcheckeddropdown2(doc.default.default);\n                      }\n                      if (\n                        fielddata2[idx].data_type !== \"dropdown\" ||\n                        fielddata2[idx].data_type !== \"checkbox\"\n                      ) {\n                        if (\n                          fielddata2[idx].name !== \"\" &&\n                          fielddata2[idx].data_type !== \"\"\n                        ) {\n                          setdisabledtambah(false);\n                        } else {\n                          setdisabledtambah(true);\n                        }\n                      } else {\n                        if (\n                          doc.default.opsi.some((docopsi) => docopsi === \"\")\n                        ) {\n                          setdisabledtambah(true);\n                        } else {\n                          setdisabledtambah(false);\n                        }\n                      }\n                      setdisabledaddfield(true);\n                      setpointevent(\"pointer-events-none\");\n                    }}\n                  >\n                    <div className=\"font-semibold mb-2\">\n                      {doc.name}\n                      {fielddata2[idx].required ? (\n                        <span className=\"judulField\"></span>\n                      ) : null}{\" \"}\n                      <span className=\"text-gray-400 text-sm\">\n                        (\n                        {doc.data_type === \"single\"\n                          ? \"Single Textbox\"\n                          : doc.data_type.charAt(0).toUpperCase() +\n                            doc.data_type.slice(1)}\n                        {doc.data_type === \"paragraph\" && ` Text`})\n                      </span>\n                    </div>\n                    <div className=\"rounded border w-full pl-3 py-2 flex items-center my-auto\">\n                      {doc.data_type === \"checkbox\" ||\n                      doc.data_type === \"dropdown\" ||\n                      doc.data_type === \"paragraph\" ||\n                      doc.data_type === \"date\" ? (\n                        <>\n                          {doc.data_type === \"dropdown\" && (\n                            <div className=\"flex flex-col w-full\">\n                              {doc.default.opsi.map((dok, idk) => {\n                                return (\n                                  <div\n                                    key={idk}\n                                    className=\"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\"\n                                  >\n                                    <Checkbox\n                                      disabled\n                                      checked={\n                                        doc.default.default === idk\n                                          ? true\n                                          : false\n                                      }\n                                      style={{ marginRight: `0.5rem` }}\n                                    />\n                                    <p className=\"mb-0\">{dok}</p>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          )}\n                          {doc.data_type === \"checkbox\" && (\n                            <div className=\"flex flex-col w-full\">\n                              {doc.default.opsi.map((dok, idk) => {\n                                return (\n                                  <div\n                                    key={idk}\n                                    className=\"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\"\n                                  >\n                                    <Checkbox\n                                      disabled\n                                      checked={\n                                        doc.default.default.indexOf(idk) !== -1\n                                          ? true\n                                          : false\n                                      }\n                                      style={{ marginRight: `0.5rem` }}\n                                    />\n                                    <p className=\"mb-0\">{dok}</p>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          )}\n                          {doc.data_type === \"date\" && (\n                            <div className=\"flex justify-between w-full px-3\">\n                              <p className=\"mb-0\">{doc.default}</p>\n                              <div>\n                                <CalendarOutlined></CalendarOutlined>\n                              </div>\n                            </div>\n                          )}\n                          {doc.data_type === \"paragraph\" && (\n                            <div className=\"flex h-20\">{doc.default}</div>\n                          )}\n                        </>\n                      ) : (\n                        <p className=\"mb-0\">{doc.default}</p>\n                      )}\n                    </div>\n                    <style jsx>\n                      {`\n                                                        .judulField::before{\n                                                            content: '*';\n                                                            color: red;\n                                                        }\n                                                    `}\n                    </style>\n                  </div>\n                ) : (\n                  <div\n                    key={idx}\n                    className=\"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\"\n                  >\n                    <Form layout=\"vertical\" initialValues={currentfield}>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 space-x-2\">\n                        <Form.Item\n                          name=\"name\"\n                          label=\"Nama Spesifikasi\"\n                          rules={[\n                            {\n                              required: true,\n                              message: \"Nama Spesifikasi wajib diisi\",\n                            },\n                          ]}\n                        >\n                          <Input\n                            required\n                            name=\"name\"\n                            onChange={(e) => {\n                              setcurrentfield({\n                                ...currentfield,\n                                name: e.target.value,\n                              });\n                              if (e.target.value === \"\") {\n                                setdisabledtambah(true);\n                              } else if (\n                                e.target.value !== \"\" &&\n                                currentfield.data_type !== \"\" &&\n                                currentdropdown2.every(\n                                  (doca, idxa) => doca !== \"\"\n                                )\n                              ) {\n                                setdisabledtambah(false);\n                              }\n                            }}\n                          />\n                        </Form.Item>\n                        <Form.Item\n                          name=\"data_type\"\n                          label=\"Tipe Field\"\n                          rules={[\n                            {\n                              required: true,\n                              message: \"Tipe Field wajib diisi\",\n                            },\n                          ]}\n                        >\n                          <Select\n                            placeholder=\"Pilih Tipe Field\"\n                            onChange={(value) => {\n                              setcurrentfield({\n                                ...currentfield,\n                                data_type: value,\n                              });\n                              if (\n                                value === \"dropdown\" ||\n                                value === \"checkbox\"\n                              ) {\n                                if (\n                                  currentdropdown2.every(\n                                    (doca, idxa) => doca !== \"\"\n                                  )\n                                ) {\n                                  setdisabledtambah(false);\n                                } else {\n                                  setdisabledtambah(true);\n                                }\n                              } else {\n                                setdisabledtambah(false);\n                              }\n                              if (value === \"dropdown\") {\n                                setcurrentcheckeddropdown2(\"\");\n                                setcurrentdropdown2([\"\", \"\"]);\n                                setcd2([\"\", \"\"]);\n                                setdisabledtambah(true);\n                              }\n                              if (value === \"checkbox\") {\n                                setcurrentcheckeddropdown2([]);\n                                setcurrentdropdown2([\"\", \"\"]);\n                                setcd2([\"\", \"\"]);\n                                setdisabledtambah(true);\n                              }\n                            }}\n                            name=\"data_type\"\n                          >\n                            <Select.Option value={\"dropdown\"}>\n                              Dropdown\n                            </Select.Option>\n                            <Select.Option value={\"number\"}>\n                              Number\n                            </Select.Option>\n                            <Select.Option value={\"paragraph\"}>\n                              Paragraph Text\n                            </Select.Option>\n                            <Select.Option value={\"checkbox\"}>\n                              Checkbox\n                            </Select.Option>\n                            <Select.Option value={\"single\"}>\n                              Single Textbox\n                            </Select.Option>\n                            <Select.Option value={\"date\"}>Date</Select.Option>\n                          </Select>\n                        </Form.Item>\n                      </div>\n                      <Form.Item name=\"default\" label=\"Default\">\n                        {currentfield.data_type.toLowerCase() === \"dropdown\" ? (\n                          <div className=\"flex flex-col\">\n                            <h1>\n                              Default hanya dipilih 1 (satu) dari beberapa opsi\n                              dibawah ini\n                            </h1>\n                            {currentdropdown2.map((docdd, idxx) => (\n                              <div className=\"flex mb-3\">\n                                <div className=\"w-7 flex items-center\">\n                                  <Checkbox\n                                    checked={\n                                      currentcheckeddropdown2 === idxx\n                                        ? true\n                                        : false\n                                    }\n                                    onChange={(e) => {\n                                      if (e.target.checked === true) {\n                                        setcurrentcheckeddropdown2(idxx);\n                                      }\n                                    }}\n                                  ></Checkbox>\n                                </div>\n                                <div className=\"w-10/12 mr-5\">\n                                  <Input\n                                    style={{ marginRight: `0.5rem` }}\n                                    defaultValue={docdd}\n                                    placeholder={`Masukkan opsi ke-${idxx + 1}`}\n                                    onChange={(e) => {\n                                      setcurrentdropdown2((prev) => {\n                                        const temp = prev;\n                                        temp[idxx] = e.target.value;\n                                        return temp;\n                                      });\n                                      setcd2((prev) => {\n                                        const temp = prev;\n                                        temp[idxx] = e.target.value;\n                                        return temp;\n                                      });\n                                      if (\n                                        e.target.value !== \"\" &&\n                                        currentdropdown2.every(\n                                          (doca, idxa) => doca !== \"\"\n                                        ) &&\n                                        currentfield.name !== \"\"\n                                      ) {\n                                        setdisabledtambah(false);\n                                      } else if (\n                                        e.target.value === \"\" ||\n                                        currentfield.name === \"\"\n                                      ) {\n                                        setdisabledtambah(true);\n                                      }\n                                    }}\n                                  />\n                                </div>\n                                <div\n                                  className=\"w-1/12 flex justify-around\"\n                                  onClick={() => {\n                                    setcurrentdropdown2([]);\n                                    setcdtrigger((prev) => !prev);\n                                    setcdidx(idxx);\n                                  }}\n                                >\n                                  <Button type=\"danger\">-</Button>\n                                </div>\n                              </div>\n                            ))}\n                            <div className=\"mx-auto my-3\">\n                              <Button\n                                onClick={() => {\n                                  setcurrentdropdown2([\n                                    ...currentdropdown2,\n                                    \"\",\n                                  ]);\n                                  setcd2([...cd2, \"\"]);\n                                  setdisabledtambah(true);\n                                }}\n                              >\n                                + Tambah Opsi\n                              </Button>\n                            </div>\n                          </div>\n                        ) : null}\n                        {currentfield.data_type.toLowerCase() === \"checkbox\" ? (\n                          <div className=\"flex flex-col\">\n                            <h1>\n                              Default dapat dipilih lebih dari 1 (satu) opsi\n                              dibawah ini\n                            </h1>\n                            {currentdropdown2.map((docdd, idxx) => {\n                              const idxchecked =\n                                currentcheckeddropdown2.includes(idxx);\n                              return (\n                                <div className=\"flex mb-3\">\n                                  <div className=\"w-7 flex items-center\">\n                                    <Checkbox\n                                      defaultChecked={idxchecked}\n                                      onChange={(e) => {\n                                        if (e.target.checked === true) {\n                                          setcurrentcheckeddropdown2((prev) => {\n                                            var temp = prev;\n                                            temp.push(idxx);\n                                            return temp;\n                                          });\n                                        } else {\n                                          setcurrentcheckeddropdown2((prev) => {\n                                            var temp = prev;\n                                            const index = temp.indexOf(idxx);\n                                            temp.splice(index, 1);\n                                            return temp;\n                                          });\n                                        }\n                                      }}\n                                    ></Checkbox>\n                                  </div>\n                                  <div className=\"w-10/12 mr-5\">\n                                    <Input\n                                      style={{ marginRight: `0.5rem` }}\n                                      defaultValue={docdd}\n                                      placeholder={`Masukkan opsi ke-${\n                                        idxx + 1\n                                      }`}\n                                      onChange={(e) => {\n                                        setcurrentdropdown2((prev) => {\n                                          const temp = prev;\n                                          temp[idxx] = e.target.value;\n                                          return temp;\n                                        });\n                                        setcd2((prev) => {\n                                          const temp = prev;\n                                          temp[idxx] = e.target.value;\n                                          return temp;\n                                        });\n                                        if (\n                                          e.target.value !== \"\" &&\n                                          currentdropdown2.every(\n                                            (doca, idxa) => doca !== \"\"\n                                          ) &&\n                                          currentfield.name !== \"\"\n                                        ) {\n                                          setdisabledtambah(false);\n                                        } else if (\n                                          e.target.value === \"\" ||\n                                          currentfield.name === \"\"\n                                        ) {\n                                          setdisabledtambah(true);\n                                        }\n                                      }}\n                                    />\n                                  </div>\n                                  <div\n                                    className=\"w-1/12 flex justify-around\"\n                                    onClick={() => {\n                                      setcurrentdropdown2([]);\n                                      setcdtrigger((prev) => !prev);\n                                      setcdidx(idxx);\n                                    }}\n                                  >\n                                    <Button type=\"danger\">-</Button>\n                                  </div>\n                                </div>\n                              );\n                            })}\n                            <div className=\"mx-auto my-3\">\n                              <Button\n                                onClick={() => {\n                                  setcurrentdropdown2([\n                                    ...currentdropdown2,\n                                    \"\",\n                                  ]);\n                                  setcd2([...cd2, \"\"]);\n                                  setdisabledtambah(true);\n                                }}\n                              >\n                                + Tambah Opsi\n                              </Button>\n                            </div>\n                          </div>\n                        ) : null}\n                        {currentfield.data_type.toLowerCase() === \"number\" && (\n                          <InputNumber\n                            style={{ width: `30%` }}\n                            defaultValue={fielddata2[idx].default}\n                            placeholder={`Masukkan default ${currentfield.name}`}\n                            onChange={(value) => {\n                              setcurrentfield({\n                                ...currentfield,\n                                default: `${value}`,\n                              });\n                            }}\n                          ></InputNumber>\n                        )}\n                        {currentfield.data_type.toLowerCase() ===\n                          \"paragraph\" && (\n                          <Input.TextArea\n                            rows={4}\n                            placeholder={`Masukkan default ${currentfield.name}`}\n                            defaultValue={fielddata2[idx].default}\n                            onChange={(e) => {\n                              setcurrentfield({\n                                ...currentfield,\n                                default: e.target.value,\n                              });\n                            }}\n                          ></Input.TextArea>\n                        )}\n                        {currentfield.data_type.toLowerCase() === \"string\" && (\n                          <Input\n                            placeholder={`Masukkan default ${currentfield.name}`}\n                            defaultValue={fielddata2[idx].default}\n                            onChange={(e) => {\n                              setcurrentfield({\n                                ...currentfield,\n                                default: e.target.value,\n                              });\n                            }}\n                          ></Input>\n                        )}\n                        {currentfield.data_type.toLowerCase() === \"single\" && (\n                          <Input\n                            placeholder={`Masukkan default ${currentfield.name}`}\n                            defaultValue={fielddata2[idx].default}\n                            onChange={(e) => {\n                              setcurrentfield({\n                                ...currentfield,\n                                default: e.target.value,\n                              });\n                            }}\n                          ></Input>\n                        )}\n                        {currentfield.data_type.toLowerCase() === \"date\" && (\n                          <DatePicker\n                            style={{ width: `30%` }}\n                            placeholder={`Masukkan default ${currentfield.name}`}\n                            onChange={(value, dateString) => {\n                              setcurrentfield({\n                                ...currentfield,\n                                default: dateString,\n                              });\n                            }}\n                          ></DatePicker>\n                        )}\n                      </Form.Item>\n                      <hr />\n                      <div className=\"flex mt-4 justify-end\">\n                        <Popconfirm\n                          placement=\"bottom\"\n                          title={`Apakah anda yakin ingin menghapus field ${\n                            doc.name === \"\" ? \"ini\" : doc.name\n                          }?`}\n                          okText=\"Ya\"\n                          cancelText=\"Tidak\"\n                          onConfirm={() => {\n                            setfielddata2((prev) =>\n                              prev.filter((_, idxx) => idxx !== idx)\n                            );\n                            setnewdata((prev) => {\n                              var temp = prev;\n                              temp.model_columns = temp.model_columns.filter(\n                                (_, idxx) => idxx !== fielddata.length + idx\n                              );\n                              return temp;\n                            });\n                            setaddedfield((prev) => {\n                              prev.splice(idx, 1);\n                              return prev;\n                            });\n                            setdisabledaddfield(false);\n                            setpointevent(\"\");\n                            // setcurrentdropdown2([\"\", \"\"])\n                          }}\n                        >\n                          <div className=\"flex items-center mr-4 hover:text-red-500 cursor-pointer\">\n                            <DeleteOutlined\n                              style={{ fontSize: `1.25rem` }}\n                            ></DeleteOutlined>\n                          </div>\n                        </Popconfirm>\n                        <div className=\" flex items-center mr-4\">\n                          <Checkbox\n                            checked={currentfield.required}\n                            style={{ marginRight: `0.5rem` }}\n                            onChange={(e) => {\n                              setcurrentfield({\n                                ...currentfield,\n                                required: e.target.checked,\n                              });\n                            }}\n                          />{\" \"}\n                          Required\n                        </div>\n                        <Button\n                          type=\"primary\"\n                          disabled={disabledtambah}\n                          onClick={() => {\n                            if (\n                              currentfield.data_type === \"dropdown\" ||\n                              currentfield.data_type === \"checkbox\"\n                            ) {\n                              setidxdropdowntrigger(idx);\n                              setvaluedropdowntrigger((prev) => !prev);\n                            }\n                            const temp = fielddata2;\n                            temp[idx] = currentfield;\n                            setfielddata2(temp);\n                            setaddedfieldidx(idx);\n                            setaddedfieldtrigger((prev) => !prev);\n                            setconcatfieldtrigger((prev) => !prev);\n                            setdisabledaddfield(false);\n                            setpointevent(\"\");\n                          }}\n                        >\n                          Tambah\n                        </Button>\n                      </div>\n                    </Form>\n                  </div>\n                )}\n              </>\n            );\n          })}\n          <div className=\"w-full flex justify-center mt-5\">\n            <Button\n              type=\"dashed\"\n              disabled={disabledaddfield}\n              style={{ width: `80%`, height: `4rem` }}\n              onClick={onClickAddField}\n            >\n              + Tambah Spesifikasi Model\n            </Button>\n          </div>\n        </div>\n        {newdata.is_consumable === false && (\n          <div className=\" mb-8 col-span-1 md:col-span-4 px-5 flex flex-col\">\n            <div className=\"mb-5\">\n              <h1 className=\"font-bold text-xl\">Konfigurasi Part Model</h1>\n            </div>\n            {modelpartfielddata.length === 0 ? null : (\n              <>\n                <Collapse accordion>\n                  {modelpartfielddata.map((doc, idx) => {\n                    return (\n                      <Panel\n                        id={`panel${idx}`}\n                        key={idx}\n                        header={<strong>{doc.name}</strong>}\n                        extra={\n                          <div className=\"flex\">\n                            <Popconfirm\n                              placement=\"bottom\"\n                              title={`Apakah anda yakin ingin menghapus Model ${\n                                doc.name === \"\" ? \"ini\" : doc.name\n                              } dari Model Part ${newdata.name}?`}\n                              okText=\"Ya\"\n                              cancelText=\"Tidak\"\n                              onConfirm={() => {\n                                setmodelpartfielddata((prev) =>\n                                  prev.filter((_, idxx) => idxx !== idx)\n                                );\n                                setnewdata((prev) => {\n                                  var temp = prev;\n                                  const idxdata = temp.model_parts\n                                    .map((doc2) => doc2.id)\n                                    .indexOf(doc.id);\n                                  if (temp.model_parts[idxdata].quantity > 1) {\n                                    temp.model_parts[idxdata].quantity -= 1;\n                                  } else {\n                                    temp.model_parts.splice(idxdata, 1);\n                                  }\n                                  return temp;\n                                });\n                              }}\n                            >\n                              <CloseCircleOutlined style={{ color: `red` }} />\n                            </Popconfirm>\n                          </div>\n                        }\n                      >\n                        <div className=\"flex flex-col p-3\">\n                          <div className=\"flex flex-col mb-5\">\n                            <h1 className=\"font-semibold mb-1\">\n                              Asset Type{\" \"}\n                              <span className=\"judulassettype\"></span>\n                            </h1>\n                            <div className=\"rounded bg-gray-200 w-full flex items-center my-auto h-12 px-2\">\n                              <p className=\"mb-0 text-sm\">{doc.asset.name}</p>\n                            </div>\n                          </div>\n                          {doc.model_columns.map((docmc, idxmc) => {\n                            return (\n                              <div className=\"flex flex-col mb-5\">\n                                <h1 className=\"font-semibold mb-1\">\n                                  {docmc.name}{\" \"}\n                                  {docmc.required ? (\n                                    <span className=\"judulsn\"></span>\n                                  ) : null}{\" \"}\n                                  <span className=\"text-gray-400\">\n                                    (\n                                    {docmc.data_type === \"single\"\n                                      ? \"Single Textbox\"\n                                      : docmc.data_type\n                                          .charAt(0)\n                                          .toUpperCase() +\n                                        docmc.data_type.slice(1)}\n                                    {docmc.data_type === \"paragraph\" && ` Text`}\n                                    )\n                                  </span>\n                                </h1>\n                                <div className=\"w-full flex flex-col justify-center my-auto px-2 py-1\">\n                                  {docmc.data_type === \"dropdown\" ||\n                                  docmc.data_type === \"checkbox\" ||\n                                  docmc.data_type === \"paragraph\" ||\n                                  docmc.data_type === \"date\" ? (\n                                    <>\n                                      {docmc.data_type === \"dropdown\" && (\n                                        <>\n                                          {docmc.default.opsi.map(\n                                            (docopsi, idxopsi) => (\n                                              <div\n                                                key={idxopsi}\n                                                className=\"rounded bg-white border w-3/12 flex items-center my-auto px-2 py-1 mb-1\"\n                                              >\n                                                <Checkbox\n                                                  disabled\n                                                  checked={\n                                                    idxopsi ===\n                                                    docmc.default.default\n                                                  }\n                                                  style={{\n                                                    marginRight: `0.5rem`,\n                                                  }}\n                                                />\n                                                {docopsi}\n                                              </div>\n                                            )\n                                          )}\n                                        </>\n                                      )}\n                                      {docmc.data_type === \"checkbox\" && (\n                                        <>\n                                          {docmc.default.opsi.map(\n                                            (docopsi, idxopsi) => (\n                                              <div\n                                                key={idxopsi}\n                                                className=\"rounded w-full flex items-center my-auto px-2 py-1 mb-1\"\n                                              >\n                                                <Checkbox\n                                                  disabled\n                                                  checked={\n                                                    idxopsi ===\n                                                    docmc.default.default\n                                                  }\n                                                  style={{\n                                                    marginRight: `0.5rem`,\n                                                  }}\n                                                />\n                                                {docopsi}\n                                              </div>\n                                            )\n                                          )}\n                                        </>\n                                      )}\n                                      {docmc.data_type === \"date\" && (\n                                        <div className=\"flex w-full items-center bg-gray-100 justify-between rounded h-10 px-3\">\n                                          <p className=\"mb-0\">\n                                            {docmc.default}\n                                          </p>\n                                          <div>\n                                            <CalendarOutlined></CalendarOutlined>\n                                          </div>\n                                        </div>\n                                      )}\n                                      {docmc.data_type === \"paragraph\" && (\n                                        <div className=\"flex h-20 rounded border bg-gray-100 w-full px-3\">\n                                          {docmc.default}\n                                        </div>\n                                      )}\n                                    </>\n                                  ) : (\n                                    <div className=\"rounded border bg-gray-100 flex items-center w-full h-10 px-3\">\n                                      {docmc.default}\n                                    </div>\n                                  )}\n                                </div>\n                              </div>\n                            );\n                          })}\n                          {doc.model_parts.length === 0 ? null : (\n                            <>\n                              <Timeline style={{ marginTop: `1rem` }}>\n                                {renderChildPartModel(doc.model_parts)}\n                              </Timeline>\n                            </>\n                          )}\n                        </div>\n                        <style jsx>\n                          {`\n                                                        .judulassettype::before{\n                                                            content: '*';\n                                                            color: red;\n                                                        }\n                                                        .judulsn::before{\n                                                            content: '*';\n                                                            color: red;\n                                                        }\n                                                    `}\n                        </style>\n                      </Panel>\n                    );\n                  })}\n                </Collapse>\n              </>\n            )}\n            <>\n              {editpart ? (\n                <div className=\"shadow-md border p-8 mx-3 md:mx-8 my-3 flex flex-col rounded-md relative\">\n                  <div\n                    className=\"absolute top-2 right-5 text-lg cursor-pointer\"\n                    onClick={() => {\n                      seteditpart(false);\n                    }}\n                  >\n                    x\n                  </div>\n                  <Form layout=\"vertical\" initialValues={currentidmodel}>\n                    <div className=\"flex mb-2\">\n                      <div className=\" w-11/12 mr-3\">\n                        <Form.Item\n                          name=\"id\"\n                          label=\"Nama Model\"\n                          rules={[\n                            {\n                              required: true,\n                              message: \"Nama Model wajib diisi\",\n                            },\n                          ]}\n                        >\n                          <Select\n                            defaultValue={currentidmodel}\n                            notFoundContent={\n                              fetchingpart ? <Spin size=\"small\" /> : null\n                            }\n                            onSearch={(value) => {\n                              setfetchingpart(true);\n                              fetch(\n                                `${\n                                  process.env.NEXT_PUBLIC_BACKEND_URL\n                                }/getModels?rows=10&name=${\n                                  value !== \"\" ? value : \"\"\n                                }`,\n                                {\n                                  method: `GET`,\n                                  headers: {\n                                    Authorization: JSON.parse(initProps),\n                                  },\n                                }\n                              )\n                                .then((res) => res.json())\n                                .then((res2) => {\n                                  res2.data.length === 0\n                                    ? setmodeldata([])\n                                    : setmodeldata(res2.data.data);\n                                  setfetchingpart(false);\n                                });\n                            }}\n                            showSearch\n                            optionFilterProp=\"children\"\n                            placeholder=\"Cari nama modul\"\n                            onChange={(value) => {\n                              setcurrentidmodel(value);\n                            }}\n                            name=\"id\"\n                            filterOption={(input, opt) =>\n                              opt.children\n                                .toLowerCase()\n                                .indexOf(input.toLowerCase()) >= 0\n                            }\n                          >\n                            {modeldata.map((doc, idx) => {\n                              return (\n                                <Select.Option key={doc.id} value={doc.id}>\n                                  {doc.name}\n                                </Select.Option>\n                              );\n                            })}\n                          </Select>\n                        </Form.Item>\n                      </div>\n                      <div\n                        className=\"w-1/12 flex pt-2 my-auto items-center cursor-pointer\"\n                        onClick={() => {\n                          setmodalcreatemodel(true);\n                        }}\n                      >\n                        <PlusSquareTwoTone style={{ fontSize: `1.5rem` }} />\n                      </div>\n                    </div>\n                    <hr />\n                    <div className=\"flex mt-4 justify-end\">\n                      <div\n                        className=\"flex items-center mr-4 hover:text-red-500 cursor-pointer\"\n                        onClick={() => {\n                          seteditpart(false);\n                          setcurrentidmodel(\"\");\n                        }}\n                      >\n                        <DeleteOutlined\n                          style={{ fontSize: `1.25rem` }}\n                        ></DeleteOutlined>\n                      </div>\n                      <Button\n                        loading={loadinggetmodel}\n                        type=\"primary\"\n                        onClick={() => {\n                          seteditpart(false);\n                          setloadinggetmodel(true);\n                          fetch(\n                            `${process.env.NEXT_PUBLIC_BACKEND_URL}/getModel?id=${currentidmodel}`,\n                            {\n                              method: `GET`,\n                              headers: {\n                                Authorization: JSON.parse(initProps),\n                              },\n                            }\n                          )\n                            .then((res) => res.json())\n                            .then((res2) => {\n                              setmodelpartfielddata((prev) => {\n                                var temp1 = prev;\n                                var t = {};\n                                for (var prop in res2.data) {\n                                  if (prop === \"model_columns\") {\n                                    t[prop] = res2.data[prop].map(\n                                      (doc, idx) => {\n                                        if (\n                                          doc.data_type === \"dropdown\" ||\n                                          doc.data_type === \"checkbox\"\n                                        ) {\n                                          return {\n                                            ...doc,\n                                            default: JSON.parse(doc.default),\n                                          };\n                                        } else {\n                                          return { ...doc };\n                                        }\n                                      }\n                                    );\n                                  } else {\n                                    t[prop] = res2.data[prop];\n                                  }\n                                }\n                                temp1 = [...temp1, t];\n                                return temp1;\n                              });\n                              // setconcatpartvalue(res2.data.model_parts)\n                              // setconcatparttrigger(prev => !prev)\n                              setnewdata((prev) => {\n                                var temp = prev;\n                                const idxdata2 = temp.model_parts\n                                  .map((doc3) => doc3.id)\n                                  .indexOf(currentidmodel);\n                                if (\n                                  temp.model_parts.length === 0 ||\n                                  idxdata2 === -1\n                                ) {\n                                  temp.model_parts.push({\n                                    id: currentidmodel,\n                                    quantity: 1,\n                                  });\n                                } else if (idxdata2 !== -1) {\n                                  temp.model_parts.map((doc1) => {\n                                    if (doc1.id === currentidmodel) {\n                                      doc1.quantity = doc1.quantity + 1;\n                                    }\n                                  });\n                                }\n                                return temp;\n                              });\n                              setloadinggetmodel(false);\n                              setcurrentidmodel(\"\");\n                            });\n                        }}\n                      >\n                        Tambah\n                      </Button>\n                    </div>\n                  </Form>\n                </div>\n              ) : null}\n            </>\n            <div className=\"w-full flex justify-center mt-5\">\n              <Button\n                disabled={disabledaddpart}\n                type=\"dashed\"\n                style={{ width: `80%`, height: `4rem` }}\n                onClick={() => {\n                  seteditpart(true);\n                }}\n              >\n                + Tambah Part Model\n              </Button>\n            </div>\n          </div>\n        )}\n      </div>\n      <Modal\n        title={\n          <div className=\"flex justify-between p-5 mt-5\">\n            <h1 className=\"font-bold text-xl\">Form Tambah Model</h1>\n            <div className=\"flex\">\n              <Button\n                type=\"default\"\n                onClick={() => {\n                  setmodalcreatemodel(false); /*console.log(newdata2)*/\n                }}\n                style={{ marginRight: `1rem` }}\n              >\n                Batal\n              </Button>\n              <Button\n                type=\"primary\"\n                disabled={disabledaddfield2}\n                onClick={instanceForm2.submit}\n                loading={loadingcreatemodel}\n              >\n                Simpan\n              </Button>\n            </div>\n          </div>\n        }\n        visible={modalcreatemodel}\n        footer={null}\n        onCancel={() => {\n          setmodalcreatemodel(false);\n        }}\n        width={900}\n      >\n        <div className=\"shadow-md border p-8 flex flex-col rounded-md mb-8\">\n          <Form\n            form={instanceForm2}\n            layout=\"vertical\"\n            onFinish={handleCreateModelinModel}\n          >\n            <div className=\"grid grid-cols-1 md:grid-cols-2 space-x-2\">\n              <Form.Item name=\"asset_id\" label=\"Asset Type\">\n                <TreeSelect\n                  style={{ marginRight: `1rem` }}\n                  dropdownStyle={{ maxHeight: 400, overflow: \"auto\" }}\n                  treeData={assetdata}\n                  placeholder=\"Pilih Asset Type\"\n                  treeDefaultExpandAll\n                  value={newdata2.asset_id}\n                  onChange={(value, label, extra) => {\n                    if (typeof value !== \"undefined\") {\n                      onClickSelectAsset2(\n                        extra.allCheckedNodes[0].node.props.id\n                      );\n                    } else {\n                      onClickSelectAsset2(0);\n                    }\n                  }}\n                  allowClear\n                />\n              </Form.Item>\n              <Form.Item\n                name=\"name\"\n                label=\"Nama Model\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"Nama Model wajib diisi\",\n                  },\n                ]}\n              >\n                <Input\n                  name=\"name\"\n                  value={newdata2.name}\n                  onChange={(e) => {\n                    setnewdata2({ ...newdata2, name: e.target.value });\n                  }}\n                />\n              </Form.Item>\n            </div>\n            <Form.Item\n              name=\"manufacturer_id\"\n              label=\"Manufacturer\"\n              rules={[\n                {\n                  required: true,\n                  message: \"Manufacturer wajib diisi\",\n                },\n              ]}\n            >\n              <Select\n                placeholder=\"Pilih Manufacturer\"\n                value={newdata2.manufacturer_id}\n                onChange={(value) => {\n                  setnewdata2({ ...newdata2, manufacturer_id: value });\n                }}\n                name=\"manufacturer_id\"\n              >\n                {manufdata.map((doc, idx) => {\n                  return (\n                    <Select.Option key={idx} value={doc.id}>\n                      {doc.name}\n                    </Select.Option>\n                  );\n                })}\n              </Select>\n            </Form.Item>\n            <Form.Item name=\"description\" label=\"Deskripsi\">\n              <Input.TextArea\n                rows={4}\n                name=\"description\"\n                value={newdata2.description}\n                onChange={(e) => {\n                  setnewdata2({ ...newdata2, description: e.target.value });\n                }}\n              />\n            </Form.Item>\n            <div className=\"flex mb-5\">\n              <Checkbox\n                style={{ marginRight: `0.5rem` }}\n                checked={newdata2.required_sn}\n                onChange={(e) => {\n                  setnewdata2({ ...newdata2, required_sn: e.target.checked });\n                }}\n                checked={newdata2.required_sn}\n              />{\" \"}\n              Serial Number wajib ada\n            </div>\n            <div className=\"flex\">\n              <Checkbox\n                style={{ marginRight: `0.5rem` }}\n                onChange={(e) => {\n                  setnewdata2({ ...newdata2, is_consumable: e.target.checked });\n                }}\n                checked={newdata2.is_consumable}\n              />{\" \"}\n              Model Consumable dengan satuan jumlah\n            </div>\n          </Form>\n        </div>\n        <div className=\" col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\">\n          <div className=\"mb-5\">\n            <h1 className=\"font-bold text-xl\">Spesifikasi Model</h1>\n          </div>\n          {/* {\n                        loadingspec2 ?\n                            <Spin />\n                            :\n                            <>\n                                {\n                                    fielddataa.map((doc, idx) => {\n                                        return (\n                                            <div key={idx} className=\"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\">\n                                                <div className=\"font-semibold mb-2\">\n                                                    {doc.name}\n                                                    {fielddataa[idx].required ? <span className=\"judulField\"></span> : null} <span className=\"text-gray-400 text-sm\">({doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1)})</span>\n                                                </div>\n                                                <div className='w-full'>\n                                                    {\n                                                        doc.data_type.toLowerCase() === \"dropdown\" &&\n                                                        <div className=\"flex flex-col\">\n                                                            <h1>Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini</h1>\n                                                            {\n                                                                doc.default.opsi.map((docc, idxx) => (\n                                                                    <div className=\"flex mb-3\">\n                                                                        <div className=\" w-7 flex justify-center mr-5\">\n                                                                            <Checkbox onChange={(e) => {\n                                                                                if (e.target.checked === true) {\n                                                                                    setfielddataa(prev => {\n                                                                                        var temp = prev\n                                                                                        temp[idx][\"default\"][\"default\"] = idxx\n                                                                                        return temp\n                                                                                    })\n                                                                                }\n                                                                            }} />\n                                                                        </div>\n                                                                        <div className=\"w-10/12 mr-5\">\n                                                                            <Input style={{ marginRight: `0.5rem` }} defaultValue={docc} placeholder={`Masukkan opsi ke-${idxx + 1}`} disabled\n                                                                            />\n                                                                        </div>\n                                                                    </div>\n                                                                ))\n                                                            }\n                                                        </div>\n                                                    }\n                                                    {\n                                                        doc.data_type.toLowerCase() === 'number' &&\n                                                        <InputNumber style={{ width: `30%` }} placeholder={`Masukkan default ${doc.name}`} onChange={(value) => {\n                                                            setfielddataa(prev => {\n                                                                const temp = prev\n                                                                temp[idx][\"default\"] = `${value}`\n                                                                return temp\n                                                            })\n                                                            setconcatfieldtrigger2(prev => !prev)\n                                                        }}></InputNumber>\n                                                    }\n                                                    {\n                                                        doc.data_type.toLowerCase() === \"paragraph\" &&\n                                                        <Input.TextArea rows={4} placeholder={`Masukkan default ${doc.name}`} onChange={(e) => {\n                                                            setfielddataa(prev => {\n                                                                const temp = prev\n                                                                temp[idx][\"default\"] = e.target.value\n                                                                return temp\n                                                            })\n                                                            setconcatfieldtrigger2(prev => !prev)\n                                                        }}></Input.TextArea>\n                                                    }\n                                                    {\n                                                        doc.data_type.toLowerCase() === \"checkbox\" &&\n                                                        <div className=\"flex flex-col\">\n                                                            <h1>Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini</h1>\n                                                            {\n                                                                doc.default.opsi.map((docc, idxx) => (\n                                                                    <div className=\"flex mb-3\">\n                                                                        <Checkbox style={{ marginRight: `0.5rem` }} onChange={(e) => {\n                                                                            if (e.target.checked === true) {\n                                                                                setfielddataa(prev => {\n                                                                                    var temp = prev\n                                                                                    temp[idx][\"default\"][\"default\"].push(idxx)\n                                                                                    return temp\n                                                                                })\n                                                                            }\n                                                                        }} /> {docc}\n                                                                    </div>\n                                                                ))\n                                                            }\n                                                        </div>\n                                                    }\n                                                    {\n                                                        (doc.data_type.toLowerCase() === \"string\") &&\n                                                        <Input placeholder={`Masukkan default ${doc.name}`} onChange={(e) => {\n                                                            setfielddataa(prev => {\n                                                                const temp = prev\n                                                                temp[idx][\"default\"] = e.target.value\n                                                                return temp\n                                                            })\n                                                            setconcatfieldtrigger2(prev => !prev)\n                                                        }}></Input>\n                                                    }\n                                                    {\n                                                        (doc.data_type.toLowerCase() === \"single\") &&\n                                                        <Input placeholder={`Masukkan default ${doc.name}`} onChange={(e) => {\n                                                            setfielddataa(prev => {\n                                                                const temp = prev\n                                                                temp[idx][\"default\"] = e.target.value\n                                                                return temp\n                                                            })\n                                                            setconcatfieldtrigger2(prev => !prev)\n                                                        }}></Input>\n                                                    }\n                                                    {\n                                                        doc.data_type.toLowerCase() === \"date\" &&\n                                                        <DatePicker placeholder={`Masukkan default ${doc.name}`} onChange={(value, dateString) => {\n                                                            setfielddataa(prev => {\n                                                                const temp = prev\n                                                                temp[idx][\"default\"] = dateString\n                                                                return temp\n                                                            })\n                                                            setconcatfieldtrigger2(prev => !prev)\n                                                        }}></DatePicker>\n                                                    }\n                                                </div>\n                                                <style jsx>\n                                                    {`\n                                                        .judulField::before{\n                                                            content: '*';\n                                                            color: red;\n                                                        }\n                                                    `}\n                                                </style>\n                                            </div>\n                                        )\n                                    })\n                                }\n                            </>\n                    } */}\n          {loadingspec2 ? (\n            <Spin />\n          ) : (\n            <>\n              {fielddataa.map((doc, idx) => {\n                return (\n                  <>\n                    {addedfield3[idx] === true ? (\n                      <div\n                        key={idx}\n                        className={`${pointevent2} shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer`}\n                        onClick={() => {\n                          const temp = [...addedfield3];\n                          temp[idx] = false;\n                          for (var i = 0; i < temp.length; i++) {\n                            if (i !== idx) {\n                              temp[i] = true;\n                            }\n                          }\n                          setaddedfield3(temp);\n                          setcurrentfield2(fielddataa[idx]);\n                          if (\n                            doc.data_type === \"dropdown\" ||\n                            doc.data_type === \"checkbox\"\n                          ) {\n                            setcurrentdropdownn2(doc.default.opsi);\n                            setcd2part(doc.default.opsi);\n                            setcurrentcheckeddropdownn2(doc.default.default);\n                          }\n                          if (\n                            fielddataa[idx].data_type !== \"dropdown\" ||\n                            fielddataa[idx].data_type !== \"checkbox\"\n                          ) {\n                            if (\n                              fielddataa[idx].name !== \"\" &&\n                              fielddataa[idx].data_type !== \"\"\n                            ) {\n                              setdisabledtambah2(false);\n                            } else {\n                              setdisabledtambah2(true);\n                            }\n                          } else {\n                            if (\n                              doc.default.opsi.some((docopsi) => docopsi === \"\")\n                            ) {\n                              setdisabledtambah2(true);\n                            } else {\n                              setdisabledtambah2(false);\n                            }\n                          }\n                          setdisabledaddfield2(true);\n                          setpointevent2(\"pointer-events-none\");\n                        }}\n                      >\n                        <div className=\"font-semibold mb-2\">\n                          {doc.name}\n                          {fielddataa[idx].required ? (\n                            <span className=\"judulField\"></span>\n                          ) : null}{\" \"}\n                          <span className=\"text-gray-400 text-sm\">\n                            (\n                            {doc.data_type === \"single\"\n                              ? \"Single Textbox\"\n                              : doc.data_type.charAt(0).toUpperCase() +\n                                doc.data_type.slice(1)}\n                            {doc.data_type === \"paragraph\" && ` Text`})\n                          </span>\n                        </div>\n                        <div className=\"rounded border w-full pl-3 py-2 flex items-center my-auto\">\n                          {doc.data_type === \"checkbox\" ||\n                          doc.data_type === \"dropdown\" ||\n                          doc.data_type === \"checkbox\" ||\n                          doc.data_type === \"dropdown\" ? (\n                            <>\n                              {doc.data_type === \"dropdown\" && (\n                                <div className=\"flex flex-col w-full\">\n                                  {doc.default.opsi.map((dok, idk) => {\n                                    return (\n                                      <div\n                                        key={idk}\n                                        className=\"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\"\n                                      >\n                                        <p className=\"mb-0\">{dok}</p>\n                                      </div>\n                                    );\n                                  })}\n                                </div>\n                              )}\n                              {doc.data_type === \"checkbox\" && (\n                                <div className=\"flex flex-col w-full\">\n                                  {doc.default.opsi.map((dok, idk) => {\n                                    return (\n                                      <div\n                                        key={idk}\n                                        className=\"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\"\n                                      >\n                                        <p className=\"mb-0\">{dok}</p>\n                                      </div>\n                                    );\n                                  })}\n                                </div>\n                              )}\n                              {doc.data_type === \"date\" && (\n                                <div className=\"flex justify-between w-full px-3\">\n                                  <p className=\"mb-0\">{doc.default}</p>\n                                  <div>\n                                    <CalendarOutlined></CalendarOutlined>\n                                  </div>\n                                </div>\n                              )}\n                              {doc.data_type === \"paragraph\" && (\n                                <div className=\"flex h-20\">{doc.default}</div>\n                              )}\n                            </>\n                          ) : (\n                            <p className=\"mb-0\">{doc.default}</p>\n                          )}\n                        </div>\n                        <style jsx>\n                          {`\n                                                .judulField::before{\n                                                    content: '*';\n                                                    color: red;\n                                                }\n                                            `}\n                        </style>\n                      </div>\n                    ) : (\n                      <div\n                        key={idx}\n                        className=\"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\"\n                      >\n                        <Form layout=\"vertical\" initialValues={currentfield2}>\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 space-x-2\">\n                            <Form.Item\n                              name=\"name\"\n                              label=\"Nama Field\"\n                              rules={[\n                                {\n                                  required: true,\n                                  message: \"Nama Field wajib diisi\",\n                                },\n                              ]}\n                            >\n                              <Input\n                                required\n                                name=\"name\"\n                                onChange={(e) => {\n                                  setcurrentfield2({\n                                    ...currentfield2,\n                                    name: e.target.value,\n                                  });\n                                  if (e.target.value === \"\") {\n                                    setdisabledtambah2(true);\n                                  } else if (\n                                    e.target.value !== \"\" &&\n                                    currentfield2.data_type !== \"\" &&\n                                    currentdropdownn2.every(\n                                      (doca, idxa) => doca !== \"\"\n                                    )\n                                  ) {\n                                    setdisabledtambah2(false);\n                                  }\n                                }}\n                              />\n                            </Form.Item>\n                            <Form.Item\n                              name=\"data_type\"\n                              label=\"Tipe Field\"\n                              rules={[\n                                {\n                                  required: true,\n                                  message: \"Tipe Field wajib diisi\",\n                                },\n                              ]}\n                            >\n                              <Select\n                                placeholder=\"Pilih Tipe Field\"\n                                onChange={(value) => {\n                                  setcurrentfield2({\n                                    ...currentfield2,\n                                    data_type: value,\n                                  });\n                                  if (\n                                    value === \"dropdown\" ||\n                                    value === \"checkbox\"\n                                  ) {\n                                    if (\n                                      currentdropdownn2.every(\n                                        (doca, idxa) => doca !== \"\"\n                                      )\n                                    ) {\n                                      setdisabledtambah2(false);\n                                    } else {\n                                      setdisabledtambah2(true);\n                                    }\n                                  } else {\n                                    setdisabledtambah2(false);\n                                  }\n                                  if (value === \"dropdown\") {\n                                    setcurrentcheckeddropdownn2(\"\");\n                                    setcurrentdropdownn2([\"\", \"\"]);\n                                    setcd2part([\"\", \"\"]);\n                                    setdisabledtambah2(true);\n                                  }\n                                  if (value === \"checkbox\") {\n                                    setcurrentcheckeddropdownn2([]);\n                                    setcurrentdropdownn2([\"\", \"\"]);\n                                    setcd2part([\"\", \"\"]);\n                                    setdisabledtambah2(true);\n                                  }\n                                }}\n                                name=\"data_type\"\n                              >\n                                <Select.Option value={\"dropdown\"}>\n                                  Dropdown\n                                </Select.Option>\n                                <Select.Option value={\"number\"}>\n                                  Number\n                                </Select.Option>\n                                <Select.Option value={\"paragraph\"}>\n                                  Paragraph Text\n                                </Select.Option>\n                                <Select.Option value={\"checkbox\"}>\n                                  Checkbox\n                                </Select.Option>\n                                <Select.Option value={\"single\"}>\n                                  Single Textbox\n                                </Select.Option>\n                                <Select.Option value={\"date\"}>\n                                  Date\n                                </Select.Option>\n                              </Select>\n                            </Form.Item>\n                          </div>\n                          <Form.Item name=\"default\" label=\"Default\">\n                            {currentfield2.data_type.toLowerCase() ===\n                            \"dropdown\" ? (\n                              <div className=\"flex flex-col\">\n                                <h1>\n                                  Default hanya dipilih 1 (satu) dari beberapa\n                                  opsi dibawah ini\n                                </h1>\n                                {currentdropdownn2.map((doc, idxx) => (\n                                  <div className=\"flex mb-3\">\n                                    <div className=\"w-7 flex items-center\">\n                                      <Checkbox\n                                        checked={\n                                          currentcheckeddropdownn2 === idxx\n                                            ? true\n                                            : false\n                                        }\n                                        onChange={(e) => {\n                                          if (e.target.checked === true) {\n                                            setcurrentcheckeddropdownn2(idxx);\n                                          }\n                                        }}\n                                      ></Checkbox>\n                                    </div>\n                                    <div className=\"w-10/12 mr-5\">\n                                      <Input\n                                        style={{ marginRight: `0.5rem` }}\n                                        defaultValue={doc}\n                                        placeholder={`Masukkan opsi ke-${\n                                          idxx + 1\n                                        }`}\n                                        onChange={(e) => {\n                                          setcurrentdropdownn2((prev) => {\n                                            const temp = prev;\n                                            temp[idxx] = e.target.value;\n                                            return temp;\n                                          });\n                                          setcd2part((prev) => {\n                                            const temp = prev;\n                                            temp[idxx] = e.target.value;\n                                            return temp;\n                                          });\n                                          if (\n                                            e.target.value !== \"\" &&\n                                            currentdropdownn2.every(\n                                              (doca, idxa) => doca !== \"\"\n                                            ) &&\n                                            currentfield2.name !== \"\"\n                                          ) {\n                                            setdisabledtambah2(false);\n                                          } else if (\n                                            e.target.value === \"\" ||\n                                            currentfield2.name === \"\"\n                                          ) {\n                                            setdisabledtambah2(true);\n                                          }\n                                        }}\n                                      />\n                                    </div>\n                                    <div\n                                      className=\"w-1/12 flex justify-around\"\n                                      onClick={() => {\n                                        setcurrentdropdownn2([]);\n                                        setcdparttrigger((prev) => !prev);\n                                        setcdpartidx(idxx);\n                                      }}\n                                    >\n                                      <Button type=\"danger\">-</Button>\n                                    </div>\n                                  </div>\n                                ))}\n                                <div className=\"mx-auto my-3\">\n                                  <Button\n                                    onClick={() => {\n                                      setcurrentdropdownn2([\n                                        ...currentdropdownn2,\n                                        \"\",\n                                      ]);\n                                      setcd2part([...cd2part, \"\"]);\n                                      setdisabledtambah2(true);\n                                    }}\n                                  >\n                                    + Tambah Opsi\n                                  </Button>\n                                </div>\n                              </div>\n                            ) : null}\n                            {currentfield2.data_type.toLowerCase() ===\n                            \"checkbox\" ? (\n                              <div className=\"flex flex-col\">\n                                <h1>\n                                  Default dapat dipilih lebih dari 1 (satu) opsi\n                                  dibawah ini\n                                </h1>\n                                {currentdropdownn2.map((doc, idxx) => {\n                                  const idxchecked =\n                                    currentcheckeddropdownn2.includes(idxx);\n                                  return (\n                                    <div className=\"flex mb-3\">\n                                      <div className=\"w-7 flex items-center\">\n                                        <Checkbox\n                                          defaultChecked={idxchecked}\n                                          onChange={(e) => {\n                                            if (e.target.checked === true) {\n                                              setcurrentcheckeddropdownn2(\n                                                (prev) => {\n                                                  var temp = prev;\n                                                  temp.push(idxx);\n                                                  return temp;\n                                                }\n                                              );\n                                            } else {\n                                              setcurrentcheckeddropdownn2(\n                                                (prev) => {\n                                                  var temp = prev;\n                                                  const index =\n                                                    temp.indexOf(idxx);\n                                                  temp.splice(index, 1);\n                                                  return temp;\n                                                }\n                                              );\n                                            }\n                                          }}\n                                        ></Checkbox>\n                                      </div>\n                                      <div className=\"w-10/12 mr-5\">\n                                        <Input\n                                          style={{ marginRight: `0.5rem` }}\n                                          defaultValue={doc}\n                                          placeholder={`Masukkan opsi ke-${\n                                            idxx + 1\n                                          }`}\n                                          onChange={(e) => {\n                                            setcurrentdropdownn2((prev) => {\n                                              const temp = prev;\n                                              temp[idxx] = e.target.value;\n                                              return temp;\n                                            });\n                                            setcd2part((prev) => {\n                                              const temp = prev;\n                                              temp[idxx] = e.target.value;\n                                              return temp;\n                                            });\n                                            if (\n                                              e.target.value !== \"\" &&\n                                              currentdropdownn2.every(\n                                                (doca, idxa) => doca !== \"\"\n                                              ) &&\n                                              currentfield2.name !== \"\"\n                                            ) {\n                                              setdisabledtambah2(false);\n                                            } else if (\n                                              e.target.value === \"\" ||\n                                              currentfield2.name === \"\"\n                                            ) {\n                                              setdisabledtambah2(true);\n                                            }\n                                          }}\n                                        />\n                                      </div>\n                                      <div\n                                        className=\"w-1/12 flex justify-around\"\n                                        onClick={() => {\n                                          setcurrentdropdownn2([]);\n                                          setcdparttrigger((prev) => !prev);\n                                          setcdpartidx(idxx);\n                                        }}\n                                      >\n                                        <Button type=\"danger\">-</Button>\n                                      </div>\n                                    </div>\n                                  );\n                                })}\n                                <div className=\"mx-auto my-3\">\n                                  <Button\n                                    onClick={() => {\n                                      setcurrentdropdownn2([\n                                        ...currentdropdownn2,\n                                        \"\",\n                                      ]);\n                                      setcd2part([...cd2part, \"\"]);\n                                      setdisabledtambah2(true);\n                                    }}\n                                  >\n                                    + Tambah Opsi\n                                  </Button>\n                                </div>\n                              </div>\n                            ) : null}\n                            {currentfield2.data_type.toLowerCase() ===\n                              \"number\" && (\n                              <InputNumber\n                                style={{ width: `30%` }}\n                                defaultValue={fielddataa[idx].default}\n                                placeholder={`Masukkan default ${currentfield2.name}`}\n                                onChange={(value) => {\n                                  setcurrentfield2({\n                                    ...currentfield2,\n                                    default: `${value}`,\n                                  });\n                                }}\n                              ></InputNumber>\n                            )}\n                            {currentfield2.data_type.toLowerCase() ===\n                              \"paragraph\" && (\n                              <Input.TextArea\n                                rows={4}\n                                placeholder={`Masukkan default ${currentfield2.name}`}\n                                defaultValue={fielddataa[idx].default}\n                                onChange={(e) => {\n                                  setcurrentfield2({\n                                    ...currentfield2,\n                                    default: e.target.value,\n                                  });\n                                }}\n                              ></Input.TextArea>\n                            )}\n                            {currentfield2.data_type.toLowerCase() ===\n                              \"string\" && (\n                              <Input\n                                placeholder={`Masukkan default ${currentfield2.name}`}\n                                defaultValue={fielddataa[idx].default}\n                                onChange={(e) => {\n                                  setcurrentfield2({\n                                    ...currentfield2,\n                                    default: e.target.value,\n                                  });\n                                }}\n                              ></Input>\n                            )}\n                            {currentfield2.data_type.toLowerCase() ===\n                              \"single\" && (\n                              <Input\n                                placeholder={`Masukkan default ${currentfield2.name}`}\n                                defaultValue={fielddataa[idx].default}\n                                onChange={(e) => {\n                                  setcurrentfield2({\n                                    ...currentfield2,\n                                    default: e.target.value,\n                                  });\n                                }}\n                              ></Input>\n                            )}\n                            {currentfield2.data_type.toLowerCase() ===\n                              \"date\" && (\n                              <DatePicker\n                                style={{ width: `30%` }}\n                                placeholder={`Masukkan default ${currentfield2.name}`}\n                                onChange={(value, dateString) => {\n                                  setcurrentfield2({\n                                    ...currentfield2,\n                                    default: dateString,\n                                  });\n                                }}\n                              ></DatePicker>\n                            )}\n                          </Form.Item>\n                          <hr />\n                          <div className=\"flex mt-4 justify-end\">\n                            <Popconfirm\n                              placement=\"bottom\"\n                              title={`Apakah anda yakin ingin menghapus field ${\n                                doc.name === \"\" ? \"ini\" : doc.name\n                              }?`}\n                              okText=\"Ya\"\n                              cancelText=\"Tidak\"\n                              onConfirm={() => {\n                                setfielddataa((prev) =>\n                                  prev.filter((_, idxx) => idxx !== idx)\n                                );\n                                setnewdata2((prev) => {\n                                  var temp = prev;\n                                  temp.model_columns =\n                                    temp.model_columns.filter(\n                                      (docxx, idxx) => docxx.id !== doc.id\n                                    );\n                                  return temp;\n                                });\n                                setaddedfield3((prev) => {\n                                  prev.splice(idx, 1);\n                                  return prev;\n                                });\n                                setdisabledaddfield2(false);\n                                setpointevent2(\"\");\n                              }}\n                            >\n                              <div className=\"flex items-center mr-4 hover:text-red-500 cursor-pointer\">\n                                <DeleteOutlined\n                                  style={{ fontSize: `1.25rem` }}\n                                ></DeleteOutlined>\n                              </div>\n                            </Popconfirm>\n                            <div className=\" flex items-center mr-4\">\n                              <Checkbox\n                                checked={currentfield2.required}\n                                style={{ marginRight: `0.5rem` }}\n                                onChange={(e) => {\n                                  setcurrentfield2({\n                                    ...currentfield2,\n                                    required: e.target.checked,\n                                  });\n                                }}\n                              />{\" \"}\n                              Required\n                            </div>\n                            <Button\n                              disabled={disabledtambah2}\n                              type=\"primary\"\n                              onClick={() => {\n                                if (\n                                  currentfield2.data_type === \"dropdown\" ||\n                                  currentfield2.data_type === \"checkbox\"\n                                ) {\n                                  setidxdropdowntrigger3(idx);\n                                  setvaluedropdowntrigger3((prev) => !prev);\n                                }\n                                const temp = fielddataa;\n                                temp[idx] = currentfield2;\n                                setfielddataa(temp);\n                                setaddedfieldidx3(idx);\n                                setaddedfieldtrigger3((prev) => !prev);\n                                setconcatfieldtrigger2((prev) => !prev);\n                                setdisabledaddfield2(false);\n                                setpointevent2(\"\");\n                              }}\n                            >\n                              Tambah\n                            </Button>\n                          </div>\n                        </Form>\n                      </div>\n                    )}\n                  </>\n                );\n              })}\n            </>\n          )}\n          {fielddataa2.map((doc, idx) => {\n            return (\n              <>\n                {addedfield2[idx] === true ? (\n                  <div\n                    key={idx}\n                    className={`${pointevent2} shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer`}\n                    onClick={() => {\n                      const temp = [...addedfield2];\n                      temp[idx] = false;\n                      for (var i = 0; i < temp.length; i++) {\n                        if (i !== idx) {\n                          temp[i] = true;\n                        }\n                      }\n                      setaddedfield2(temp);\n                      setcurrentfield2(fielddataa2[idx]);\n                      if (\n                        doc.data_type === \"dropdown\" ||\n                        doc.data_type === \"checkbox\"\n                      ) {\n                        setcurrentdropdownn2(doc.default.opsi);\n                        setcd2part(doc.default.opsi);\n                        setcurrentcheckeddropdownn2(doc.default.default);\n                      }\n                      if (\n                        fielddataa2[idx].data_type !== \"dropdown\" ||\n                        fielddataa2[idx].data_type !== \"checkbox\"\n                      ) {\n                        if (\n                          fielddataa2[idx].name !== \"\" &&\n                          fielddataa2[idx].data_type !== \"\"\n                        ) {\n                          setdisabledtambah2(false);\n                        } else {\n                          setdisabledtambah2(true);\n                        }\n                      } else {\n                        if (\n                          doc.default.opsi.some((docopsi) => docopsi === \"\")\n                        ) {\n                          setdisabledtambah2(true);\n                        } else {\n                          setdisabledtambah2(false);\n                        }\n                      }\n                      setdisabledaddfield2(true);\n                      setpointevent2(\"pointer-events-none\");\n                    }}\n                  >\n                    <div className=\"font-semibold mb-2\">\n                      {doc.name}\n                      {fielddataa2[idx].required ? (\n                        <span className=\"judulField\"></span>\n                      ) : null}{\" \"}\n                      <span className=\"text-gray-400 text-sm\">\n                        (\n                        {doc.data_type === \"single\"\n                          ? \"Single Textbox\"\n                          : doc.data_type.charAt(0).toUpperCase() +\n                            doc.data_type.slice(1)}\n                        {doc.data_type === \"paragraph\" && ` Text`})\n                      </span>\n                    </div>\n                    <div className=\"rounded border w-full pl-3 py-2 flex items-center my-auto\">\n                      {doc.data_type === \"checkbox\" ||\n                      doc.data_type === \"dropdown\" ||\n                      doc.data_type === \"checkbox\" ||\n                      doc.data_type === \"dropdown\" ? (\n                        <>\n                          {doc.data_type === \"dropdown\" && (\n                            <div className=\"flex flex-col w-full\">\n                              {doc.default.opsi.map((dok, idk) => {\n                                return (\n                                  <div\n                                    key={idk}\n                                    className=\"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\"\n                                  >\n                                    <p className=\"mb-0\">{dok}</p>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          )}\n                          {doc.data_type === \"checkbox\" && (\n                            <div className=\"flex flex-col w-full\">\n                              {doc.default.opsi.map((dok, idk) => {\n                                return (\n                                  <div\n                                    key={idk}\n                                    className=\"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\"\n                                  >\n                                    <p className=\"mb-0\">{dok}</p>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          )}\n                          {doc.data_type === \"date\" && (\n                            <div className=\"flex justify-between w-full px-3\">\n                              <p className=\"mb-0\">{doc.default}</p>\n                              <div>\n                                <CalendarOutlined></CalendarOutlined>\n                              </div>\n                            </div>\n                          )}\n                          {doc.data_type === \"paragraph\" && (\n                            <div className=\"flex h-20\">{doc.default}</div>\n                          )}\n                        </>\n                      ) : (\n                        <p className=\"mb-0\">{doc.default}</p>\n                      )}\n                    </div>\n                    <style jsx>\n                      {`\n                                                        .judulField::before{\n                                                            content: '*';\n                                                            color: red;\n                                                        }\n                                                    `}\n                    </style>\n                  </div>\n                ) : (\n                  <div\n                    key={idx}\n                    className=\"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\"\n                  >\n                    <Form layout=\"vertical\" initialValues={currentfield2}>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 space-x-2\">\n                        <Form.Item\n                          name=\"name\"\n                          label=\"Nama Field\"\n                          rules={[\n                            {\n                              required: true,\n                              message: \"Nama Field wajib diisi\",\n                            },\n                          ]}\n                        >\n                          <Input\n                            required\n                            name=\"name\"\n                            onChange={(e) => {\n                              setcurrentfield2({\n                                ...currentfield2,\n                                name: e.target.value,\n                              });\n                              if (e.target.value === \"\") {\n                                setdisabledtambah2(true);\n                              } else if (\n                                e.target.value !== \"\" &&\n                                currentfield2.data_type !== \"\" &&\n                                currentdropdownn2.every(\n                                  (doca, idxa) => doca !== \"\"\n                                )\n                              ) {\n                                setdisabledtambah2(false);\n                              }\n                            }}\n                          />\n                        </Form.Item>\n                        <Form.Item\n                          name=\"data_type\"\n                          label=\"Tipe Field\"\n                          rules={[\n                            {\n                              required: true,\n                              message: \"Tipe Field wajib diisi\",\n                            },\n                          ]}\n                        >\n                          <Select\n                            placeholder=\"Pilih Tipe Field\"\n                            onChange={(value) => {\n                              setcurrentfield2({\n                                ...currentfield2,\n                                data_type: value,\n                              });\n                              if (\n                                value === \"dropdown\" ||\n                                value === \"checkbox\"\n                              ) {\n                                if (\n                                  currentdropdownn2.every(\n                                    (doca, idxa) => doca !== \"\"\n                                  )\n                                ) {\n                                  setdisabledtambah2(false);\n                                } else {\n                                  setdisabledtambah2(true);\n                                }\n                              } else {\n                                setdisabledtambah2(false);\n                              }\n                              if (value === \"dropdown\") {\n                                setcurrentcheckeddropdownn2(\"\");\n                                setcurrentdropdownn2([\"\", \"\"]);\n                                setcd2part([\"\", \"\"]);\n                                setdisabledtambah2(true);\n                              }\n                              if (value === \"checkbox\") {\n                                setcurrentcheckeddropdownn2([]);\n                                setcurrentdropdownn2([\"\", \"\"]);\n                                setcd2part([\"\", \"\"]);\n                                setdisabledtambah2(true);\n                              }\n                            }}\n                            name=\"data_type\"\n                          >\n                            <Select.Option value={\"dropdown\"}>\n                              Dropdown\n                            </Select.Option>\n                            <Select.Option value={\"number\"}>\n                              Number\n                            </Select.Option>\n                            <Select.Option value={\"paragraph\"}>\n                              Paragraph Text\n                            </Select.Option>\n                            <Select.Option value={\"checkbox\"}>\n                              Checkbox\n                            </Select.Option>\n                            <Select.Option value={\"single\"}>\n                              Single Textbox\n                            </Select.Option>\n                            <Select.Option value={\"date\"}>Date</Select.Option>\n                          </Select>\n                        </Form.Item>\n                      </div>\n                      <Form.Item name=\"default\" label=\"Default\">\n                        {currentfield2.data_type.toLowerCase() ===\n                        \"dropdown\" ? (\n                          <div className=\"flex flex-col\">\n                            <h1>\n                              Default hanya dipilih 1 (satu) dari beberapa opsi\n                              dibawah ini\n                            </h1>\n                            {currentdropdownn2.map((doc, idxx) => (\n                              <div className=\"flex mb-3\">\n                                <div className=\"w-7 flex items-center\">\n                                  <Checkbox\n                                    checked={\n                                      currentcheckeddropdownn2 === idxx\n                                        ? true\n                                        : false\n                                    }\n                                    onChange={(e) => {\n                                      if (e.target.checked === true) {\n                                        setcurrentcheckeddropdownn2(idxx);\n                                      }\n                                    }}\n                                  ></Checkbox>\n                                </div>\n                                <div className=\"w-10/12 mr-5\">\n                                  <Input\n                                    style={{ marginRight: `0.5rem` }}\n                                    defaultValue={doc}\n                                    placeholder={`Masukkan opsi ke-${idxx + 1}`}\n                                    onChange={(e) => {\n                                      setcurrentdropdownn2((prev) => {\n                                        const temp = prev;\n                                        temp[idxx] = e.target.value;\n                                        return temp;\n                                      });\n                                      setcd2part((prev) => {\n                                        const temp = prev;\n                                        temp[idxx] = e.target.value;\n                                        return temp;\n                                      });\n                                      if (\n                                        e.target.value !== \"\" &&\n                                        currentdropdownn2.every(\n                                          (doca, idxa) => doca !== \"\"\n                                        ) &&\n                                        currentfield2.name !== \"\"\n                                      ) {\n                                        setdisabledtambah2(false);\n                                      } else if (\n                                        e.target.value === \"\" ||\n                                        currentfield2.name === \"\"\n                                      ) {\n                                        setdisabledtambah2(true);\n                                      }\n                                    }}\n                                  />\n                                </div>\n                                <div\n                                  className=\"w-1/12 flex justify-around\"\n                                  onClick={() => {\n                                    setcurrentdropdownn2([]);\n                                    setcdparttrigger((prev) => !prev);\n                                    setcdpartidx(idxx);\n                                  }}\n                                >\n                                  <Button type=\"danger\">-</Button>\n                                </div>\n                              </div>\n                            ))}\n                            <div className=\"mx-auto my-3\">\n                              <Button\n                                onClick={() => {\n                                  setcurrentdropdownn2([\n                                    ...currentdropdownn2,\n                                    \"\",\n                                  ]);\n                                  setcd2part([...cd2part, \"\"]);\n                                  setdisabledtambah2(true);\n                                }}\n                              >\n                                + Tambah Opsi\n                              </Button>\n                            </div>\n                          </div>\n                        ) : null}\n                        {currentfield2.data_type.toLowerCase() ===\n                        \"checkbox\" ? (\n                          <div className=\"flex flex-col\">\n                            <h1>\n                              Default dapat dipilih lebih dari 1 (satu) opsi\n                              dibawah ini\n                            </h1>\n                            {currentdropdownn2.map((doc, idxx) => {\n                              const idxchecked =\n                                currentcheckeddropdownn2.includes(idxx);\n                              return (\n                                <div className=\"flex mb-3\">\n                                  <div className=\"w-7 flex items-center\">\n                                    <Checkbox\n                                      defaultChecked={idxchecked}\n                                      onChange={(e) => {\n                                        if (e.target.checked === true) {\n                                          setcurrentcheckeddropdownn2(\n                                            (prev) => {\n                                              var temp = prev;\n                                              temp.push(idxx);\n                                              return temp;\n                                            }\n                                          );\n                                        } else {\n                                          setcurrentcheckeddropdownn2(\n                                            (prev) => {\n                                              var temp = prev;\n                                              const index = temp.indexOf(idxx);\n                                              temp.splice(index, 1);\n                                              return temp;\n                                            }\n                                          );\n                                        }\n                                      }}\n                                    ></Checkbox>\n                                  </div>\n                                  <div className=\"w-10/12 mr-5\">\n                                    <Input\n                                      style={{ marginRight: `0.5rem` }}\n                                      defaultValue={doc}\n                                      placeholder={`Masukkan opsi ke-${\n                                        idxx + 1\n                                      }`}\n                                      onChange={(e) => {\n                                        setcurrentdropdownn2((prev) => {\n                                          const temp = prev;\n                                          temp[idxx] = e.target.value;\n                                          return temp;\n                                        });\n                                        setcd2part((prev) => {\n                                          const temp = prev;\n                                          temp[idxx] = e.target.value;\n                                          return temp;\n                                        });\n                                        if (\n                                          e.target.value !== \"\" &&\n                                          currentdropdownn2.every(\n                                            (doca, idxa) => doca !== \"\"\n                                          ) &&\n                                          currentfield2.name !== \"\"\n                                        ) {\n                                          setdisabledtambah2(false);\n                                        } else if (\n                                          e.target.value === \"\" ||\n                                          currentfield2.name === \"\"\n                                        ) {\n                                          setdisabledtambah2(true);\n                                        }\n                                      }}\n                                    />\n                                  </div>\n                                  <div\n                                    className=\"w-1/12 flex justify-around\"\n                                    onClick={() => {\n                                      setcurrentdropdownn2([]);\n                                      setcdparttrigger((prev) => !prev);\n                                      setcdpartidx(idxx);\n                                    }}\n                                  >\n                                    <Button type=\"danger\">-</Button>\n                                  </div>\n                                </div>\n                              );\n                            })}\n                            <div className=\"mx-auto my-3\">\n                              <Button\n                                onClick={() => {\n                                  setcurrentdropdownn2([\n                                    ...currentdropdownn2,\n                                    \"\",\n                                  ]);\n                                  setcd2part([...cd2part, \"\"]);\n                                  setdisabledtambah2(true);\n                                }}\n                              >\n                                + Tambah Opsi\n                              </Button>\n                            </div>\n                          </div>\n                        ) : null}\n                        {currentfield2.data_type.toLowerCase() === \"number\" && (\n                          <InputNumber\n                            style={{ width: `30%` }}\n                            defaultValue={fielddataa2[idx].default}\n                            placeholder={`Masukkan default ${currentfield2.name}`}\n                            onChange={(value) => {\n                              setcurrentfield2({\n                                ...currentfield2,\n                                default: `${value}`,\n                              });\n                            }}\n                          ></InputNumber>\n                        )}\n                        {currentfield2.data_type.toLowerCase() ===\n                          \"paragraph\" && (\n                          <Input.TextArea\n                            rows={4}\n                            placeholder={`Masukkan default ${currentfield2.name}`}\n                            defaultValue={fielddataa2[idx].default}\n                            onChange={(e) => {\n                              setcurrentfield2({\n                                ...currentfield2,\n                                default: e.target.value,\n                              });\n                            }}\n                          ></Input.TextArea>\n                        )}\n                        {currentfield2.data_type.toLowerCase() === \"string\" && (\n                          <Input\n                            placeholder={`Masukkan default ${currentfield2.name}`}\n                            defaultValue={fielddataa2[idx].default}\n                            onChange={(e) => {\n                              setcurrentfield2({\n                                ...currentfield2,\n                                default: e.target.value,\n                              });\n                            }}\n                          ></Input>\n                        )}\n                        {currentfield2.data_type.toLowerCase() === \"single\" && (\n                          <Input\n                            placeholder={`Masukkan default ${currentfield2.name}`}\n                            defaultValue={fielddataa2[idx].default}\n                            onChange={(e) => {\n                              setcurrentfield2({\n                                ...currentfield2,\n                                default: e.target.value,\n                              });\n                            }}\n                          ></Input>\n                        )}\n                        {currentfield2.data_type.toLowerCase() === \"date\" && (\n                          <DatePicker\n                            style={{ width: `30%` }}\n                            placeholder={`Masukkan default ${currentfield2.name}`}\n                            onChange={(value, dateString) => {\n                              setcurrentfield2({\n                                ...currentfield2,\n                                default: dateString,\n                              });\n                            }}\n                          ></DatePicker>\n                        )}\n                      </Form.Item>\n                      <hr />\n                      <div className=\"flex mt-4 justify-end\">\n                        <Popconfirm\n                          placement=\"bottom\"\n                          title={`Apakah anda yakin ingin menghapus field ${\n                            doc.name === \"\" ? \"ini\" : doc.name\n                          }?`}\n                          okText=\"Ya\"\n                          cancelText=\"Tidak\"\n                          onConfirm={() => {\n                            setfielddataa2((prev) =>\n                              prev.filter((_, idxx) => idxx !== idx)\n                            );\n                            setnewdata2((prev) => {\n                              var temp = prev;\n                              temp.model_columns = temp.model_columns.filter(\n                                (_, idxx) => idxx !== fielddataa.length + idx\n                              );\n                              return temp;\n                            });\n                            setaddedfield2((prev) => {\n                              prev.splice(idx, 1);\n                              return prev;\n                            });\n                            setdisabledaddfield2(false);\n                            setpointevent(\"\");\n                          }}\n                        >\n                          <div className=\"flex items-center mr-4 hover:text-red-500 cursor-pointer\">\n                            <DeleteOutlined\n                              style={{ fontSize: `1.25rem` }}\n                            ></DeleteOutlined>\n                          </div>\n                        </Popconfirm>\n                        <div className=\" flex items-center mr-4\">\n                          <Checkbox\n                            checked={currentfield2.required}\n                            style={{ marginRight: `0.5rem` }}\n                            onChange={(e) => {\n                              setcurrentfield2({\n                                ...currentfield2,\n                                required: e.target.checked,\n                              });\n                            }}\n                          />{\" \"}\n                          Required\n                        </div>\n                        <Button\n                          disabled={disabledtambah2}\n                          type=\"primary\"\n                          onClick={() => {\n                            if (\n                              currentfield2.data_type === \"dropdown\" ||\n                              currentfield2.data_type === \"checkbox\"\n                            ) {\n                              setidxdropdowntrigger2(idx);\n                              setvaluedropdowntrigger2((prev) => !prev);\n                            }\n                            const temp = fielddataa2;\n                            temp[idx] = currentfield2;\n                            setfielddataa2(temp);\n                            setaddedfieldidx2(idx);\n                            setaddedfieldtrigger2((prev) => !prev);\n                            setconcatfieldtrigger2((prev) => !prev);\n                            setdisabledaddfield2(false);\n                            setpointevent2(\"\");\n                          }}\n                        >\n                          Tambah\n                        </Button>\n                      </div>\n                    </Form>\n                  </div>\n                )}\n              </>\n            );\n          })}\n          <div className=\"w-full flex justify-center mt-5\">\n            <Button\n              type=\"dashed\"\n              disabled={disabledaddfield2}\n              style={{ width: `80%`, height: `4rem` }}\n              onClick={onClickAddField2}\n            >\n              + Tambah Spesifikasi Model\n            </Button>\n          </div>\n        </div>\n      </Modal>\n      <Modal\n        title={\n          <div className=\"flex justify-between p-5 mt-5\">\n            <h1 className=\"font-bold text-xl\">Form Tambah Manufacturer</h1>\n            <div className=\"flex\">\n              <Button\n                type=\"default\"\n                onClick={() => {\n                  setmodalcreatemodel(false); /*console.log(newdata2)*/\n                }}\n                style={{ marginRight: `1rem` }}\n              >\n                Batal\n              </Button>\n              <Button\n                type=\"primary\"\n                disabled={disabledmanuf}\n                onClick={handleAddManufacturer}\n                loading={loadingmanuf}\n              >\n                Simpan\n              </Button>\n            </div>\n          </div>\n        }\n        visible={modalmanuf}\n        footer={null}\n        onCancel={() => {\n          setmodalmanuf(false);\n        }}\n        width={900}\n      >\n        <div className=\"flex flex-col mb-3\">\n          <div className=\"flex flex-col mb-3\">\n            <p className=\"mb-0\">\n              Nama Manufacturer <span className=\"namamanu\"></span>\n            </p>\n            <Input\n              value={datamanuf.name}\n              placeholder=\"Masukkan Nama Manufacturer\"\n              onChange={(e) => {\n                e.target.value === \"\"\n                  ? setdisabledmanuf(true)\n                  : setdisabledmanuf(false);\n                setdatamanuf({ name: e.target.value });\n              }}\n            ></Input>\n            <style jsx>\n              {`\n                                .namamanu::before{\n                                    content: '*';\n                                    color: red;\n                                }\n                            `}\n            </style>\n          </div>\n        </div>\n      </Modal>\n    </Layout>\n  );\n};\n\nexport async function getServerSideProps({ req, res }) {\n  var initProps = {};\n  if (!req.headers.cookie) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\",\n      },\n    };\n  }\n  const cookiesJSON1 = httpcookie.parse(req.headers.cookie);\n  if (!cookiesJSON1.token) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\",\n      },\n    };\n  }\n  initProps = cookiesJSON1.token;\n  const resources = await fetch(\n    `${process.env.NEXT_PUBLIC_BACKEND_URL}/detailProfile`,\n    {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps),\n      },\n    }\n  );\n  const resjson = await resources.json();\n  const dataProfile = resjson;\n\n  return {\n    props: {\n      initProps,\n      dataProfile,\n      sidemenu: \"82\",\n    },\n  };\n}\n\nexport default ModelsCreate;\n"]},"metadata":{},"sourceType":"module"}