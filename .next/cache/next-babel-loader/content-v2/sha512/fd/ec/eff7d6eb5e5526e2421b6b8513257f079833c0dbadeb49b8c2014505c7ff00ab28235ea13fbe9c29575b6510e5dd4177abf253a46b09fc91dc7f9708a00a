{"ast":null,"code":"import _Modal from \"antd/lib/modal\";\nimport _Tabs from \"antd/lib/tabs\";\nimport _Switch from \"antd/lib/switch\";\nimport _notification from \"antd/lib/notification\";\nimport _Table from \"antd/lib/table\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _Button from \"antd/lib/button\";\nimport _Input from \"antd/lib/input\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useRouter } from 'next/router';\nimport { useEffect, useState } from 'react';\nimport Layout from '../../../../../components/layout-dashboard';\nimport st from '../../../../../components/layout-dashboard.module.css';\nimport httpcookie from 'cookie';\nimport Sticky from 'wil-react-sticky';\nimport Link from 'next/link';\nimport { SearchOutlined } from '@ant-design/icons';\n\nconst Relationship = ({\n  userid,\n  initProps\n}) => {\n  //useState\n  const {\n    0: praloadingrel,\n    1: setpraloadingrel\n  } = useState(true);\n  const {\n    0: datatable,\n    1: setdatatable\n  } = useState([]);\n  const {\n    0: datatable2,\n    1: setdatatable2\n  } = useState([]);\n  const {\n    0: datatable3,\n    1: setdatatable3\n  } = useState([]);\n  const {\n    0: namasearchact,\n    1: setnamasearchact\n  } = useState(false);\n  const {\n    0: namavalue,\n    1: setnamavalue\n  } = useState(\"\"); //helper\n\n  const columns = [{\n    title: 'Relationship Type',\n    dataIndex: 'relationship_name',\n    key: 'relationship_name'\n  }, {\n    title: 'Nama Item',\n    dataIndex: 'connected_detail_name',\n    key: 'connected_detail_name'\n  }, {\n    title: 'Tipe',\n    dataIndex: 'type',\n    key: 'type'\n  }]; //handler\n  //search nama\n\n  const onChangeSearch = e => {\n    if (e.target.value === \"\") {\n      setdatatable(datatable3);\n      setnamasearchact(false);\n    } else {\n      setnamasearchact(true);\n      setnamavalue(e.target.value);\n    }\n  }; //finalClick\n\n\n  const onFinalClick = () => {\n    var datatemp = datatable2;\n\n    if (namasearchact) {\n      datatemp = datatemp.filter(flt => {\n        return flt.connected_detail_name.toLowerCase().includes(namavalue.toLowerCase());\n      });\n    }\n\n    setdatatable(datatemp);\n  }; //useEffect\n\n\n  useEffect(() => {\n    setpraloadingrel(true);\n    fetch(`https://boiling-thicket-46501.herokuapp.com/getRelationshipInventory?id=${userid}&type_id=-2`, {\n      method: `GET`,\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setdatatable(res2.data.from_inverse.concat(res2.data.not_from_inverse));\n      setdatatable2(res2.data.from_inverse.concat(res2.data.not_from_inverse));\n      setdatatable3(res2.data.from_inverse.concat(res2.data.not_from_inverse));\n      setpraloadingrel(false);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"border-b flex justify-between p-5 mb-8\",\n      children: /*#__PURE__*/_jsx(\"h1\", {\n        className: \"font-bold text-xl my-auto\",\n        children: \"Relationship\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"flex mb-5\",\n      children: praloadingrel ? null : /*#__PURE__*/_jsxs(\"div\", {\n        className: \" w-full mr-1 grid grid-cols-12\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"col-span-11 mr-1\",\n          children: /*#__PURE__*/_jsx(_Input, {\n            style: {\n              width: `100%`,\n              marginRight: `0.5rem`\n            },\n            placeholder: \"Cari Nama Item\",\n            onChange: e => onChangeSearch(e),\n            allowClear: true\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \" col-span-1\",\n          children: /*#__PURE__*/_jsx(_Button, {\n            type: \"primary\",\n            style: {\n              width: `100%`\n            },\n            onClick: onFinalClick,\n            children: /*#__PURE__*/_jsx(SearchOutlined, {})\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_Table, {\n      loading: praloadingrel,\n      pagination: {\n        pageSize: 9\n      },\n      scroll: {\n        x: 200\n      },\n      dataSource: datatable,\n      columns: columns\n    })]\n  });\n};\n\nfunction RequestersDetail({\n  initProps,\n  dataProfile,\n  dataDetailRequester,\n  userid,\n  sidemenu\n}) {\n  const rt = useRouter();\n  const tok = initProps; // var pathArr = rt.pathname.split(\"/\").slice(1)\n  // pathArr[pathArr.length - 1] = dataDetailRequester.data.fullname\n  // const [instanceForm] = Form.useForm()\n  // const { Option } = Select\n\n  const {\n    0: loadingfoto,\n    1: setLoadingfoto\n  } = useState(false); // const [data1, setData1] = useState({\n  //     id: dataDetailRequester.data.user_id,\n  //     fullname: dataDetailRequester.data.fullname,\n  //     role: dataDetailRequester.data.role,\n  //     phone_number: dataDetailRequester.data.phone_number,\n  //     profile_image: dataDetailRequester.data.profile_image === \"\" ? `/default-users.jpeg` : dataDetailRequester.data.profile_image\n  // })\n\n  const {\n    0: data1,\n    1: setData1\n  } = useState({\n    id: \"\",\n    name: \"\",\n    role: \"\",\n    phone_number: \"\",\n    profile_image: `/default-users.jpeg`,\n    position: \"\"\n  });\n  const {\n    0: dataemail,\n    1: setdataemail\n  } = useState(\"\");\n  const {\n    0: namarole,\n    1: setnamarole\n  } = useState(\"\");\n  const {\n    0: namarolearr,\n    1: setnamarolearr\n  } = useState([]);\n  const {\n    0: patharr,\n    1: setpatharr\n  } = useState([]);\n  const {\n    0: isenabled,\n    1: setisenabled\n  } = useState(false);\n  const {\n    0: origincomp,\n    1: setorigincomp\n  } = useState(\"\");\n  const {\n    0: ubahstatus,\n    1: setubahstatus\n  } = useState(false); // const [datarole, setdatarole] = useState({\n  //     account_id: dataDetailRequester.data.user_id,\n  //     role_ids: [dataDetailRequester.data.feature_roles[0]]\n  // })\n\n  const {\n    0: datarole,\n    1: setdatarole\n  } = useState({\n    account_id: 0,\n    role_ids: 0\n  });\n  const {\n    0: datapass,\n    1: setDatapass\n  } = useState({\n    user_id: data1.id,\n    new_password: ''\n  });\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n  const {\n    0: visiblenon,\n    1: setVisiblenon\n  } = useState(false);\n  const {\n    0: visiblehapus,\n    1: setvisiblehapus\n  } = useState(false);\n  const {\n    0: loadinghapus,\n    1: setloadinghapus\n  } = useState(false);\n  const {\n    0: visibleubahpass,\n    1: setVisibleubahpass\n  } = useState(false);\n  const {\n    0: loadingupdate,\n    1: setLoadingupdate\n  } = useState(false);\n  const {\n    0: loadingubahpass,\n    1: setloadingubahpass\n  } = useState(false);\n  const {\n    0: loadingubahaktif,\n    1: setloadingubahaktif\n  } = useState(false);\n  const {\n    0: loadingubahnonaktif,\n    1: setloadingubahnonaktif\n  } = useState(false);\n  const {\n    0: dataraw1,\n    1: setdataraw1\n  } = useState({\n    data: []\n  });\n  const {\n    0: praloading,\n    1: setpraloading\n  } = useState(true);\n\n  const onChangeRole = value => {\n    //multiple roles\n    // const arr = datarole.role_ids\n    //single roles\n    const arr = [];\n    arr.push(value);\n    setdatarole(_objectSpread(_objectSpread({}, datarole), {}, {\n      role_ids: arr\n    }));\n  };\n\n  const onChangeEditAgents = e => {\n    setData1(_objectSpread(_objectSpread({}, data1), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onChangeEditFoto = async e => {\n    setLoadingfoto(true);\n    const foto = e.target.files;\n    const formdata = new FormData();\n    formdata.append('file', foto[0]);\n    formdata.append('upload_preset', 'migsys');\n    const fetching = await fetch(`https://api.Cloudinary.com/v1_1/aqlpeduli/image/upload`, {\n      method: 'POST',\n      body: formdata\n    });\n    const datajson = await fetching.json();\n    setData1(_objectSpread(_objectSpread({}, data1), {}, {\n      profile_image: datajson.secure_url\n    }));\n    setLoadingfoto(false);\n  };\n\n  const handleSubmitEditAccount = () => {\n    setLoadingupdate(true);\n\n    if ([133].every(curr => dataProfile.data.registered_feature.includes(curr))) {\n      fetch(`https://boiling-thicket-46501.herokuapp.com/updateFeatureRequester`, {\n        method: 'POST',\n        headers: {\n          'Authorization': JSON.parse(tok),\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(datarole)\n      }).then(res => res.json()).then(res2 => {\n        setLoadingupdate(false);\n      });\n    }\n\n    if ([116].every(curr => dataProfile.data.registered_feature.includes(curr))) {\n      fetch(`https://boiling-thicket-46501.herokuapp.com/updateRequesterDetail`, {\n        method: 'POST',\n        headers: {\n          'Authorization': JSON.parse(tok),\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data1)\n      }).then(res => res.json()).then(res2 => {\n        setLoadingupdate(false);\n\n        if (res2.success) {\n          _notification['success']({\n            message: res2.message,\n            duration: 3\n          });\n\n          setTimeout(() => {\n            rt.push(`/admin/requesters/${data1.id}`);\n          }, 300);\n        } else if (!res2.success) {\n          _notification['error']({\n            message: res2.message.errorInfo.status_detail,\n            duration: 3\n          });\n        }\n      });\n    }\n  };\n\n  const handleActivationRequesters = status => {\n    var keaktifan = false;\n\n    if (status === \"aktif\") {\n      keaktifan = false;\n      setloadingubahaktif(true);\n    } else if (status === \"nonAktif\") {\n      keaktifan = true;\n      setloadingubahnonaktif(true);\n    }\n\n    fetch(`https://boiling-thicket-46501.herokuapp.com/requesterActivation`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user_id: data1.id,\n        is_enabled: keaktifan\n      })\n    }).then(res => res.json()).then(res2 => {\n      if (res2.success) {\n        setVisible(false);\n        setVisiblenon(false);\n\n        _notification['success']({\n          message: res2.message,\n          duration: 3\n        });\n\n        setubahstatus(prev => !prev);\n        setTimeout(() => {\n          if (status === \"aktif\") {\n            setloadingubahaktif(false);\n          } else if (status === \"nonAktif\") {\n            setloadingubahnonaktif(false);\n          }\n        }, 500);\n      } else if (!res2.success) {\n        setVisible(false);\n        setVisiblenon(false);\n\n        _notification['error']({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  const handleDeleteRequesters = () => {\n    setloadinghapus(true);\n    fetch(`https://boiling-thicket-46501.herokuapp.com/deleteRequester`, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: Number(userid)\n      })\n    }).then(res => res.json()).then(res2 => {\n      setvisiblehapus(false);\n      setloadinghapus(false);\n\n      if (res2.success) {\n        _notification['success']({\n          message: 'Profil Requester berhasil dihapus',\n          duration: 3\n        });\n\n        rt.push(`/admin/requesters`);\n      } else if (!res2.success) {\n        _notification['error']({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  const handleUbahPassword = () => {\n    setloadingubahpass(true);\n    fetch(`https://boiling-thicket-46501.herokuapp.com/changeRequesterPassword`, {\n      method: 'POST',\n      headers: {\n        'Authorization': JSON.parse(tok),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(datapass)\n    }).then(res => res.json()).then(res2 => {\n      if (res2.success) {\n        setVisibleubahpass(false);\n\n        _notification['success']({\n          message: res2.message,\n          duration: 3\n        });\n\n        setTimeout(() => {\n          setloadingubahpass(false);\n          rt.push(`/admin/requesters/${data1.id}`);\n        }, 500);\n      } else if (!res2.success) {\n        setVisibleubahpass(false);\n\n        _notification['error']({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n      }\n    });\n  }; //useEffect\n\n\n  useEffect(() => {\n    fetch(`https://boiling-thicket-46501.herokuapp.com/getRequesterDetail?account_id=${userid}`, {\n      method: `GET`,\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      } // body: JSON.stringify({\n      //     account_id: userid\n      // })\n\n    }).then(res => res.json()).then(res2 => {\n      var temp = {\n        id: res2.data.id,\n        name: res2.data.name,\n        role: res2.data.roles,\n        phone_number: res2.data.phone_number,\n        profile_image: res2.data.profile_image === \"\" || res2.data.profile_image === \"-\" ? `/default-users.jpeg` : res2.data.profile_image,\n        position: res2.data.position\n      };\n      setisenabled(res2.data.is_enabled);\n      setData1(temp);\n      setdataemail(res2.data.email);\n      var pathArr = rt.pathname.split(\"/\").slice(1);\n      pathArr.splice(2, 1);\n      pathArr[pathArr.length - 1] = `Detail Profil Requester - ` + res2.data.name;\n      setpatharr(pathArr);\n      setorigincomp(res2.data.company.name);\n      setnamarolearr(res2.data.roles);\n      setpraloading(false); // return res2.data.roles\n    }); // .then(val => {\n    //     fetch(`https://boiling-thicket-46501.herokuapp.com/getRoles`, {\n    //         method: `GET`,\n    //         headers: {\n    //             'Authorization': JSON.parse(initProps)\n    //         }\n    //     })\n    //         .then(res => res.json())\n    //         .then(res2 => {\n    //             const selectedrole = res2.data.filter((dataa) => {\n    //                 return val.map(docmap => docmap.id).indexOf(dataa.id) !== -1\n    //             }).map(docmap => docmap.name)\n    //             setnamarole(selectedrole ? selectedrole.join(\", \") : \"-\")\n    //             setpraloading(false)\n    //         })\n    // })\n  }, [ubahstatus]); // useEffect(() => {\n  //     fetch(`https://boiling-thicket-46501.herokuapp.com/getRoles`, {\n  //         method: `GET`,\n  //         headers: {\n  //             'Authorization': JSON.parse(initProps)\n  //         }\n  //     })\n  //         .then(res => res.json())\n  //         .then(res2 => {\n  //             const selectedrole = res2.data.filter((dataa) => {\n  //                 return dataa.id === Number(idrole)\n  //             })[0]\n  //             setnamarole(selectedrole ? selectedrole.name : \"-\")\n  //         })\n  // }, [])\n\n  return /*#__PURE__*/_jsx(Layout, {\n    tok: tok,\n    dataProfile: dataProfile,\n    pathArr: patharr,\n    sidemenu: sidemenu,\n    dataDetailAccount: data1,\n    st: st,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-full h-auto grid grid-cols-1 md:grid-cols-4\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"col-span-1 md:col-span-4\",\n        children: /*#__PURE__*/_jsx(Sticky, {\n          containerSelectorFocus: \"#formAgentsWrapper\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex justify-between p-2 pt-4 border-t-2 border-b-2 bg-white mb-8\",\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              className: \"font-semibold py-2\",\n              children: \"Detail Profil Requester\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsx(Link, {\n                href: `/admin/requesters`,\n                children: /*#__PURE__*/_jsx(_Button, {\n                  type: \"default\",\n                  children: \"Kembali\"\n                })\n              }),\n              /*#__PURE__*/\n              // [116, 133].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n              _jsx(_Button, {\n                disabled: praloading,\n                type: \"primary\",\n                onClick: () => {\n                  rt.push(`/admin/requesters/update/${data1.id}`);\n                },\n                children: \"Ubah Profil\"\n              }) // <Button type=\"primary\" loading={loadingupdate} onClick={instanceForm.submit}>Save</Button>\n              ,\n              /*#__PURE__*/\n              // [115].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n              _jsx(\"div\", {\n                className: \"w-full h-auto\",\n                children: /*#__PURE__*/_jsx(_Button, {\n                  disabled: praloading,\n                  type: \"primary\",\n                  onClick: () => {\n                    rt.push(`/admin/requesters/password/${data1.id}?name=${data1.name}`);\n                  },\n                  children: \"Ubah Password\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full h-auto\",\n                children: /*#__PURE__*/_jsx(_Button, {\n                  type: \"danger\",\n                  onClick: () => {\n                    setvisiblehapus(true);\n                  },\n                  children: \"Hapus\"\n                })\n              })]\n            })]\n          })\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \" col-span-1 md:col-span-4 flex flex-col\",\n        id: \"formAgentsWrapper\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \" hidden md:block\",\n          children: /*#__PURE__*/_jsxs(_Tabs, {\n            tabPosition: `left`,\n            defaultActiveKey: 'overview',\n            children: [/*#__PURE__*/_jsx(_Tabs.TabPane, {\n              tab: \"Overview\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"shadow-lg flex flex-col rounded-md w-11/12 h-auto p-4 mb-5\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"border-b border-black p-4 font-semibold mb-5 flex\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \" mr-3 md:mr-5 pt-1\",\n                    children: data1.name\n                  }),\n                  /*#__PURE__*/\n                  // [114].every((curr) => dataProfile.data.registered_feature.includes(curr)) ?\n                  _jsx(\"div\", {\n                    className: \"pt-1\",\n                    children: isenabled ? /*#__PURE__*/_jsx(_Switch, {\n                      disabled: praloading,\n                      checked: true,\n                      onChange: () => {\n                        setVisible(true);\n                      },\n                      checkedChildren: \"AKTIF\"\n                    }) : /*#__PURE__*/_jsx(_Switch, {\n                      disabled: praloading,\n                      checked: false,\n                      onChange: () => {\n                        setVisiblenon(true);\n                      },\n                      unCheckedChildren: \"NON-AKTIF\"\n                    })\n                  }) // :\n                  // <div className=\"pt-1\">\n                  //     {\n                  //         isenabled ?\n                  //             <Switch disabled checked={true} onChange={() => { setVisible(true) }} checkedChildren={\"AKTIF\"}></Switch>\n                  //             :\n                  //             <Switch disabled checked={false} onChange={() => { setVisiblenon(true) }} unCheckedChildren={\"NON-AKTIF\"}></Switch>\n                  //     }\n                  // </div>\n                  ]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-4\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"p-3 col-span-1 md:col-span-1 flex flex-col items-center\",\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      src: data1.profile_image,\n                      alt: \"imageProfile\",\n                      className: \" object-cover w-32 h-32 rounded-full mb-4\"\n                    })\n                  }), /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"p-3 col-span-1 md:col-span-3\",\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"font-semibold text-sm\",\n                        children: \"Nama Lengkap:\"\n                      }), /*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-normal text-black\",\n                        children: data1.name\n                      })]\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-semibold\",\n                        children: \"Email:\"\n                      }), /*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-normal text-black\",\n                        children: dataemail\n                      })]\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-semibold\",\n                        children: \"Posisi:\"\n                      }), /*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-normal text-black\",\n                        children: data1.position\n                      })]\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"font-semibold text-sm\",\n                        children: \"No. Handphone:\"\n                      }), /*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-normal text-black\",\n                        children: data1.phone_number\n                      })]\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"font-semibold text-sm\",\n                        children: \"Role:\"\n                      }), /*#__PURE__*/_jsx(\"div\", {\n                        className: \" flex items-center\",\n                        children: namarolearr.map((doc, idx) => /*#__PURE__*/_jsx(\"div\", {\n                          className: \" p-2 rounded bg-primary100 bg-opacity-10 text-primary100 mr-2\",\n                          children: doc.name\n                        }))\n                      })]\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"font-semibold text-sm\",\n                        children: \"Asal Perusahaan:\"\n                      }), /*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-normal text-black\",\n                        children: origincomp\n                      })]\n                    })]\n                  })]\n                })]\n              })\n            }, `overview`), /*#__PURE__*/_jsx(_Tabs.TabPane, {\n              tab: \"Relationship\",\n              children: /*#__PURE__*/_jsx(Relationship, {\n                userid: userid,\n                initProps: initProps\n              })\n            }, `relationship`)]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"block md:hidden\",\n          children: /*#__PURE__*/_jsxs(_Tabs, {\n            tabPosition: `top`,\n            defaultActiveKey: 'overview',\n            children: [/*#__PURE__*/_jsx(_Tabs.TabPane, {\n              tab: \"Overview\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"shadow-lg flex flex-col rounded-md w-11/12 h-auto p-4 mb-5\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"border-b border-black p-4 font-semibold mb-5 flex\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \" mr-3 md:mr-5 pt-1\",\n                    children: data1.name\n                  }),\n                  /*#__PURE__*/\n                  // [114].every((curr) => dataProfile.data.registered_feature.includes(curr)) ?\n                  _jsx(\"div\", {\n                    className: \"pt-1\",\n                    children: isenabled ? /*#__PURE__*/_jsx(_Switch, {\n                      disabled: praloading,\n                      checked: true,\n                      onChange: () => {\n                        setVisible(true);\n                      },\n                      checkedChildren: \"AKTIF\"\n                    }) : /*#__PURE__*/_jsx(_Switch, {\n                      disabled: praloading,\n                      checked: false,\n                      onChange: () => {\n                        setVisiblenon(true);\n                      },\n                      unCheckedChildren: \"NON-AKTIF\"\n                    })\n                  }) // :\n                  // <div className=\"pt-1\">\n                  //     {\n                  //         isenabled ?\n                  //             <Switch disabled checked={true} onChange={() => { setVisible(true) }} checkedChildren={\"AKTIF\"}></Switch>\n                  //             :\n                  //             <Switch disabled checked={false} onChange={() => { setVisiblenon(true) }} unCheckedChildren={\"NON-AKTIF\"}></Switch>\n                  //     }\n                  // </div>\n                  ]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-4\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"p-3 col-span-1 md:col-span-1 flex flex-col items-center\",\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      src: data1.profile_image,\n                      alt: \"imageProfile\",\n                      className: \" object-cover w-32 h-32 rounded-full mb-4\"\n                    })\n                  }), /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"p-3 col-span-1 md:col-span-3\",\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"font-semibold text-sm\",\n                        children: \"Nama Lengkap:\"\n                      }), /*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-normal text-black\",\n                        children: data1.name\n                      })]\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-semibold\",\n                        children: \"Email:\"\n                      }), /*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-normal text-black\",\n                        children: dataemail\n                      })]\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"font-semibold text-sm\",\n                        children: \"No. Handphone:\"\n                      }), /*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-normal text-black\",\n                        children: data1.phone_number\n                      })]\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"font-semibold text-sm\",\n                        children: \"Role:\"\n                      }), /*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-normal text-black\",\n                        children: namarole\n                      })]\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"col-span-1 flex flex-col mb-5\",\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"font-semibold text-sm\",\n                        children: \"Asal Perusahaan:\"\n                      }), /*#__PURE__*/_jsx(\"h1\", {\n                        className: \"text-sm font-normal text-black\",\n                        children: origincomp\n                      })]\n                    })]\n                  })]\n                })]\n              })\n            }, `overview`), /*#__PURE__*/_jsx(_Tabs.TabPane, {\n              tab: \"Relationship\",\n              children: /*#__PURE__*/_jsx(Relationship, {\n                userid: userid,\n                initProps: initProps\n              })\n            }, `relationship`)]\n          })\n        }), /*#__PURE__*/_jsxs(_Modal, {\n          title: \"Konfirmasi untuk menon-aktifkan akun\",\n          visible: visible,\n          onOk: () => {\n            handleActivationRequesters(\"aktif\");\n          },\n          onCancel: () => setVisible(false),\n          okText: \"Ya\",\n          cancelText: \"Tidak\",\n          okButtonProps: {\n            loading: loadingubahaktif\n          },\n          children: [\"Apakah anda yakin ingin menon-aktifkan akun requester \", /*#__PURE__*/_jsx(\"strong\", {\n            children: data1.name\n          }), \"?\"]\n        }), /*#__PURE__*/_jsxs(_Modal, {\n          title: \"Konfirmasi untuk mengakaktifkan akun\",\n          visible: visiblenon,\n          onOk: () => {\n            handleActivationRequesters(\"nonAktif\");\n          },\n          onCancel: () => setVisiblenon(false),\n          okText: \"Ya\",\n          cancelText: \"Tidak\",\n          okButtonProps: {\n            loading: loadingubahnonaktif\n          },\n          children: [\"Apakah anda yakin ingin mengaktifkan akun requester \", /*#__PURE__*/_jsx(\"strong\", {\n            children: data1.name\n          }), \"?`\"]\n        }), /*#__PURE__*/_jsxs(_Modal, {\n          title: \"Konfirmasi untuk menghapus akun Requester\",\n          visible: visiblehapus,\n          onOk: handleDeleteRequesters,\n          onCancel: () => setvisiblehapus(false),\n          okText: \"Ya\",\n          cancelText: \"Tidak\",\n          okButtonProps: {\n            loading: loadinghapus\n          },\n          children: [\"Apakah anda yakin ingin menghapus akun requester \", /*#__PURE__*/_jsx(\"strong\", {\n            children: data1.name\n          }), \"?`\"]\n        })]\n      })]\n    })\n  });\n}\n\nexport async function getServerSideProps({\n  req,\n  res,\n  params\n}) {\n  const userid = params.userId;\n  var initProps = {};\n\n  if (!req.headers.cookie) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: '/login'\n      }\n    };\n  }\n\n  const cookiesJSON1 = httpcookie.parse(req.headers.cookie);\n\n  if (!cookiesJSON1.token) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: '/login'\n      }\n    };\n  }\n\n  initProps = cookiesJSON1.token;\n  const resources = await fetch(`https://boiling-thicket-46501.herokuapp.com/detailProfile`, {\n    method: `GET`,\n    headers: {\n      'Authorization': JSON.parse(initProps)\n    }\n  });\n  const resjson = await resources.json();\n  const dataProfile = resjson; // if (!([114, 115, 116, 118, 133].every((curr) => dataProfile.data.registered_feature.includes(curr)))) {\n  //     res.writeHead(302, { Location: '/dashboard/admin' })\n  //     res.end()\n  // }\n  // const resourcesDA = await fetch(`https://boiling-thicket-46501.herokuapp.com/getRequesterDetail`, {\n  //     method: `POST`,\n  //     headers: {\n  //         'Authorization': JSON.parse(initProps),\n  //         'Content-Type': 'application/json'\n  //     },\n  //     body: JSON.stringify({\n  //         account_id: userid\n  //     })\n  // })\n  // const resjsonDA = await resourcesDA.json()\n  // if (!resjsonDA) {\n  //     res.writeHead(302, { Location: '/admin/requesters' })\n  //     res.end()\n  // }\n  // const dataDetailRequester = resjsonDA\n  // const resourcesRoles = await fetch(`https://boiling-thicket-46501.herokuapp.com/getRoles`, {\n  //     method: `GET`,\n  //     headers: {\n  //         'Authorization': JSON.parse(initProps)\n  //     }\n  // })\n  // const resjsonRoles = await resourcesRoles.json()\n  // const dataRoles = resjsonRoles\n\n  return {\n    props: {\n      initProps,\n      // dataDetailRequester,\n      dataProfile,\n      // dataRoles,\n      sidemenu: \"62\",\n      userid\n    }\n  };\n}\nexport default RequestersDetail;","map":null,"metadata":{},"sourceType":"module"}