{"ast":null,"code":"import _Tree from \"antd/lib/tree\";\nimport _Progress from \"antd/lib/progress\";\nimport _Empty from \"antd/lib/empty\";\nimport _TreeSelect from \"antd/lib/tree-select\";\nimport _DatePicker from \"antd/lib/date-picker\";\nimport _Select from \"antd/lib/select\";\nimport _Spin from \"antd/lib/spin\";\nimport _Input from \"antd/lib/input\";\nimport _notification from \"antd/lib/notification\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport Layout from '../../../components/layout-dashboardNew';\nimport { useRouter } from 'next/router';\nimport { useEffect, useState } from 'react';\nimport st from '../../../components/layout-dashboard.module.css';\nimport Buttonsys from '../../../components/button';\nimport { H1, H2, Label, Text } from '../../../components/typography';\nimport { AlerttriangleIconSvg, BackIconSvg, CalendartimeIconSvg, CircleXIconSvg, ClipboardcheckIconSvg, ClockIconSvg, EditIconSvg, LayoutGridAddSvg, LocationIconSvg, MappinIconSvg, SearchIconSvg, TrashIconSvg } from '../../../components/icon';\nimport { Chart, ArcElement, Tooltip, CategoryScale, LinearScale, LineElement, BarElement, PointElement } from 'chart.js';\nChart.register(ArcElement, Tooltip, CategoryScale, LinearScale, LineElement, BarElement, PointElement);\nimport { Doughnut, Bar, Line } from 'react-chartjs-2';\nimport { TableCustomTask, TableCustomTaskPick } from '../../../components/table/tableCustom';\nimport moment from 'moment';\nimport { DownOutlined, SearchOutlined } from '@ant-design/icons';\n\nvar TaskIndex = function TaskIndex(_ref) {\n  var initProps = _ref.initProps,\n      dataProfile = _ref.dataProfile,\n      sidemenu = _ref.sidemenu;\n  //1.Init\n  var rt = useRouter();\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  pathArr[pathArr.length - 1] = \"My Task\"; //useState\n  //1.0.SEGERA BERAKHIR\n\n  var _useState = useState([]),\n      userlasttwo = _useState[0],\n      setuserlasttwo = _useState[1];\n\n  var _useState2 = useState(true),\n      loadinguserlasttwo = _useState2[0],\n      setloadinguserlasttwo = _useState2[1]; //1.1.STATUS LIST\n\n\n  var _useState3 = useState([]),\n      statustaskdata = _useState3[0],\n      setstatustaskdata = _useState3[1];\n\n  var _useState4 = useState(true),\n      loadingstatustaskdata = _useState4[0],\n      setloadingstatustaskdata = _useState4[1]; //1.1.1.status - date\n\n\n  var _useState5 = useState(false),\n      statustaskdatefilter = _useState5[0],\n      setstatustaskdatefilter = _useState5[1];\n\n  var _useState6 = useState({\n    from: \"\",\n    to: \"\"\n  }),\n      statustaskdatestate = _useState6[0],\n      setstatustaskdatestate = _useState6[1]; //1.1.2.status - location\n\n\n  var _useState7 = useState([]),\n      statustaskloc = _useState7[0],\n      setstatustaskloc = _useState7[1];\n\n  var _useState8 = useState(\"\"),\n      statustasklocstate = _useState8[0],\n      setstatustasklocstate = _useState8[1];\n\n  var _useState9 = useState(false),\n      statusloctoggle = _useState9[0],\n      setstatusloctoggle = _useState9[1]; //1.2.TASK TYPE COUNT\n\n\n  var _useState10 = useState(['#2F80ED', '#E5C471', '#BF4A40', '#6AAA70']),\n      ttccolorbar = _useState10[0],\n      setttccolorbar = _useState10[1];\n\n  var _useState11 = useState([]),\n      ttcdata = _useState11[0],\n      setttcdata = _useState11[1];\n\n  var _useState12 = useState(true),\n      loadingttcdata = _useState12[0],\n      setloadingttcdata = _useState12[1]; //1.2.2.task type count - location\n\n\n  var _useState13 = useState([]),\n      ttcloc = _useState13[0],\n      setttcloc = _useState13[1];\n\n  var _useState14 = useState(false),\n      ttloctoggle = _useState14[0],\n      setttloctoggle = _useState14[1]; //update - task type\n\n\n  var _useState15 = useState(-1),\n      triggertasktypupdate = _useState15[0],\n      settriggertasktypupdate = _useState15[1];\n\n  var _useState16 = useState(-1),\n      idtasktypupdate = _useState16[0],\n      setidtasktypupdate = _useState16[1];\n\n  var _useState17 = useState(false),\n      drawertasktypupdate = _useState17[0],\n      setdrawertasktypupdate = _useState17[1]; //TASK TYPES\n\n\n  var _useState18 = useState(\"\"),\n      searcingtipetask = _useState18[0],\n      setsearcingtipetask = _useState18[1]; //TASKS\n\n\n  var _useState19 = useState({\n    current_page: \"\",\n    data: [],\n    first_page_url: \"\",\n    from: null,\n    last_page: null,\n    last_page_url: \"\",\n    next_page_url: \"\",\n    path: \"\",\n    per_page: null,\n    prev_page_url: null,\n    to: null,\n    total: null\n  }),\n      datarawtask = _useState19[0],\n      setdatarawtask = _useState19[1];\n\n  var _useState20 = useState([]),\n      datatasks = _useState20[0],\n      setdatatasks = _useState20[1];\n\n  var _useState21 = useState(false),\n      loadingtasks = _useState21[0],\n      setloadingtasks = _useState21[1]; //filter dan sort - tasks\n\n\n  var _useState22 = useState([]),\n      datafiltertipetasks = _useState22[0],\n      setdatafiltertipetasks = _useState22[1];\n\n  var _useState23 = useState([]),\n      datafilterlokasi = _useState23[0],\n      setdatafilterlokasi = _useState23[1];\n\n  var _useState24 = useState(\"\"),\n      searchstate = _useState24[0],\n      setsearchstate = _useState24[1];\n\n  var _useState25 = useState({\n    sort_by: \"\",\n    sort_type: \"\"\n  }),\n      sortstate = _useState25[0],\n      setsortstate = _useState25[1];\n\n  var _useState26 = useState(\"\"),\n      statusfilterstate = _useState26[0],\n      setstatusfilterstate = _useState26[1];\n\n  var _useState27 = useState(\"\"),\n      lokasifilterstate = _useState27[0],\n      setlokasifilterstate = _useState27[1];\n\n  var _useState28 = useState(\"\"),\n      fromdatefilterstate = _useState28[0],\n      setfromdatefilterstate = _useState28[1];\n\n  var _useState29 = useState(\"\"),\n      todatefilterstate = _useState29[0],\n      settodatefilterstate = _useState29[1];\n\n  var _useState30 = useState(\"\"),\n      tasktypefilterstate = _useState30[0],\n      settasktypefilterstate = _useState30[1];\n\n  var _useState31 = useState(false),\n      fetchingtasktypes = _useState31[0],\n      setfetchingtasktypes = _useState31[1];\n\n  var _useState32 = useState(1),\n      pagetask = _useState32[0],\n      setpagetask = _useState32[1];\n\n  var _useState33 = useState(10),\n      rowstask = _useState33[0],\n      setrowstask = _useState33[1]; //create - tasks\n\n\n  var _useState34 = useState(false),\n      drawertaskcreate = _useState34[0],\n      setdrawertaskcreate = _useState34[1]; //TASK PICK\n\n\n  var _useState35 = useState({\n    current_page: \"\",\n    data: [],\n    first_page_url: \"\",\n    from: null,\n    last_page: null,\n    last_page_url: \"\",\n    next_page_url: \"\",\n    path: \"\",\n    per_page: null,\n    prev_page_url: null,\n    to: null,\n    total: null\n  }),\n      datarawtaskpick = _useState35[0],\n      setdatarawtaskpick = _useState35[1];\n\n  var _useState36 = useState(false),\n      viewtaskpick = _useState36[0],\n      setviewtaskpick = _useState36[1];\n\n  var _useState37 = useState([]),\n      datataskpick = _useState37[0],\n      setdatataskpick = _useState37[1];\n\n  var _useState38 = useState(1),\n      pagetaskpick = _useState38[0],\n      setpagetaskpick = _useState38[1];\n\n  var _useState39 = useState(10),\n      rowstaskpick = _useState39[0],\n      setrowstaskpick = _useState39[1];\n\n  var _useState40 = useState(false),\n      loadingtaskpick = _useState40[0],\n      setloadingtaskpick = _useState40[1];\n\n  var _useState41 = useState(-1),\n      reloadpick = _useState41[0],\n      setreloadpick = _useState41[1]; //filter sort -task pick\n\n\n  var _useState42 = useState({\n    sort_by: \"\",\n    sort_type: \"\"\n  }),\n      sortstatetaskpick = _useState42[0],\n      setsortstatetaskpick = _useState42[1];\n\n  var _useState43 = useState(false),\n      loadingfiltertaskpick = _useState43[0],\n      setloadingfiltertaskpick = _useState43[1];\n\n  var _useState44 = useState([]),\n      datafilterlokasitaskpick = _useState44[0],\n      setdatafilterlokasitaskpick = _useState44[1];\n\n  var _useState45 = useState([]),\n      datafiltertipetaskstaskpick = _useState45[0],\n      setdatafiltertipetaskstaskpick = _useState45[1];\n\n  var _useState46 = useState(\"\"),\n      searchfilterstatetaskpick = _useState46[0],\n      setsearchfilterstatetaskpick = _useState46[1];\n\n  var _useState47 = useState(\"\"),\n      lokasifilterstatetaskpick = _useState47[0],\n      setlokasifilterstatetaskpick = _useState47[1];\n\n  var _useState48 = useState(\"\"),\n      fromdatefilterstatetaskpick = _useState48[0],\n      setfromdatefilterstatetaskpick = _useState48[1];\n\n  var _useState49 = useState(\"\"),\n      todatefilterstatetaskpick = _useState49[0],\n      settodatefilterstatetaskpick = _useState49[1];\n\n  var _useState50 = useState(\"\"),\n      tasktypefilterstatetaskpick = _useState50[0],\n      settasktypefilterstatetaskpick = _useState50[1]; //2. columns table\n\n\n  var columnsTask = [{\n    title: 'No',\n    dataIndex: 'num',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: datarawtask.from + index\n        })\n      };\n    }\n  }, {\n    title: 'Nomor Task',\n    dataIndex: 'id',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsxs(_Fragment, {\n          children: [\"T-000\", record.id]\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.id < b.id;\n    }\n  }, {\n    title: 'Tipe Task',\n    dataIndex: 'name',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.task_type === null ? \"-\" : record.task_type.name\n        })\n      };\n    } // sorter: (a, b) => a.task_type.name.localeCompare(b.task_type.name),\n\n  }, {\n    title: 'Judul Task',\n    dataIndex: 'name',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.name === \"\" || record.name === \"-\" ? \"-\" : record.name\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.name.localeCompare(b.name);\n    }\n  }, {\n    title: 'Deadline',\n    dataIndex: 'deadline',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.deadline === null ? \"-\" : moment(record.deadline).locale('id').format('lll')\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.deadline > b.deadline;\n    }\n  }, {\n    title: 'Staff',\n    dataIndex: 'users',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.users.length === 0 ? \"-\" : record.users.map(function (docmap) {\n            return docmap.name;\n          }).join(\", \")\n        })\n      };\n    }\n  }, {\n    title: 'Lokasi',\n    dataIndex: 'location',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.location === null ? \"-\" : record.location.full_location\n        })\n      };\n    }\n  }, {\n    title: 'Status',\n    dataIndex: 'status',\n    align: \"center\",\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsxs(_Fragment, {\n          children: [record.status === 1 && /*#__PURE__*/_jsx(\"div\", {\n            className: \"rounded-md h-auto px-3 text-center py-1 bg-overdue bg-opacity-10 text-overdue\",\n            children: \"Overdue\"\n          }), record.status === 2 && /*#__PURE__*/_jsx(\"div\", {\n            className: \"rounded-md h-auto px-3 text-center py-1 bg-open bg-opacity-10 text-open\",\n            children: \"Open\"\n          }), record.status === 3 && /*#__PURE__*/_jsx(\"div\", {\n            className: \"rounded-md h-auto px-3 text-center py-1 bg-onprogress bg-opacity-10 text-onprogress\",\n            children: \"On-Progress\"\n          }), record.status === 4 && /*#__PURE__*/_jsx(\"div\", {\n            className: \"rounded-md h-auto px-3 text-center py-1 bg-onhold bg-opacity-10 text-onhold\",\n            children: \"On-Hold\"\n          }), record.status === 5 && /*#__PURE__*/_jsx(\"div\", {\n            className: \"rounded-md h-auto px-3 text-center py-1 bg-completed bg-opacity-10 text-completed\",\n            children: \"Completed\"\n          }), record.status === 6 && /*#__PURE__*/_jsx(\"div\", {\n            className: \"rounded-md h-auto px-3 text-center py-1 bg-closed bg-opacity-10 text-closed\",\n            children: \"Closed\"\n          })]\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.status < b.status;\n    },\n    filters: [{\n      text: 'Overdue',\n      value: 1\n    }, {\n      text: 'Open',\n      value: 2\n    }, {\n      text: 'On Progress',\n      value: 3\n    }, {\n      text: 'On Hold',\n      value: 4\n    }, {\n      text: 'Completed',\n      value: 5\n    }, {\n      text: 'Closed',\n      value: 6\n    }],\n    onFilter: function onFilter(value, record) {\n      return record.status === value;\n    },\n    filterMultiple: false\n  }];\n  var columnsTaskPick = [{\n    title: 'No',\n    dataIndex: 'num',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: datarawtaskpick.from + index\n        })\n      };\n    }\n  }, {\n    title: 'Nomor Task',\n    dataIndex: 'id',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsxs(_Fragment, {\n          children: [\"T-000\", record.id]\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.id > b.id;\n    }\n  }, {\n    title: 'Tipe Task',\n    dataIndex: 'task_type',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.task_type === null ? \"-\" : record.task_type.name\n        })\n      };\n    } // sorter: (a, b) => a.task_type.name.localeCompare(b.task_type.name),\n\n  }, {\n    title: 'Judul Task',\n    dataIndex: 'name',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.name === \"\" || record.name === \"-\" ? \"-\" : record.name\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.name.localeCompare(b.name);\n    }\n  }, {\n    title: 'Deadline',\n    dataIndex: 'deadline',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.deadline === null ? \"-\" : moment(record.deadline).locale('id').format('lll')\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.name.localeCompare(b.name);\n    }\n  }, {\n    title: 'Lokasi',\n    dataIndex: 'location',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(\"p\", {\n          className: \" truncate\",\n          children: record.location === null ? \"-\" : record.location.full_location\n        })\n      };\n    }\n  }, {\n    title: 'Deskripsi',\n    dataIndex: 'description',\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(\"p\", {\n          className: \" line-clamp-3\",\n          children: record.description === \"\" || record.description === \"-\" ? \"-\" : record.description\n        })\n      };\n    },\n    sorter: function sorter(a, b) {\n      return a.name.localeCompare(b.name);\n    }\n  }, {\n    title: '\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0',\n    dataIndex: 'actions',\n    align: \"center\",\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsxs(Buttonsys, {\n            type: \"primary\",\n            onClick: function onClick() {\n              handlePickTask(record.id);\n            },\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"mr-1\",\n              children: /*#__PURE__*/_jsx(LayoutGridAddSvg, {\n                size: 18,\n                color: \"#ffffff\"\n              })\n            }), \"Ambil\"]\n          })\n        })\n      };\n    }\n  }]; //HANDLER\n\n  var onFilterTask = function onFilterTask() {\n    setloadingtasks(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserTasks?page=1&rows=\".concat(rowstask, \"&sort_by=\").concat(sortstate.sort_by, \"&sort_type=\").concat(sortstate.sort_type, \"&keyword=\").concat(searchstate, \"&task_type=\").concat(tasktypefilterstate, \"&location=\").concat(lokasifilterstate, \"&from=\").concat(fromdatefilterstate, \"&to=\").concat(todatefilterstate, \"&status=[\").concat(statusfilterstate, \"]\"), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setpagetask(1);\n      setdatarawtask(res2.data);\n      setdatatasks(res2.data.data);\n      setloadingtasks(false);\n    });\n  };\n\n  var onFilterTaskPick = function onFilterTaskPick() {\n    setloadingfiltertaskpick(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getTaskPickList?rows=\".concat(rowstaskpick, \"&page=1&keyword=\").concat(searchfilterstatetaskpick, \"&task_type=\").concat(tasktypefilterstatetaskpick, \"&location=\").concat(lokasifilterstatetaskpick, \"&from=\").concat(fromdatefilterstatetaskpick, \"&to=\").concat(todatefilterstatetaskpick, \"&sort_by=\").concat(sortstatetaskpick.sort_by, \"&sort_type=\").concat(sortstatetaskpick.sort_type), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setpagetaskpick(1);\n      setdatarawtaskpick(res2.data);\n      setdatataskpick(res2.data.data);\n      setloadingfiltertaskpick(false);\n    });\n  };\n\n  var handlePickTask = function handlePickTask(idtask) {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/assignSelfTask\", {\n      method: 'PUT',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: Number(idtask)\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setreloadpick(function (prev) {\n        return prev + 1;\n      });\n\n      if (res2.success) {\n        _notification['success']({\n          message: res2.message,\n          duration: 3\n        });\n      } else {\n        _notification['error']({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //USEEFFECT\n\n\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterTaskTypes?name=\".concat(tasktypefilterstate), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatafiltertipetasks(res2.data);\n      setdatafiltertipetaskstaskpick(res2.data);\n    });\n  }, []);\n  useEffect(function () {\n    setloadingtasks(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserTasks?page=\".concat(pagetask, \"&rows=\").concat(rowstask, \"&sort_by=\").concat(sortstate.sort_by, \"&sort_type=\").concat(sortstate.sort_type, \"&keyword=\").concat(searchstate, \"&task_type=\").concat(tasktypefilterstate, \"&location=\").concat(lokasifilterstate, \"&from=\").concat(fromdatefilterstate, \"&to=\").concat(todatefilterstate, \"&status=[\").concat(statusfilterstate, \"]\"), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatarawtask(res2.data);\n      setdatatasks(res2.data.data);\n      setloadingtasks(false);\n    });\n  }, [drawertaskcreate, viewtaskpick]);\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getAllCompanyList\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatafilterlokasi(res2.data.children);\n      setdatafilterlokasitaskpick(res2.data.children);\n      setstatustaskloc(res2.data.children);\n      setttcloc(res2.data.children); // setdtloc(res2.data.children)\n\n      setloadingstatustaskdata(false);\n    });\n  }, []);\n  useEffect(function () {\n    setloadingtasks(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserLastTwoTasks\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setuserlasttwo(res2.data);\n      setloadinguserlasttwo(false);\n    });\n  }, []);\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserTaskStatusList\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setstatustaskdata(res2.data.status_list);\n      setloadingstatustaskdata(false);\n    });\n  }, []);\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserTaskTypeCounts\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setttcdata(res2.data);\n      setloadingttcdata(false);\n    });\n  }, []);\n  useEffect(function () {\n    setloadingtaskpick(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getTaskPickList?rows=\".concat(rowstaskpick, \"&page=\").concat(pagetaskpick, \"&keyword=\").concat(searchfilterstatetaskpick, \"&task_type=\").concat(tasktypefilterstatetaskpick, \"&location=\").concat(lokasifilterstatetaskpick, \"&from=\").concat(fromdatefilterstatetaskpick, \"&to=\").concat(todatefilterstatetaskpick, \"&sort_by=\").concat(sortstatetaskpick.sort_by, \"&sort_type=\").concat(sortstatetaskpick.sort_type), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatarawtaskpick(res2.data);\n      setdatataskpick(res2.data.data);\n      setloadingtaskpick(false);\n    });\n  }, [viewtaskpick, reloadpick, loadingfiltertaskpick]);\n  useEffect(function () {\n    if (triggertasktypupdate !== -1) {\n      setidtasktypupdate(triggertasktypupdate);\n    }\n  }, [triggertasktypupdate]);\n  return /*#__PURE__*/_jsx(Layout, {\n    tok: initProps,\n    dataProfile: dataProfile,\n    sidemenu: sidemenu,\n    pathArr: pathArr,\n    st: st,\n    prevpath: \"mytask\",\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"flex flex-col\",\n      id: \"mainWrapper\",\n      children: viewtaskpick ? /*#__PURE__*/_jsx(_Fragment, {\n        children: viewtaskpick && /*#__PURE__*/_jsx(\"div\", {\n          className: \"px-5\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex flex-col shadow-md rounded-lg bg-white p-5 mb-6 mx-3\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"flex justify-between items-center mb-5\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"mr-2 cursor-pointer\",\n                  onClick: function onClick() {\n                    setviewtaskpick(false);\n                  },\n                  children: /*#__PURE__*/_jsx(BackIconSvg, {\n                    size: 15,\n                    color: \"#000000\"\n                  })\n                }), /*#__PURE__*/_jsx(H1, {\n                  children: \"Open Task\"\n                })]\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \" flex items-center mb-4\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-1 w-3/12\",\n                children: /*#__PURE__*/_jsx(_Input, {\n                  value: searchfilterstatetaskpick,\n                  style: {\n                    width: \"100%\"\n                  },\n                  placeholder: \"Judul Task..\",\n                  allowClear: true,\n                  onChange: function onChange(e) {\n                    if (e.target.value === \"\") {\n                      setsearchfilterstatetaskpick(\"\");\n                    } else {\n                      setsearchfilterstatetaskpick(e.target.value);\n                    }\n                  }\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-1 w-2/12\",\n                children: /*#__PURE__*/_jsx(_Select, {\n                  value: tasktypefilterstatetaskpick === \"\" ? null : tasktypefilterstatetaskpick,\n                  placeholder: \"Semua Tipe Task\",\n                  style: {\n                    width: \"100%\"\n                  },\n                  allowClear: true,\n                  showSearch: true,\n                  optionFilterProp: \"children\",\n                  notFoundContent: fetchingtasktypes ? /*#__PURE__*/_jsx(_Spin, {\n                    size: \"small\"\n                  }) : null,\n                  onSearch: function onSearch(value) {\n                    setfetchingtasktypes(true);\n                    fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterTaskTypes?name=\".concat(value), {\n                      method: \"GET\",\n                      headers: {\n                        'Authorization': JSON.parse(initProps)\n                      }\n                    }).then(function (res) {\n                      return res.json();\n                    }).then(function (res2) {\n                      setdatafiltertipetasks(res2.data);\n                      setfetchingtasktypes(false);\n                    });\n                  },\n                  filterOption: function filterOption(input, opt) {\n                    return opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n                  },\n                  name: \"task_type_id\",\n                  onChange: function onChange(value) {\n                    typeof value === 'undefined' ? settasktypefilterstatetaskpick(\"\") : settasktypefilterstatetaskpick(value);\n                  },\n                  children: datafiltertipetaskstaskpick.map(function (doc, idx) {\n                    return /*#__PURE__*/_jsx(_Select.Option, {\n                      value: doc.id,\n                      children: doc.name\n                    }, idx);\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \" w-3/12 mx-1\",\n                children: /*#__PURE__*/_jsx(_DatePicker.RangePicker, {\n                  showTime: true,\n                  allowEmpty: true,\n                  className: \"datepickerStatus\",\n                  value: fromdatefilterstatetaskpick === \"\" ? [null, null] : [moment(fromdatefilterstatetaskpick), moment(todatefilterstatetaskpick)],\n                  onChange: function onChange(dates, datestrings) {\n                    setfromdatefilterstatetaskpick(datestrings[0]);\n                    settodatefilterstatetaskpick(datestrings[1]);\n                  }\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \" mx-1 w-3/12\",\n                children: /*#__PURE__*/_jsx(_TreeSelect, {\n                  style: {\n                    width: \"100%\"\n                  },\n                  allowClear: true,\n                  placeholder: \"Semua Lokasi\",\n                  showSearch: true,\n                  suffixIcon: /*#__PURE__*/_jsx(SearchOutlined, {}),\n                  showArrow: true,\n                  name: \"locations_id\",\n                  onChange: function onChange(value) {\n                    typeof value === 'undefined' ? setlokasifilterstatetaskpick(\"\") : setlokasifilterstatetaskpick(value);\n                  },\n                  treeData: datafilterlokasitaskpick,\n                  treeDefaultExpandAll: true,\n                  value: lokasifilterstatetaskpick === \"\" ? null : lokasifilterstatetaskpick\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-1 w-1/12\",\n                children: /*#__PURE__*/_jsxs(Buttonsys, {\n                  type: \"primary\",\n                  onClick: onFilterTaskPick,\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"mr-1\",\n                    children: /*#__PURE__*/_jsx(SearchIconSvg, {\n                      size: 15,\n                      color: \"#ffffff\"\n                    })\n                  }), \"Cari\"]\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: /*#__PURE__*/_jsx(TableCustomTaskPick, {\n                dataSource: datataskpick,\n                setDataSource: setdatataskpick,\n                columns: columnsTaskPick,\n                loading: loadingtaskpick,\n                setpraloading: setloadingtaskpick,\n                pageSize: rowstaskpick,\n                total: datarawtaskpick.total,\n                initProps: initProps,\n                setpage: setpagetaskpick,\n                pagefromsearch: pagetaskpick,\n                setdataraw: setdatarawtaskpick,\n                sortstate: sortstatetaskpick,\n                setsortstate: setsortstatetaskpick,\n                searchstate: searchfilterstatetaskpick,\n                tasktypefilterstate: tasktypefilterstatetaskpick,\n                fromdatefilterstate: fromdatefilterstatetaskpick,\n                todatefilterstate: todatefilterstatetaskpick,\n                lokasifilterstate: lokasifilterstatetaskpick\n              })\n            })]\n          })\n        })\n      }) : /*#__PURE__*/_jsxs(\"div\", {\n        className: \"grid grid-cols-11 px-5\",\n        id: \"wrapper1\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \" col-span-5 flex flex-col shadow-md rounded-md bg-gray-50 p-5 mb-6 mr-3\",\n          children: loadinguserlasttwo ? /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsx(_Spin, {})\n          }) : /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsx(H1, {\n                children: \"Segera Berakhir\"\n              }), userlasttwo.length > 0 && /*#__PURE__*/_jsxs(\"div\", {\n                className: \"p-2 rounded bg-red-50 text-state1 text-xs flex\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"mr-1 flex items-center\",\n                  children: /*#__PURE__*/_jsx(ClockIconSvg, {\n                    size: 15,\n                    color: \"#BF4A40\"\n                  })\n                }), moment(userlasttwo[0].deadline).locale('id').format('lll')]\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \" h-full\",\n              children: userlasttwo.length < 1 ? /*#__PURE__*/_jsx(\"div\", {\n                className: \" flex w-full h-full items-center justify-center\",\n                children: /*#__PURE__*/_jsx(_Empty, {\n                  image: _Empty.PRESENTED_IMAGE_SIMPLE\n                })\n              }) : /*#__PURE__*/_jsxs(_Fragment, {\n                children: [userlasttwo.length >= 1 && /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"rounded bg-state1 hover:bg-state12 transition duration-300 shadow text-white p-5 flex justify-between mb-2 cursor-pointer h-3/6\",\n                  onClick: function onClick() {\n                    rt.push(\"/tasks/detail/\".concat(userlasttwo[0].id));\n                  },\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      children: /*#__PURE__*/_jsx(ClipboardcheckIconSvg, {\n                        size: 50,\n                        color: \"#ffffff\"\n                      })\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex flex-col mt-2\",\n                      children: [/*#__PURE__*/_jsxs(Text, {\n                        color: \"white\",\n                        children: [\"Berakhir \", (new Date() - new Date(userlasttwo[0].deadline)) / (1000 * 60 * 60 * 24) < 1 ? \"Hari Ini\" : \"\".concat(moment(userlasttwo[0].deadline).locale('id').format('Do MMM'))]\n                      }), /*#__PURE__*/_jsx(_Progress, {\n                        trailColor: \"#4D4D4D\",\n                        strokeColor: \"#ffffff\",\n                        percent: userlasttwo[0].time_limit_percentage,\n                        showInfo: false\n                      })]\n                    })]\n                  }), /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex flex-col text-right\",\n                      children: [/*#__PURE__*/_jsx(\"p\", {\n                        className: \"font-bold text-xl mb-0 text-white\",\n                        children: userlasttwo[0].name\n                      }), /*#__PURE__*/_jsxs(Label, {\n                        children: [\"T-000\", userlasttwo[0].id]\n                      })]\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"flex flex-col mt-4 text-right\",\n                      children: /*#__PURE__*/_jsxs(H2, {\n                        color: \"white\",\n                        children: [\"Sisa \", userlasttwo[0].time_left]\n                      })\n                    })]\n                  })]\n                }), userlasttwo.length >= 2 && /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"rounded bg-white hover:bg-mono90 transition duration-300 shadow p-5 flex justify-between cursor-pointer h-3/6\",\n                  onClick: function onClick() {\n                    rt.push(\"/tasks/detail/\".concat(userlasttwo[1].id));\n                  },\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      children: /*#__PURE__*/_jsx(ClipboardcheckIconSvg, {\n                        size: 50,\n                        color: \"#35763B\"\n                      })\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex flex-col mt-2\",\n                      children: [/*#__PURE__*/_jsxs(Text, {\n                        children: [\"Berakhir \", (new Date() - new Date(userlasttwo[1].deadline)) / (1000 * 60 * 60 * 24) < 1 ? \"Hari Ini\" : \"\".concat(moment(userlasttwo[1].deadline).locale('id').format('Do MMM'))]\n                      }), /*#__PURE__*/_jsx(_Progress, {\n                        trailColor: \"#d8e8da\",\n                        strokeColor: \"#35763B\",\n                        percent: userlasttwo[1].time_limit_percentage,\n                        showInfo: false\n                      })]\n                    })]\n                  }), /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex flex-col text-right\",\n                      children: [/*#__PURE__*/_jsx(H1, {\n                        children: userlasttwo[1].name\n                      }), /*#__PURE__*/_jsxs(Label, {\n                        children: [\"T-000\", userlasttwo[1].id]\n                      })]\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"flex flex-col mt-4 text-right\",\n                      children: /*#__PURE__*/_jsxs(H2, {\n                        color: \"primary\",\n                        children: [\"Sisa \", userlasttwo[1].time_left]\n                      })\n                    })]\n                  })]\n                })]\n              })\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-span-3 flex flex-col shadow-md rounded-md bg-white p-5 mb-6 mx-3\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsx(H1, {\n              children: \"Status Task\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \" dropdown\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  tabIndex: \"0\",\n                  className: \"mx-1 cursor-pointer\",\n                  onClick: function onClick() {\n                    setstatusloctoggle(function (prev) {\n                      return !prev;\n                    });\n                  },\n                  children: /*#__PURE__*/_jsx(MappinIconSvg, {\n                    color: \"#000000\",\n                    size: 25\n                  })\n                }), statusloctoggle ? /*#__PURE__*/_jsxs(\"div\", {\n                  tabIndex: \"0\",\n                  className: \"p-5 shadow menu dropdown-content bg-white rounded-box w-72 flex flex-col max-h-72 overflow-scroll\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \" flex justify-end mb-1 cursor-pointer\",\n                    onClick: function onClick() {\n                      setstatusloctoggle(false);\n                      setloadingstatustaskdata(true);\n                      fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserTaskStatusList?from=\".concat(statustaskdatestate.from, \"&to=\").concat(statustaskdatestate.to, \"&location=\"), {\n                        method: \"GET\",\n                        headers: {\n                          'Authorization': JSON.parse(initProps)\n                        }\n                      }).then(function (res) {\n                        return res.json();\n                      }).then(function (res2) {\n                        setstatustasklocstate('');\n                        setstatustaskdata(res2.data.status_list);\n                        setloadingstatustaskdata(false);\n                      });\n                    },\n                    children: [/*#__PURE__*/_jsx(\"p\", {\n                      className: \" text-xs text-gray-500 mr-1\",\n                      children: \"Reset\"\n                    }), /*#__PURE__*/_jsx(CircleXIconSvg, {\n                      size: 15,\n                      color: \"#BF4A40\"\n                    })]\n                  }), /*#__PURE__*/_jsx(_Tree, {\n                    className: \"treeTaskStatusList\",\n                    defaultExpandAll: true,\n                    treeData: statustaskloc,\n                    switcherIcon: /*#__PURE__*/_jsx(DownOutlined, {}),\n                    showIcon: true,\n                    blockNode: true,\n                    titleRender: function titleRender(nodeData) {\n                      return /*#__PURE__*/_jsxs(\"div\", {\n                        className: \"flex items-start w-full py-3 rounded-md px-2\",\n                        onClick: function onClick() {\n                          setstatusloctoggle(false);\n                          setloadingstatustaskdata(true);\n                          fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserTaskStatusList?from=\".concat(statustaskdatestate.from, \"&to=\").concat(statustaskdatestate.to, \"&location=\").concat(nodeData.key), {\n                            method: \"GET\",\n                            headers: {\n                              'Authorization': JSON.parse(initProps)\n                            }\n                          }).then(function (res) {\n                            return res.json();\n                          }).then(function (res2) {\n                            setstatustasklocstate(nodeData.key);\n                            setstatustaskdata(res2.data.status_list);\n                            setloadingstatustaskdata(false);\n                          });\n                        },\n                        children: [/*#__PURE__*/_jsx(\"div\", {\n                          className: \"mr-3 flex items-start\",\n                          children: /*#__PURE__*/_jsx(LocationIconSvg, {\n                            id: \"icon\".concat(nodeData.key),\n                            size: 15,\n                            color: \"#808080\"\n                          })\n                        }), /*#__PURE__*/_jsx(\"div\", {\n                          className: \"mr-3\",\n                          children: /*#__PURE__*/_jsx(\"p\", {\n                            className: \" text-gray-500 mb-0\",\n                            id: \"text\".concat(nodeData.key),\n                            children: nodeData.title\n                          })\n                        })]\n                      });\n                    }\n                  })]\n                }) : null]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-1 cursor-pointer\",\n                onClick: function onClick() {\n                  setstatustaskdatefilter(function (prev) {\n                    return !prev;\n                  });\n                },\n                children: /*#__PURE__*/_jsx(CalendartimeIconSvg, {\n                  color: \"#000000\",\n                  size: 25\n                })\n              }), /*#__PURE__*/_jsx(_DatePicker.RangePicker, {\n                value: statustaskdatestate.from === \"\" ? [\"\", \"\"] : [moment(statustaskdatestate.from), moment(statustaskdatestate.to)],\n                allowEmpty: true,\n                style: {\n                  visibility: \"hidden\",\n                  width: \"0\",\n                  padding: \"0\"\n                },\n                className: \"datepickerStatus\",\n                open: statustaskdatefilter,\n                onChange: function onChange(dates, datestrings) {\n                  setstatustaskdatefilter(function (prev) {\n                    return !prev;\n                  });\n                  setloadingstatustaskdata(true);\n                  fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserTaskStatusList?from=\".concat(datestrings[0], \"&to=\").concat(datestrings[1], \"&location=\").concat(statustasklocstate), {\n                    method: \"GET\",\n                    headers: {\n                      'Authorization': JSON.parse(initProps)\n                    }\n                  }).then(function (res) {\n                    return res.json();\n                  }).then(function (res2) {\n                    setstatustaskdatestate({\n                      from: datestrings[0],\n                      to: datestrings[1]\n                    });\n                    setstatustaskdata(res2.data.status_list);\n                    setloadingstatustaskdata(false);\n                  });\n                },\n                renderExtraFooter: function renderExtraFooter() {\n                  return /*#__PURE__*/_jsx(\"div\", {\n                    className: \" flex items-center\",\n                    children: /*#__PURE__*/_jsx(\"p\", {\n                      className: \" mb-0 text-primary100 hover:text-primary75 cursor-pointer\",\n                      onClick: function onClick() {\n                        setstatustaskdatefilter(function (prev) {\n                          return !prev;\n                        });\n                        setloadingstatustaskdata(true);\n                        fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserTaskStatusList?from=&to=&location=\".concat(statustasklocstate), {\n                          method: \"GET\",\n                          headers: {\n                            'Authorization': JSON.parse(initProps)\n                          }\n                        }).then(function (res) {\n                          return res.json();\n                        }).then(function (res2) {\n                          setstatustaskdatestate({\n                            from: \"\",\n                            to: \"\"\n                          });\n                          setstatustaskdata(res2.data.status_list);\n                          setloadingstatustaskdata(false);\n                        });\n                      },\n                      children: \"Reset\"\n                    })\n                  });\n                }\n              })]\n            })]\n          }), loadingstatustaskdata ? /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsx(_Spin, {})\n          }) : statustaskdata.every(function (docevery) {\n            return docevery.status_count === 0;\n          }) ? /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsx(_Empty, {\n              image: _Empty.PRESENTED_IMAGE_SIMPLE\n            })\n          }) : /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"flex justify-center mb-4\",\n              children: /*#__PURE__*/_jsx(Doughnut, {\n                data: {\n                  labels: statustaskdata.map(function (doc) {\n                    return doc.status_name;\n                  }),\n                  datasets: [{\n                    data: statustaskdata.map(function (doc) {\n                      return doc.status_count;\n                    }),\n                    backgroundColor: ['#BF4A40', '#2F80ED', '#ED962F', '#E5C471', '#6AAA70', '#808080'],\n                    borderColor: ['#BF4A40', '#2F80ED', '#ED962F', '#E5C471', '#6AAA70', '#808080'],\n                    borderWidth: 1\n                  }]\n                },\n                options: {\n                  title: {\n                    display: false\n                  },\n                  legend: {\n                    display: false\n                  },\n                  maintainAspectRatio: false,\n                  cutout: 55,\n                  spacing: 5\n                }\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex flex-col\",\n              children: statustaskdata.map(function (doc, idx) {\n                if (doc.status === 1) {\n                  return /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex justify-between items-center mb-1\",\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex\",\n                      children: [/*#__PURE__*/_jsx(\"div\", {\n                        className: \" w-1 bg-overdue mr-1\"\n                      }), /*#__PURE__*/_jsx(\"div\", {\n                        className: \"mr-1\",\n                        children: /*#__PURE__*/_jsx(Text, {\n                          children: doc.status_name\n                        })\n                      }), /*#__PURE__*/_jsx(AlerttriangleIconSvg, {\n                        size: 15,\n                        color: \"#BF4A40\"\n                      })]\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"flex\",\n                      children: /*#__PURE__*/_jsx(H2, {\n                        children: doc.status_count\n                      })\n                    })]\n                  });\n                } else {\n                  return /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex justify-between items-center mb-1\",\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex\",\n                      children: [/*#__PURE__*/_jsx(\"div\", {\n                        className: \"w-1 mr-1 \".concat(doc.status === 1 && \"bg-overdue\", \" \").concat(doc.status === 2 && \"bg-open\", \" \").concat(doc.status === 3 && \"bg-onprogress\", \" \").concat(doc.status === 4 && \"bg-onhold\", \" \").concat(doc.status === 5 && \"bg-completed\", \" \").concat(doc.status === 6 && \"bg-closed\")\n                      }), /*#__PURE__*/_jsx(Text, {\n                        children: doc.status_name\n                      })]\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"flex\",\n                      children: /*#__PURE__*/_jsx(H2, {\n                        children: doc.status_count\n                      })\n                    })]\n                  });\n                }\n              })\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-span-3 flex flex-col shadow-md rounded-md bg-white p-5 mb-6 mx-3\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsx(H1, {\n              children: \"Tipe Task Terbanyak\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex items-center\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"dropdown dropdown-left\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  tabIndex: \"1\",\n                  className: \"mx-1 cursor-pointer\",\n                  onClick: function onClick() {\n                    setttloctoggle(function (prev) {\n                      return !prev;\n                    });\n                  },\n                  children: /*#__PURE__*/_jsx(MappinIconSvg, {\n                    color: \"#000000\",\n                    size: 25\n                  })\n                }), ttloctoggle ? /*#__PURE__*/_jsxs(\"div\", {\n                  tabIndex: \"1\",\n                  className: \"p-5 shadow menu dropdown-content bg-white rounded-box w-72 flex flex-col max-h-72 overflow-scroll\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \" flex justify-end mb-1 cursor-pointer\",\n                    onClick: function onClick() {\n                      setttloctoggle(false);\n                      setloadingttcdata(true);\n                      fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserTaskTypeCounts?location=\", {\n                        method: \"GET\",\n                        headers: {\n                          'Authorization': JSON.parse(initProps)\n                        }\n                      }).then(function (res) {\n                        return res.json();\n                      }).then(function (res2) {\n                        setttcdata(res2.data);\n                        setloadingttcdata(false);\n                      });\n                    },\n                    children: [/*#__PURE__*/_jsx(\"p\", {\n                      className: \" text-xs text-gray-500 mr-1\",\n                      children: \"Reset\"\n                    }), /*#__PURE__*/_jsx(CircleXIconSvg, {\n                      size: 15,\n                      color: \"#BF4A40\"\n                    })]\n                  }), /*#__PURE__*/_jsx(_Tree, {\n                    className: \"treeTaskStatusList\",\n                    defaultExpandAll: true,\n                    treeData: ttcloc,\n                    switcherIcon: /*#__PURE__*/_jsx(DownOutlined, {}),\n                    showIcon: true,\n                    blockNode: true,\n                    titleRender: function titleRender(nodeData) {\n                      return /*#__PURE__*/_jsxs(\"div\", {\n                        className: \"flex items-start w-full py-3 rounded-md px-2\",\n                        onClick: function onClick() {\n                          setttloctoggle(false);\n                          setloadingttcdata(true);\n                          fetch(\"https://boiling-thicket-46501.herokuapp.com/getUserTaskTypeCounts?location=\".concat(nodeData.key), {\n                            method: \"GET\",\n                            headers: {\n                              'Authorization': JSON.parse(initProps)\n                            }\n                          }).then(function (res) {\n                            return res.json();\n                          }).then(function (res2) {\n                            setttcdata(res2.data);\n                            setloadingttcdata(false);\n                          });\n                        },\n                        children: [/*#__PURE__*/_jsx(\"div\", {\n                          className: \"mr-3 flex items-start\",\n                          children: /*#__PURE__*/_jsx(LocationIconSvg, {\n                            id: \"icon\".concat(nodeData.key),\n                            size: 15,\n                            color: \"#808080\"\n                          })\n                        }), /*#__PURE__*/_jsx(\"div\", {\n                          className: \"mr-3\",\n                          children: /*#__PURE__*/_jsx(\"p\", {\n                            className: \" text-gray-500 mb-0\",\n                            id: \"text\".concat(nodeData.key),\n                            children: nodeData.title\n                          })\n                        })]\n                      });\n                    }\n                  })]\n                }) : null]\n              })\n            })]\n          }), loadingttcdata ? /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsx(_Spin, {})\n          }) : /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"flex justify-center mb-5 h-4/6\",\n              children: /*#__PURE__*/_jsx(Bar, {\n                data: {\n                  labels: ttcdata.map(function (doc) {\n                    return doc.name;\n                  }),\n                  datasets: [{\n                    data: ttcdata.map(function (doc) {\n                      return doc.tasks_count;\n                    }),\n                    backgroundColor: ttcdata.map(function (doc, idx) {\n                      return ttccolorbar[idx + 1 % ttccolorbar.length - 1];\n                    }),\n                    borderColor: ttcdata.map(function (doc, idx) {\n                      return ttccolorbar[idx + 1 % ttccolorbar.length - 1];\n                    }),\n                    barPercentage: 1.0,\n                    barThickness: 18,\n                    maxBarThickness: 15,\n                    minBarLength: 2\n                  }]\n                },\n                options: {\n                  title: {\n                    display: false\n                  },\n                  legend: {\n                    display: false\n                  },\n                  maintainAspectRatio: false,\n                  scales: {\n                    x: {\n                      grid: {\n                        display: false\n                      }\n                    },\n                    y: {\n                      grid: {\n                        display: false\n                      }\n                    }\n                  }\n                }\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex flex-col\",\n              children: ttcdata.map(function (doc, idx) {\n                return /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex justify-between items-center mb-1\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \" w-1 mr-2\",\n                      style: {\n                        backgroundColor: \"\".concat(ttccolorbar[idx + 1 % ttccolorbar.length - 1])\n                      }\n                    }), /*#__PURE__*/_jsx(Text, {\n                      children: doc.name\n                    })]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"flex\",\n                    children: /*#__PURE__*/_jsx(H2, {\n                      children: doc.tasks_count\n                    })\n                  })]\n                }, idx);\n              })\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-span-11 flex flex-col shadow-md rounded-md bg-white p-5 mb-6 mr-3\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: /*#__PURE__*/_jsx(H1, {\n              children: \"Semua Task\"\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \" flex items-center mb-4\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"mx-1 w-2/12\",\n              children: /*#__PURE__*/_jsx(_Input, {\n                value: searchstate,\n                style: {\n                  width: \"100%\"\n                },\n                placeholder: \"Judul atau ID..\",\n                allowClear: true,\n                onChange: function onChange(e) {\n                  if (e.target.value === \"\") {\n                    setsearchstate(\"\");\n                  } else {\n                    setsearchstate(e.target.value);\n                  }\n                }\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"mx-1 w-2/12\",\n              children: /*#__PURE__*/_jsx(_Select, {\n                value: tasktypefilterstate === \"\" ? null : tasktypefilterstate,\n                placeholder: \"Semua Tipe Task\",\n                style: {\n                  width: \"100%\"\n                },\n                allowClear: true,\n                showSearch: true,\n                optionFilterProp: \"children\",\n                notFoundContent: fetchingtasktypes ? /*#__PURE__*/_jsx(_Spin, {\n                  size: \"small\"\n                }) : null,\n                onSearch: function onSearch(value) {\n                  setfetchingtasktypes(true);\n                  fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterTaskTypes?name=\".concat(value), {\n                    method: \"GET\",\n                    headers: {\n                      'Authorization': JSON.parse(initProps)\n                    }\n                  }).then(function (res) {\n                    return res.json();\n                  }).then(function (res2) {\n                    setdatafiltertipetasks(res2.data);\n                    setfetchingtasktypes(false);\n                  });\n                },\n                filterOption: function filterOption(input, opt) {\n                  return opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n                },\n                name: \"task_type_id\",\n                onChange: function onChange(value) {\n                  typeof value === 'undefined' ? settasktypefilterstate(\"\") : settasktypefilterstate(value);\n                },\n                children: datafiltertipetasks.map(function (doc, idx) {\n                  return /*#__PURE__*/_jsx(_Select.Option, {\n                    value: doc.id,\n                    children: doc.name\n                  }, idx);\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \" w-3/12 mx-1\",\n              children: /*#__PURE__*/_jsx(_DatePicker.RangePicker, {\n                showTime: true,\n                allowEmpty: true,\n                className: \"datepickerStatus\",\n                value: fromdatefilterstate === \"\" ? [null, null] : [moment(fromdatefilterstate), moment(todatefilterstate)],\n                onChange: function onChange(dates, datestrings) {\n                  setfromdatefilterstate(datestrings[0]);\n                  settodatefilterstate(datestrings[1]);\n                }\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \" mx-1 w-2/12\",\n              children: /*#__PURE__*/_jsx(_TreeSelect, {\n                style: {\n                  width: \"100%\"\n                },\n                allowClear: true,\n                placeholder: \"Semua Lokasi\",\n                showSearch: true,\n                suffixIcon: /*#__PURE__*/_jsx(SearchOutlined, {}),\n                showArrow: true,\n                name: \"locations_id\",\n                onChange: function onChange(value) {\n                  typeof value === 'undefined' ? setlokasifilterstate(\"\") : setlokasifilterstate(value);\n                },\n                treeData: datafilterlokasi,\n                treeDefaultExpandAll: true,\n                value: lokasifilterstate === \"\" ? null : lokasifilterstate\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \" mx-1 w-2/12\",\n              children: /*#__PURE__*/_jsxs(_Select, {\n                style: {\n                  width: \"100%\"\n                },\n                value: statusfilterstate === \"\" ? null : statusfilterstate,\n                placeholder: \"Semua Status\",\n                allowClear: true,\n                name: \"status\",\n                onChange: function onChange(value) {\n                  typeof value === 'undefined' ? setstatusfilterstate(\"\") : setstatusfilterstate(value);\n                },\n                children: [/*#__PURE__*/_jsx(_Select.Option, {\n                  value: 1,\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \" flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"rounded-md h-auto px-1 mr-1 text-center py-1 bg-overdue border border-overdue\"\n                    }), \"Overdue\"]\n                  })\n                }), /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 2,\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \" flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"rounded-md h-auto px-1 mr-1 text-center py-1 bg-open border border-open\"\n                    }), \"Open\"]\n                  })\n                }), /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 3,\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \" flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"rounded-md h-auto px-1 mr-1 text-center py-1 bg-onprogress border border-onprogress\"\n                    }), \"On Progress\"]\n                  })\n                }), /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 4,\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \" flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"rounded-md h-auto px-1 mr-1 text-center py-1 bg-onhold border border-onhold\"\n                    }), \"On Hold\"]\n                  })\n                }), /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 5,\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \" flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"rounded-md h-auto px-1 mr-1 text-center py-1 bg-completed border border-completed\"\n                    }), \"Completed\"]\n                  })\n                }), /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 6,\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \" flex items-center\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"rounded-md h-auto px-1 mr-1 text-center py-1 bg-closed border border-closed\"\n                    }), \"Closed\"]\n                  })\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"mx-1 w-1/12\",\n              children: /*#__PURE__*/_jsxs(Buttonsys, {\n                type: \"primary\",\n                onClick: onFilterTask,\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"mr-1\",\n                  children: /*#__PURE__*/_jsx(SearchIconSvg, {\n                    size: 15,\n                    color: \"#ffffff\"\n                  })\n                }), \"Cari\"]\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"flex flex-col mb-5\",\n            children: /*#__PURE__*/_jsx(TableCustomTask, {\n              dataSource: datatasks,\n              setDataSource: setdatatasks,\n              columns: columnsTask,\n              loading: loadingtasks,\n              setpraloading: setloadingtasks,\n              pageSize: rowstask,\n              total: datarawtask.total,\n              initProps: initProps,\n              setpage: setpagetask,\n              pagefromsearch: pagetask,\n              setdataraw: setdatarawtask,\n              sortstate: sortstate,\n              setsortstate: setsortstate,\n              searchstate: searchstate,\n              tasktypefilterstate: tasktypefilterstate,\n              fromdatefilterstate: fromdatefilterstate,\n              todatefilterstate: todatefilterstate,\n              lokasifilterstate: lokasifilterstate,\n              statusfilterstate: statusfilterstate,\n              prevpath: \"mytask\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"flex items-center justify-end\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              children: /*#__PURE__*/_jsxs(Buttonsys, {\n                type: \"primary\",\n                onClick: function onClick() {\n                  setviewtaskpick(true);\n                },\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"mr-1\",\n                  children: /*#__PURE__*/_jsx(LayoutGridAddSvg, {\n                    size: 18,\n                    color: \"#ffffff\"\n                  })\n                }), \"Ambil Task Baru\"]\n              })\n            })\n          })]\n        })]\n      })\n    })\n  });\n};\n\nexport var __N_SSP = true;\nexport default TaskIndex;","map":null,"metadata":{},"sourceType":"module"}