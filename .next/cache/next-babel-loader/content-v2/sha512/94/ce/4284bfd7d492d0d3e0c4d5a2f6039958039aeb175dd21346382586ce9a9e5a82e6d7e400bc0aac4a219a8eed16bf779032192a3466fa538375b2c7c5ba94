{"ast":null,"code":"import _Tabs from \"antd/lib/tabs\";\nimport _Timeline from \"antd/lib/timeline\";\nimport _Empty from \"antd/lib/empty\";\nimport _Modal from \"antd/lib/modal\";\nimport _Table from \"antd/lib/table\";\nimport _Select from \"antd/lib/select\";\nimport _TreeSelect from \"antd/lib/tree-select\";\nimport _Input from \"antd/lib/input\";\nimport _notification from \"antd/lib/notification\";\nimport _Popover from \"antd/lib/popover\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _Tooltip from \"antd/lib/tooltip\";\nimport _Spin from \"antd/lib/spin\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _Button from \"antd/lib/button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { CloseCircleOutlined, DeleteOutlined, DownOutlined, ExclamationCircleOutlined, SearchOutlined, UpOutlined } from \"@ant-design/icons\";\nimport moment from \"moment\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport Sticky from \"wil-react-sticky\";\nimport Layout from \"../../../components/layout-dashboard2\";\nimport st from \"../../../components/layout-dashboard.module.css\";\nimport httpcookie from \"cookie\";\n\nconst Overview = ({\n  itemid,\n  initProps,\n  maindata,\n  manuf,\n  vendor,\n  praloading\n}) => {\n  const rt = useRouter(); //useState\n\n  const {\n    0: invrelations2,\n    1: setinvrelations2\n  } = useState({}); //helper\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"border-b flex justify-between p-5 mb-8\",\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        className: \"font-bold text-xl my-auto\",\n        children: \"Overview\"\n      }), praloading ? null : /*#__PURE__*/_jsx(_Button, {\n        type: \"primary\",\n        size: \"large\",\n        onClick: () => {\n          rt.push(`/items/update/${itemid}`);\n        },\n        children: \"Ubah\"\n      })]\n    }), praloading ? /*#__PURE__*/_jsx(_Spin, {}) : /*#__PURE__*/_jsxs(\"div\", {\n      className: \"mb-8 mx-5 p-5 w-9/12 border shadow-md rounded-md flex flex-col\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"Model:\"\n        }), maindata.model_inventory.deleted_at !== null ? /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0 mr-1\",\n            children: maindata.model_inventory.name\n          }), /*#__PURE__*/_jsx(_Tooltip, {\n            placement: \"right\",\n            title: \"Model telah dihapus, segera lakukan pengubahan Model!\",\n            children: /*#__PURE__*/_jsx(ExclamationCircleOutlined, {\n              style: {\n                color: `brown`\n              }\n            })\n          })]\n        }) : /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: maindata.model_inventory.name\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"Asset Type:\"\n        }), maindata.model_inventory.asset.deleted_at !== null ? /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0 mr-1\",\n            children: maindata.model_inventory.asset.name\n          }), /*#__PURE__*/_jsx(_Tooltip, {\n            placement: \"right\",\n            title: \"Asset Type telah dihapus, segera lakukan pengubahan Asset Type!\",\n            children: /*#__PURE__*/_jsx(ExclamationCircleOutlined, {\n              style: {\n                color: `brown`\n              }\n            })\n          })]\n        }) : /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: maindata.model_inventory.asset.name\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"MIG ID:\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: maindata.mig_id\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"Serial Number:\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: maindata.serial_number === \"\" || maindata.serial_number === null ? \"-\" : maindata.serial_number\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"Manufacturer:\"\n        }), // invrelations.manufacturers.filter(docfil => docfil.id === maindata.manufacturer_id)[0].deleted_at !== null\n        manuf.isnull === false ? /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0 mr-1\",\n            children: manuf.name\n          }), /*#__PURE__*/_jsx(_Tooltip, {\n            placement: \"right\",\n            title: \"Manufacturer telah dihapus, segera lakukan pengubahan Manufacturer!\",\n            children: /*#__PURE__*/_jsx(ExclamationCircleOutlined, {\n              style: {\n                color: `brown`\n              }\n            })\n          })]\n        }) : /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: manuf.name\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"Vendor:\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: maindata.vendor_id === null ? \"-\" : vendor\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"Location:\"\n        }), maindata.is_consumable === true ? maindata.quantities.map((doc, idx) => /*#__PURE__*/_jsxs(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: [idx + 1, \". \", doc.name, \" - \", doc.quantity]\n        })) : /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: maindata.location === null ? \"-\" : maindata.location_inventory.name\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"Deskripsi:\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: maindata.deskripsi === \"\" || maindata.deskripsi === null ? \"-\" : maindata.deskripsi\n        })]\n      }), /*#__PURE__*/_jsx(\"hr\", {}), maindata.additional_attributes.map((doccolumns, idxcolumns) => {\n        return /*#__PURE__*/_jsxs(\"div\", {\n          className: `flex flex-col mb-5 ${idxcolumns === 0 ? `mt-5` : ``}`,\n          children: [/*#__PURE__*/_jsxs(\"h1\", {\n            className: \" text-sm font-semibold mb-0\",\n            children: [doccolumns.name, \":\"]\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0 text-sm\",\n            children: doccolumns.data_type === \"dropdown\" || doccolumns.data_type === \"checkbox\" || doccolumns.data_type === \"date\" ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [doccolumns.data_type === \"dropdown\" && /*#__PURE__*/_jsx(_Fragment, {\n                children: doccolumns.value.opsi[doccolumns.value.default]\n              }), doccolumns.data_type === \"checkbox\" && /*#__PURE__*/_jsx(_Fragment, {\n                children: doccolumns.value.opsi.filter((_, idxfil) => {\n                  return doccolumns.value.default.includes(idxfil);\n                }).join(\", \")\n              }), doccolumns.data_type === \"date\" && /*#__PURE__*/_jsx(_Fragment, {\n                children: moment(doccolumns.value).locale(\"id\").format(\"LL\")\n              })]\n            }) : /*#__PURE__*/_jsx(_Fragment, {\n              children: doccolumns.value\n            })\n          })]\n        }, idxcolumns);\n      })]\n    })]\n  });\n};\n\nconst KonfigurasiPart = ({\n  initProps,\n  itemid,\n  invrelations,\n  maindata,\n  praloading2,\n  models,\n  setmodels\n}) => {\n  const rt = useRouter(); //usestate\n\n  const {\n    0: mainpartdata,\n    1: setmainpartdata\n  } = useState([]);\n  const {\n    0: assetdata,\n    1: setassetdata\n  } = useState([]);\n  const {\n    0: praloadingpart,\n    1: setpraloadingpart\n  } = useState(true);\n  const {\n    0: events,\n    1: setevents\n  } = useState(\"\");\n  const {\n    0: datatable,\n    1: setdatatable\n  } = useState([]);\n  const {\n    0: datatable2,\n    1: setdatatable2\n  } = useState([]);\n  const {\n    0: datatable3,\n    1: setdatatable3\n  } = useState([]);\n  const {\n    0: namasearchact,\n    1: setnamasearchact\n  } = useState(false);\n  const {\n    0: namavalue,\n    1: setnamavalue\n  } = useState(\"\");\n  const {\n    0: assettypefilteract,\n    1: setassettypefilteract\n  } = useState(false);\n  const {\n    0: assettypevalue,\n    1: setassettypevalue\n  } = useState(\"\");\n  const {\n    0: modelfilteract,\n    1: setmodelfilteract\n  } = useState(false);\n  const {\n    0: modelvalue,\n    1: setmodelvalue\n  } = useState(\"\");\n  const {\n    0: datatrigger,\n    1: setdatatrigger\n  } = useState(0); //changed dan removed\n\n  const {\n    0: datareplacements,\n    1: setdatareplacements\n  } = useState([]);\n  const {\n    0: popover,\n    1: setpopover\n  } = useState(false); //changed\n\n  const {\n    0: datachanged,\n    1: setdatachanged\n  } = useState({\n    id: null,\n    model_id: null,\n    inventory_name: \"\",\n    mig_id: \"\",\n    status_condition: {\n      id: null,\n      name: \"\"\n    },\n    status_usage: {\n      id: null,\n      name: \"\"\n    },\n    deleted_at: null,\n    model_inventory: {\n      id: null,\n      name: \"\",\n      asset_id: null,\n      deleted_at: null,\n      asset: {\n        id: null,\n        name: \"\",\n        deleted_at: \"\"\n      }\n    }\n  });\n  const {\n    0: dataApichanged,\n    1: setdataApichanged\n  } = useState({\n    id: 0,\n    replacement_id: 0,\n    notes: \"\"\n  });\n  const {\n    0: modalchanged,\n    1: setmodalchanged\n  } = useState(false);\n  const {\n    0: disabledchanged,\n    1: setdisabledchanged\n  } = useState(true);\n  const {\n    0: loadingchanged,\n    1: setloadingchanged\n  } = useState(false);\n  const {\n    0: triggerchanged,\n    1: settriggerchanged\n  } = useState(-1); //removed\n\n  const {\n    0: dataremoved,\n    1: setdataremoved\n  } = useState(-1);\n  const {\n    0: dataApiremoved,\n    1: setdataApiremoved\n  } = useState({\n    id: 0,\n    inventory_part_id: 0,\n    notes: \"\"\n  });\n  const {\n    0: modalremoved,\n    1: setmodalremoved\n  } = useState(false);\n  const {\n    0: disabledremoved,\n    1: setdisabledremoved\n  } = useState(true);\n  const {\n    0: loadingremoved,\n    1: setloadingremoved\n  } = useState(false);\n  const {\n    0: fetchingmodel,\n    1: setfetchingmodel\n  } = useState(false);\n  const {\n    0: backupmodels,\n    1: setbackupmodels\n  } = useState(models);\n  const columns = [// {\n  //     title: 'Nama Item',\n  //     dataIndex: 'inventory_name',\n  //     key: 'inventory_name',\n  // },\n  {\n    title: \"MIG ID\",\n    dataIndex: \"mig_id\",\n    key: \"mig_id\"\n  }, {\n    title: \"Serial Number\",\n    dataIndex: \"serial_number\",\n    key: \"serial_number\",\n    render: (text, record, index) => {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.serial_number === null ? \"-\" : record.serial_number\n        })\n      };\n    }\n  }, {\n    title: \"Model\",\n    dataIndex: \"model_name\",\n    key: \"model_name\",\n    render: (text, record, index) => {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.model_inventory.name\n        })\n      };\n    }\n  }, {\n    title: \"Asset Type\",\n    dataIndex: \"asset_name\",\n    key: \"asset_name\",\n    render: (text, record, index) => {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: record.model_inventory.asset.asset_name\n        })\n      };\n    }\n  }, {\n    title: \"\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\",\n    dataIndex: \"actionss\",\n    render: (text, record, index) => {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: events === record.id ? /*#__PURE__*/_jsx(_Popover, {\n            visible: popover,\n            onVisibleChange: () => {\n              setpopover(true);\n            },\n            style: {\n              padding: `0px`,\n              margin: `0px`\n            },\n            placement: \"bottomLeft\",\n            trigger: \"click\",\n            content: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex flex-col\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"flex justify-center cursor-pointer\",\n                onClick: () => setpopover(false),\n                children: /*#__PURE__*/_jsx(CloseCircleOutlined, {\n                  style: {\n                    color: `red`,\n                    fontSize: `1.1rem`\n                  }\n                })\n              }), /*#__PURE__*/_jsx(_Button, {\n                type: \"text\",\n                style: {\n                  width: `100%`\n                },\n                onClick: () => {\n                  setdataremoved(record);\n                  setdataApiremoved(_objectSpread(_objectSpread({}, dataApiremoved), {}, {\n                    id: mainpartdata.id,\n                    inventory_part_id: record.id\n                  }));\n                  setmodalremoved(true);\n                  setpopover(false);\n                },\n                children: \"Keluarkan Part\"\n              }), /*#__PURE__*/_jsx(_Button, {\n                type: \"text\",\n                style: {\n                  width: `100%`\n                },\n                onClick: () => {\n                  setdatachanged(record);\n                  setmodalchanged(true);\n                  setpopover(false);\n                  settriggerchanged(prev => prev + 1);\n                },\n                children: \"Gantikan Part\"\n              })]\n            }),\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"cursor-pointer\",\n              onClick: () => setpopover(false),\n              children: /*#__PURE__*/_jsx(CloseCircleOutlined, {\n                style: {\n                  color: `red`,\n                  fontSize: `1.5rem`\n                }\n              })\n            })\n          }) : null\n        })\n      };\n    }\n  }]; //helper\n  //1 nya lagi ada di useEffect\n\n  const recursiveFlattenArr = dataassets => {\n    const result = [];\n    dataassets.forEach((item, idx) => {\n      result.push(item.id);\n\n      if (item.children) {\n        result.push(...recursiveFlattenArr(item.children));\n      }\n    });\n    return result;\n  };\n\n  function recursiveModifData(dataa) {\n    for (var i = 0; i < dataa.length; i++) {\n      var _dataa$i$model_invent;\n\n      dataa[i][\"key\"] = dataa[i].id;\n      dataa[i][\"value\"] = dataa[i].id;\n      dataa[i][\"title\"] = `${dataa[i].mig_id} - ${(_dataa$i$model_invent = dataa[i].model_inventory) === null || _dataa$i$model_invent === void 0 ? void 0 : _dataa$i$model_invent.name}`;\n      dataa[i][\"children\"] = dataa[i].inventory_replacement_parts;\n      delete dataa[i].inventory_replacement_parts;\n\n      if (dataa[i].children.length > 0) {\n        recursiveModifData(dataa[i].children);\n      }\n    }\n\n    return dataa;\n  } //handler\n\n\n  const assetPart = [];\n\n  const recursiveSearchPartFromAsset = (doc, assetid) => {\n    var arr = [];\n\n    for (var i = 0; i < doc.length; i++) {\n      if (doc[i].model_inventory.asset.id === Number(assetid)) {\n        // continue\n        assetPart.push(doc[i]);\n      } else {\n        if (doc[i].children) {\n          arr.push(_objectSpread(_objectSpread({}, doc[i]), {}, {\n            children: recursiveSearchPartFromAsset(doc[i].children, assetid)\n          }));\n        } else {\n          arr.push(_objectSpread({}, doc[i]));\n        }\n      }\n    }\n\n    return arr;\n  };\n\n  const modelPart = [];\n\n  const recursiveSearchPartFromModel = (doc, modelid) => {\n    var arr = [];\n\n    for (var i = 0; i < doc.length; i++) {\n      if (doc[i].model_id === modelid) {\n        // continue\n        modelPart.push(doc[i]);\n      } else {\n        if (doc[i].children) {\n          arr.push(_objectSpread(_objectSpread({}, doc[i]), {}, {\n            children: recursiveSearchPartFromModel(doc[i].children, modelid)\n          }));\n        } else {\n          arr.push(_objectSpread({}, doc[i]));\n        }\n      }\n    }\n\n    return arr;\n  };\n\n  const namePart = [];\n\n  const recursiveSearchPartFromName = (doc, name) => {\n    var arr = [];\n\n    for (var i = 0; i < doc.length; i++) {\n      if (doc[i].inventory_name.toLowerCase().includes(name.toLowerCase())) {\n        // continue\n        namePart.push(doc[i]);\n      } else {\n        if (doc[i].children) {\n          arr.push(_objectSpread(_objectSpread({}, doc[i]), {}, {\n            children: recursiveSearchPartFromName(doc[i].children, name)\n          }));\n        } else {\n          arr.push(_objectSpread({}, doc[i]));\n        }\n      }\n    }\n\n    return arr;\n  }; //deliver API\n\n\n  const handleReplacementItemPart = () => {\n    setloadingchanged(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/replaceInventoryPart`, {\n      method: \"PUT\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(dataApichanged)\n    }).then(res => res.json()).then(res2 => {\n      setloadingchanged(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: \"Item Part berhasil diganti\",\n          duration: 3\n        });\n\n        setmodalchanged(false);\n        setdatatrigger(prev => prev + 1);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  const handleRemoveItemPart = () => {\n    setloadingremoved(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/removeInventoryPart`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(dataApiremoved)\n    }).then(res => res.json()).then(res2 => {\n      setloadingremoved(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: \"Item Part berhasil dikeluarkan\",\n          duration: 3\n        });\n\n        setmodalremoved(false);\n        setdatatrigger(prev => prev + 1);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //search nama\n\n\n  const onChangeSearch = e => {\n    if (e.target.value === \"\") {\n      setdatatable(datatable3);\n      setnamasearchact(false);\n    } else {\n      setnamasearchact(true);\n      setnamavalue(e.target.value);\n    }\n  }; //search asset type\n\n\n  const onChangeAssetType = id => {\n    if (typeof id === \"undefined\") {\n      setdatatable(datatable3);\n      setassettypefilteract(false);\n      setmodels(backupmodels);\n    } else {\n      fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getModels?rows=100&asset_id=${id}`, {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps)\n        }\n      }).then(res => res.json()).then(res2 => {\n        res2.data.length === 0 ? setmodels([]) : setmodels(res2.data.data);\n      });\n      setassettypefilteract(true);\n      setassettypevalue(id);\n    }\n  }; //search model\n\n\n  const onChangeModel = idmodel => {\n    if (typeof idmodel === \"undefined\") {\n      setdatatable(datatable3);\n      setmodelfilteract(false);\n    } else {\n      setmodelfilteract(true);\n      setmodelvalue(idmodel);\n    }\n  }; //finalClick\n\n\n  const onFinalClick = () => {\n    var datatemp = datatable2;\n\n    if (assettypefilteract) {\n      // const t = recursiveSearchPartFromAsset(datatemp, assettypevalue)\n      recursiveSearchPartFromAsset(datatemp, assettypevalue);\n      datatemp = assetPart;\n    }\n\n    if (modelfilteract) {\n      // const t = recursiveSearchPartFromModel(datatemp, modelvalue)\n      recursiveSearchPartFromModel(datatemp, modelvalue);\n      datatemp = modelPart;\n    }\n\n    if (namasearchact) {\n      // const t = recursiveSearchPartFromName(datatemp, namavalue)\n      recursiveSearchPartFromName(datatemp, namavalue);\n      datatemp = namePart;\n    }\n\n    setdatatable(datatemp);\n  };\n\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getInventory?id=${itemid}`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      return res2.data;\n    }).then(res3 => {\n      const recursiveChangetoChildren = rsc => {\n        var res = [];\n\n        for (var i = 0; i < rsc.length; i++) {\n          var _rsc$i$model_inventor;\n\n          rsc[i].key = rsc[i].id;\n          rsc[i].value = rsc[i].id;\n          rsc[i].title = `${rsc[i].mig_id} - ${(_rsc$i$model_inventor = rsc[i].model_inventory) === null || _rsc$i$model_inventor === void 0 ? void 0 : _rsc$i$model_inventor.name}`;\n          rsc[i].children = rsc[i].inventory_parts;\n          delete rsc[i].inventory_parts;\n\n          if (rsc[i].children.length !== 0) {\n            res.push(_objectSpread(_objectSpread({}, rsc[i]), {}, {\n              children: recursiveChangetoChildren(rsc[i].children)\n            }));\n          } else {\n            delete rsc[i].children;\n            res.push(_objectSpread({}, rsc[i]));\n          }\n        }\n\n        return res;\n      };\n\n      const t = recursiveChangetoChildren(res3.inventory_parts);\n      setmainpartdata(_objectSpread(_objectSpread({}, res3), {}, {\n        inventory_parts: t\n      }));\n      setdatatable(t);\n      setdatatable2(t);\n      setdatatable3(t);\n      setpraloadingpart(false);\n    });\n  }, [datatrigger]);\n  useEffect(() => {\n    if (triggerchanged !== -1) {\n      fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getInventoryReplacements?id=${datachanged.model_inventory.asset_id}`, {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps)\n        }\n      }).then(res => res.json()).then(res2 => {\n        const mapdata = recursiveModifData(res2.data);\n        setdatareplacements(mapdata);\n\n        if (mapdata.length === 0) {\n          setdisabledchanged(false);\n        }\n      });\n    }\n  }, [triggerchanged]);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getAssets`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setassetdata(res2.data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"border-b flex justify-between p-5 mb-8\",\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        className: \"font-bold text-xl my-auto\",\n        children: \"Konfigurasi Part\"\n      }), praloading2 ? null : /*#__PURE__*/_jsx(_Button, {\n        type: \"primary\",\n        size: \"large\",\n        onClick: () => {\n          /*console.log(mainpartdata); console.log(dataremoved)*/\n          rt.push(`/items/createpart/${itemid}?nama=${mainpartdata.mig_id}`);\n        },\n        children: \"Tambah\"\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"flex mb-5\",\n      children: praloading2 ? null : /*#__PURE__*/_jsxs(\"div\", {\n        className: \" w-full mr-1 grid grid-cols-12\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"col-span-5 mr-1\",\n          children: /*#__PURE__*/_jsx(_Input, {\n            style: {\n              width: `100%`,\n              marginRight: `0.5rem`\n            },\n            placeholder: \"Cari Nama Item\",\n            onChange: e => onChangeSearch(e),\n            allowClear: true\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-span-3 mr-1\",\n          children: /*#__PURE__*/_jsx(_TreeSelect, {\n            allowClear: true,\n            dropdownStyle: {\n              maxHeight: 400,\n              overflow: \"auto\"\n            },\n            treeData: assetdata,\n            placeholder: \"Cari Asset Type\",\n            treeDefaultExpandAll: true,\n            style: {\n              width: `100%`\n            },\n            onChange: (value, label, extra) => {\n              if (typeof value === \"undefined\") {\n                onChangeAssetType();\n              } else {\n                onChangeAssetType(extra.allCheckedNodes[0].node.props.id);\n              }\n            }\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-span-3 mr-1\",\n          children: /*#__PURE__*/_jsx(_Select, {\n            showSearch: true,\n            optionFilterProp: \"children\",\n            notFoundContent: fetchingmodel ? /*#__PURE__*/_jsx(_Spin, {\n              size: \"small\"\n            }) : null,\n            onSearch: value => {\n              setfetchingmodel(true);\n              fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getFilterModels?name=${value !== \"\" ? value : \"\"}`, {\n                method: `GET`,\n                headers: {\n                  Authorization: JSON.parse(initProps)\n                }\n              }).then(res => res.json()).then(res2 => {\n                setmodels(res2.data);\n                setfetchingmodel(false);\n              });\n            },\n            filterOption: (input, opt) => opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n            placeholder: \"Cari Model\",\n            style: {\n              width: `100%`\n            },\n            allowClear: true,\n            onChange: value => {\n              if (typeof value === \"undefined\") {\n                onChangeModel();\n              } else {\n                onChangeModel(value);\n              }\n            },\n            children: models.map((docmodels, idxmodels) => {\n              return /*#__PURE__*/_jsx(_Select.Option, {\n                value: docmodels.id,\n                children: docmodels.name\n              });\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \" col-span-1\",\n          children: /*#__PURE__*/_jsx(_Button, {\n            type: \"primary\",\n            style: {\n              width: `100%`\n            },\n            onClick: onFinalClick,\n            children: /*#__PURE__*/_jsx(SearchOutlined, {})\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_Table, {\n      loading: praloadingpart,\n      pagination: {\n        pageSize: 9\n      },\n      scroll: {\n        x: 200\n      },\n      dataSource: datatable,\n      columns: columns,\n      onRow: (record, rowIndex) => {\n        return {\n          onMouseOver: event => {\n            setevents(record.id);\n          },\n          onMouseLeave: event => {\n            setevents(0);\n          }\n        };\n      }\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/_jsxs(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: [\"Form Pergantian Part \\\"\", datachanged.inventory_name, \"\\\"\"]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex\",\n          children: /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(_Button, {\n              type: \"default\",\n              onClick: () => {\n                setmodalchanged(false);\n                setdataApichanged(_objectSpread(_objectSpread({}, dataApichanged), {}, {\n                  replacement_id: null,\n                  notes: \"\"\n                }));\n              },\n              style: {\n                marginRight: `1rem`\n              },\n              children: \"Batal\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              disabled: disabledchanged,\n              onClick: handleReplacementItemPart,\n              loading: loadingchanged,\n              children: \"Simpan\"\n            })]\n          })\n        })]\n      }),\n      visible: modalchanged,\n      onCancel: () => {\n        setmodalchanged(false);\n      },\n      footer: null,\n      width: 760,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-3\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-656990793\" + \" \" + \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"jsx-656990793\" + \" \" + \"mb-0\",\n            children: [\"Nama Item Part yang Ingin Diganti\", \" \", /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-656990793\" + \" \" + \"namapart\"\n            })]\n          }), /*#__PURE__*/_jsx(_TreeSelect, {\n            treeData: datatable3,\n            defaultValue: datachanged.key\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"656990793\",\n            children: [\".namapart.jsx-656990793::before{content:'*';color:red;}\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-656990793\" + \" \" + \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"jsx-656990793\" + \" \" + \"mb-0\",\n            children: [\"Asset Type dari Item Part yang ingin diganti\", \" \", /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-656990793\" + \" \" + \"namapart\"\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-656990793\" + \" \" + \"w-full rounded-sm flex items-center bg-gray-100 border p-2 h-8\",\n            children: datachanged.model_inventory.asset.name\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"656990793\",\n            children: [\".namapart.jsx-656990793::before{content:'*';color:red;}\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-656990793\" + \" \" + \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"jsx-656990793\" + \" \" + \"mb-0\",\n            children: [\"Nama Item Part Pengganti \", /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-656990793\" + \" \" + \"namapart\"\n            })]\n          }), /*#__PURE__*/_jsx(_TreeSelect, {\n            onChange: value => {\n              setdisabledchanged(false);\n              setdataApichanged(_objectSpread(_objectSpread({}, dataApichanged), {}, {\n                id: datachanged.id,\n                replacement_id: value\n              }));\n            },\n            treeData: datareplacements\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"656990793\",\n            children: [\".namapart.jsx-656990793::before{content:'*';color:red;}\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0\",\n            children: \"Notes\"\n          }), /*#__PURE__*/_jsx(_Input.TextArea, {\n            rows: 3,\n            placeholder: \"Masukkan Notes\",\n            value: dataApichanged.notes,\n            onChange: e => {\n              setdataApichanged(_objectSpread(_objectSpread({}, dataApichanged), {}, {\n                notes: e.target.value\n              }));\n            }\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(\"h1\", {\n        className: \"font-semibold\",\n        children: [\"Apakah anda yakin ingin mengeluarkan item \\\"\", dataremoved.inventory_name, \"\\\" dari \\\"\", mainpartdata.inventory_name, \"\\\"?\"]\n      }),\n      visible: modalremoved,\n      onCancel: () => {\n        setmodalremoved(false);\n      },\n      okText: \"Ya\",\n      cancelText: \"Tidak\",\n      onOk: handleRemoveItemPart,\n      okButtonProps: {\n        loading: loadingremoved\n      },\n      width: 760,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"flex flex-col\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0\",\n            children: \"Notes\"\n          }), /*#__PURE__*/_jsx(_Input, {\n            placeholder: \"Masukkan Notes\",\n            onChange: e => {\n              setdataApiremoved(_objectSpread(_objectSpread({}, dataApiremoved), {}, {\n                notes: e.target.value\n              }));\n            }\n          })]\n        })\n      })\n    })]\n  });\n};\n\nconst Relationship = ({\n  initProps,\n  maindata,\n  itemid\n}) => {\n  //init\n  const rt = useRouter(); //usestate\n\n  const {\n    0: events,\n    1: setevents\n  } = useState(\"\");\n  const {\n    0: datatable,\n    1: setdatatable\n  } = useState([]);\n  const {\n    0: datatable2,\n    1: setdatatable2\n  } = useState([]);\n  const {\n    0: datatable3,\n    1: setdatatable3\n  } = useState([]);\n  const {\n    0: namasearchact,\n    1: setnamasearchact\n  } = useState(false);\n  const {\n    0: namavalue,\n    1: setnamavalue\n  } = useState(\"\");\n  const {\n    0: datatrigger,\n    1: setdatatrigger\n  } = useState(0);\n  const {\n    0: loadingrel,\n    1: setloadingrel\n  } = useState(false);\n  const {\n    0: praloadingrel,\n    1: setpraloadingrel\n  } = useState(false); //delete\n\n  const {\n    0: dataApidelete,\n    1: setdataApidelete\n  } = useState({\n    id: \"\"\n  });\n  const {\n    0: modaldelete,\n    1: setmodaldelete\n  } = useState(false);\n  const {\n    0: loadingdelete,\n    1: setloadingdelete\n  } = useState(false);\n  const {\n    0: relationdatadelete,\n    1: setrelationdatadelete\n  } = useState({\n    name: \"\",\n    tipe: \"\",\n    koneksi: \"\"\n  }); //add\n\n  const {\n    0: dataApiadd,\n    1: setdataApiadd\n  } = useState({\n    subject_id: Number(itemid),\n    relationship_id: null,\n    is_inverse: null,\n    type_id: null,\n    connected_ids: null,\n    backup_connected_ids: null\n  });\n  const {\n    0: displaydatarelations,\n    1: setdisplaydatarelations\n  } = useState([]);\n  const {\n    0: relationnameadd,\n    1: setrelationnameadd\n  } = useState(\"\");\n  const {\n    0: relationnameddadd,\n    1: setrelationnameddadd\n  } = useState(false);\n  const {\n    0: relationselectedidxadd,\n    1: setrelationselectedidxadd\n  } = useState(-1);\n  const {\n    0: relationselectedisinverseadd,\n    1: setrelationselectedisinverseadd\n  } = useState(-1);\n  const {\n    0: detailtipeadd,\n    1: setdetailtipeadd\n  } = useState(-10);\n  const {\n    0: detailtipedataadd,\n    1: setdetailtipedataadd\n  } = useState([]);\n  const {\n    0: modaladd,\n    1: setmodaladd\n  } = useState(false);\n  const {\n    0: disabledadd,\n    1: setdisabledadd\n  } = useState(true);\n  const {\n    0: loadingadd,\n    1: setloadingadd\n  } = useState(false);\n  const {\n    0: fetchingmodel,\n    1: setfetchingmodel\n  } = useState(false);\n  const {\n    0: sublocdata,\n    1: setsublocdata\n  } = useState(null);\n  const {\n    0: subloctrig,\n    1: setsubloctrig\n  } = useState(-1); //declaration\n\n  const columns = [{\n    title: \"Relationship Type\",\n    dataIndex: \"relationship_name\",\n    key: \"relationship_name\"\n  }, {\n    title: \"Nama\",\n    dataIndex: \"connected_detail_name\",\n    key: \"connected_detail_name\"\n  }, {\n    title: \"Type\",\n    dataIndex: \"type\",\n    key: \"type\"\n  }, {\n    title: \"\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\",\n    dataIndex: \"actionss\",\n    render: (text, record, index) => {\n      return {\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: events === record.id ? /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsx(DeleteOutlined, {\n              onClick: () => {\n                setdataApidelete({\n                  id: record.id\n                });\n                setrelationdatadelete({\n                  name: record.relationship_name,\n                  tipe: record.type,\n                  koneksi: record.connected_detail_name\n                });\n                setmodaldelete(true);\n              },\n              style: {\n                fontSize: `1.2rem`,\n                color: `red`,\n                cursor: `pointer`\n              }\n            })\n          }) : null\n        })\n      };\n    }\n  }]; //handler\n  //search nama\n\n  const onChangeSearch = e => {\n    if (e.target.value === \"\") {\n      setdatatable(datatable3);\n      setnamasearchact(false);\n    } else {\n      setnamasearchact(true);\n      setnamavalue(e.target.value);\n    }\n  }; //finalClick\n\n\n  const onFinalClick = () => {\n    var datatemp = datatable2;\n\n    if (namasearchact) {\n      datatemp = datatemp.filter(flt => {\n        return flt.connected_detail_name.toLowerCase().includes(namavalue.toLowerCase());\n      });\n    }\n\n    setdatatable(datatemp);\n  }; //handler\n\n\n  const handleDeleteRelationshipItem = () => {\n    setloadingdelete(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/deleteRelationshipInventory`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(dataApidelete)\n    }).then(res => res.json()).then(res2 => {\n      setloadingdelete(false);\n      setmodaldelete(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: \"Relationship berhasil dihapus\",\n          duration: 3\n        });\n\n        setdatatrigger(prev => prev + 1);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  const handleAddRelationshipItem = () => {\n    setloadingadd(true);\n    delete dataApiadd.backup_connected_id; // console.log(dataApiadd)\n\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addRelationshipInventories`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(dataApiadd)\n    }).then(res => res.json()).then(res2 => {\n      setloadingadd(false);\n      setmodaladd(false);\n\n      if (res2.success) {\n        setdataApiadd({\n          subject_id: Number(itemid),\n          relationship_id: null,\n          is_inverse: null,\n          type_id: null,\n          connected_ids: null,\n          backup_connected_ids: null\n        });\n        setrelationnameadd(\"\");\n        setsublocdata(null);\n        setrelationselectedidxadd(-1);\n        setrelationselectedisinverseadd(-1);\n        setsubloctrig(-1);\n\n        _notification[\"success\"]({\n          message: \"Relationship Item berhasil ditambahkan\",\n          duration: 3\n        });\n\n        setdatatrigger(prev => prev + 1);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //useEffect\n\n\n  useEffect(() => {\n    if (datatrigger !== -1) {\n      setpraloadingrel(true);\n      fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRelationshipInventory?id=${itemid}&type_id=-4`, {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps)\n        }\n      }).then(res => res.json()).then(res2 => {\n        setdatatable(res2.data.from_inverse.concat(res2.data.not_from_inverse));\n        setdatatable2(res2.data.from_inverse.concat(res2.data.not_from_inverse));\n        setdatatable3(res2.data.from_inverse.concat(res2.data.not_from_inverse));\n        setpraloadingrel(false);\n      });\n    }\n  }, [datatrigger]);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRelationships`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setdisplaydatarelations(res2.data);\n    });\n  }, []);\n  useEffect(() => {\n    if (subloctrig !== -1) {\n      fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRelationshipInventoryDetailList?type_id=${subloctrig}`, {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps)\n        }\n      }).then(res => res.json()).then(res2 => {\n        setsublocdata(res2.data.children);\n      });\n    } else if (detailtipeadd !== -10) {\n      fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRelationshipInventoryDetailList?type_id=${dataApiadd.type_id}`, {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps)\n        }\n      }).then(res => res.json()).then(res2 => {\n        dataApiadd.type_id === -3 && setdetailtipedataadd([res2.data]);\n        dataApiadd.type_id === -1 && setdetailtipedataadd(res2.data);\n        dataApiadd.type_id === -2 && setdetailtipedataadd(res2.data);\n        dataApiadd.type_id === -4 && setdetailtipedataadd(res2.data.data);\n        console.log();\n      });\n    }\n  }, [detailtipeadd, subloctrig]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"border-b flex justify-between p-5 mb-8\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \"font-bold text-xl my-auto mr-1\",\n          children: \"Relationship\"\n        }), maindata.model_inventory.asset.deleted_at !== null ? /*#__PURE__*/_jsx(_Tooltip, {\n          placement: \"right\",\n          title: \"Asset Type telah dihapus, segera lakukan pengubahan Asset Type!\",\n          children: /*#__PURE__*/_jsx(ExclamationCircleOutlined, {\n            style: {\n              color: `brown`\n            }\n          })\n        }) : null]\n      }), /*#__PURE__*/_jsx(_Button, {\n        type: \"primary\",\n        size: \"large\",\n        onClick: () => {\n          setmodaladd(true);\n          /*rt.push(`/items/createrelationship/${itemid}?nama=${maindata.inventory_name}&asset_id=${maindata.model_inventory.asset.id}`)*/\n        },\n        children: \"Tambah\"\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"flex mb-5\",\n      children: praloadingrel ? null : /*#__PURE__*/_jsxs(\"div\", {\n        className: \" w-full mr-1 grid grid-cols-12\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"col-span-11 mr-1\",\n          children: /*#__PURE__*/_jsx(_Input, {\n            style: {\n              width: `100%`,\n              marginRight: `0.5rem`\n            },\n            placeholder: \"Cari Nama Item\",\n            onChange: e => onChangeSearch(e),\n            allowClear: true\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \" col-span-1\",\n          children: /*#__PURE__*/_jsx(_Button, {\n            type: \"primary\",\n            style: {\n              width: `100%`\n            },\n            onClick: onFinalClick,\n            children: /*#__PURE__*/_jsx(SearchOutlined, {})\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_Table, {\n      loading: praloadingrel,\n      pagination: {\n        pageSize: 9\n      },\n      scroll: {\n        x: 200\n      },\n      dataSource: datatable,\n      columns: columns,\n      onRow: (record, rowIndex) => {\n        return {\n          onMouseOver: event => {\n            setevents(record.id);\n          },\n          onMouseLeave: event => {\n            setevents(0);\n          }\n        };\n      }\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(_Fragment, {\n        children: [\"Apakah Anda yakin ingin menghapus Relationship berikut ini dari \\\"\", maindata.inventory_name, \"\\\"?\"]\n      }),\n      visible: modaldelete,\n      onCancel: () => {\n        setmodaldelete(false);\n      },\n      okText: \"Ya\",\n      cancelText: \"Tidak\",\n      onOk: handleDeleteRelationshipItem,\n      okButtonProps: {\n        loading: loadingdelete\n      },\n      width: 700,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col border-b mb-5\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex flex-col mb-3\",\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              className: \"font-semibold mb-0\",\n              children: \"Relationship Type:\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-0\",\n              children: relationdatadelete.name\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex flex-col mb-3\",\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              className: \"font-semibold mb-0\",\n              children: \"Tipe:\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-0\",\n              children: relationdatadelete.tipe\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex flex-col mb-3\",\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              className: \"font-semibold mb-0\",\n              children: \"Item:\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-0\",\n              children: relationdatadelete.koneksi\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0\",\n            children: \"Notes\"\n          }), /*#__PURE__*/_jsx(_Input, {\n            placeholder: \"Masukkan Notes\",\n            onChange: e => {}\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/_jsxs(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: [\"Form Tambah Relationship \\\"\", maindata.name, \"\\\"\"]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex\",\n          children: /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(_Button, {\n              type: \"default\",\n              onClick: () => {\n                setmodaladd(false);\n                /*setdataApiadd({ ...dataApiadd, relationship_id: null, type_id: null, connected_id: null })*/\n\n                /*console.log(dataApiadd)*/\n              },\n              style: {\n                marginRight: `1rem`\n              },\n              children: \"Batal\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              disabled: disabledadd,\n              onClick: handleAddRelationshipItem,\n              loading: loadingadd,\n              children: \"Simpan\"\n            })]\n          })\n        })]\n      }),\n      visible: modaladd,\n      onCancel: () => {\n        setmodaladd(false);\n      },\n      footer: null,\n      width: 760,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-3\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-656990793\" + \" \" + \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"jsx-656990793\" + \" \" + \"mb-0\",\n            children: [\"Relationship Type \", /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-656990793\" + \" \" + \"namapart\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            onClick: () => {\n              setrelationnameddadd(prev => !prev);\n            },\n            className: \"jsx-656990793\" + \" \" + \"w-full border p-2 hover:border-primary rounded-sm flex items-center justify-between cursor-pointer\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"jsx-656990793\" + \" \" + \"mb-0\",\n              children: relationnameadd\n            }), relationnameddadd ? /*#__PURE__*/_jsx(UpOutlined, {\n              style: {\n                color: `rgb(229,231,235)`\n              }\n            }) : /*#__PURE__*/_jsx(DownOutlined, {\n              style: {\n                color: `rgb(229,231,235)`\n              }\n            })]\n          }), relationnameddadd ? /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-656990793\" + \" \" + \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"jsx-656990793\" + \" \" + \"flex\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-656990793\" + \" \" + \"bg-gray-200 font-semibold p-3 w-6/12\",\n                children: \"Relationship Type\"\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-656990793\" + \" \" + \"bg-gray-200 font-semibold p-3 w-6/12\",\n                children: \"Inverse Relationship Type\"\n              })]\n            }), displaydatarelations.map((doc, idx) => {\n              return /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-656990793\" + \" \" + \"flex\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  onClick: e => {\n                    setrelationnameddadd(false);\n                    setrelationnameadd(doc.relationship_type);\n                    setdataApiadd(_objectSpread(_objectSpread({}, dataApiadd), {}, {\n                      relationship_id: doc.id,\n                      is_inverse: false\n                    }));\n                    doc.id === null || dataApiadd.type_id === null ? setdisabledadd(true) : setdisabledadd(false);\n                    setrelationselectedidxadd(idx);\n                    setrelationselectedisinverseadd(false);\n                  },\n                  className: \"jsx-656990793\" + \" \" + `hover:bg-ternary cursor-pointer hover:text-black p-3 w-6/12 ${relationselectedidxadd === idx && relationselectedisinverseadd === false ? \" bg-secondary\" : \"bg-white\"}`,\n                  children: doc.relationship_type\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  onClick: e => {\n                    setrelationnameddadd(false);\n                    setrelationnameadd(doc.inverse_relationship_type);\n                    setdataApiadd(_objectSpread(_objectSpread({}, dataApiadd), {}, {\n                      relationship_id: doc.id,\n                      is_inverse: true\n                    }));\n                    doc.id === null || dataApiadd.type_id === null ? setdisabledadd(true) : setdisabledadd(false);\n                    setrelationselectedidxadd(idx);\n                    setrelationselectedisinverseadd(true);\n                  },\n                  className: \"jsx-656990793\" + \" \" + `hover:bg-ternary cursor-pointer hover:text-black p-3 w-6/12 ${relationselectedidxadd === idx && relationselectedisinverseadd === true ? \" bg-secondary\" : \"bg-white\"}`,\n                  children: doc.inverse_relationship_type\n                })]\n              });\n            })]\n          }) : null, /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"656990793\",\n            children: [\".namapart.jsx-656990793::before{content:'*';color:red;}\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-2343758608\" + \" \" + \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"jsx-2343758608\" + \" \" + \"mb-0\",\n            children: [\"Tipe \", /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-2343758608\" + \" \" + \"tipepart\"\n            })]\n          }), /*#__PURE__*/_jsxs(_Select, {\n            value: dataApiadd.type_id,\n            onChange: value => {\n              setdataApiadd(_objectSpread(_objectSpread({}, dataApiadd), {}, {\n                type_id: value\n              }));\n              dataApiadd.relationship_id === null || value === null ? setdisabledadd(true) : setdisabledadd(false);\n              setdetailtipeadd(value);\n              dataApiadd.type_id === -3 ? (setsubloctrig(-1), setsublocdata(null)) : null;\n            },\n            children: [/*#__PURE__*/_jsx(_Select.Option, {\n              value: -1,\n              children: \"Agent\"\n            }), /*#__PURE__*/_jsx(_Select.Option, {\n              value: -2,\n              children: \"Requester\"\n            }), /*#__PURE__*/_jsx(_Select.Option, {\n              value: -3,\n              children: \"Company\"\n            }), /*#__PURE__*/_jsx(_Select.Option, {\n              value: -4,\n              children: \"Asset Type\"\n            })]\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"2343758608\",\n            children: [\".tipepart.jsx-2343758608::before{content:'*';color:red;}\"]\n          })]\n        }), dataApiadd.type_id !== null ? /*#__PURE__*/_jsxs(_Fragment, {\n          children: [dataApiadd.type_id === -1 && /*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex flex-col mb-3\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-0\",\n              children: \"Detail Tipe\"\n            }), /*#__PURE__*/_jsx(_Select, {\n              mode: \"multiple\",\n              showSearch: true,\n              optionFilterProp: \"children\",\n              notFoundContent: fetchingmodel ? /*#__PURE__*/_jsx(_Spin, {\n                size: \"small\"\n              }) : null,\n              onSearch: value => {\n                setfetchingmodel(true);\n                fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRelationshipInventoryDetailList?type_id=${detailtipeadd}&name=${value !== \"\" ? value : \"\"}`, {\n                  method: `GET`,\n                  headers: {\n                    Authorization: JSON.parse(initProps)\n                  }\n                }).then(res => res.json()).then(res2 => {\n                  setdetailtipedataadd(res2.data);\n                  setfetchingmodel(false);\n                });\n              },\n              filterOption: (input, opt) => opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n              onChange: value => {\n                setdataApiadd(_objectSpread(_objectSpread({}, dataApiadd), {}, {\n                  connected_ids: value,\n                  backup_connected_ids: value\n                }));\n              },\n              children: detailtipedataadd.map((doc, idx) => {\n                return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: doc.id,\n                  children: doc.name\n                });\n              })\n            })]\n          }), dataApiadd.type_id === -2 && /*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex flex-col mb-3\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-0\",\n              children: \"Detail Tipe\"\n            }), /*#__PURE__*/_jsx(_Select, {\n              mode: \"multiple\",\n              showSearch: true,\n              optionFilterProp: \"children\",\n              notFoundContent: fetchingmodel ? /*#__PURE__*/_jsx(_Spin, {\n                size: \"small\"\n              }) : null,\n              onSearch: value => {\n                setfetchingmodel(true);\n                fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRelationshipInventoryDetailList?type_id=${detailtipeadd}&name=${value !== \"\" ? value : \"\"}`, {\n                  method: `GET`,\n                  headers: {\n                    Authorization: JSON.parse(initProps)\n                  }\n                }).then(res => res.json()).then(res2 => {\n                  setdetailtipedataadd(res2.data);\n                  setfetchingmodel(false);\n                });\n              },\n              filterOption: (input, opt) => opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n              onChange: value => {\n                setdataApiadd(_objectSpread(_objectSpread({}, dataApiadd), {}, {\n                  connected_ids: value,\n                  backup_connected_ids: value\n                }));\n              },\n              children: detailtipedataadd.map((doc, idx) => {\n                return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: doc.id,\n                  children: doc.name\n                });\n              })\n            })]\n          }), dataApiadd.type_id === -3 && /*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex flex-col mb-3\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-0\",\n              children: \"Detail Tipe\"\n            }), /*#__PURE__*/_jsx(_TreeSelect, {\n              defaultValue: dataApiadd.backup_connected_ids === null ? null : dataApiadd.backup_connected_ids[0],\n              treeDefaultExpandedKeys: [1],\n              treeData: detailtipedataadd,\n              onChange: (value, label, extra) => {\n                setdataApiadd(_objectSpread(_objectSpread({}, dataApiadd), {}, {\n                  connected_ids: [value],\n                  backup_connected_ids: [value]\n                }));\n                setsubloctrig(value);\n              }\n            })]\n          }), dataApiadd.type_id === -4 && /*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex flex-col mb-3\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-0\",\n              children: \"Detail Tipe\"\n            }), /*#__PURE__*/_jsx(_Select, {\n              placeholder: \"Cari dengan Model ID\",\n              mode: \"multiple\",\n              showSearch: true,\n              optionFilterProp: \"children\",\n              notFoundContent: fetchingmodel ? /*#__PURE__*/_jsx(_Spin, {\n                size: \"small\"\n              }) : null,\n              onSearch: value => {\n                setfetchingmodel(true);\n                fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRelationshipInventoryDetailList?type_id=${detailtipeadd}&model_id=${value !== \"\" ? value : \"\"}`, {\n                  method: `GET`,\n                  headers: {\n                    Authorization: JSON.parse(initProps)\n                  }\n                }).then(res => res.json()).then(res2 => {\n                  setdetailtipedataadd(res2.data);\n                  setfetchingmodel(false);\n                });\n              },\n              filterOption: (input, opt) => opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n              onChange: value => {\n                setdataApiadd(_objectSpread(_objectSpread({}, dataApiadd), {}, {\n                  connected_ids: value,\n                  backup_connected_ids: value\n                }));\n              },\n              children: detailtipedataadd.map((doc, idx) => {\n                return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: doc.id,\n                  children: doc.mig_id\n                });\n              })\n            })]\n          })]\n        }) : null, sublocdata !== null && /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0\",\n            children: \"Detail Tipe (Sublokasi)\"\n          }), /*#__PURE__*/_jsx(_TreeSelect, {\n            multiple: true,\n            allowClear: true,\n            treeData: sublocdata,\n            onChange: (value, label, extra) => {\n              if (value.length === 0) {\n                setdataApiadd(_objectSpread(_objectSpread({}, dataApiadd), {}, {\n                  connected_ids: dataApiadd.backup_connected_ids\n                }));\n              } else {\n                setdataApiadd(_objectSpread(_objectSpread({}, dataApiadd), {}, {\n                  connected_ids: value\n                }));\n              }\n            }\n          })]\n        })]\n      })\n    })]\n  });\n};\n\nconst Association = ({\n  initProps,\n  itemid,\n  maindata,\n  praloading\n}) => {\n  const rt = useRouter();\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"border-b flex justify-between p-5 mb-8\",\n      children: /*#__PURE__*/_jsx(\"h1\", {\n        className: \"font-bold text-xl my-auto\",\n        children: \"Association\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"flex flex-col px-5\",\n      children: praloading ? /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsx(_Spin, {})\n      }) : maindata.associations.length === 0 ? /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsx(_Empty, {\n          image: _Empty.PRESENTED_IMAGE_SIMPLE\n        })\n      }) : /*#__PURE__*/_jsx(_Fragment, {\n        children: maindata.associations.map((doc, idx) => {\n          return /*#__PURE__*/_jsxs(\"div\", {\n            className: \"rounded-md shadow-md py-4 px-5 border mb-4 flex justify-between w-10/12 cursor-pointer\",\n            onClick: () => {\n              rt.push(`/tickets/detail/${doc.id}?active=detailItem`);\n            },\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex flex-col\",\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: \"mb-0 font-semibold\",\n                children: \"Ticket Number\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: \"mb-0\",\n                children: doc.ticket_name\n              })]\n            }), doc.status === 1 && /*#__PURE__*/_jsxs(\"div\", {\n              className: \"rounded-md flex items-center px-2 text-center bg-red-100 border border-red-200 text-red-600\",\n              children: [\"Status: \", doc.status_name]\n            }), doc.status === 2 && /*#__PURE__*/_jsxs(\"div\", {\n              className: \"rounded-md flex items-center px-2 text-center bg-blue-100 border border-blue-200 text-blue-600\",\n              children: [\"Status: \", doc.status_name]\n            }), doc.status === 3 && /*#__PURE__*/_jsxs(\"div\", {\n              className: \"rounded-md flex items-center px-2 text-center bg-blue-100 border border-blue-200 text-blue-600\",\n              children: [\"Status: \", doc.status_name]\n            }), doc.status === 4 && /*#__PURE__*/_jsxs(\"div\", {\n              className: \"rounded-md flex items-center px-2 text-center bg-blue-100 border border-blue-200 text-blue-600\",\n              children: [\"Status: \", doc.status_name]\n            }), doc.status === 5 && /*#__PURE__*/_jsxs(\"div\", {\n              className: \"rounded-md flex items-center px-2 text-center bg-blue-100 border border-blue-200 text-blue-600\",\n              children: [\"Status: \", doc.status_name]\n            })]\n          });\n        })\n      })\n    })]\n  });\n};\n\nconst Acitivty = ({\n  itemid,\n  initProps,\n  maindata,\n  invrelations,\n  praloading,\n  activitytrigger\n}) => {\n  const {\n    0: daylogs,\n    1: setdaylogs\n  } = useState([]);\n  const {\n    0: weeklogs,\n    1: setweeklogs\n  } = useState([]);\n  const {\n    0: morelogs,\n    1: setmorelogs\n  } = useState([]);\n  const {\n    0: praloadinglogs,\n    1: setpraloadinglogs\n  } = useState(true);\n  const {\n    0: inventories,\n    1: setinventories\n  } = useState([]);\n  useEffect(() => {\n    setpraloadinglogs(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getActivityInventoryLogs?id=${itemid}`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      var daylogsmap = res2.data.day_logs.map((doclogs, idxlogs) => {\n        const datenew = moment(doclogs.date).locale(\"id\").format(\"LLL\");\n        var descnew = \"\";\n        const desckondisiOld = doclogs.properties ? doclogs.properties.old ? doclogs.properties.old.status_condition === 1 ? \"Good\" : doclogs.properties.old.status_condition === 2 ? \"Grey\" : doclogs.properties.old.status_condition === 3 ? \"Bad\" : null : null : null;\n        const desckondisiBaru = doclogs.properties ? doclogs.properties.attributes ? doclogs.properties.attributes.status_condition === 1 ? \"Good\" : doclogs.properties.attributes.status_condition === 2 ? \"Grey\" : doclogs.properties.attributes.status_condition === 3 ? \"Bad\" : null : null : null;\n        const descusageOld = doclogs.properties ? doclogs.properties.old ? doclogs.properties.old.status_usage === 1 ? \"In Used\" : doclogs.properties.old.status_usage === 2 ? \"In Stock\" : doclogs.properties.old.status_usage === 3 ? \"Replacement\" : null : null : null;\n        const descusageBaru = doclogs.properties ? doclogs.properties.attributes ? doclogs.properties.attributes.status_usage === 1 ? \"In Used\" : doclogs.properties.attributes.status_usage === 2 ? \"In Stock\" : doclogs.properties.attributes.status_usage === 3 ? \"Replacement\" : null : null : null;\n        const desc1 = doclogs.description.split(\" \");\n\n        if (desc1[0] === \"Created\") {\n          var _doclogs$properties$a;\n\n          if (desc1[2] === \"Relationship\") {\n            desc1[0] === \"Created\" ? descnew = descnew + `Penambahan Relationship \"${doclogs.properties.attributes.relationship}\"` : null;\n            desc1[0] === \"Deleted\" ? descnew = descnew + `Penghapusan Relationship \"${doclogs.properties.old.relationship}\"` : null;\n          } else if (desc1[1] === \"Association\") {\n            descnew = descnew + `Association Baru: ${doclogs.properties}`;\n          } else if ((_doclogs$properties$a = doclogs.properties.attributes) !== null && _doclogs$properties$a !== void 0 && _doclogs$properties$a.list_parts) {\n            descnew = descnew + `Inisialisasi Pembuatan Item Part \"${maindata.inventory_parts.filter(docfil => {\n              var _doclogs$properties$a2;\n\n              return (_doclogs$properties$a2 = doclogs.properties.attributes) === null || _doclogs$properties$a2 === void 0 ? void 0 : _doclogs$properties$a2.list_parts.includes(docfil.id);\n            }).map(docmap => docmap.inventory_name).join(\", \")}\"`;\n          } else {\n            var _doclogs$properties$a3;\n\n            descnew = descnew + `Pembuatan Item Baru bernama \"${(_doclogs$properties$a3 = doclogs.properties.attributes) === null || _doclogs$properties$a3 === void 0 ? void 0 : _doclogs$properties$a3.inventory_name}\"`;\n          }\n        }\n\n        desc1[0] === \"Notes\" ? descnew = descnew + `Penambahan Notes` : null;\n\n        if (desc1[0] === \"Updated\") {\n          var _doclogs$properties$a4, _doclogs$properties$o, _doclogs$properties$a6, _doclogs$properties$o3, _doclogs$properties$a8, _doclogs$properties$o5;\n\n          if (doclogs.properties.attributes.status_condition) {\n            descnew = descnew + `Pengubahan status kondisi dari ${desckondisiOld} ke ${desckondisiBaru}`;\n          } else if (doclogs.properties.attributes.status_usage) {\n            descnew = descnew + `Pengubahan status pemakaian dari ${descusageOld} ke ${descusageBaru}`;\n          } else if (doclogs.properties.attributes.inventory_name) {\n            descnew = descnew + `Pengubahan Nama Item dari \"${doclogs.properties.old.inventory_name}\" ke \"${doclogs.properties.attributes.inventory_name}\"`;\n          } else if (doclogs.properties.attributes.serial_number) {\n            descnew = descnew + `Pengubahan Serial Number Item dari \"${doclogs.properties.old.serial_number}\" ke \"${doclogs.properties.attributes.serial_number}\"`;\n          } else if (doclogs.properties.attributes.location) {\n            descnew = descnew + `Pengubahan Location Item dari \"${invrelations.companies.filter(doc => doc.id === doclogs.properties.old.location)[0].name}\" ke \"${invrelations.companies.filter(doc => doc.id === doclogs.properties.attributes.location)[0].name}\"`;\n          } else if (doclogs.properties.attributes.vendor_id) {\n            descnew = descnew + `Pengubahan Vendor Item dari \"${invrelations.vendors.filter(doc => doc.id === doclogs.properties.old.vendor_id)[0].name}\" ke \"${invrelations.vendors.filter(doc => doc.id === doclogs.properties.attributes.vendor_id)[0].name}\"`;\n          } else if (doclogs.properties.attributes.manufacturer_id) {\n            descnew = descnew + `Pengubahan Manufacturer Item dari \"${invrelations.manufacturers.filter(doc => doc.id === doclogs.properties.old.manufacturer_id)[0].name}\" ke \"${invrelations.manufacturers.filter(doc => doc.id === doclogs.properties.attributes.manufacturer_id)[0].name}\"`;\n          } else if (doclogs.properties.attributes.deskripsi) {\n            descnew = descnew + `Pengubahan Deskripsi Item`;\n          } else if (((_doclogs$properties$a4 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a4 === void 0 ? void 0 : _doclogs$properties$a4.length) > ((_doclogs$properties$o = doclogs.properties.old.list_parts) === null || _doclogs$properties$o === void 0 ? void 0 : _doclogs$properties$o.length)) {\n            var _doclogs$properties$a5;\n\n            const listpartsnew = (_doclogs$properties$a5 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a5 === void 0 ? void 0 : _doclogs$properties$a5.filter(docfil => {\n              var _doclogs$properties$o2;\n\n              return ((_doclogs$properties$o2 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o2 === void 0 ? void 0 : _doclogs$properties$o2.map(part => part.id).includes(docfil.id)) === false;\n            });\n            descnew = descnew + `Penambahan Item \"${listpartsnew === null || listpartsnew === void 0 ? void 0 : listpartsnew.map(part => part.mig_id).join(\", \")}\" menjadi Item Part`;\n          } else if (((_doclogs$properties$a6 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a6 === void 0 ? void 0 : _doclogs$properties$a6.length) < ((_doclogs$properties$o3 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o3 === void 0 ? void 0 : _doclogs$properties$o3.length)) {\n            var _doclogs$properties$o4;\n\n            const listpartsold = (_doclogs$properties$o4 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o4 === void 0 ? void 0 : _doclogs$properties$o4.filter(docfil => {\n              var _doclogs$properties$a7;\n\n              return ((_doclogs$properties$a7 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a7 === void 0 ? void 0 : _doclogs$properties$a7.map(part => part.id).includes(docfil.id)) === false;\n            });\n            descnew = descnew + `Pengeluaran Item Part \"${listpartsold === null || listpartsold === void 0 ? void 0 : listpartsold.map(part => part.mig_id).join(\", \")}\"`;\n          } else if (((_doclogs$properties$a8 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a8 === void 0 ? void 0 : _doclogs$properties$a8.length) === ((_doclogs$properties$o5 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o5 === void 0 ? void 0 : _doclogs$properties$o5.length)) {\n            var _doclogs$properties$a9, _doclogs$properties$o7;\n\n            const listpartsnew = (_doclogs$properties$a9 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a9 === void 0 ? void 0 : _doclogs$properties$a9.filter(docfil => {\n              var _doclogs$properties$o6;\n\n              return ((_doclogs$properties$o6 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o6 === void 0 ? void 0 : _doclogs$properties$o6.map(part => part.id).includes(docfil.id)) === false;\n            });\n            const listpartsold = (_doclogs$properties$o7 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o7 === void 0 ? void 0 : _doclogs$properties$o7.filter(docfil => {\n              var _doclogs$properties$a10;\n\n              return ((_doclogs$properties$a10 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a10 === void 0 ? void 0 : _doclogs$properties$a10.map(part => part.id).includes(docfil.id)) === false;\n            });\n            descnew = descnew + `Pergantian Item Part \"${listpartsold === null || listpartsold === void 0 ? void 0 : listpartsold.map(part => part.mig_id).join(\", \")}\" menjadi \"${listpartsnew === null || listpartsnew === void 0 ? void 0 : listpartsnew.map(part => part.mig_id).join(\", \")}\"`;\n          } else {\n            var prpts = [];\n\n            for (var prop in doclogs.properties.old) {\n              prpts.push(prop);\n            }\n\n            descnew = descnew + `Pengubahan \"${prpts.join(\", \")}\" Item`;\n          }\n        }\n\n        if (desc1[0] === \"Deleted\") {\n          if (desc1[2] === \"Relationship\") {\n            desc1[0] === \"Created\" ? descnew = descnew + `Penambahan Relationship \"${doclogs.properties.attributes.relationship}\"` : null;\n            desc1[0] === \"Deleted\" ? descnew = descnew + `Penghapusan Relationship \"${doclogs.properties.old.relationship}\"` : null;\n          } else if (desc1[1] === \"Association\") {\n            descnew = descnew + `Association Dihapus: ${doclogs.properties}`;\n          }\n        }\n\n        return _objectSpread(_objectSpread({}, doclogs), {}, {\n          date: datenew,\n          description: descnew\n        });\n      });\n      var weeklogsmap = res2.data.week_logs.map((doclogs, idxlogs) => {\n        const datenew = moment(doclogs.date).locale(\"id\").format(\"LLL\");\n        var descnew = \"\";\n        const desckondisiOld = doclogs.properties ? doclogs.properties.old ? doclogs.properties.old.status_condition === 1 ? \"Good\" : doclogs.properties.old.status_condition === 2 ? \"Grey\" : doclogs.properties.old.status_condition === 3 ? \"Bad\" : null : null : null;\n        const desckondisiBaru = doclogs.properties ? doclogs.properties.attributes ? doclogs.properties.attributes.status_condition === 1 ? \"Good\" : doclogs.properties.attributes.status_condition === 2 ? \"Grey\" : doclogs.properties.attributes.status_condition === 3 ? \"Bad\" : null : null : null;\n        const descusageOld = doclogs.properties ? doclogs.properties.old ? doclogs.properties.old.status_usage === 1 ? \"In Used\" : doclogs.properties.old.status_usage === 2 ? \"In Stock\" : doclogs.properties.old.status_usage === 3 ? \"Replacement\" : null : null : null;\n        const descusageBaru = doclogs.properties ? doclogs.properties.attributes ? doclogs.properties.attributes.status_usage === 1 ? \"In Used\" : doclogs.properties.attributes.status_usage === 2 ? \"In Stock\" : doclogs.properties.attributes.status_usage === 3 ? \"Replacement\" : null : null : null;\n        const desc1 = doclogs.description.split(\" \");\n\n        if (desc1[0] === \"Created\") {\n          var _doclogs$properties$a11;\n\n          if (desc1[2] === \"Relationship\") {\n            desc1[0] === \"Created\" ? descnew = descnew + `Penambahan Relationship \"${doclogs.properties.attributes.relationship}\"` : null;\n            desc1[0] === \"Deleted\" ? descnew = descnew + `Penghapusan Relationship \"${doclogs.properties.old.relationship}\"` : null;\n          } else if (desc1[1] === \"Association\") {\n            descnew = descnew + `Association Baru: ${doclogs.properties}`;\n          } else if ((_doclogs$properties$a11 = doclogs.properties.attributes) !== null && _doclogs$properties$a11 !== void 0 && _doclogs$properties$a11.list_parts) {\n            descnew = descnew + `Inisialisasi Pembuatan Item Part \"${maindata.inventory_parts.filter(docfil => {\n              var _doclogs$properties$a12;\n\n              return (_doclogs$properties$a12 = doclogs.properties.attributes) === null || _doclogs$properties$a12 === void 0 ? void 0 : _doclogs$properties$a12.list_parts.includes(docfil.id);\n            }).map(docmap => docmap.inventory_name).join(\", \")}\"`;\n          } else {\n            var _doclogs$properties$a13;\n\n            descnew = descnew + `Pembuatan Item Baru bernama \"${(_doclogs$properties$a13 = doclogs.properties.attributes) === null || _doclogs$properties$a13 === void 0 ? void 0 : _doclogs$properties$a13.inventory_name}\"`;\n          }\n        }\n\n        desc1[0] === \"Notes\" ? descnew = descnew + `Penambahan Notes` : null;\n\n        if (desc1[0] === \"Updated\") {\n          var _doclogs$properties$a14, _doclogs$properties$o8, _doclogs$properties$a16, _doclogs$properties$o10, _doclogs$properties$a18, _doclogs$properties$o12;\n\n          if (doclogs.properties.attributes.status_condition) {\n            descnew = descnew + `Pengubahan status kondisi dari ${desckondisiOld} ke ${desckondisiBaru}`;\n          } else if (doclogs.properties.attributes.status_usage) {\n            descnew = descnew + `Pengubahan status pemakaian dari ${descusageOld} ke ${descusageBaru}`;\n          } else if (doclogs.properties.attributes.inventory_name) {\n            descnew = descnew + `Pengubahan Nama Item dari \"${doclogs.properties.old.inventory_name}\" ke \"${doclogs.properties.attributes.inventory_name}\"`;\n          } else if (doclogs.properties.attributes.serial_number) {\n            descnew = descnew + `Pengubahan Serial Number Item dari \"${doclogs.properties.old.serial_number}\" ke \"${doclogs.properties.attributes.serial_number}\"`;\n          } else if (doclogs.properties.attributes.location) {\n            descnew = descnew + `Pengubahan Location Item dari \"${invrelations.companies.filter(doc => doc.id === doclogs.properties.old.location)[0].name}\" ke \"${invrelations.companies.filter(doc => doc.id === doclogs.properties.attributes.location)[0].name}\"`;\n          } else if (doclogs.properties.attributes.vendor_id) {\n            descnew = descnew + `Pengubahan Vendor Item dari \"${invrelations.vendors.filter(doc => doc.id === doclogs.properties.old.vendor_id)[0].name}\" ke \"${invrelations.vendors.filter(doc => doc.id === doclogs.properties.attributes.vendor_id)[0].name}\"`;\n          } else if (doclogs.properties.attributes.manufacturer_id) {\n            descnew = descnew + `Pengubahan Manufacturer Item dari \"${invrelations.manufacturers.filter(doc => doc.id === doclogs.properties.old.manufacturer_id)[0].name}\" ke \"${invrelations.manufacturers.filter(doc => doc.id === doclogs.properties.attributes.manufacturer_id)[0].name}\"`;\n          } else if (doclogs.properties.attributes.deskripsi) {\n            descnew = descnew + `Pengubahan Deskripsi Item`;\n          } else if (((_doclogs$properties$a14 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a14 === void 0 ? void 0 : _doclogs$properties$a14.length) > ((_doclogs$properties$o8 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o8 === void 0 ? void 0 : _doclogs$properties$o8.length)) {\n            var _doclogs$properties$a15;\n\n            const listpartsnew = (_doclogs$properties$a15 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a15 === void 0 ? void 0 : _doclogs$properties$a15.filter(docfil => {\n              var _doclogs$properties$o9;\n\n              return ((_doclogs$properties$o9 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o9 === void 0 ? void 0 : _doclogs$properties$o9.map(part => part.id).includes(docfil.id)) === false;\n            });\n            descnew = descnew + `Penambahan Item \"${listpartsnew === null || listpartsnew === void 0 ? void 0 : listpartsnew.map(part => part.mig_id).join(\", \")}\" menjadi Item Part`;\n          } else if (((_doclogs$properties$a16 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a16 === void 0 ? void 0 : _doclogs$properties$a16.length) < ((_doclogs$properties$o10 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o10 === void 0 ? void 0 : _doclogs$properties$o10.length)) {\n            var _doclogs$properties$o11;\n\n            const listpartsold = (_doclogs$properties$o11 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o11 === void 0 ? void 0 : _doclogs$properties$o11.filter(docfil => {\n              var _doclogs$properties$a17;\n\n              return ((_doclogs$properties$a17 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a17 === void 0 ? void 0 : _doclogs$properties$a17.map(part => part.id).includes(docfil.id)) === false;\n            });\n            descnew = descnew + `Pengeluaran Item Part \"${listpartsold === null || listpartsold === void 0 ? void 0 : listpartsold.map(part => part.mig_id).join(\", \")}\"`;\n          } else if (((_doclogs$properties$a18 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a18 === void 0 ? void 0 : _doclogs$properties$a18.length) === ((_doclogs$properties$o12 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o12 === void 0 ? void 0 : _doclogs$properties$o12.length)) {\n            var _doclogs$properties$a19, _doclogs$properties$o14;\n\n            const listpartsnew = (_doclogs$properties$a19 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a19 === void 0 ? void 0 : _doclogs$properties$a19.filter(docfil => {\n              var _doclogs$properties$o13;\n\n              return ((_doclogs$properties$o13 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o13 === void 0 ? void 0 : _doclogs$properties$o13.map(part => part.id).includes(docfil.id)) === false;\n            });\n            const listpartsold = (_doclogs$properties$o14 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o14 === void 0 ? void 0 : _doclogs$properties$o14.filter(docfil => {\n              var _doclogs$properties$a20;\n\n              return ((_doclogs$properties$a20 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a20 === void 0 ? void 0 : _doclogs$properties$a20.map(part => part.id).includes(docfil.id)) === false;\n            });\n            descnew = descnew + `Pergantian Item Part \"${listpartsold === null || listpartsold === void 0 ? void 0 : listpartsold.map(part => part.mig_id).join(\", \")}\" menjadi \"${listpartsnew === null || listpartsnew === void 0 ? void 0 : listpartsnew.map(part => part.mig_id).join(\", \")}\"`;\n          } else {\n            var prpts = [];\n\n            for (var prop in doclogs.properties.old) {\n              prpts.push(prop);\n            }\n\n            descnew = descnew + `Pengubahan \"${prpts.join(\", \")}\" Item`;\n          }\n        }\n\n        if (desc1[0] === \"Deleted\") {\n          if (desc1[2] === \"Relationship\") {\n            desc1[0] === \"Created\" ? descnew = descnew + `Penambahan Relationship \"${doclogs.properties.attributes.relationship}\"` : null;\n            desc1[0] === \"Deleted\" ? descnew = descnew + `Penghapusan Relationship \"${doclogs.properties.old.relationship}\"` : null;\n          }\n        }\n\n        return _objectSpread(_objectSpread({}, doclogs), {}, {\n          date: datenew,\n          description: descnew\n        });\n      });\n      var morelogsmap = res2.data.else_logs.map((doclogs, idxlogs) => {\n        const datenew = moment(doclogs.date).locale(\"id\").format(\"LLL\");\n        var descnew = \"\";\n        const desckondisiOld = doclogs.properties ? doclogs.properties.old ? doclogs.properties.old.status_condition === 1 ? \"Good\" : doclogs.properties.old.status_condition === 2 ? \"Grey\" : doclogs.properties.old.status_condition === 3 ? \"Bad\" : null : null : null;\n        const desckondisiBaru = doclogs.properties ? doclogs.properties.attributes ? doclogs.properties.attributes.status_condition === 1 ? \"Good\" : doclogs.properties.attributes.status_condition === 2 ? \"Grey\" : doclogs.properties.attributes.status_condition === 3 ? \"Bad\" : null : null : null;\n        const descusageOld = doclogs.properties ? doclogs.properties.old ? doclogs.properties.old.status_usage === 1 ? \"In Used\" : doclogs.properties.old.status_usage === 2 ? \"In Stock\" : doclogs.properties.old.status_usage === 3 ? \"Replacement\" : null : null : null;\n        const descusageBaru = doclogs.properties ? doclogs.properties.attributes ? doclogs.properties.attributes.status_usage === 1 ? \"In Used\" : doclogs.properties.attributes.status_usage === 2 ? \"In Stock\" : doclogs.properties.attributes.status_usage === 3 ? \"Replacement\" : null : null : null;\n        const desc1 = doclogs.description.split(\" \");\n\n        if (desc1[0] === \"Created\") {\n          var _doclogs$properties$a21;\n\n          if (desc1[2] === \"Relationship\") {\n            desc1[0] === \"Created\" ? descnew = descnew + `Penambahan Relationship \"${doclogs.properties.attributes.relationship}\"` : null;\n            desc1[0] === \"Deleted\" ? descnew = descnew + `Penghapusan Relationship \"${doclogs.properties.old.relationship}\"` : null;\n          } else if (desc1[1] === \"Association\") {\n            descnew = descnew + `Association Baru: ${doclogs.properties}`;\n          } else if ((_doclogs$properties$a21 = doclogs.properties.attributes) !== null && _doclogs$properties$a21 !== void 0 && _doclogs$properties$a21.list_parts) {\n            descnew = descnew + `Inisialisasi Pembuatan Item Part \"${maindata.inventory_parts.filter(docfil => {\n              var _doclogs$properties$a22;\n\n              return (_doclogs$properties$a22 = doclogs.properties.attributes) === null || _doclogs$properties$a22 === void 0 ? void 0 : _doclogs$properties$a22.list_parts.includes(docfil.id);\n            }).map(docmap => docmap.inventory_name).join(\", \")}\"`;\n          } else {\n            var _doclogs$properties$a23;\n\n            descnew = descnew + `Pembuatan Item Baru bernama \"${(_doclogs$properties$a23 = doclogs.properties.attributes) === null || _doclogs$properties$a23 === void 0 ? void 0 : _doclogs$properties$a23.inventory_name}\"`;\n          }\n        }\n\n        desc1[0] === \"Notes\" ? descnew = descnew + `Penambahan Notes` : null;\n\n        if (desc1[0] === \"Updated\") {\n          var _doclogs$properties$a24, _doclogs$properties$o15, _doclogs$properties$a26, _doclogs$properties$o17, _doclogs$properties$a28, _doclogs$properties$o19;\n\n          if (doclogs.properties.attributes.status_condition) {\n            descnew = descnew + `Pengubahan status kondisi dari ${desckondisiOld} ke ${desckondisiBaru}`;\n          } else if (doclogs.properties.attributes.status_usage) {\n            descnew = descnew + `Pengubahan status pemakaian dari ${descusageOld} ke ${descusageBaru}`;\n          } else if (doclogs.properties.attributes.inventory_name) {\n            descnew = descnew + `Pengubahan Nama Item dari \"${doclogs.properties.old.inventory_name}\" ke \"${doclogs.properties.attributes.inventory_name}\"`;\n          } else if (doclogs.properties.attributes.serial_number) {\n            descnew = descnew + `Pengubahan Serial Number Item dari \"${doclogs.properties.old.serial_number}\" ke \"${doclogs.properties.attributes.serial_number}\"`;\n          } else if (doclogs.properties.attributes.location) {\n            descnew = descnew + `Pengubahan Location Item dari \"${invrelations.companies.filter(doc => doc.id === doclogs.properties.old.location)[0].name}\" ke \"${invrelations.companies.filter(doc => doc.id === doclogs.properties.attributes.location)[0].name}\"`;\n          } else if (doclogs.properties.attributes.vendor_id) {\n            descnew = descnew + `Pengubahan Vendor Item dari \"${invrelations.vendors.filter(doc => doc.id === doclogs.properties.old.vendor_id)[0].name}\" ke \"${invrelations.vendors.filter(doc => doc.id === doclogs.properties.attributes.vendor_id)[0].name}\"`;\n          } else if (doclogs.properties.attributes.manufacturer_id) {\n            descnew = descnew + `Pengubahan Manufacturer Item dari \"${invrelations.manufacturers.filter(doc => doc.id === doclogs.properties.old.manufacturer_id)[0].name}\" ke \"${invrelations.manufacturers.filter(doc => doc.id === doclogs.properties.attributes.manufacturer_id)[0].name}\"`;\n          } else if (doclogs.properties.attributes.deskripsi) {\n            descnew = descnew + `Pengubahan Deskripsi Item`;\n          } else if (((_doclogs$properties$a24 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a24 === void 0 ? void 0 : _doclogs$properties$a24.length) > ((_doclogs$properties$o15 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o15 === void 0 ? void 0 : _doclogs$properties$o15.length)) {\n            var _doclogs$properties$a25;\n\n            const listpartsnew = (_doclogs$properties$a25 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a25 === void 0 ? void 0 : _doclogs$properties$a25.filter(docfil => {\n              var _doclogs$properties$o16;\n\n              return ((_doclogs$properties$o16 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o16 === void 0 ? void 0 : _doclogs$properties$o16.map(part => part.id).includes(docfil.id)) === false;\n            });\n            descnew = descnew + `Penambahan Item \"${listpartsnew === null || listpartsnew === void 0 ? void 0 : listpartsnew.map(part => part.mig_id).join(\", \")}\" menjadi Item Part`;\n          } else if (((_doclogs$properties$a26 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a26 === void 0 ? void 0 : _doclogs$properties$a26.length) < ((_doclogs$properties$o17 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o17 === void 0 ? void 0 : _doclogs$properties$o17.length)) {\n            var _doclogs$properties$o18;\n\n            const listpartsold = (_doclogs$properties$o18 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o18 === void 0 ? void 0 : _doclogs$properties$o18.filter(docfil => {\n              var _doclogs$properties$a27;\n\n              return ((_doclogs$properties$a27 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a27 === void 0 ? void 0 : _doclogs$properties$a27.map(part => part.id).includes(docfil.id)) === false;\n            });\n            descnew = descnew + `Pengeluaran Item Part \"${listpartsold === null || listpartsold === void 0 ? void 0 : listpartsold.map(part => part.mig_id).join(\", \")}\"`;\n          } else if (((_doclogs$properties$a28 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a28 === void 0 ? void 0 : _doclogs$properties$a28.length) === ((_doclogs$properties$o19 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o19 === void 0 ? void 0 : _doclogs$properties$o19.length)) {\n            var _doclogs$properties$a29, _doclogs$properties$o21;\n\n            const listpartsnew = (_doclogs$properties$a29 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a29 === void 0 ? void 0 : _doclogs$properties$a29.filter(docfil => {\n              var _doclogs$properties$o20;\n\n              return ((_doclogs$properties$o20 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o20 === void 0 ? void 0 : _doclogs$properties$o20.map(part => part.id).includes(docfil.id)) === false;\n            });\n            const listpartsold = (_doclogs$properties$o21 = doclogs.properties.old.list_parts) === null || _doclogs$properties$o21 === void 0 ? void 0 : _doclogs$properties$o21.filter(docfil => {\n              var _doclogs$properties$a30;\n\n              return ((_doclogs$properties$a30 = doclogs.properties.attributes.list_parts) === null || _doclogs$properties$a30 === void 0 ? void 0 : _doclogs$properties$a30.map(part => part.id).includes(docfil.id)) === false;\n            });\n            descnew = descnew + `Pergantian Item Part \"${listpartsold === null || listpartsold === void 0 ? void 0 : listpartsold.map(part => part.mig_id).join(\", \")}\" menjadi \"${listpartsnew === null || listpartsnew === void 0 ? void 0 : listpartsnew.map(part => part.mig_id).join(\", \")}\"`;\n          } else {\n            var prpts = [];\n\n            for (var prop in doclogs.properties.old) {\n              prpts.push(prop);\n            }\n\n            descnew = descnew + `Pengubahan \"${prpts.join(\", \")}\" Item`;\n          }\n        }\n\n        if (desc1[0] === \"Deleted\") {\n          if (desc1[2] === \"Relationship\") {\n            desc1[0] === \"Created\" ? descnew = descnew + `Penambahan Relationship \"${doclogs.properties.attributes.relationship}\"` : null;\n            desc1[0] === \"Deleted\" ? descnew = descnew + `Penghapusan Relationship \"${doclogs.properties.old.relationship}\"` : null;\n          }\n        }\n\n        return _objectSpread(_objectSpread({}, doclogs), {}, {\n          date: datenew,\n          description: descnew\n        });\n      });\n      setdaylogs(daylogsmap);\n      setweeklogs(weeklogsmap);\n      setmorelogs(morelogsmap);\n      setpraloadinglogs(false);\n    }); // .then(res3 => {\n    //     fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRelationshipInventory?id=${itemid}&type_id=-4`, {\n    //         method: `GET`,\n    //         headers: {\n    //             'Authorization': JSON.parse(initProps),\n    //         }\n    //     })\n    //         .then(res => res.json())\n    //         .then(res4 => {\n    //             var concatarr = res4.data.from_inverse.concat(res4.data.not_from_inverse)\n    //             var logs2map = res3.data.relationship.map((docrel, idxrel) => {\n    //                 const datenew2 = moment(docrel.date).locale(\"id\").format('LLL')\n    //                 var descnew2 = ''\n    //                 var idlognew = -1\n    //                 const desc2 = docrel.description.split(\" \")\n    //                 desc2[0] === 'Created' ? idlognew = concatarr.filter(docfil => docfil.id === docrel.properties.attributes.id)[0] : null\n    //                 desc2[0] === 'Created' ? descnew2 = descnew2 + `Penambahan Relationship \"${typeof (idlognew) === 'undefined' ? \"(Sudah Dihapus lagi)\" : `${idlognew.relationship}`}\"` : null\n    //                 desc2[0] === 'Deleted' ? descnew2 = descnew2 + `Penghapusan Relationship` : null\n    //                 return {\n    //                     ...docrel,\n    //                     date: datenew2,\n    //                     description: descnew2\n    //                 }\n    //             })\n    //             setlogs2(logs2map)\n    //             setpraloadinglogs2(false)\n    //         })\n    // })\n  }, [activitytrigger]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"border-b flex justify-between p-5 mb-8\",\n      children: /*#__PURE__*/_jsx(\"h1\", {\n        className: \"font-bold text-xl my-auto\",\n        children: \"Activity\"\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col w-6/12\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col mb-5\",\n          children: [/*#__PURE__*/_jsx(\"h1\", {\n            className: \"font-semibold mx-auto text-xl mb-3\",\n            children: \"Hari Ini\"\n          }), praloadinglogs ? /*#__PURE__*/_jsx(_Spin, {}) : daylogs.length < 1 ? /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsx(_Empty, {\n              image: _Empty.PRESENTED_IMAGE_SIMPLE\n            })\n          }) : /*#__PURE__*/_jsx(_Timeline, {\n            mode: \"left\",\n            children: daylogs.map((doclog, idxlog) => {\n              return /*#__PURE__*/_jsx(_Timeline.Item, {\n                label: doclog.date,\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex flex-col\",\n                  children: [/*#__PURE__*/_jsx(\"h1\", {\n                    className: \"font-semibold text-base mb-1\",\n                    children: doclog.description\n                  }), /*#__PURE__*/_jsxs(\"p\", {\n                    className: \"mb-1 text-xs text-gray-500\",\n                    children: [\"Oleh \", doclog.causer_name]\n                  }), /*#__PURE__*/_jsxs(\"p\", {\n                    className: \"mb-1 text-sm\",\n                    children: [\"Notes: \", doclog.notes]\n                  })]\n                })\n              });\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col mb-5\",\n          children: [/*#__PURE__*/_jsx(\"h1\", {\n            className: \"font-semibold mx-auto text-xl mb-3\",\n            children: \"Minggu Ini\"\n          }), praloadinglogs ? /*#__PURE__*/_jsx(_Spin, {}) : weeklogs.length < 1 ? /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsx(_Empty, {\n              image: _Empty.PRESENTED_IMAGE_SIMPLE\n            })\n          }) : /*#__PURE__*/_jsx(_Timeline, {\n            mode: \"left\",\n            children: weeklogs.map((doclog, idxlog) => {\n              return /*#__PURE__*/_jsx(_Timeline.Item, {\n                label: doclog.date,\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex flex-col\",\n                  children: [/*#__PURE__*/_jsx(\"h1\", {\n                    className: \"font-semibold text-base mb-1\",\n                    children: doclog.description\n                  }), /*#__PURE__*/_jsxs(\"p\", {\n                    className: \"mb-1 text-xs text-gray-500\",\n                    children: [\"Oleh \", doclog.causer_name]\n                  }), /*#__PURE__*/_jsxs(\"p\", {\n                    className: \"mb-1 text-sm\",\n                    children: [\"Notes: \", doclog.notes]\n                  })]\n                })\n              });\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col w-6/12\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \"font-semibold mx-auto text-xl mb-3\",\n          children: \"Minggu Lalu\"\n        }), praloadinglogs ? /*#__PURE__*/_jsx(_Spin, {}) : morelogs.length < 1 ? /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(_Empty, {\n            image: _Empty.PRESENTED_IMAGE_SIMPLE\n          })\n        }) : /*#__PURE__*/_jsx(_Timeline, {\n          mode: \"left\",\n          children: morelogs.map((doclog, idxlog) => {\n            return /*#__PURE__*/_jsx(_Timeline.Item, {\n              label: doclog.date,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col\",\n                children: [/*#__PURE__*/_jsx(\"h1\", {\n                  className: \"font-semibold text-base mb-1\",\n                  children: doclog.description\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  className: \"mb-1 text-xs text-gray-500\",\n                  children: [\"Oleh \", doclog.causer_name]\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  className: \"mb-1 text-sm\",\n                  children: [\"Notes: \", doclog.notes]\n                })]\n              })\n            });\n          })\n        })]\n      })]\n    })]\n  });\n};\n\nconst ItemDetail = ({\n  initProps,\n  dataProfile,\n  sidemenu,\n  itemid\n}) => {\n  //1. Init\n  const rt = useRouter();\n  var activeTab = \"overview\";\n  const {\n    active\n  } = rt.query;\n\n  if (active) {\n    activeTab = active;\n  }\n\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  pathArr.splice(2, 2);\n  pathArr[pathArr.length - 1] = \"Detail Item\";\n  const {\n    TabPane\n  } = _Tabs; //useState\n\n  const {\n    0: maindata,\n    1: setmaindata\n  } = useState({\n    id: \"\",\n    model_id: \"\",\n    vendor_id: \"\",\n    inventory_name: \"\",\n    status_condition: \"\",\n    status_usage: \"\",\n    location: \"\",\n    is_exist: \"\",\n    deskripsi: \"\",\n    manufacturer_id: \"\",\n    mig_id: \"\",\n    serial_number: \"\",\n    created_at: \"\",\n    updated_at: \"\",\n    deleted_at: \"\",\n    asset_name: \"\",\n    model_name: \"\",\n    location_name: \"\",\n    model_inventory: {\n      id: null,\n      name: \"\",\n      asset_id: null,\n      deleted_at: null,\n      asset: {\n        id: null,\n        name: \"\",\n        deleted_at: null\n      }\n    },\n    location_inventory: {\n      company_id: null,\n      company_name: \"\"\n    },\n    additional_attributes: [],\n    inventory_parts: [],\n    associations: [],\n    quantities: []\n  });\n  const {\n    0: invrelations,\n    1: setinvrelations\n  } = useState({\n    models: [{\n      id: \"\",\n      name: \"\",\n      deleted_at: null\n    }],\n    assets: [{\n      id: \"\",\n      name: \"\",\n      deleted_at: null\n    }],\n    manufacturers: [{\n      id: \"\",\n      name: \"\",\n      deleted_at: null\n    }],\n    status_condition: [],\n    status_usage: [],\n    vendors: [],\n    companies: [],\n    tree_companies: {\n      children: []\n    }\n  });\n  const {\n    0: relship,\n    1: setrelship\n  } = useState([]);\n  const {\n    0: manuf,\n    1: setmanuf\n  } = useState(\"\");\n  const {\n    0: vendor,\n    1: setvendor\n  } = useState(\"\");\n  const {\n    0: praloading,\n    1: setpraloading\n  } = useState(true);\n  const {\n    0: praloading2,\n    1: setpraloading2\n  } = useState(true); //delete\n\n  const {\n    0: modaldelete,\n    1: setmodaldelete\n  } = useState(false);\n  const {\n    0: loadingdelete,\n    1: setloadingdelete\n  } = useState(false); //notes\n\n  const {\n    0: notes,\n    1: setnotes\n  } = useState(\"\");\n  const {\n    0: modalnotes,\n    1: setmodalnotes\n  } = useState(false);\n  const {\n    0: loadingnotes,\n    1: setloadingnotes\n  } = useState(false); //kondisi\n\n  const {\n    0: kondisi,\n    1: setkondisi\n  } = useState(\"\");\n  const {\n    0: notekondisi,\n    1: setnotekondisi\n  } = useState(\"\");\n  const {\n    0: modalkondisi,\n    1: setmodalkondisi\n  } = useState(false);\n  const {\n    0: displaykondisi,\n    1: setdisplaykondisi\n  } = useState(true);\n  const {\n    0: loadingkondisi,\n    1: setloadingkondisi\n  } = useState(false); //status pemakaian\n\n  const {\n    0: changeusage,\n    1: setchangeusage\n  } = useState({\n    id: Number(itemid),\n    status_usage: \"\",\n    notes: \"\",\n    relationship_type_id: \"\",\n    connected_id: \"\",\n    detail_connected_id: null\n  });\n  const {\n    0: disabledusage,\n    1: setdisabledusage\n  } = useState(true);\n  const {\n    0: modalusage,\n    1: setmodalusage\n  } = useState(false);\n  const {\n    0: displayusage,\n    1: setdisplayusage\n  } = useState(true);\n  const {\n    0: loadingchangecompanyusage,\n    1: setloadingchangecompanyusage\n  } = useState(false);\n  const {\n    0: loadingusage,\n    1: setloadingusage\n  } = useState(false); // const [agents, setagents] = useState([])\n  // const [requesters, setrequesters] = useState([])\n\n  const {\n    0: detaillist,\n    1: setdetaillist\n  } = useState([]);\n  const {\n    0: models,\n    1: setmodels\n  } = useState([]);\n  const {\n    0: sublocations,\n    1: setsublocations\n  } = useState([]);\n  const {\n    0: locationsdisplay,\n    1: setlocationsdisplay\n  } = useState(false);\n  const {\n    0: sublocationtrigger,\n    1: setsublocationtrigger\n  } = useState(-1);\n  const {\n    0: activitytrigger,\n    1: setactivitytrigger\n  } = useState(0); //helper\n  //handler\n\n  const handleDeleteItem = () => {\n    setloadingdelete(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/deleteInventory`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: Number(itemid),\n        notes: \"\"\n      })\n    }).then(res => res.json()).then(res2 => {\n      setloadingdelete(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: \"Item berhasil dihapus\",\n          duration: 3\n        });\n\n        setmodaldelete(false);\n        rt.push(`/items`);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  const handleNotesItem = () => {\n    setloadingnotes(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addInventoryNotes`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: Number(itemid),\n        notes: notes\n      })\n    }).then(res => res.json()).then(res2 => {\n      setloadingnotes(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: \"Notes berhasil ditambahkan\",\n          duration: 3\n        });\n\n        setmodalnotes(false);\n        window.location.href = `/items/detail/${itemid}?active=activity`;\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  const handleKondisiItem = () => {\n    setloadingkondisi(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/changeStatusCondition`, {\n      method: \"PUT\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: Number(itemid),\n        notes: notekondisi,\n        status_condition: kondisi\n      })\n    }).then(res => res.json()).then(res2 => {\n      setloadingkondisi(false);\n      setmodalkondisi(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: \"Status Kondisi berhasil diubah\",\n          duration: 2\n        });\n\n        window.location.href = `/items/detail/${itemid}`;\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  const handleUsageItem = () => {\n    setloadingusage(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/changeStatusUsage`, {\n      method: \"PUT\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(changeusage)\n    }).then(res => res.json()).then(res2 => {\n      setloadingusage(false);\n      setmodalusage(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: \"Status Pemakaian berhasil diubah\",\n          duration: 2\n        });\n\n        window.location.href = `/items/detail/${itemid}`;\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //useEffect\n\n\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getInventory?id=${itemid}`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      var t = {};\n\n      for (var prop in res2.data) {\n        if (prop === \"additional_attributes\") {\n          t[prop] = res2.data[prop].map((doc, idx) => {\n            if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n              return _objectSpread(_objectSpread({}, doc), {}, {\n                value: JSON.parse(doc.value)\n              });\n            } else {\n              return _objectSpread({}, doc);\n            }\n          });\n        } else {\n          t[prop] = res2.data[prop];\n        }\n      }\n\n      setmaindata(t);\n      setpraloading(false);\n      return t;\n    }).then(res3 => {\n      fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getInventoryRelations`, {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps)\n        }\n      }).then(res => res.json()).then(res2 => {\n        var _res2$data$vendors$fi;\n\n        setinvrelations(res2.data);\n        var del_manuf = null;\n        res3.manufacturer_id === 0 || res3.manufacturer_id === null ? del_manuf = null : del_manuf = res2.data.manufacturers.filter(docfil => docfil.id === res3.manufacturer_id)[0].deleted_at;\n        setmanuf({\n          name: res3.manufacturer_id === null || res3.manufacturer_id === 0 ? \"-\" : res2.data.manufacturers.filter(docfil => docfil.id === res3.manufacturer_id)[0].name,\n          isnull: del_manuf !== null ? false : true\n        });\n        res3.vendor_id === null || res3.vendor_id === 0 ? setvendor(\"-\") : setvendor((_res2$data$vendors$fi = res2.data.vendors.filter(docfil => docfil.id === res3.vendor_id)[0]) === null || _res2$data$vendors$fi === void 0 ? void 0 : _res2$data$vendors$fi.name);\n        setpraloading2(false);\n      });\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getFilterModels`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(res2 => {\n      setmodels(res2.data);\n    });\n  }, []);\n  useEffect(() => {\n    if (changeusage.relationship_type_id !== \"\") {\n      fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getChangeStatusUsageDetailList?id=${changeusage.relationship_type_id}`, {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps)\n        }\n      }).then(res => res.json()).then(res2 => {\n        changeusage.relationship_type_id === -3 ? setdetaillist([res2.data]) : setdetaillist(res2.data.data);\n      });\n    }\n  }, [changeusage]);\n  useEffect(() => {\n    if (sublocationtrigger !== -1) {\n      setloadingchangecompanyusage(true);\n      fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRelationshipInventoryDetailList?type_id=${changeusage.connected_id}`, {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps)\n        }\n      }).then(res => res.json()).then(res2 => {\n        setloadingchangecompanyusage(false);\n        setsublocations(res2.data.children);\n      });\n    }\n  }, [sublocationtrigger]);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRelationshipInventory?id=${itemid}&type_id=-4`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setrelship(res2.data.from_inverse.concat(res2.data.not_from_inverse));\n    });\n  }, []);\n  return /*#__PURE__*/_jsxs(Layout, {\n    st: st,\n    sidemenu: sidemenu,\n    tok: initProps,\n    pathArr: pathArr,\n    dataProfile: dataProfile,\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-full h-auto grid grid-cols-1 md:grid-cols-4\",\n      id: \"createAssetsWrapper\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \" col-span-1 md:col-span-4 mb-8\",\n        children: /*#__PURE__*/_jsx(Sticky, {\n          containerSelectorFocus: \"#createAgentsWrapper\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \" col-span-4 flex justify-between py-5 px-4 border-t border-b bg-white\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \" text-gray-400 mb-0\",\n                  children: \"Item:\"\n                }), /*#__PURE__*/_jsxs(\"h1\", {\n                  className: \"font-semibold py-2 text-2xl mb-0 mr-20\",\n                  children: [maindata.mig_id, \" - \", maindata.model_inventory.name]\n                })]\n              }), praloading ? null : /*#__PURE__*/_jsxs(_Fragment, {\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex flex-col mr-7 p-2\",\n                  children: [/*#__PURE__*/_jsx(\"p\", {\n                    className: \"mb-1\",\n                    children: \"Status Pemakaian:\"\n                  }), displayusage ? /*#__PURE__*/_jsxs(_Select, {\n                    style: {\n                      width: `10rem`\n                    },\n                    placeholder: \"Masukkan Status Pemakaian\",\n                    defaultValue: maindata.status_usage === 0 || maindata.status_usage === null ? null : maindata.status_usage,\n                    onChange: value => {\n                      setdisabledusage(prev => {\n                        if (value !== 1) {\n                          return false;\n                        } else {\n                          return true;\n                        }\n                      });\n                      setchangeusage(_objectSpread(_objectSpread({}, changeusage), {}, {\n                        status_usage: value\n                      }));\n                      setmodalusage(true);\n                      setdisplayusage(false);\n                    },\n                    children: [/*#__PURE__*/_jsx(_Select.Option, {\n                      value: 1,\n                      children: /*#__PURE__*/_jsx(\"strong\", {\n                        children: \"In Used\"\n                      })\n                    }), /*#__PURE__*/_jsx(_Select.Option, {\n                      value: 2,\n                      children: /*#__PURE__*/_jsx(\"strong\", {\n                        children: \"In Stock\"\n                      })\n                    }), /*#__PURE__*/_jsx(_Select.Option, {\n                      value: 3,\n                      children: /*#__PURE__*/_jsx(\"strong\", {\n                        children: \"Replacement\"\n                      })\n                    })]\n                  }) : null]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex flex-col p-2\",\n                  children: [/*#__PURE__*/_jsx(\"p\", {\n                    className: \"mb-1\",\n                    children: \"Kondisi:\"\n                  }), displaykondisi ? /*#__PURE__*/_jsxs(_Select, {\n                    style: {\n                      width: `10rem`\n                    },\n                    placeholder: \"Masukkan Status Kondisi\",\n                    defaultValue: maindata.status_condition === 0 || maindata.status_condition === null ? null : maindata.status_condition,\n                    onChange: value => {\n                      setkondisi(value);\n                      setmodalkondisi(true);\n                      setdisplaykondisi(false);\n                    },\n                    children: [/*#__PURE__*/_jsx(_Select.Option, {\n                      value: 1,\n                      children: /*#__PURE__*/_jsxs(\"div\", {\n                        className: \"p-1 flex w-full items-center\",\n                        children: [/*#__PURE__*/_jsx(\"div\", {\n                          className: \"w-3 h-3 rounded-full bg-green-500 mr-1\"\n                        }), /*#__PURE__*/_jsx(\"p\", {\n                          className: \"mb-0 font-semibold\",\n                          children: \"Good\"\n                        })]\n                      })\n                    }), /*#__PURE__*/_jsx(_Select.Option, {\n                      value: 2,\n                      children: /*#__PURE__*/_jsxs(\"div\", {\n                        className: \"p-1 flex w-full items-center\",\n                        children: [/*#__PURE__*/_jsx(\"div\", {\n                          className: \"w-3 h-3 rounded-full bg-gray-500 mr-1\"\n                        }), /*#__PURE__*/_jsx(\"p\", {\n                          className: \"mb-0 font-semibold\",\n                          children: \"Grey\"\n                        })]\n                      })\n                    }), /*#__PURE__*/_jsx(_Select.Option, {\n                      value: 3,\n                      children: /*#__PURE__*/_jsxs(\"div\", {\n                        className: \"p-1 flex w-full items-center\",\n                        children: [/*#__PURE__*/_jsx(\"div\", {\n                          className: \"w-3 h-3 rounded-full bg-red-500 mr-1\"\n                        }), /*#__PURE__*/_jsx(\"p\", {\n                          className: \"mb-0 font-semibold\",\n                          children: \"Bad\"\n                        })]\n                      })\n                    })]\n                  }) : null]\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex space-x-2 items-center\",\n              children: [/*#__PURE__*/_jsx(_Button, {\n                style: {\n                  marginRight: `1rem`\n                },\n                onClick: () => {\n                  setmodalnotes(true);\n                },\n                size: \"large\",\n                children: \"Tambah Notes\"\n              }), /*#__PURE__*/_jsx(_Button, {\n                type: \"danger\",\n                size: \"large\",\n                onClick: () => {\n                  setmodaldelete(true);\n                },\n                children: \"Hapus\"\n              })]\n            })]\n          })\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-span-1 md:col-span-4 mb-8\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \" hidden md:block\",\n          children: /*#__PURE__*/_jsxs(_Tabs, {\n            tabPosition: `left`,\n            defaultActiveKey: activeTab,\n            onTabClick: (key, e) => {\n              if (key === \"activity\") {\n                setactivitytrigger(prev => prev + 1);\n              }\n            },\n            children: [/*#__PURE__*/_jsx(TabPane, {\n              tab: \"Overview\",\n              children: /*#__PURE__*/_jsx(Overview, {\n                itemid: itemid,\n                initProps: initProps,\n                maindata: maindata,\n                manuf: manuf,\n                vendor: vendor,\n                praloading: praloading\n              })\n            }, `overview`), /*#__PURE__*/_jsx(TabPane, {\n              tab: \"Konfigurasi Part\",\n              children: /*#__PURE__*/_jsx(KonfigurasiPart, {\n                itemid: itemid,\n                initProps: initProps,\n                maindata: maindata,\n                invrelations: invrelations,\n                praloading2: praloading2,\n                models: models,\n                setmodels: setmodels\n              })\n            }, `konfigurasiPart`), /*#__PURE__*/_jsx(TabPane, {\n              tab: \"Relationship\",\n              children: /*#__PURE__*/_jsx(Relationship, {\n                itemid: itemid,\n                initProps: initProps,\n                maindata: maindata\n              })\n            }, `relationship`), /*#__PURE__*/_jsx(TabPane, {\n              tab: \"Association\",\n              children: /*#__PURE__*/_jsx(Association, {\n                itemid: itemid,\n                initProps: initProps,\n                maindata: maindata,\n                praloading: praloading\n              })\n            }, `association`), /*#__PURE__*/_jsx(TabPane, {\n              tab: \"Activity\",\n              children: /*#__PURE__*/_jsx(Acitivty, {\n                itemid: itemid,\n                initProps: initProps,\n                maindata: maindata,\n                invrelations: invrelations,\n                activitytrigger: activitytrigger\n              })\n            }, `activity`)]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \" block md:hidden\",\n          children: /*#__PURE__*/_jsxs(_Tabs, {\n            tabPosition: `top`,\n            defaultActiveKey: activeTab,\n            children: [/*#__PURE__*/_jsx(TabPane, {\n              tab: \"Overview\",\n              children: /*#__PURE__*/_jsx(Overview, {\n                itemid: itemid,\n                initProps: initProps,\n                maindata: maindata,\n                manuf: manuf,\n                vendor: vendor,\n                praloading: praloading\n              })\n            }, `overview`), /*#__PURE__*/_jsx(TabPane, {\n              tab: \"Konfigurasi Part\",\n              children: /*#__PURE__*/_jsx(KonfigurasiPart, {\n                itemid: itemid,\n                initProps: initProps,\n                maindata: maindata,\n                invrelations: invrelations,\n                praloading2: praloading2,\n                models: models,\n                setmodels: setmodels\n              })\n            }, `konfigurasiPart`), /*#__PURE__*/_jsx(TabPane, {\n              tab: \"Relationship\",\n              children: /*#__PURE__*/_jsx(Relationship, {\n                itemid: itemid,\n                initProps: initProps,\n                maindata: maindata\n              })\n            }, `relationship`), /*#__PURE__*/_jsx(TabPane, {\n              tab: \"Association\",\n              children: /*#__PURE__*/_jsx(Association, {\n                itemid: itemid,\n                initProps: initProps,\n                maindata: maindata,\n                praloading: praloading\n              })\n            }, `association`), /*#__PURE__*/_jsx(TabPane, {\n              tab: \"Activity\",\n              children: /*#__PURE__*/_jsx(Acitivty, {\n                itemid: itemid,\n                initProps: initProps,\n                maindata: maindata,\n                invrelations: invrelations,\n                activitytrigger: activitytrigger\n              })\n            }, `activity`)]\n          })\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/_jsxs(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: [\"Form Ubah Status Pemakaian \", maindata.inventory_name]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex\",\n          children: /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(_Button, {\n              type: \"default\",\n              onClick: () => {\n                setmodalusage(false);\n                setdisplayusage(true);\n              },\n              style: {\n                marginRight: `1rem`\n              },\n              children: \"Batal\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              disabled: disabledusage,\n              onClick: handleUsageItem,\n              loading: loadingusage,\n              children: \"Simpan\"\n            })]\n          })\n        })]\n      }),\n      visible: modalusage,\n      onCancel: () => {\n        setmodalusage(false);\n        setdisplayusage(true);\n      },\n      footer: null,\n      width: 760,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-3\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-2325313997\" + \" \" + \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"jsx-2325313997\" + \" \" + \"mb-0\",\n            children: [\"Status Pemakaian \", /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-2325313997\" + \" \" + \"usagemodal\"\n            })]\n          }), /*#__PURE__*/_jsxs(_Select, {\n            disabled: true,\n            defaultValue: changeusage.status_usage,\n            children: [/*#__PURE__*/_jsx(_Select.Option, {\n              value: 1,\n              children: \"In Used\"\n            }), /*#__PURE__*/_jsx(_Select.Option, {\n              value: 2,\n              children: \"In Stock\"\n            }), /*#__PURE__*/_jsx(_Select.Option, {\n              value: 3,\n              children: \"Replacement\"\n            })]\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"2325313997\",\n            children: [\".usagemodal.jsx-2325313997::before{content:'*';color:red;}\"]\n          })]\n        }), changeusage.status_usage === 1 ? /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-1635122929\" + \" \" + \"flex flex-col mb-3\",\n            children: [/*#__PURE__*/_jsxs(\"p\", {\n              className: \"jsx-1635122929\" + \" \" + \"mb-0\",\n              children: [\"Digunakan Oleh \", /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-1635122929\" + \" \" + \"bymodal\"\n              })]\n            }), /*#__PURE__*/_jsxs(_Select, {\n              onChange: value => {\n                setchangeusage(_objectSpread(_objectSpread({}, changeusage), {}, {\n                  relationship_type_id: value,\n                  detail_connected_id: null,\n                  connected_id: null\n                }));\n                setdisabledusage(true);\n\n                if (value !== 3) {\n                  setlocationsdisplay(false);\n                }\n              },\n              children: [/*#__PURE__*/_jsx(_Select.Option, {\n                value: -1,\n                children: \"Agent\"\n              }), /*#__PURE__*/_jsx(_Select.Option, {\n                value: -2,\n                children: \"Requester\"\n              }), /*#__PURE__*/_jsx(_Select.Option, {\n                value: -3,\n                children: \"Company\"\n              })]\n            }), /*#__PURE__*/_jsx(_JSXStyle, {\n              id: \"1635122929\",\n              children: [\".bymodal.jsx-1635122929::before{content:'*';color:red;}\"]\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-1874088803\" + \" \" + \"flex flex-col mb-3 ml-5\",\n            children: [/*#__PURE__*/_jsxs(\"p\", {\n              className: \"jsx-1874088803\" + \" \" + \"mb-0\",\n              children: [\"Nama \", changeusage.relationship_type_id === -1 && \"Agent\", \" \", changeusage.relationship_type_id === -2 && \"Requester\", \" \", changeusage.relationship_type_id === -3 && \"Company\", \" \", /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-1874088803\" + \" \" + \"namabymodal\"\n              })]\n            }), changeusage.relationship_type_id === -3 ? /*#__PURE__*/_jsx(_TreeSelect, {\n              treeData: [invrelations.tree_companies],\n              treeDefaultExpandedKeys: [1],\n              onChange: value => {\n                setchangeusage(_objectSpread(_objectSpread({}, changeusage), {}, {\n                  connected_id: value\n                }));\n                changeusage.relationship_type_id === -3 ? setsublocationtrigger(prev => prev + 1) : null;\n                changeusage.relationship_type_id === -3 ? setlocationsdisplay(true) : null;\n                setdisabledusage(false);\n              }\n            }) : /*#__PURE__*/_jsxs(_Select, {\n              value: changeusage.connected_id,\n              onChange: value => {\n                setchangeusage(_objectSpread(_objectSpread({}, changeusage), {}, {\n                  connected_id: value\n                }));\n                setdisabledusage(false);\n              },\n              children: [changeusage.relationship_type_id === -1 && detaillist.map((doc, idx) => /*#__PURE__*/_jsx(_Select.Option, {\n                value: doc.id,\n                children: doc.name\n              })), changeusage.relationship_type_id === -2 && detaillist.map((doc, idx) => /*#__PURE__*/_jsx(_Select.Option, {\n                value: doc.id,\n                children: doc.name\n              }))]\n            }), /*#__PURE__*/_jsx(_JSXStyle, {\n              id: \"1874088803\",\n              children: [\".namabymodal.jsx-1874088803::before{content:'*';color:red;}\"]\n            })]\n          }), changeusage.connected_id === -3 || locationsdisplay === true ? /*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex flex-col ml-5\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-0\",\n              children: \"Nama Lokasi\"\n            }), /*#__PURE__*/_jsx(_TreeSelect, {\n              loading: loadingchangecompanyusage,\n              treeData: sublocations,\n              onChange: value => {\n                setchangeusage(_objectSpread(_objectSpread({}, changeusage), {}, {\n                  detail_connected_id: value\n                }));\n              }\n            })]\n          }) : null]\n        }) : null, /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0\",\n            children: \"Notes\"\n          }), /*#__PURE__*/_jsx(_Input.TextArea, {\n            rows: 3,\n            placeholder: \"Masukkan Notes\",\n            onChange: e => {\n              setchangeusage(_objectSpread(_objectSpread({}, changeusage), {}, {\n                notes: e.target.value\n              }));\n            }\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/_jsxs(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: [\"Form Ubah Status Kondisi \", maindata.inventory_name]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex\",\n          children: /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(_Button, {\n              type: \"default\",\n              onClick: () => {\n                setmodalkondisi(false);\n                setdisplaykondisi(true);\n              },\n              style: {\n                marginRight: `1rem`\n              },\n              children: \"Batal\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              onClick: handleKondisiItem,\n              loading: loadingkondisi,\n              children: \"Simpan\"\n            })]\n          })\n        })]\n      }),\n      visible: modalkondisi,\n      onCancel: () => {\n        setmodalkondisi(false);\n        setdisplaykondisi(true);\n      },\n      footer: null,\n      width: 600,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-3\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-2167531264\" + \" \" + \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"jsx-2167531264\" + \" \" + \"mb-0\",\n            children: [\"Status Kondisi \", /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-2167531264\" + \" \" + \"kondisimodal\"\n            })]\n          }), /*#__PURE__*/_jsxs(_Select, {\n            disabled: true,\n            defaultValue: kondisi,\n            children: [/*#__PURE__*/_jsx(_Select.Option, {\n              value: 1,\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: \"jsx-2167531264\" + \" \" + \"mb-0\",\n                children: \"Good\"\n              })\n            }), /*#__PURE__*/_jsx(_Select.Option, {\n              value: 2,\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: \"jsx-2167531264\" + \" \" + \"mb-0\",\n                children: \"Grey\"\n              })\n            }), /*#__PURE__*/_jsx(_Select.Option, {\n              value: 3,\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: \"jsx-2167531264\" + \" \" + \"mb-0\",\n                children: \"Bad\"\n              })\n            })]\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"2167531264\",\n            children: [\".kondisimodal.jsx-2167531264::before{content:'*';color:red;}\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0\",\n            children: \"Notes\"\n          }), /*#__PURE__*/_jsx(_Input.TextArea, {\n            rows: 3,\n            placeholder: \"Masukkan Notes\",\n            onChange: e => {\n              setnotekondisi(e.target.value);\n            }\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/_jsxs(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: [\"Form Tambah Notes \", maindata.inventory_name]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex\",\n          children: /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(_Button, {\n              type: \"default\",\n              onClick: () => {\n                setmodalnotes(false);\n              },\n              style: {\n                marginRight: `1rem`\n              },\n              children: \"Batal\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              disabled: notes === \"\",\n              onClick: handleNotesItem,\n              loading: loadingnotes,\n              children: \"Simpan\"\n            })]\n          })\n        })]\n      }),\n      visible: modalnotes,\n      onCancel: () => {\n        setmodalnotes(false);\n      },\n      footer: null,\n      width: 600,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-5\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0\",\n          children: \"Notes\"\n        }), /*#__PURE__*/_jsx(_Input.TextArea, {\n          rows: 3,\n          placeholder: \"Masukkan Notes\",\n          onChange: e => {\n            setnotes(e.target.value);\n          }\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(\"h1\", {\n        className: \"font-semibold\",\n        children: [\"Apakah anda yakin ingin menghapus item \\\"\", maindata.inventory_name, \" -\", \" \", maindata.mig_id, \"\\\"?\"]\n      }),\n      visible: modaldelete,\n      onCancel: () => {\n        setmodaldelete(false);\n      },\n      okText: \"Ya\",\n      cancelText: \"Tidak\",\n      onOk: handleDeleteItem,\n      okButtonProps: {\n        loading: loadingdelete\n      },\n      width: 720,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-5\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col mb-4\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-2 text-xs font-semibold\",\n            children: \"Item ini memiliki Item Part sebagai berikut :\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mb-2 text-xs flex flex-col\",\n            children: maindata.inventory_parts.length === 0 ? /*#__PURE__*/_jsx(\"p\", {\n              className: \"font-semibold\",\n              children: \"-\"\n            }) : /*#__PURE__*/_jsx(_Fragment, {\n              children: maindata.inventory_parts.map((docempty, idxempty) => /*#__PURE__*/_jsxs(\"p\", {\n                children: [\"- \", /*#__PURE__*/_jsx(\"strong\", {\n                  children: docempty.inventory_name\n                })]\n              }, idxempty))\n            })\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-2 text-xs font-semibold\",\n            children: \"Item ini sedang memiliki hubungan dengan item berikut:\"\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            className: \"mb-2 text-xs\",\n            children: relship.length === 0 ? /*#__PURE__*/_jsx(\"p\", {\n              className: \"font-semibold\",\n              children: \"-\"\n            }) : relship.map((docrel, idxrel) => /*#__PURE__*/_jsxs(\"li\", {\n              children: [\"-\", \" \", /*#__PURE__*/_jsxs(\"strong\", {\n                children: [docrel.type, \" - \", docrel.connected_detail_name]\n              })]\n            }, idxrel))\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-2 text-xs font-semibold text-red-500\",\n            children: \"Dengan menghapus item ini akan menghilangkan seluruh hubungan dengan item diatas!\"\n          })]\n        }), /*#__PURE__*/_jsx(\"hr\", {})]\n      })\n    })]\n  });\n};\n\nexport async function getServerSideProps({\n  req,\n  res,\n  params\n}) {\n  var initProps = {};\n  const itemid = params.itemId;\n\n  if (!req.headers.cookie) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\"\n      }\n    };\n  }\n\n  const cookiesJSON1 = httpcookie.parse(req.headers.cookie);\n\n  if (!cookiesJSON1.token) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\"\n      }\n    };\n  }\n\n  initProps = cookiesJSON1.token;\n  const resourcesGP = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/detailProfile`, {\n    method: `GET`,\n    headers: {\n      Authorization: JSON.parse(initProps)\n    }\n  });\n  const resjsonGP = await resourcesGP.json();\n  const dataProfile = resjsonGP; // if (![107, 108, 109, 110, 111, 112, 132].every((curr) => dataProfile.data.registered_feature.includes(curr))) {\n  //     res.writeHead(302, { Location: '/dashboard/admin' })\n  //     res.end()\n  // }\n\n  return {\n    props: {\n      initProps,\n      dataProfile,\n      sidemenu: \"3\",\n      itemid\n    }\n  };\n}\nexport default ItemDetail;","map":null,"metadata":{},"sourceType":"module"}