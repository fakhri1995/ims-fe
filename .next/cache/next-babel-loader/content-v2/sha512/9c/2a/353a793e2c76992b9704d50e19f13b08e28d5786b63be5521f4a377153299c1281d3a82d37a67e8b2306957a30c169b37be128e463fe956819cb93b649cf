{"ast":null,"code":"import _Spin from \"antd/lib/spin\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _notification from \"antd/lib/notification\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useRouter } from \"next/router\";\nimport React, { useEffect, useState } from \"react\";\nimport { InputRequired, RadioRequired } from \"../../../input\";\nimport DrawerCore from \"../../drawerCore\";\n\nconst DrawerBankClient = ({\n  title,\n  visible,\n  onClose,\n  children,\n  buttonOkText,\n  initProps,\n  onvisible,\n  companyid\n}) => {\n  const rt = useRouter();\n  const {\n    0: createdata,\n    1: setcreatedata\n  } = useState({\n    company_id: Number(companyid),\n    name: \"\",\n    account_number: \"\",\n    owner: \"\",\n    currency: \"\",\n    color_first: \"from-state1\",\n    color_second: \"to-state2\"\n  });\n  const {\n    0: bankloading,\n    1: setbankloading\n  } = useState(false);\n\n  const onChangeInput = e => {\n    setcreatedata(_objectSpread(_objectSpread({}, createdata), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onChangeRadio = e => {\n    setcreatedata(_objectSpread(_objectSpread({}, createdata), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleCreateBank = () => {\n    setbankloading(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addClientBank`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(createdata)\n    }).then(res => res.json()).then(res2 => {\n      setbankloading(false);\n      onvisible(false);\n\n      if (res2.success) {\n        setcreatedata({\n          name: \"\",\n          account_number: \"\",\n          owner: \"\",\n          currency: \"\",\n          color_first: \"from-state1\",\n          color_second: \"to-state2\"\n        });\n\n        _notification[\"success\"]({\n          message: res2.message,\n          duration: 3\n        });\n\n        setTimeout(() => {\n          setbankloading(false);\n          rt.push(`/company/clients/${companyid}`);\n        }, 500);\n      } else {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsx(DrawerCore, {\n    title: title,\n    visible: visible,\n    onClose: onClose,\n    buttonOkText: buttonOkText,\n    onClick: handleCreateBank,\n    children: /*#__PURE__*/_jsx(_Spin, {\n      spinning: bankloading,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"flex justify-center items-center mb-5\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: `w-5/12 h-28 rounded-md bg-gradient-to-tl ${createdata.color_first} ${createdata.color_second} relative mr-3`,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"absolute bottom-0 right-2\",\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: \"/image/visa.png\",\n                className: \"object-contain\"\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex justify-center mb-10\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: `w-8 h-8 rounded-full bg-gradient-to-tl from-state1 to-state2 border cursor-pointer ${createdata.color_first === \"from-state1\" && \"border-primary100\"} mx-2`,\n            onClick: () => {\n              setcreatedata(_objectSpread(_objectSpread({}, createdata), {}, {\n                color_first: \"from-state1\",\n                color_second: \"to-state2\"\n              }));\n            }\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: `w-8 h-8 rounded-full bg-gradient-to-tl from-state3 to-state4 border cursor-pointer ${createdata.color_first === \"from-state3\" && \"border-primary100\"} mx-2`,\n            onClick: () => {\n              setcreatedata(_objectSpread(_objectSpread({}, createdata), {}, {\n                color_first: \"from-state3\",\n                color_second: \"to-state4\"\n              }));\n            }\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: `w-8 h-8 rounded-full bg-gradient-to-tl from-red-200 to-red-600 border cursor-pointer ${createdata.color_first === \"from-red-200\" && \"border-primary100\"} mx-2`,\n            onClick: () => {\n              setcreatedata(_objectSpread(_objectSpread({}, createdata), {}, {\n                color_first: \"from-red-200\",\n                color_second: \"to-red-600\"\n              }));\n            }\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: `w-8 h-8 rounded-full bg-gradient-to-tl from-purple-600 to-pink-600 border cursor-pointer ${createdata.color_first === \"from-purple-600\" && \"border-primary100\"} mx-2`,\n            onClick: () => {\n              setcreatedata(_objectSpread(_objectSpread({}, createdata), {}, {\n                color_first: \"from-purple-600\",\n                color_second: \"to-pink-600\"\n              }));\n            }\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col \",\n          children: [/*#__PURE__*/_jsx(InputRequired, {\n            name: \"name\",\n            value: createdata.name,\n            onChangeInput: onChangeInput,\n            label: \"Nama Bank\"\n          }), /*#__PURE__*/_jsx(InputRequired, {\n            name: \"account_number\",\n            value: createdata.account_number,\n            onChangeInput: onChangeInput,\n            label: \"Nomor Rekening\"\n          }), /*#__PURE__*/_jsx(InputRequired, {\n            name: \"owner\",\n            value: createdata.owner,\n            onChangeInput: onChangeInput,\n            label: \"Nama Pemegang Rekening\"\n          }), /*#__PURE__*/_jsx(RadioRequired, {\n            name: \"currency\",\n            label: \"Mata Uang\",\n            onChangeRadio: onChangeRadio,\n            options: [{\n              value: \"IDR\",\n              title: \"IDR\"\n            }, {\n              value: \"USD\",\n              title: \"USD\"\n            }]\n          })]\n        })]\n      })\n    })\n  });\n};\n\nexport default DrawerBankClient;","map":null,"metadata":{},"sourceType":"module"}