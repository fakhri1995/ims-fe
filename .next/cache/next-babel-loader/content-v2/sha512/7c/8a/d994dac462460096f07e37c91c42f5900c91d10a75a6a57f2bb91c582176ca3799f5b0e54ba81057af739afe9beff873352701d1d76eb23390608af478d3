{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _DatePicker from \"antd/lib/date-picker\";\nimport _Radio from \"antd/lib/radio\";\nimport _toConsumableArray from \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _Switch from \"antd/lib/switch\";\nimport _TreeSelect from \"antd/lib/tree-select\";\nimport _Select from \"antd/lib/select\";\nimport _Spin from \"antd/lib/spin\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _notification from \"antd/lib/notification\";\nimport _defineProperty from \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport DrawerCore from '../drawerCore';\nimport { InputRequired, TextAreaNotRequired } from '../../input';\nimport { AssetIconSvg, CalendartimeIconSvg, CircleXIconSvg, UserIconSvg } from '../../icon';\nimport { Label, H1, H2 } from '../../typography';\nimport { SearchOutlined } from '@ant-design/icons';\nimport ButtonSys from '../../button';\nimport moment from 'moment';\n\nvar DrawerTaskCreate = function DrawerTaskCreate(_ref) {\n  var title = _ref.title,\n      visible = _ref.visible,\n      onvisible = _ref.onvisible,\n      onClose = _ref.onClose,\n      buttonOkText = _ref.buttonOkText,\n      disabled = _ref.disabled,\n      initProps = _ref.initProps,\n      loadingcreate = _ref.loadingcreate,\n      setloadingcreate = _ref.setloadingcreate;\n\n  //USESTATE\n  var _useState = useState({\n    name: \"\",\n    description: \"\",\n    task_type_id: null,\n    location_id: null,\n    reference_id: null,\n    created_at: null,\n    deadline: null,\n    is_group: null,\n    is_replaceable: false,\n    assign_ids: [],\n    inventory_ids: [],\n    is_uploadable: false,\n    repeat: 0,\n    files: [],\n    end_repeat_at: null,\n    subloc_id: null\n  }),\n      datacreate = _useState[0],\n      setdatacreate = _useState[1];\n\n  var _useState2 = useState(true),\n      disabledcreate = _useState2[0],\n      setdisabledcreate = _useState2[1];\n\n  var _useState3 = useState(-1),\n      disabledtrigger = _useState3[0],\n      setdisabledtrigger = _useState3[1]; //task types\n\n\n  var _useState4 = useState([]),\n      datatasktypes = _useState4[0],\n      setdatatasktypes = _useState4[1];\n\n  var _useState5 = useState(false),\n      fetchingtasktypes = _useState5[0],\n      setfetchingtasktypes = _useState5[1]; //references\n\n\n  var _useState6 = useState([]),\n      datareferences = _useState6[0],\n      setdatareferences = _useState6[1];\n\n  var _useState7 = useState(false),\n      fetchingreferences = _useState7[0],\n      setfetchingreferences = _useState7[1]; //locations\n\n\n  var _useState8 = useState([]),\n      datalocations = _useState8[0],\n      setdatalocations = _useState8[1];\n\n  var _useState9 = useState([]),\n      datasublocs = _useState9[0],\n      setdatasublocs = _useState9[1];\n\n  var _useState10 = useState(false),\n      fetchinglocations = _useState10[0],\n      setfetchinglocations = _useState10[1];\n\n  var _useState11 = useState(-1),\n      triggersubloc = _useState11[0],\n      settriggersubloc = _useState11[1]; //items\n\n\n  var _useState12 = useState([]),\n      dataitems = _useState12[0],\n      setdataitems = _useState12[1];\n\n  var _useState13 = useState([]),\n      selecteditems = _useState13[0],\n      setselecteditems = _useState13[1];\n\n  var _useState14 = useState(false),\n      fetchingitems = _useState14[0],\n      setfetchingitems = _useState14[1]; //staff/group\n\n\n  var _useState15 = useState([]),\n      datastaffgroup = _useState15[0],\n      setdatastaffgroup = _useState15[1];\n\n  var _useState16 = useState([]),\n      selectedstaffgroup = _useState16[0],\n      setselectedstaffgroup = _useState16[1];\n\n  var _useState17 = useState(false),\n      fetchingstaffgroup = _useState17[0],\n      setfetchingstaffgroup = _useState17[1];\n\n  var _useState18 = useState(1),\n      switchstaffgroup = _useState18[0],\n      setswitchstaffgroup = _useState18[1]; //start date\n\n\n  var _useState19 = useState(null),\n      now = _useState19[0],\n      setnow = _useState19[1];\n\n  var _useState20 = useState(''),\n      tempdate = _useState20[0],\n      settempdate = _useState20[1];\n\n  var _useState21 = useState(false),\n      choosedate = _useState21[0],\n      setchoosedate = _useState21[1]; //end date\n\n\n  var _useState22 = useState(null),\n      nowend = _useState22[0],\n      setnowend = _useState22[1];\n\n  var _useState23 = useState(false),\n      choosedateend = _useState23[0],\n      setchoosedateend = _useState23[1]; //repeat date\n\n\n  var _useState24 = useState(false),\n      repeatable = _useState24[0],\n      setrepeatable = _useState24[1];\n\n  var _useState25 = useState(null),\n      regular = _useState25[0],\n      setregular = _useState25[1];\n\n  var _useState26 = useState(false),\n      choosedateendrepeat = _useState26[0],\n      setchoosedateendrepeat = _useState26[1]; //HANDLER\n\n\n  var handleAddTask = function handleAddTask() {\n    var finaldata = _objectSpread(_objectSpread({}, datacreate), {}, {\n      location_id: datacreate.subloc_id === null ? datacreate.location_id : datacreate.subloc_id\n    });\n\n    setloadingcreate(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/addTask\", {\n      method: 'POST',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(finaldata)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setloadingcreate(false);\n\n      if (res2.success) {\n        setdatacreate({\n          name: \"\",\n          description: \"\",\n          task_type_id: null,\n          location_id: null,\n          reference_id: null,\n          created_at: null,\n          deadline: null,\n          is_group: null,\n          is_replaceable: false,\n          assign_ids: [],\n          inventory_ids: [],\n          is_uploadable: false,\n          repeat: 0,\n          files: [],\n          end_repeat_at: null,\n          subloc_id: null\n        });\n        setselecteditems([]);\n        setselectedstaffgroup([]);\n        setswitchstaffgroup(1);\n        setnow(null);\n        setnowend(null);\n        setrepeatable(false);\n        onvisible(false);\n\n        _notification['success']({\n          message: res2.message,\n          duration: 3\n        });\n      } else {\n        _notification['error']({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //USEEFFECT\n  //Tipe task\n\n\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterTaskTypes\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatatasktypes(res2.data);\n    });\n  }, []); //Referensi\n\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterTickets?id=\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatareferences(res2.data);\n    });\n  }, []); //Lokasi\n\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getAllCompanyList\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatalocations(res2.data.children);\n    });\n  }, []); //Sublokasi\n\n  useEffect(function () {\n    if (triggersubloc !== -1) {\n      fetch(\"https://boiling-thicket-46501.herokuapp.com/getSubLocations?company_id=\".concat(triggersubloc), {\n        method: \"GET\",\n        headers: {\n          'Authorization': JSON.parse(initProps)\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res2) {\n        setdatasublocs(res2.data.children);\n      });\n    }\n  }, [triggersubloc]); //Items\n\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterInventories\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdataitems(res2.data);\n    });\n  }, []); //Staff/group\n\n  useEffect(function () {\n    if (switchstaffgroup !== -1) {\n      if (switchstaffgroup === 0) {\n        fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterGroups\", {\n          method: \"GET\",\n          headers: {\n            'Authorization': JSON.parse(initProps)\n          }\n        }).then(function (res) {\n          return res.json();\n        }).then(function (res2) {\n          setdatastaffgroup(res2.data);\n        });\n      } else if (switchstaffgroup === 1) {\n        fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterUsers?type=\".concat(1), {\n          method: \"GET\",\n          headers: {\n            'Authorization': JSON.parse(initProps)\n          }\n        }).then(function (res) {\n          return res.json();\n        }).then(function (res2) {\n          setdatastaffgroup(res2.data);\n        });\n      }\n    }\n  }, [switchstaffgroup]);\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterGroups\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatastaffgroup(res2.data);\n    });\n  }, []);\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterUsers?type=\".concat(1), {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatastaffgroup(res2.data);\n    });\n  }, []);\n  useEffect(function () {\n    if (datacreate.task_type_id !== null && datacreate.name !== \"\" && datacreate.location_id !== null && datacreate.created_at !== null && datacreate.deadline !== null && datacreate.repeat !== -1) {\n      setdisabledcreate(false);\n    } else {\n      setdisabledcreate(true);\n    }\n  }, [disabledtrigger]);\n  return /*#__PURE__*/_jsx(DrawerCore, {\n    title: title,\n    visible: visible,\n    onClose: function onClose() {\n      setdatacreate({\n        name: \"\",\n        description: \"\",\n        task_type_id: null,\n        location_id: null,\n        reference_id: null,\n        created_at: null,\n        deadline: null,\n        is_group: null,\n        is_replaceable: false,\n        assign_ids: [],\n        inventory_ids: [],\n        is_uploadable: false,\n        repeat: 0,\n        files: [],\n        end_repeat_at: null,\n        subloc_id: null\n      });\n      setselecteditems([]);\n      setselectedstaffgroup([]);\n      setswitchstaffgroup(1);\n      setnow(null);\n      setnowend(null);\n      setrepeatable(false);\n      onvisible(false);\n    },\n    buttonOkText: buttonOkText,\n    onClick: handleAddTask,\n    disabled: disabledcreate,\n    children: /*#__PURE__*/_jsx(_Spin, {\n      spinning: loadingcreate,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"mb-6\",\n          children: /*#__PURE__*/_jsx(\"p\", {\n            className: \"mb-0 text-red-500 text-xs italic\",\n            children: \"*Informasi ini harus diisi\"\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-6 flex flex-col px-3\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-3731164580\" + \" \" + \"flex mb-2\",\n            children: [/*#__PURE__*/_jsx(Label, {\n              children: \"Tipe Task\"\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-3731164580\" + \" \" + \"tasktype\"\n            }), /*#__PURE__*/_jsx(_JSXStyle, {\n              id: \"3731164580\",\n              children: [\".tasktype.jsx-3731164580::before{content:'*';color:red;}\"]\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"w-full\",\n            children: /*#__PURE__*/_jsx(_Select, {\n              style: {\n                width: \"100%\"\n              },\n              value: datacreate.task_type_id,\n              placeholder: \"Nama tipe task\",\n              showSearch: true,\n              optionFilterProp: \"children\",\n              notFoundContent: fetchingtasktypes ? /*#__PURE__*/_jsx(_Spin, {\n                size: \"small\"\n              }) : null,\n              onSearch: function onSearch(value) {\n                setfetchingtasktypes(true);\n                fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterTaskTypes?name=\".concat(value), {\n                  method: \"GET\",\n                  headers: {\n                    'Authorization': JSON.parse(initProps)\n                  }\n                }).then(function (res) {\n                  return res.json();\n                }).then(function (res2) {\n                  setdatatasktypes(res2.data);\n                  setfetchingtasktypes(false);\n                });\n              },\n              filterOption: function filterOption(input, opt) {\n                return opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n              },\n              name: \"task_type_id\",\n              defaultValue: datacreate.task_type_id,\n              onChange: function onChange(value) {\n                setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                  task_type_id: value\n                }));\n                setdisabledtrigger(function (prev) {\n                  return prev + 1;\n                });\n              },\n              children: datatasktypes.map(function (doc, idx) {\n                return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: doc.id,\n                  children: doc.name\n                }, idx);\n              })\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-5 flex flex-col px-3\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"flex mb-2\",\n            children: /*#__PURE__*/_jsx(Label, {\n              children: \"Referensi\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"w-full\",\n            children: /*#__PURE__*/_jsx(_Select, {\n              value: datacreate.reference_id,\n              style: {\n                width: \"100%\"\n              },\n              suffixIcon: /*#__PURE__*/_jsx(SearchOutlined, {}),\n              showArrow: true,\n              placeholder: \"Referensi\",\n              name: \"reference_id\",\n              onChange: function onChange(value) {\n                setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                  reference_id: value\n                }));\n              },\n              showSearch: true,\n              optionFilterProp: \"children\",\n              notFoundContent: fetchingreferences ? /*#__PURE__*/_jsx(_Spin, {\n                size: \"small\"\n              }) : null,\n              onSearch: function onSearch(value) {\n                setfetchingreferences(true);\n                fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterTickets?id=\".concat(value), {\n                  method: \"GET\",\n                  headers: {\n                    'Authorization': JSON.parse(initProps)\n                  }\n                }).then(function (res) {\n                  return res.json();\n                }).then(function (res2) {\n                  setdatareferences(res2.data);\n                  setfetchingreferences(false);\n                });\n              },\n              filterOption: function filterOption(input, opt) {\n                return opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n              },\n              children: datareferences.map(function (doc, idx) {\n                return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: doc.id,\n                  children: doc.name\n                }, idx);\n              })\n            })\n          })]\n        }), /*#__PURE__*/_jsx(InputRequired, {\n          value: datacreate.name,\n          label: \"Judul Task\",\n          onChangeInput: function onChangeInput(e) {\n            setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n              name: e.target.value\n            }));\n            setdisabledtrigger(function (prev) {\n              return prev + 1;\n            });\n          }\n        }), /*#__PURE__*/_jsx(TextAreaNotRequired, {\n          value: datacreate.description,\n          rows: 4,\n          label: \"Deskripsi Task\",\n          onChangeInput: function onChangeInput(e) {\n            setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n              description: e.target.value\n            }));\n          }\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-6 px-3 flex flex-col\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-4017237294\" + \" \" + \"flex mb-2\",\n            children: [/*#__PURE__*/_jsx(Label, {\n              children: \"Lokasi\"\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-4017237294\" + \" \" + \"locations\"\n            }), /*#__PURE__*/_jsx(_JSXStyle, {\n              id: \"4017237294\",\n              children: [\".locations.jsx-4017237294::before{content:'*';color:red;}\"]\n            })]\n          }), /*#__PURE__*/_jsx(_TreeSelect, {\n            allowClear: true,\n            placeholder: \"Cari Lokasi\",\n            showSearch: true,\n            suffixIcon: /*#__PURE__*/_jsx(SearchOutlined, {}),\n            showArrow: true,\n            name: \"locations_id\",\n            onChange: function onChange(value) {\n              typeof value === 'undefined' ? setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                location_id: null,\n                subloc_id: null\n              })) : (setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                location_id: value\n              })), settriggersubloc(value));\n              setdisabledtrigger(function (prev) {\n                return prev + 1;\n              });\n            },\n            treeData: datalocations,\n            treeDefaultExpandAll: true,\n            value: datacreate.location_id\n          })]\n        }), datacreate.location_id !== null ? /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-6 px-3 flex flex-col\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"flex mb-2\",\n            children: /*#__PURE__*/_jsx(Label, {\n              children: \"Sublokasi\"\n            })\n          }), /*#__PURE__*/_jsx(_TreeSelect, {\n            allowClear: true,\n            placeholder: \"Cari Sublokasi\",\n            showSearch: true,\n            suffixIcon: /*#__PURE__*/_jsx(SearchOutlined, {}),\n            showArrow: true,\n            name: \"locations_id\",\n            onChange: function onChange(value) {\n              typeof value === 'undefined' ? setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                subloc_id: null\n              })) : setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                subloc_id: value\n              }));\n            },\n            treeData: datasublocs,\n            treeDefaultExpandAll: true,\n            value: datacreate.subloc_id\n          })]\n        }) : null, /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-6 px-3 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(Label, {\n              children: \"Pergantian Suku Cadang\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(_Switch, {\n              checked: datacreate.is_replaceable,\n              onChange: function onChange(checked) {\n                setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                  is_replaceable: checked\n                }));\n                /*console.log(datacreate, Math.floor(moment.duration(moment(\"2022-01-06 11:58:27\").diff(moment(datacreate.created_at))).asHours())) console.log(moment.duration(moment(new Date()).diff(moment(\"2022-01-07 09:21:48\"))).asDays())*/\n              }\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-6 px-3 flex flex-col\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"mb-2\",\n            children: /*#__PURE__*/_jsx(Label, {\n              children: \"Aset\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mb-2\",\n            children: /*#__PURE__*/_jsx(_Select, {\n              style: {\n                width: \"100%\"\n              },\n              className: \"dontShow\",\n              mode: \"multiple\",\n              suffixIcon: /*#__PURE__*/_jsx(SearchOutlined, {}),\n              showArrow: true,\n              value: datacreate.inventory_ids,\n              placeholder: \"Cari MIG ID\",\n              name: \"inventory_ids\",\n              onChange: function onChange(values, options) {\n                setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                  inventory_ids: values\n                }));\n                setselecteditems(options);\n                console.log(options);\n              },\n              showSearch: true,\n              optionFilterProp: \"children\",\n              notFoundContent: fetchingitems ? /*#__PURE__*/_jsx(_Spin, {\n                size: \"small\"\n              }) : null,\n              onSearch: function onSearch(value) {\n                setfetchingitems(true);\n                fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterInventories?keyword=\".concat(value), {\n                  method: \"GET\",\n                  headers: {\n                    'Authorization': JSON.parse(initProps)\n                  }\n                }).then(function (res) {\n                  return res.json();\n                }).then(function (res2) {\n                  setdataitems(res2.data);\n                  setfetchingitems(false);\n                });\n              },\n              filterOption: function filterOption(input, opt) {\n                return opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n              },\n              children: dataitems.map(function (doc, idx) {\n                return /*#__PURE__*/_jsx(_Select.Option, {\n                  migid: doc.mig_id,\n                  modelname: doc.model_name,\n                  assetname: doc.asset_name,\n                  value: doc.id,\n                  children: doc.mig_id\n                }, idx);\n              })\n            })\n          }), selecteditems.map(function (doc, idx) {\n            return /*#__PURE__*/_jsxs(\"div\", {\n              className: \"mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"mr-2 flex items-center\",\n                children: /*#__PURE__*/_jsx(AssetIconSvg, {\n                  size: 50\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col justify-center\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"mb-1 flex\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"mr-1\",\n                    children: /*#__PURE__*/_jsx(H2, {\n                      children: doc.modelname\n                    })\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \" cursor-pointer\",\n                    onClick: function onClick() {\n                      var temp = _toConsumableArray(selecteditems);\n\n                      temp.splice(idx, 1);\n                      setselecteditems(temp);\n                      setdatacreate(function (prev) {\n                        return _objectSpread(_objectSpread({}, prev), {}, {\n                          inventory_ids: temp.map(function (docmap) {\n                            return docmap.value;\n                          })\n                        });\n                      });\n                    },\n                    children: /*#__PURE__*/_jsx(CircleXIconSvg, {\n                      size: 15,\n                      color: \"#BF4A40\"\n                    })\n                  })]\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  children: /*#__PURE__*/_jsxs(Label, {\n                    children: [doc.migid, \"/\", doc.assetname]\n                  })\n                })]\n              })]\n            });\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-6 px-3 flex flex-col\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"mb-2 flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              children: /*#__PURE__*/_jsx(Label, {\n                children: switchstaffgroup === 0 ? \"Group\" : \"Staff\"\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"mr-1\",\n                children: /*#__PURE__*/_jsx(Label, {\n                  children: \"Staff\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"mx-1\",\n                children: /*#__PURE__*/_jsx(_Switch, {\n                  checked: datacreate.is_group,\n                  onChange: function onChange(checked) {\n                    setswitchstaffgroup(checked ? 0 : 1);\n                    setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                      is_group: checked,\n                      assign_ids: []\n                    }));\n                    setselectedstaffgroup([]);\n                  }\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"ml-1\",\n                children: /*#__PURE__*/_jsx(Label, {\n                  children: \"Group\"\n                })\n              })]\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mb-2\",\n            children: switchstaffgroup === 1 ? /*#__PURE__*/_jsx(_Select, {\n              style: {\n                width: \"100%\"\n              },\n              className: \"dontShow\",\n              mode: \"multiple\",\n              suffixIcon: /*#__PURE__*/_jsx(SearchOutlined, {}),\n              showArrow: true,\n              value: datacreate.assign_ids,\n              placeholder: \"Cari Nama Staff, Group..\",\n              name: \"assign_ids\",\n              onChange: function onChange(values, options) {\n                setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                  assign_ids: values\n                }));\n                setselectedstaffgroup(options);\n                console.log(options);\n              },\n              showSearch: true,\n              optionFilterProp: \"children\",\n              notFoundContent: fetchingstaffgroup ? /*#__PURE__*/_jsx(_Spin, {\n                size: \"small\"\n              }) : null,\n              onSearch: function onSearch(value) {\n                setfetchingstaffgroup(true);\n                fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterUsers?type=\".concat(1, \"&name=\", value), {\n                  method: \"GET\",\n                  headers: {\n                    'Authorization': JSON.parse(initProps)\n                  }\n                }).then(function (res) {\n                  return res.json();\n                }).then(function (res2) {\n                  setdatastaffgroup(res2.data);\n                  setfetchingstaffgroup(false);\n                });\n              },\n              filterOption: function filterOption(input, opt) {\n                return opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n              },\n              children: datastaffgroup.map(function (doc, idx) {\n                return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: doc.id,\n                  position: doc.position,\n                  image: doc.profile_image,\n                  children: doc.name\n                }, idx);\n              })\n            }) : /*#__PURE__*/_jsx(_Select, {\n              style: {\n                width: \"100%\"\n              },\n              className: \"dontShow\",\n              suffixIcon: /*#__PURE__*/_jsx(SearchOutlined, {}),\n              showArrow: true,\n              value: [datacreate.assign_ids],\n              placeholder: \"Cari Nama Staff, Group..\",\n              name: \"assign_ids\",\n              onChange: function onChange(value, option) {\n                setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                  assign_ids: [value]\n                }));\n                setselectedstaffgroup([option]);\n                console.log(option);\n              },\n              showSearch: true,\n              optionFilterProp: \"children\",\n              notFoundContent: fetchingstaffgroup ? /*#__PURE__*/_jsx(_Spin, {\n                size: \"small\"\n              }) : null,\n              onSearch: function onSearch(value) {\n                setfetchingstaffgroup(true);\n                fetch(\"https://boiling-thicket-46501.herokuapp.com/getFilterGroups?name=\".concat(value), {\n                  method: \"GET\",\n                  headers: {\n                    'Authorization': JSON.parse(initProps)\n                  }\n                }).then(function (res) {\n                  return res.json();\n                }).then(function (res2) {\n                  setdatastaffgroup(res2.data);\n                  setfetchingstaffgroup(false);\n                });\n              },\n              filterOption: function filterOption(input, opt) {\n                return opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n              },\n              children: datastaffgroup.map(function (doc, idx) {\n                return /*#__PURE__*/_jsx(_Select.Option, {\n                  value: doc.id,\n                  children: doc.name\n                }, idx);\n              })\n            })\n          }), selectedstaffgroup.map(function (doc, idx) {\n            return /*#__PURE__*/_jsxs(\"div\", {\n              className: \"mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"mr-2 flex items-center\",\n                children: switchstaffgroup === 1 ? /*#__PURE__*/_jsx(\"div\", {\n                  className: \" w-10 h-10 rounded-full\",\n                  children: /*#__PURE__*/_jsx(\"img\", {\n                    src: doc.image === \"\" || doc.image === \"-\" ? \"/image/staffTask.png\" : \"\".concat(doc.image),\n                    className: \" object-contain w-10 h-10\",\n                    alt: \"\"\n                  })\n                }) : /*#__PURE__*/_jsx(UserIconSvg, {})\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col justify-center\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"mb-1 flex\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"mr-1\",\n                    children: /*#__PURE__*/_jsx(H2, {\n                      children: doc.children\n                    })\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \" cursor-pointer\",\n                    onClick: function onClick() {\n                      var temp = _toConsumableArray(selectedstaffgroup);\n\n                      temp.splice(idx, 1);\n                      setselectedstaffgroup(temp);\n                      setdatacreate(function (prev) {\n                        return _objectSpread(_objectSpread({}, prev), {}, {\n                          assign_ids: temp.map(function (docmap) {\n                            return docmap.value;\n                          })\n                        });\n                      });\n                    },\n                    children: /*#__PURE__*/_jsx(CircleXIconSvg, {\n                      size: 15,\n                      color: \"#BF4A40\"\n                    })\n                  })]\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  children: /*#__PURE__*/_jsx(Label, {\n                    children: switchstaffgroup === 0 ? \"\" : \"\".concat(doc.position)\n                  })\n                })]\n              })]\n            });\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-6 px-3 flex flex-col\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-827230947\" + \" \" + ' flex mb-2',\n            children: [/*#__PURE__*/_jsx(Label, {\n              children: \"Jadwal Mulai\"\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-827230947\" + \" \" + \"jadwal\"\n            }), /*#__PURE__*/_jsx(_JSXStyle, {\n              id: \"827230947\",\n              children: [\".jadwal.jsx-827230947::before{content:'*';color:red;}\"]\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mb-2\",\n            children: /*#__PURE__*/_jsx(_Radio.Group, {\n              name: \"created_at\",\n              onChange: function onChange(e) {\n                setnow(e.target.value);\n                settempdate(datacreate.created_at);\n                setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                  created_at: e.target.value === true ? moment(new Date()).locale('id').format() : null,\n                  deadline: datacreate.deadline === null ? null : moment(datacreate.deadline).add(Math.floor(moment.duration(moment(new Date()).diff(moment(datacreate.created_at))).asHours()), 'h').locale('id').format()\n                }));\n                e.target.value === true ? setchoosedate(false) : null;\n                setdisabledtrigger(function (prev) {\n                  return prev + 1;\n                });\n              },\n              value: now,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"mb-1\",\n                  children: /*#__PURE__*/_jsx(_Radio, {\n                    value: true,\n                    children: \"Saat Ini\"\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"mb-1\",\n                  children: /*#__PURE__*/_jsx(_Radio, {\n                    value: false,\n                    children: \"Tanggal Lain\"\n                  })\n                })]\n              })\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"pl-4 flex flex-col\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"mb-2\",\n              children: /*#__PURE__*/_jsxs(ButtonSys, {\n                type: \"primary\",\n                disabled: now === false ? false : true,\n                onClick: function onClick() {\n                  setchoosedate(true);\n                },\n                children: [/*#__PURE__*/_jsx(CalendartimeIconSvg, {\n                  size: 15,\n                  color: \"#ffffff\"\n                }), \"Pilih Tanggal\"]\n              })\n            }), choosedate && /*#__PURE__*/_jsx(\"div\", {\n              children: /*#__PURE__*/_jsx(_DatePicker, {\n                showTime: true,\n                placeholder: \"Jadwal Mulai\",\n                style: {\n                  width: \"100%\"\n                },\n                onChange: function onChange(date, datestring) {\n                  setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                    created_at: datestring,\n                    deadline: datacreate.deadline === null ? null : moment(datacreate.deadline).add(Math.floor(moment.duration(moment(datestring).diff(moment(tempdate))).asHours()), 'h').locale('id').format()\n                  }));\n                  setdisabledtrigger(function (prev) {\n                    return prev + 1;\n                  });\n                }\n              })\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-6 px-3 flex flex-col\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-827230947\" + \" \" + ' flex mb-2',\n            children: [/*#__PURE__*/_jsx(Label, {\n              children: \"Jadwal Berakhir\"\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: \"jsx-827230947\" + \" \" + \"jadwal\"\n            }), /*#__PURE__*/_jsx(_JSXStyle, {\n              id: \"827230947\",\n              children: [\".jadwal.jsx-827230947::before{content:'*';color:red;}\"]\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mb-2\",\n            children: /*#__PURE__*/_jsx(_Radio.Group, {\n              name: \"deadline\",\n              onChange: function onChange(e) {\n                setnowend(e.target.value);\n                var choisedate = '';\n\n                if (e.target.value === 3) {\n                  now === false ? choisedate = moment(datacreate.created_at).add(3, 'h').locale('id').format() : choisedate = moment().add(3, 'h').locale('id').format();\n                } else if (e.target.value === 30) {\n                  now === false ? choisedate = moment(datacreate.created_at).add(30, 'h').locale('id').format() : choisedate = moment().add(30, 'h').locale('id').format();\n                } else if (e.target.value === 24) {\n                  now === false ? choisedate = moment(datacreate.created_at).add(1, 'd').locale('id').format() : choisedate = moment().add(1, 'd').locale('id').format();\n                } else if (e.target.value === 168) {\n                  now === false ? choisedate = moment(datacreate.created_at).add(1, 'w').locale('id').format() : choisedate = moment().add(1, 'w').locale('id').format();\n                }\n\n                setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                  deadline: e.target.value !== -10 ? choisedate : null\n                }));\n                e.target.value !== -10 ? setchoosedateend(false) : null;\n                setdisabledtrigger(function (prev) {\n                  return prev + 1;\n                });\n              },\n              value: nowend,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"mb-1\",\n                  children: /*#__PURE__*/_jsx(_Radio, {\n                    value: 3,\n                    children: \"3 jam ke depan\"\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"mb-1\",\n                  children: /*#__PURE__*/_jsx(_Radio, {\n                    value: 30,\n                    children: \"30 jam ke depan\"\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"mb-1\",\n                  children: /*#__PURE__*/_jsx(_Radio, {\n                    value: 24,\n                    children: \"Besok\"\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"mb-1\",\n                  children: /*#__PURE__*/_jsx(_Radio, {\n                    value: 168,\n                    children: \"1 minggu ke depan\"\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"mb-1\",\n                  children: /*#__PURE__*/_jsx(_Radio, {\n                    value: -10,\n                    children: \"Tanggal Lain\"\n                  })\n                })]\n              })\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"pl-4 flex flex-col\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"mb-2\",\n              children: /*#__PURE__*/_jsxs(ButtonSys, {\n                type: \"primary\",\n                disabled: nowend === -10 ? false : true,\n                onClick: function onClick() {\n                  setchoosedateend(true);\n                },\n                children: [/*#__PURE__*/_jsx(CalendartimeIconSvg, {\n                  size: 15,\n                  color: \"#ffffff\"\n                }), \"Pilih Tanggal\"]\n              })\n            }), choosedateend && /*#__PURE__*/_jsx(\"div\", {\n              children: /*#__PURE__*/_jsx(_DatePicker, {\n                showTime: true,\n                placeholder: \"Jadwal Mulai\",\n                style: {\n                  width: \"100%\"\n                },\n                onChange: function onChange(date, datestring) {\n                  setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                    deadline: datestring\n                  }));\n                  setdisabledtrigger(function (prev) {\n                    return prev + 1;\n                  });\n                }\n              })\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-6 px-3 flex flex-col\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \" flex mb-2 justify-between\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              children: /*#__PURE__*/_jsx(Label, {\n                children: \"Jadwal Berulang\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: /*#__PURE__*/_jsx(_Switch, {\n                checked: repeatable,\n                onChange: function onChange(checked) {\n                  setrepeatable(checked);\n                  setchoosedateendrepeat(false);\n                  checked === false ? setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                    repeat: 0,\n                    end_repeat_at: null\n                  })) : null;\n                }\n              })\n            })]\n          }), repeatable ? /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \" mb-2\",\n              children: /*#__PURE__*/_jsxs(_Select, {\n                style: {\n                  width: \"100%\"\n                },\n                placeholder: \"Reguler, Setelah Selesai\",\n                onChange: function onChange(value) {\n                  setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                    repeat: value\n                  }));\n                  value === -1 ? setregular(true) : (setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                    repeat: 1\n                  })), setregular(false));\n                  setdisabledtrigger(function (prev) {\n                    return prev + 1;\n                  });\n                },\n                children: [/*#__PURE__*/_jsx(_Select.Option, {\n                  value: -1,\n                  children: \"Reguler\"\n                }), /*#__PURE__*/_jsx(_Select.Option, {\n                  value: 1,\n                  children: \"Setelah Selesai\"\n                })]\n              })\n            }), regular && /*#__PURE__*/_jsx(_Fragment, {\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsx(_Radio.Group, {\n                  name: \"repeat\",\n                  onChange: function onChange(e) {\n                    setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                      repeat: e.target.value\n                    }));\n                    setdisabledtrigger(function (prev) {\n                      return prev + 1;\n                    });\n                  },\n                  value: datacreate.repeat < 2 ? null : datacreate.repeat,\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"mb-1\",\n                      children: /*#__PURE__*/_jsx(_Radio, {\n                        value: 2,\n                        children: \"Setiap Hari\"\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"mb-1\",\n                      children: /*#__PURE__*/_jsx(_Radio, {\n                        value: 3,\n                        children: \"Setiap Minggu\"\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"mb-1\",\n                      children: /*#__PURE__*/_jsx(_Radio, {\n                        value: 4,\n                        children: \"Setiap 2 Minggu\"\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"mb-1\",\n                      children: /*#__PURE__*/_jsx(_Radio, {\n                        value: 5,\n                        children: \"Setiap Bulan\"\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"mb-1\",\n                      children: /*#__PURE__*/_jsx(_Radio, {\n                        value: 6,\n                        children: \"Setiap 3 Bulan\"\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"mb-1\",\n                      children: /*#__PURE__*/_jsx(_Radio, {\n                        value: 7,\n                        children: \"Setiap 4 Bulan\"\n                      })\n                    })]\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \" pl-4 mb-2\",\n              children: /*#__PURE__*/_jsx(Label, {\n                children: \"Selesai Pada\"\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"pl-4 flex flex-col\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxs(ButtonSys, {\n                  type: \"primary\",\n                  onClick: function onClick() {\n                    setchoosedateendrepeat(true);\n                  },\n                  children: [/*#__PURE__*/_jsx(CalendartimeIconSvg, {\n                    size: 15,\n                    color: \"#ffffff\"\n                  }), \"Pilih Tanggal\"]\n                })\n              }), choosedateendrepeat && /*#__PURE__*/_jsx(\"div\", {\n                children: /*#__PURE__*/_jsx(_DatePicker, {\n                  showTime: true,\n                  placeholder: \"Selesai pada\",\n                  style: {\n                    width: \"100%\"\n                  },\n                  onChange: function onChange(date, datestring) {\n                    setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                      end_repeat_at: datestring\n                    }));\n                  }\n                })\n              })]\n            })]\n          }) : null]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"mb-6 px-3 flex justify-between\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(Label, {\n              children: \"Unggah Dokumen Pelengkap (PDF, JPG)\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(_Switch, {\n              checked: datacreate.is_uploadable,\n              onChange: function onChange(checked) {\n                setdatacreate(_objectSpread(_objectSpread({}, datacreate), {}, {\n                  is_uploadable: checked\n                }));\n              }\n            })\n          })]\n        })]\n      })\n    })\n  });\n};\n\nexport default DrawerTaskCreate;","map":null,"metadata":{},"sourceType":"module"}