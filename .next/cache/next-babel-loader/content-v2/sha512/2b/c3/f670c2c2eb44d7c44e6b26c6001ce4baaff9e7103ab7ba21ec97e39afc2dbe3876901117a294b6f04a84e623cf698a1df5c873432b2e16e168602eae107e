{"ast":null,"code":"import _Modal from \"antd/lib/modal\";\nimport _Form from \"antd/lib/form\";\nimport _Table from \"antd/lib/table\";\nimport _Dropdown from \"antd/lib/dropdown\";\nimport _Button from \"antd/lib/button\";\nimport _notification from \"antd/lib/notification\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _Menu from \"antd/lib/menu\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _Input from \"antd/lib/input\";\nimport _Select from \"antd/lib/select\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { DownOutlined, EditOutlined, FolderOpenOutlined, SearchOutlined } from \"@ant-design/icons\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { useState } from \"react\";\nimport Sticky from \"wil-react-sticky\";\nimport Layout from \"../../../components/layout-dashboard\";\nimport st from \"../../../components/layout-dashboard.module.css\";\nimport httpcookie from \"cookie\";\n\nfunction ServiceCatalog({\n  initProps,\n  dataProfile,\n  dataListServiceCategories,\n  dataListServiceItem,\n  sidemenu\n}) {\n  const rt = useRouter();\n  const pathArr = rt.pathname.split(\"/\").slice(1);\n  const {\n    Option\n  } = _Select;\n  const {\n    Search\n  } = _Input;\n  const tabnameArr = [\"all\"];\n  const loop = [\"block\"];\n  dataListServiceCategories.data.map((doc, idx) => {\n    var nama = doc.nama_kategori.split(\" \")[0];\n    tabnameArr.push(nama);\n  });\n\n  for (var i = 0; i < dataListServiceCategories.data.length; i++) {\n    loop.push(\"hidden\");\n  } //data Source\n\n\n  const dataListServiceItemMap = dataListServiceItem.data.map((doc, idx) => {\n    return {\n      id: doc.id,\n      itemName: doc.nama_service_item,\n      shortDesc: doc.deskripsi_singkat,\n      categoryName: doc.nama_kategori,\n      status: doc.is_publish\n    };\n  });\n  const columns = [{\n    title: \"Nama Item\",\n    dataIndex: \"itemName\",\n    key: \"itemName\",\n    render: (text, record, index) => {\n      return {\n        props: {\n          style: {\n            backgroundColor: index % 2 == 1 ? \"#f2f2f2\" : \"#fff\"\n          }\n        },\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(Link, {\n            href: `/admin/service/${record.id}`,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              href: \"#\",\n              children: /*#__PURE__*/_jsx(\"h1\", {\n                className: \"font-semibold hover:text-gray-500\",\n                children: record.itemName\n              })\n            })\n          })\n        })\n      };\n    }\n  }, {\n    title: \"Deskripsi\",\n    dataIndex: \"shortDesc\",\n    key: \"shortDesc\",\n    render: (text, record, index) => {\n      return {\n        props: {\n          style: {\n            backgroundColor: index % 2 == 1 ? \"#f2f2f2\" : \"#fff\"\n          }\n        },\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(Link, {\n            href: `/admin/service/${record.id}`,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              href: \"#\",\n              children: /*#__PURE__*/_jsx(\"h1\", {\n                className: \"hover:text-gray-500 text-xs\",\n                children: record.shortDesc\n              })\n            })\n          })\n        })\n      };\n    }\n  }, {\n    title: \"Kategori\",\n    dataIndex: \"categoryName\",\n    key: \"categoryName\",\n    render: (text, record, index) => {\n      return {\n        props: {\n          style: {\n            backgroundColor: index % 2 == 1 ? \"#f2f2f2\" : \"#fff\"\n          }\n        },\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(Link, {\n            href: `/admin/service/${record.id}`,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              href: \"#\",\n              children: /*#__PURE__*/_jsx(\"h1\", {\n                className: \"hover:text-gray-500 text-sm\",\n                children: record.categoryName\n              })\n            })\n          })\n        })\n      };\n    }\n  }, {\n    title: \"Status\",\n    dataIndex: \"status\",\n    key: \"status\",\n    render: (text, record, index) => {\n      return {\n        props: {\n          style: {\n            backgroundColor: index % 2 == 1 ? \"#f2f2f2\" : \"#fff\"\n          }\n        },\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(Link, {\n            href: `/admin/service/${record.id}`,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              href: \"#\",\n              children: record.status ? /*#__PURE__*/_jsx(\"div\", {\n                className: \"py-1 px-2 rounded-l-full rounded-r-full text-green-500 border border-green-500 bg-green-100 text-center text-xs\",\n                children: \"Published\"\n              }) : /*#__PURE__*/_jsx(\"div\", {\n                className: \"py-1 px-2 rounded-l-full rounded-r-full text-gray-500 border border-gray-500 bg-gray-100 text-center text-xs\",\n                children: \"Draft\"\n              })\n            })\n          })\n        })\n      };\n    }\n  }]; //useState\n\n  const {\n    0: datatable,\n    1: setdatatable\n  } = useState(dataListServiceItemMap);\n  const {\n    0: datacurrtable,\n    1: setdatacurrtable\n  } = useState(dataListServiceItemMap);\n  const {\n    0: dataeditkateg,\n    1: setdataeditkateg\n  } = useState({\n    id: 0,\n    nama_kategori: \"\",\n    deskripsi: \"\"\n  });\n  const {\n    0: datatambahkateg,\n    1: setdatatambahkateg\n  } = useState({\n    nama_kategori: \"\",\n    deskripsi: \"\"\n  });\n  const {\n    0: tabnameArrVal,\n    1: settabnameArrVal\n  } = useState(loop);\n  const {\n    0: currentselectkateg,\n    1: setcurrentselectkateg\n  } = useState(\"all\");\n  const {\n    0: defaultpub,\n    1: setdefaultpub\n  } = useState(1);\n  const {\n    0: idkateg,\n    1: setidkateg\n  } = useState(0);\n  const {\n    0: modaleditkateg,\n    1: setmodaleditkateg\n  } = useState(false);\n  const {\n    0: modaltambahkateg,\n    1: setmodaltambahkateg\n  } = useState(false);\n  const {\n    0: modalkonfhapuskateg,\n    1: setmodalkonfhapuskateg\n  } = useState(false);\n  const {\n    0: loadingbtneditkateg,\n    1: setloadingbtneditkateg\n  } = useState(false);\n  const {\n    0: loadingbtntambahkateg,\n    1: setloadingbtntambahkateg\n  } = useState(false);\n  const {\n    0: loadingbtnhapuskateg,\n    1: setloadingbtnhapuskateg\n  } = useState(false); //Menu\n\n  const menu = /*#__PURE__*/_jsxs(_Menu, {\n    children: [\n    /*#__PURE__*/\n    // [184].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n    _jsx(_Menu.Item, {\n      onClick: () => setmodaltambahkateg(true),\n      children: \"Service Category\"\n    }, \"1\"),\n    /*#__PURE__*/\n    // [189].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n    _jsx(_Menu.Item, {\n      onClick: () => rt.push(`/admin/service/create`),\n      children: \"Service Item\"\n    }, \"2\")]\n  }); //onChange\n\n\n  const onChangeTab = (e, jenis, idxjenis, namakateg, deskripsi, id) => {\n    setdefaultpub(1);\n    setidkateg(id);\n\n    if (idxjenis === 0) {\n      const temp = tabnameArrVal;\n      temp[0] = \"block\";\n      settabnameArrVal(temp);\n\n      for (var i = 0; i < tabnameArrVal.length; i++) {\n        if (i != 0) {\n          const temp2 = tabnameArrVal;\n          temp2[i] = \"hidden\";\n          settabnameArrVal(temp2);\n        }\n      }\n\n      setdatatable(dataListServiceItemMap);\n      setdatacurrtable(dataListServiceItemMap);\n    } else {\n      const temp3 = tabnameArrVal;\n      temp3[idxjenis] = \"block\";\n      settabnameArrVal(temp3);\n\n      for (var i = 0; i < tabnameArrVal.length; i++) {\n        if (i != idxjenis) {\n          const temp4 = tabnameArrVal;\n          temp4[i] = \"hidden\";\n          settabnameArrVal(temp4);\n        }\n      }\n\n      setdataeditkateg({\n        id: id,\n        nama_kategori: namakateg,\n        deskripsi: deskripsi\n      });\n      setdatatable(dataListServiceItemMap);\n      setdatatable(prev => {\n        return prev.filter((doc, idx) => {\n          return doc.categoryName == namakateg;\n        });\n      });\n      setdatacurrtable(dataListServiceItemMap);\n      setdatacurrtable(prev => {\n        return prev.filter((doc, idx) => {\n          return doc.categoryName == namakateg;\n        });\n      });\n    }\n  };\n\n  const onChangeTabSmall = namakateg => {\n    setcurrentselectkateg(namakateg);\n    var variable = {};\n\n    if (namakateg != \"all\") {\n      variable = dataListServiceCategories.data.filter(dataa => {\n        return dataa.nama_kategori == namakateg;\n      }).map((doc, idx) => {\n        return {\n          idxjenis: idx + 1,\n          id: doc.id,\n          deskripsi: doc.deskripsi\n        };\n      })[0];\n    }\n\n    setdefaultpub(1);\n    setidkateg(variable.id);\n\n    if (namakateg == \"all\") {\n      const temp = tabnameArrVal;\n      temp[0] = \"block\";\n      settabnameArrVal(temp);\n\n      for (var i = 0; i < tabnameArrVal.length; i++) {\n        if (i != 0) {\n          const temp2 = tabnameArrVal;\n          temp2[i] = \"hidden\";\n          settabnameArrVal(temp2);\n        }\n      }\n\n      setdatatable(dataListServiceItemMap);\n      setdatacurrtable(dataListServiceItemMap);\n    } else {\n      const temp3 = tabnameArrVal;\n      temp3[variable.idxjenis] = \"block\";\n      settabnameArrVal(temp3);\n\n      for (var i = 0; i < tabnameArrVal.length; i++) {\n        if (i != variable.idxjenis) {\n          const temp4 = tabnameArrVal;\n          temp4[i] = \"hidden\";\n          settabnameArrVal(temp4);\n        }\n      }\n\n      setdataeditkateg({\n        id: variable.id,\n        nama_kategori: namakateg,\n        deskripsi: variable.deskripsi\n      });\n      setdatatable(dataListServiceItemMap);\n      setdatatable(prev => {\n        return prev.filter((doc, idx) => {\n          return doc.categoryName == namakateg;\n        });\n      });\n      setdatacurrtable(dataListServiceItemMap);\n      setdatacurrtable(prev => {\n        return prev.filter((doc, idx) => {\n          return doc.categoryName == namakateg;\n        });\n      });\n    }\n  };\n\n  const onChangeEditCategory = e => {\n    setdataeditkateg(_objectSpread(_objectSpread({}, dataeditkateg), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onChangeTambahCategory = e => {\n    setdatatambahkateg(_objectSpread(_objectSpread({}, datatambahkateg), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onSearchService = val => {\n    if (val === \"\") {\n      setdatatable(datacurrtable);\n    }\n\n    setdatatable(prev => {\n      return prev.filter(dataa => {\n        return dataa.itemName.toLowerCase().includes(val.toLowerCase());\n      });\n    });\n  };\n\n  const onCariService = e => {\n    if (e.target.value === \"\") {\n      setdatatable(datacurrtable);\n    } else {\n      setdatatable(prev => {\n        return prev.filter(dataa => {\n          return dataa.itemName.toLowerCase().includes(e.target.value.toLowerCase());\n        });\n      });\n    }\n  };\n\n  const onChangePublishment = val => {\n    if (val === 1) {\n      setdatatable(dataListServiceItemMap);\n      setdatacurrtable(dataListServiceItemMap);\n      setdefaultpub(1);\n    } else if (val === true) {\n      setdatatable(dataListServiceItemMap);\n      setdatatable(prev => prev.filter(dataa => dataa.status === true));\n      setdatacurrtable(dataListServiceItemMap);\n      setdatacurrtable(prev => prev.filter(dataa => dataa.status === true));\n      setdefaultpub(val);\n    } else if (val === false) {\n      setdatatable(dataListServiceItemMap);\n      setdatatable(prev => prev.filter(dataa => dataa.status === false));\n      setdatacurrtable(dataListServiceItemMap);\n      setdatacurrtable(prev => prev.filter(dataa => dataa.status === false));\n      setdefaultpub(val);\n    }\n  }; //handler\n\n\n  const handleHapusCategory = () => {\n    setloadingbtnhapuskateg(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/deleteServiceCategory`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: idkateg\n      })\n    }).then(res => res.json()).then(res2 => {\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: res2.message,\n          duration: 3\n        });\n\n        setTimeout(() => {\n          setloadingbtnhapuskateg(false);\n          setmodalkonfhapuskateg(false);\n          rt.push(`/admin/service`);\n        }, 500);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n\n        setloadingbtnhapuskateg(false);\n        setmodalkonfhapuskateg(false);\n      }\n    });\n  };\n\n  const handleEditCategory = () => {\n    setloadingbtneditkateg(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/updateServiceCategory`, {\n      method: \"PUT\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(dataeditkateg)\n    }).then(res => res.json()).then(res2 => {\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: res2.message,\n          duration: 3\n        });\n\n        setTimeout(() => {\n          setloadingbtneditkateg(false);\n          setmodaleditkateg(false);\n          rt.push(`/admin/service`);\n        }, 500);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n\n        setloadingbtneditkateg(false);\n        setmodaleditkateg(false);\n      }\n    });\n  };\n\n  const handleTambahCategory = () => {\n    setloadingbtntambahkateg(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addServiceCategory`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(datatambahkateg)\n    }).then(res => res.json()).then(res2 => {\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: res2.message,\n          duration: 3\n        });\n\n        setTimeout(() => {\n          setmodaltambahkateg(false);\n          setloadingbtntambahkateg(false);\n\n          if (true) {\n            window.location.href = `https://migsys.herokuapp.com/admin/service`;\n          } else if (false) {\n            window.location.href = `http://localhost:3000/admin/service`;\n          } // rt.push(`/admin/service`)\n\n        }, 500);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n\n        setmodaltambahkateg(false);\n        setloadingbtntambahkateg(false);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsx(Layout, {\n    tok: initProps,\n    pathArr: pathArr,\n    dataProfile: dataProfile,\n    sidemenu: sidemenu,\n    st: st,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      id: \"containerListService\",\n      className: \"w-full border-t border-opacity-30 border-gray-500 bg-white\",\n      children: [/*#__PURE__*/_jsx(Sticky, {\n        containerSelectorFocus: \"#containerListService\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"w-full flex justify-between p-3 bg-white\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: \"font-semibold text-lg\",\n              children: \"Service Catalog\"\n            })\n          }),\n          /*#__PURE__*/\n          // [184, 189].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n          _jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(_Dropdown, {\n              overlay: menu,\n              trigger: [\"click\"],\n              children: /*#__PURE__*/_jsxs(_Button, {\n                size: \"large\",\n                style: {\n                  backgroundColor: `rgb(24,144,255)`,\n                  color: `white`\n                },\n                children: [\"Add New \", /*#__PURE__*/_jsx(DownOutlined, {})]\n              })\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"w-full grid grid-cols-8\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-span-2 flex-col hidden md:flex\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"p-3\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: \" text-base font-semibold\",\n              children: \"Service Categories\"\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            children: [tabnameArrVal[0] === \"block\" ? /*#__PURE__*/_jsxs(\"div\", {\n              className: `p-2 cursor-pointer flex items-center text-sm font-semibold bg-primary text-white rounded`,\n              onClick: e => {\n                onChangeTab(e, \"all\", 0, \"all\");\n              },\n              children: [/*#__PURE__*/_jsx(FolderOpenOutlined, {\n                style: {\n                  marginRight: `0.7rem`\n                }\n              }), \"Semua Service\"]\n            }) : /*#__PURE__*/_jsxs(\"div\", {\n              className: `p-2 cursor-pointer hover:text-gray-900 flex items-center text-sm font-semibold`,\n              onClick: e => {\n                onChangeTab(e, \"all\", 0, \"all\");\n              },\n              children: [/*#__PURE__*/_jsx(FolderOpenOutlined, {\n                style: {\n                  marginRight: `0.7rem`\n                }\n              }), \"Semua Service\"]\n            }), /*#__PURE__*/_jsx(\"hr\", {}), dataListServiceCategories.data.map((doc, idx) => {\n              return /*#__PURE__*/_jsx(_Fragment, {\n                children: tabnameArrVal[idx + 1] === \"block\" ? /*#__PURE__*/_jsxs(\"div\", {\n                  className: `p-2 cursor-pointer flex items-center text-sm font-semibold bg-primary text-white rounded`,\n                  children: [/*#__PURE__*/_jsx(FolderOpenOutlined, {\n                    style: {\n                      marginRight: `0.7rem`\n                    }\n                  }), doc.nama_kategori]\n                }) : /*#__PURE__*/_jsxs(\"div\", {\n                  className: `p-2 cursor-pointer hover:text-gray-900 flex items-center text-sm font-semibold`,\n                  onClick: e => {\n                    onChangeTab(e, tabnameArr[idx + 1], idx + 1, doc.nama_kategori, doc.deskripsi, doc.id);\n                  },\n                  children: [/*#__PURE__*/_jsx(FolderOpenOutlined, {\n                    style: {\n                      marginRight: `0.7rem`\n                    }\n                  }), doc.nama_kategori]\n                })\n              });\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \" col-span-8 md:col-span-6\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: `${tabnameArrVal[0]} py-1 md:py-5 px-0 md:px-7 flex flex-col`,\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex flex-col md:flex-row justify-between items-start md:items-center mb-8\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                children: [/*#__PURE__*/_jsxs(_Select, {\n                  bordered: false,\n                  defaultValue: defaultpub,\n                  size: \"large\",\n                  style: {\n                    fontWeight: `bold`\n                  },\n                  onChange: value => {\n                    onChangePublishment(value);\n                  },\n                  children: [/*#__PURE__*/_jsx(Option, {\n                    value: 1,\n                    children: \"All Service Items\"\n                  }), /*#__PURE__*/_jsx(Option, {\n                    value: true,\n                    children: \"Published\"\n                  }), /*#__PURE__*/_jsx(Option, {\n                    value: false,\n                    children: \"Drafts\"\n                  })]\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"text-xs text-gray-500 pl-3\",\n                  children: \"Viewing all service items from all categories.\"\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                children: /*#__PURE__*/_jsx(_Input, {\n                  prefix: /*#__PURE__*/_jsx(SearchOutlined, {}),\n                  placeholder: \"Cari Service Item\",\n                  style: {\n                    borderRadius: `0.1rem`,\n                    marginBottom: `1rem`,\n                    width: `100%`\n                  },\n                  onChange: onCariService,\n                  allowClear: true\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"w-full flex md:hidden mb-3\",\n              children: /*#__PURE__*/_jsxs(_Select, {\n                defaultValue: currentselectkateg,\n                onChange: value => {\n                  onChangeTabSmall(value);\n                },\n                style: {\n                  width: `100%`\n                },\n                children: [/*#__PURE__*/_jsx(Option, {\n                  value: \"all\",\n                  children: \"Semua Service\"\n                }), dataListServiceCategories.data.map((doc, idx) => {\n                  return /*#__PURE__*/_jsx(Option, {\n                    value: doc.nama_kategori,\n                    children: doc.nama_kategori\n                  });\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: /*#__PURE__*/_jsx(_Table, {\n                columns: columns,\n                dataSource: datatable,\n                pagination: {\n                  pageSize: 8\n                },\n                scroll: {\n                  x: 300\n                }\n              })\n            })]\n          }), dataListServiceCategories.data.map((doc, idx) => {\n            return /*#__PURE__*/_jsxs(\"div\", {\n              className: `${tabnameArrVal[idx + 1]} py-5 px-7 flex flex-col`,\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col md:flex-row justify-between items-start md:items-center mb-5\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex flex-col justify-center\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex items-center mb-1\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"flex items-center mr-3\",\n                      children: tabnameArrVal[idx + 1] === \"block\" && /*#__PURE__*/_jsx(\"p\", {\n                        className: \"font-semibold m-0\",\n                        children: doc.nama_kategori\n                      })\n                    }),\n                    /*#__PURE__*/\n                    // [185].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n                    _jsx(\"div\", {\n                      className: \"w-auto h-6 px-1 border rounded-sm cursor-pointer hover:border-blue-500 hover:text-blue-500 flex justify-center items-center\",\n                      onClick: () => setmodaleditkateg(true),\n                      children: /*#__PURE__*/_jsx(EditOutlined, {})\n                    })]\n                  }), /*#__PURE__*/_jsx(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: doc.deskripsi\n                  })]\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    prefix: /*#__PURE__*/_jsx(SearchOutlined, {}),\n                    placeholder: \"Cari Service Item\",\n                    style: {\n                      borderRadius: `0.1rem`,\n                      marginBottom: `1rem`,\n                      width: `100%`\n                    },\n                    onChange: onCariService,\n                    allowClear: true\n                  })\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full flex md:hidden mb-3\",\n                children: /*#__PURE__*/_jsxs(_Select, {\n                  defaultValue: currentselectkateg,\n                  onChange: value => {\n                    onChangeTabSmall(value);\n                  },\n                  style: {\n                    width: `100%`\n                  },\n                  children: [/*#__PURE__*/_jsx(Option, {\n                    value: \"all\",\n                    children: \"Semua Service\"\n                  }), dataListServiceCategories.data.map((doc, idx) => {\n                    return /*#__PURE__*/_jsx(Option, {\n                      value: doc.nama_kategori,\n                      children: doc.nama_kategori\n                    });\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                children: /*#__PURE__*/_jsx(_Table, {\n                  columns: columns,\n                  dataSource: datatable,\n                  pagination: {\n                    pageSize: 8\n                  }\n                })\n              })]\n            });\n          }), /*#__PURE__*/_jsx(_Modal, {\n            title: `Edit Service Category`,\n            visible: modaleditkateg,\n            onCancel: () => {\n              setmodaleditkateg(false);\n            },\n            maskClosable: false,\n            footer: null,\n            style: {\n              top: `3rem`\n            },\n            width: 800,\n            destroyOnClose: true,\n            children: /*#__PURE__*/_jsxs(_Form, {\n              layout: \"vertical\",\n              onFinish: handleEditCategory,\n              initialValues: dataeditkateg,\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col mb-5\",\n                children: [/*#__PURE__*/_jsx(_Form.Item, {\n                  label: \"Nama Kategori\",\n                  name: \"nama_kategori\",\n                  rules: [{\n                    required: true,\n                    message: \"Nama Kategori wajib diisi\"\n                  }],\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    onChange: onChangeEditCategory,\n                    name: \"nama_kategori\",\n                    defaultValue: dataeditkateg.nama_kategori,\n                    allowClear: true\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  label: \"Deskripsi\",\n                  name: \"deskripsi\",\n                  children: /*#__PURE__*/_jsx(_Input.TextArea, {\n                    onChange: onChangeEditCategory,\n                    defaultValue: dataeditkateg.deskripsi,\n                    name: \"deskripsi\",\n                    allowClear: true\n                  })\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex justify-between\",\n                children: [\n                /*#__PURE__*/\n                // [186].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n                _jsx(_Button, {\n                  onClick: () => {\n                    setmodaleditkateg(false);\n                    setmodalkonfhapuskateg(true);\n                  },\n                  type: \"default\",\n                  children: \"Delete\"\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex\",\n                  children: [/*#__PURE__*/_jsx(_Button, {\n                    type: \"default\",\n                    onClick: () => {\n                      setmodaleditkateg(false);\n                    },\n                    style: {\n                      marginRight: `1rem`\n                    },\n                    children: \"Cancel\"\n                  }), /*#__PURE__*/_jsx(_Button, {\n                    htmlType: \"submit\",\n                    loading: loadingbtneditkateg,\n                    type: \"primary\",\n                    children: \"Save\"\n                  })]\n                })]\n              })]\n            })\n          }), /*#__PURE__*/_jsx(_Modal, {\n            title: `Tambah Service Category`,\n            visible: modaltambahkateg,\n            onCancel: () => {\n              setmodaltambahkateg(false);\n            },\n            maskClosable: false,\n            footer: null,\n            style: {\n              top: `3rem`\n            },\n            width: 800,\n            destroyOnClose: true,\n            children: /*#__PURE__*/_jsx(_Form, {\n              layout: \"vertical\",\n              onFinish: handleTambahCategory,\n              initialValues: datatambahkateg,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col mb-5\",\n                children: [/*#__PURE__*/_jsx(_Form.Item, {\n                  label: \"Nama Kategori\",\n                  name: \"nama_kategori\",\n                  rules: [{\n                    required: true,\n                    message: \"Nama Kategori wajib diisi\"\n                  }],\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    onChange: onChangeTambahCategory,\n                    name: \"nama_kategori\",\n                    defaultValue: datatambahkateg.nama_kategori,\n                    allowClear: true\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  label: \"Deskripsi\",\n                  name: \"deskripsi\",\n                  children: /*#__PURE__*/_jsx(_Input.TextArea, {\n                    onChange: onChangeTambahCategory,\n                    name: \"deskripsi\",\n                    defaultValue: datatambahkateg.deskripsi,\n                    allowClear: true\n                  })\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex justify-end\",\n                  children: [/*#__PURE__*/_jsx(_Button, {\n                    type: \"default\",\n                    onClick: () => {\n                      setmodaltambahkateg(false);\n                    },\n                    style: {\n                      marginRight: `1rem`\n                    },\n                    children: \"Cancel\"\n                  }), /*#__PURE__*/_jsx(_Button, {\n                    htmlType: \"submit\",\n                    loading: loadingbtntambahkateg,\n                    type: \"primary\",\n                    children: \"Save\"\n                  })]\n                })]\n              })\n            })\n          }), /*#__PURE__*/_jsx(_Modal, {\n            title: `Konfirmasi hapus kategori`,\n            visible: modalkonfhapuskateg,\n            okButtonProps: {\n              disabled: loadingbtnhapuskateg\n            },\n            onCancel: () => {\n              setmodalkonfhapuskateg(false);\n            },\n            onOk: handleHapusCategory,\n            maskClosable: false,\n            style: {\n              top: `3rem`\n            },\n            width: 500,\n            destroyOnClose: true,\n            children: \"Yakin ingin hapus kategori ini?\"\n          })]\n        })]\n      })]\n    })\n  });\n}\n\nexport async function getServerSideProps({\n  req,\n  res\n}) {\n  var initProps = {};\n\n  if (req && req.headers) {\n    const cookies = req.headers.cookie;\n\n    if (!cookies) {\n      res.writeHead(302, {\n        Location: \"/login\"\n      });\n      res.end();\n    }\n\n    if (typeof cookies === \"string\") {\n      const cookiesJSON = httpcookie.parse(cookies);\n      initProps = cookiesJSON.token;\n    }\n  }\n\n  const resources = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/detailProfile`, {\n    method: `GET`,\n    headers: {\n      Authorization: JSON.parse(initProps)\n    }\n  });\n  const resjson = await resources.json();\n  const dataProfile = resjson; // if (![183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193].every((curr) => dataProfile.data.registered_feature.includes(curr))) {\n  //     res.writeHead(302, { Location: '/dashboard/admin' })\n  //     res.end()\n  // }\n\n  const resourcesGSI = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getServiceItems`, {\n    method: `GET`,\n    headers: {\n      Authorization: JSON.parse(initProps)\n    }\n  });\n  const resjsonGSI = await resourcesGSI.json();\n  const dataListServiceItem = resjsonGSI;\n  const resourcesGSC = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getServiceCategories`, {\n    method: `GET`,\n    headers: {\n      Authorization: JSON.parse(initProps)\n    }\n  });\n  const resjsonGSC = await resourcesGSC.json();\n  const dataListServiceCategories = resjsonGSC;\n  return {\n    props: {\n      initProps,\n      dataProfile,\n      dataListServiceCategories,\n      dataListServiceItem,\n      sidemenu: \"4\"\n    }\n  };\n}\nexport default ServiceCatalog;","map":null,"metadata":{},"sourceType":"module"}