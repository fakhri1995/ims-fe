{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport httpcookie from 'cookie';\nimport jscookie from 'js-cookie';\nimport Layout from '../../components/layout-dashboard';\nimport st from \"../../components/layout-dashboard.module.css\";\n\nfunction DashboardIndex({\n  initProps,\n  dataProfile,\n  sidemenu\n}) {\n  const tok = initProps; // const cook = jscookie.get('token')\n  // console.log(\"cookie di dashboard: \" + cook)\n\n  return /*#__PURE__*/_jsx(Layout, {\n    tok: tok,\n    sidemenu: sidemenu,\n    dataProfile: dataProfile,\n    st: st,\n    children: /*#__PURE__*/_jsx(\"h1\", {\n      children: \"Selamat datang di dashboard\"\n    })\n  });\n}\n\nexport async function getServerSideProps({\n  req,\n  res\n}) {\n  var initProps = {};\n\n  if (req && req.headers) {\n    if (req.headers.cookie) {\n      const cookies = req.headers.cookie;\n      const cookiesJSON1 = httpcookie.parse(cookies);\n\n      if (!cookiesJSON1.token) {\n        return {\n          redirect: {\n            permanent: false,\n            destination: '/login'\n          }\n        };\n      } else {\n        if (typeof cookies === 'string') {\n          const cookiesJSON = httpcookie.parse(cookies);\n          initProps = cookiesJSON.token;\n        }\n\n        const resources = await fetch(`https://boiling-thicket-46501.herokuapp.com/detailProfile`, {\n          method: `GET`,\n          headers: {\n            'Authorization': JSON.parse(initProps)\n          }\n        });\n        const resjson = await resources.json();\n        const dataProfile = resjson;\n        return {\n          props: {\n            initProps,\n            dataProfile,\n            sidemenu: \"1\"\n          }\n        };\n      }\n    } else {\n      return {\n        redirect: {\n          permanent: false,\n          destination: '/login'\n        }\n      };\n    }\n  } else {\n    return {\n      redirect: {\n        permanent: false,\n        destination: '/login'\n      }\n    };\n  }\n}\nexport default DashboardIndex;","map":null,"metadata":{},"sourceType":"module"}