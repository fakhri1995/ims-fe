{"ast":null,"code":"import _Modal from \"antd/lib/modal\";\nimport _TreeSelect from \"antd/lib/tree-select\";\nimport _Radio from \"antd/lib/radio\";\nimport _notification from \"antd/lib/notification\";\nimport _Steps from \"antd/lib/steps\";\nimport _Tabs from \"antd/lib/tabs\";\nimport _Empty from \"antd/lib/empty\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _Checkbox from \"antd/lib/checkbox\";\nimport _Select from \"antd/lib/select\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _Button from \"antd/lib/button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { CalendarOutlined, DeleteOutlined, DownOutlined, EditOutlined, UpOutlined } from \"@ant-design/icons\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport Sticky from \"wil-react-sticky\";\nimport Layout from \"../../../../components/layout-dashboard\";\nimport st from \"../../../../components/layout-dashboard.module.css\";\nimport httpcookie from \"cookie\";\n\nconst Overview = ({\n  assettypeid,\n  initProps,\n  displaydata,\n  parentcode,\n  praloading,\n  idparent\n}) => {\n  const rt = useRouter();\n  const codeparent = displaydata.code.substring(0, displaydata.code.length - 4);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"border-b flex justify-between p-5 mb-8\",\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        className: \"font-bold text-xl my-auto\",\n        children: \"Overview\"\n      }), praloading ? null : /*#__PURE__*/_jsx(_Button, {\n        type: \"primary\",\n        onClick: () => {\n          rt.push(`/admin/assets/update/${assettypeid}?codeparent=${codeparent}&idparent=${idparent}`);\n        },\n        children: \"Ubah\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"mb-8 mx-5 p-5 border shadow-md rounded-md flex flex-col\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-3\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"Induk Asset Type:\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: parentcode ? parentcode.title : \"-\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-3\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"Deskripsi:\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: displaydata ? displaydata.description : \"-\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col mb-3\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \" text-sm font-semibold mb-0\",\n          children: \"Serial Number:\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-0 text-sm\",\n          children: displaydata.required_sn ? \"Wajib Ada\" : \"Tidak Wajib\"\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"flex flex-col\",\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        className: \"font-bold text-large mx-5 p-5\",\n        children: \"Spesifikasi Asset Type\"\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"mb-8 border shadow-md rounded-md flex flex-col mx-5 p-5\",\n        children: displaydata.asset_columns.length > 0 ? displaydata.asset_columns.map((doc, idx) => {\n          return /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-28588772\" + \" \" + \"mb-5\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"jsx-28588772\" + \" \" + \"font-semibold mb-2\",\n              children: [doc.name, \" \", doc.required ? /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-28588772\" + \" \" + \"judulField\"\n              }) : null, \" \", /*#__PURE__*/_jsxs(\"span\", {\n                className: \"jsx-28588772\" + \" \" + \"text-gray-400\",\n                children: [\"(\", doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"single\" && ` Textbox`, doc.data_type === \"paragraph\" && ` Text`, \")\"]\n              })]\n            }), doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\" || doc.data_type === \"date\" || doc.data_type === \"paragraph\" ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [doc.data_type === \"dropdown\" && /*#__PURE__*/_jsx(_Select, {\n                disabled: true,\n                style: {\n                  width: `100%`,\n                  backgroundColor: `rgba(229, 231, 235,1)`,\n                  color: `rgba(229, 231, 235,1)`\n                },\n                children: doc.default.opsi.map((doc2, idx2) => /*#__PURE__*/_jsx(_Select.Option, {\n                  disabled: true,\n                  value: idx2,\n                  children: doc2\n                }))\n              }), doc.data_type === \"checkbox\" && /*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"w-full flex flex-col\",\n                children: doc.default.opsi.map((doc3, idx3) => /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"jsx-28588772\" + \" \" + \"flex mb-1\",\n                  children: [/*#__PURE__*/_jsx(_Checkbox, {\n                    disabled: true,\n                    style: {\n                      marginRight: `0.5rem`\n                    }\n                  }), /*#__PURE__*/_jsx(\"p\", {\n                    className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                    children: doc3\n                  })]\n                }))\n              }), doc.data_type === \"date\" && /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"flex w-full items-center justify-between rounded bg-gray-100 h-10 px-3\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                  children: doc.default\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-28588772\",\n                  children: /*#__PURE__*/_jsx(CalendarOutlined, {})\n                })]\n              }), doc.data_type === \"paragraph\" && /*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"flex h-20 rounded border bg-gray-100 w-full px-3\",\n                children: doc.default\n              })]\n            }) : /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-28588772\" + \" \" + \"rounded border bg-gray-100 flex items-center w-full h-10 px-3\",\n              children: doc.default\n            }), /*#__PURE__*/_jsx(_JSXStyle, {\n              id: \"28588772\",\n              children: [\".judulField.jsx-28588772::before{content:'*';color:red;}\"]\n            })]\n          });\n        }) : /*#__PURE__*/_jsx(_Empty, {\n          image: _Empty.PRESENTED_IMAGE_SIMPLE\n        })\n      })]\n    })]\n  });\n};\n\nconst AssetTypeDetail = ({\n  initProps,\n  sidemenu,\n  dataProfile,\n  assettypeid\n}) => {\n  //1. Init\n  const rt = useRouter();\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  pathArr.splice(3, 1);\n  pathArr[pathArr.length - 1] = \"Detail Asset Type\";\n  const {\n    TabPane\n  } = _Tabs;\n  const {\n    Step\n  } = _Steps;\n  var activeTab = \"overview\";\n  const {\n    active\n  } = rt.query;\n\n  if (active) {\n    activeTab = active;\n  } //flattening array of object\n\n\n  function flattening(array) {\n    var result = [];\n    array.forEach(function (a) {\n      result.push(a);\n\n      if (Array.isArray(a.children)) {\n        result = result.concat(flattening(a.children));\n      }\n    });\n    return result;\n  } //useState\n\n\n  const {\n    0: displaydata,\n    1: setdisplaydata\n  } = useState({\n    id: 0,\n    name: \"\",\n    code: \"\",\n    description: \"\",\n    asset_columns: []\n  });\n  const {\n    0: displayassetdata,\n    1: setdisplayassetdata\n  } = useState([]);\n  const {\n    0: modeldata,\n    1: setmodeldata\n  } = useState([]);\n  const {\n    0: loadingdelete,\n    1: setloadingdelete\n  } = useState(false);\n  const {\n    0: modaldelete,\n    1: setmodaldelete\n  } = useState(false);\n  const {\n    0: modaldeletenonmodel,\n    1: setmodaldeletenonmodel\n  } = useState(false);\n  const {\n    0: modaldeletenonchild,\n    1: setmodaldeletenonchild\n  } = useState(false);\n  const {\n    0: modaldeletenonboth,\n    1: setmodaldeletenonboth\n  } = useState(false);\n  const {\n    0: stepdelete,\n    1: setstepdelete\n  } = useState(0);\n  const {\n    0: allchilddelete,\n    1: setallchilddelete\n  } = useState(true);\n  const {\n    0: allmodeldelete,\n    1: setallmodeldelete\n  } = useState(true);\n  const {\n    0: newparentchildradio,\n    1: setnewparentchildradio\n  } = useState(null);\n  const {\n    0: newparentchild,\n    1: setnewparentchild\n  } = useState(null);\n  const {\n    0: newparentchildcode,\n    1: setnewparentchildcode\n  } = useState(null);\n  const {\n    0: newparentmodelradio,\n    1: setnewparentmodelradio\n  } = useState(null);\n  const {\n    0: newparentmodel,\n    1: setnewparentmodel\n  } = useState(null);\n  const {\n    0: newparentmodelcode,\n    1: setnewparentmodelcode\n  } = useState(null);\n  const {\n    0: childassettype,\n    1: setchildassettype\n  } = useState([]);\n  const {\n    0: parentcode,\n    1: setparentcode\n  } = useState(\"\");\n  const {\n    0: parentid,\n    1: setparentid\n  } = useState(-10);\n  const {\n    0: praloading,\n    1: setpraloading\n  } = useState(true); //handle\n\n  const handleDeleteAsset = () => {\n    setloadingdelete(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/deleteAsset`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: Number(assettypeid),\n        new_parent: newparentchild,\n        new_model_asset_id: newparentmodel\n      })\n    }).then(res => res.json()).then(res2 => {\n      if (res2.success) {\n        setloadingdelete(false);\n        setmodaldelete(false);\n\n        _notification[\"success\"]({\n          message: \"Asset Type berhasil dihapus\",\n          duration: 3\n        });\n\n        setTimeout(() => {\n          rt.push(`/admin/assets`);\n        }, 500);\n      } else if (!res2.success) {\n        setloadingdelete(false);\n        setmodaldelete(false);\n\n        _notification[\"error\"]({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n      }\n    });\n  }; //useEffect\n\n\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getAsset?id=${assettypeid}`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      const assetcolmap = res2.data.asset_columns.map((doc, idx) => {\n        return {\n          id: doc.id,\n          name: doc.name,\n          data_type: doc.data_type,\n          default: doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\" ? JSON.parse(doc.default) : doc.default,\n          required: doc.required\n        };\n      });\n      setdisplaydata(_objectSpread(_objectSpread({}, res2.data), {}, {\n        asset_columns: assetcolmap\n      }));\n      const prt = res2.data.code.substring(0, res2.data.code.length - 4);\n      return prt;\n    }).then(res3 => {\n      fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getAssets`, {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps)\n        }\n      }).then(ress => ress.json()).then(ress2 => {\n        var temp = flattening(ress2.data);\n        var temp3 = temp.filter(doc => doc.value === res3)[0];\n        setparentcode(temp3);\n        temp3 ? setparentid(temp3.id) : setparentid(null);\n        setpraloading(false);\n      });\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getAssets`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      // setdisplayassetdata(res2.data)\n      var child = [];\n\n      const searchChild = dataa => {\n        for (var i = 0; i < dataa.length; i++) {\n          if (dataa[i][\"id\"] === Number(assettypeid)) {\n            if (dataa[i][\"children\"]) {\n              child = dataa[i][\"children\"];\n            }\n          } else {\n            if (dataa[i][\"children\"]) {\n              searchChild(dataa[i][\"children\"]);\n            }\n          }\n        }\n      };\n\n      function searchAsset(doq) {\n        var arr = [];\n\n        for (var i = 0; i < doq.length; i++) {\n          if (doq[i].id === Number(assettypeid)) {\n            continue;\n          } else {\n            if (doq[i].children) {\n              arr.push(_objectSpread(_objectSpread({}, doq[i]), {}, {\n                children: searchAsset(doq[i].children)\n              }));\n            } else {\n              arr.push(_objectSpread({}, doq[i]));\n            }\n          }\n        }\n\n        return arr;\n      }\n\n      var hsl = searchAsset(res2.data);\n      setdisplayassetdata(hsl);\n      searchChild(res2.data);\n      setchildassettype(child);\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getModels`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setmodeldata(res2.data.data);\n    });\n  }, []);\n  useEffect(() => {\n    if (stepdelete === 0) {\n      var el = document.getElementById(\"step1\");\n      el.classList.add(\"flex\", \"flex-col\");\n      el.classList.remove(\"hidden\");\n      var el2 = document.getElementById(\"step2\");\n      el2.classList.remove(\"flex\", \"flex-col\");\n      el2.classList.add(\"hidden\");\n    } else if (stepdelete === 1) {\n      var el = document.getElementById(\"step2\");\n      el.classList.add(\"flex\", \"flex-col\");\n      el.classList.remove(\"hidden\");\n      var el2 = document.getElementById(\"step1\");\n      el2.classList.add(\"hidden\");\n      el2.classList.remove(\"flex\", \"flex-col\");\n    }\n  }, [stepdelete]);\n  return /*#__PURE__*/_jsxs(Layout, {\n    tok: initProps,\n    sidemenu: sidemenu,\n    dataProfile: dataProfile,\n    st: st,\n    pathArr: pathArr,\n    children: [praloading ? /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        id: \"step1\"\n      }), /*#__PURE__*/_jsx(\"div\", {\n        id: \"step2\"\n      })]\n    }) : null, /*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-full h-auto grid grid-cols-1 md:grid-cols-4\",\n      id: \"createAssetsWrapper\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \" col-span-1 md:col-span-4 mb-8\",\n        children: /*#__PURE__*/_jsx(Sticky, {\n          containerSelectorFocus: \"#createAgentsWrapper\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \" col-span-4 flex justify-between p-2 pt-4 border-t-2 border-b-2 bg-white\",\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              className: \"font-bold text-xl py-2\",\n              children: displaydata.name\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex mr-5 items-center\",\n              children: /*#__PURE__*/_jsx(_Button, {\n                disabled: praloading,\n                type: \"danger\",\n                loading: loadingdelete,\n                onClick: () => {\n                  const modeldata2 = modeldata.filter((doc1, idx1) => doc1.asset_id === Number(assettypeid));\n\n                  if (childassettype.length > 0 && modeldata2.length > 0) {\n                    setmodaldelete(true);\n                  } else {\n                    if (modeldata2.length === 0 && childassettype.length > 0) {\n                      setmodaldeletenonmodel(true);\n                    } else if (modeldata2.length > 0 && childassettype.length === 0) {\n                      setmodaldeletenonchild(true);\n                    } else {\n                      setmodaldeletenonboth(true);\n                    }\n                  }\n                },\n                children: \"Hapus\"\n              })\n            })]\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"col-span-1 md:col-span-4 mb-8 pt-5\",\n        children: /*#__PURE__*/_jsx(Overview, {\n          assettypeid: assettypeid,\n          initProps: initProps,\n          displaydata: displaydata,\n          parentcode: parentcode,\n          praloading: praloading,\n          idparent: parentid\n        })\n      })]\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: \"Form Hapus Asset Type\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex\",\n          children: stepdelete === 0 ? /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(_Button, {\n              type: \"default\",\n              onClick: () => {\n                setmodaldelete(false);\n              },\n              style: {\n                marginRight: `1rem`\n              },\n              children: \"Batal\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              disabled: newparentchildradio === null,\n              onClick: () => {\n                setstepdelete(1);\n              },\n              children: \"Selanjutnya\"\n            })]\n          }) : /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(_Button, {\n              type: \"default\",\n              onClick: () => {\n                setstepdelete(0);\n              },\n              style: {\n                marginRight: `1rem`\n              },\n              children: \"Sebelumnya\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              disabled: newparentmodelradio === null,\n              onClick: handleDeleteAsset,\n              loading: loadingdelete,\n              children: \"Simpan\"\n            })]\n          })\n        })]\n      }),\n      visible: modaldelete,\n      footer: null,\n      onCancel: () => {\n        setmodaldelete(false);\n      },\n      width: 850,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col p-5\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"flex justify-center w-7/12 mx-auto mb-8\",\n          children: /*#__PURE__*/_jsxs(_Steps, {\n            current: stepdelete,\n            children: [/*#__PURE__*/_jsx(Step, {\n              title: \"Asset Type Child\"\n            }), /*#__PURE__*/_jsx(Step, {\n              title: \"Model\"\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          id: \"step1\",\n          className: \"jsx-2382607489\" + \" \" + \"rounded border bg-gray-50 p-5 flex flex-col\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"Berikut adalah child dari asset type \\\"\", displaydata.name, \"\\\":\"]\n            }), /*#__PURE__*/_jsx(\"ul\", {\n              className: \"jsx-2382607489\",\n              children: childassettype.length === 0 ? /*#__PURE__*/_jsx(_Fragment, {\n                children: \"-\"\n              }) : childassettype.map((doc, idx) => {\n                return /*#__PURE__*/_jsxs(\"li\", {\n                  className: \"jsx-2382607489\" + \" \" + \"text-xs\",\n                  children: [\"- \", doc.title]\n                });\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"1. Apakah anda ingin menghapus seluruh child dari asset type \\\"\", displaydata.name, \"\\\"? \", /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-2382607489\" + \" \" + \"hapusField1\"\n              })]\n            }), /*#__PURE__*/_jsx(_Radio.Group, {\n              className: \"step1radio\",\n              onChange: e => {\n                if (e.target.value === true) {\n                  setnewparentchildradio(true);\n                } else {\n                  setnewparentchildradio(null);\n                }\n\n                setallchilddelete(e.target.value);\n\n                if (e.target.value === true) {\n                  setnewparentchild(null);\n                }\n              },\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-2382607489\" + \" \" + \"flex flex-col\",\n                children: [/*#__PURE__*/_jsx(_Radio, {\n                  value: true,\n                  children: \"Ya\"\n                }), /*#__PURE__*/_jsx(_Radio, {\n                  value: false,\n                  children: \"Tidak\"\n                })]\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"2. Jika tidak, pilih Asset Type sebagai parent untuk child dari Asset Type \\\"\", displaydata.name, \"\\\"!\", \" \", /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-2382607489\" + \" \" + \"hapusField2\"\n              })]\n            }), /*#__PURE__*/_jsx(_TreeSelect, {\n              value: newparentchildcode,\n              className: \"step1treeselect\",\n              placeholder: \"Pilih Asset Type\",\n              onChange: (value, label, extra) => {\n                setnewparentchild(extra.allCheckedNodes[0].node.props.id);\n                setnewparentchildcode(value);\n                setnewparentchildradio(true);\n              },\n              disabled: allchilddelete,\n              treeData: displayassetdata,\n              style: {\n                width: `70%`\n              }\n            })]\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"2382607489\",\n            children: [\".hapusField1.jsx-2382607489::before,.hapusField2.jsx-2382607489::before{content:'*';color:red;}\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          id: \"step2\",\n          className: \"jsx-2382607489\" + \" \" + \"rounded border bg-gray-50 p-5 hidden\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"Berikut adalah Model yang dimiliki Asset Type \\\"\", displaydata.name, \"\\\":\"]\n            }), /*#__PURE__*/_jsx(\"ul\", {\n              className: \"jsx-2382607489\",\n              children: modeldata.length === 0 || modeldata.map(doc => doc.asset_id).indexOf(Number(assettypeid)) === -1 ? \"-\" : modeldata.map((doc, idx) => {\n                if (doc.asset_id === Number(assettypeid)) {\n                  return /*#__PURE__*/_jsxs(\"li\", {\n                    className: \"jsx-2382607489\" + \" \" + \"text-xs\",\n                    children: [\"- \", doc.name]\n                  });\n                }\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"1. Apakah anda ingin menghapus seluruh model yang dimiliki Asset Type \\\"\", displaydata.name, \"\\\"? \", /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-2382607489\" + \" \" + \"hapusField1\"\n              })]\n            }), /*#__PURE__*/_jsx(_Radio.Group, {\n              className: \"step2radio\",\n              onChange: e => {\n                if (e.target.value === true) {\n                  setnewparentmodelradio(true);\n                } else {\n                  setnewparentmodelradio(null);\n                }\n\n                setallmodeldelete(e.target.value);\n\n                if (e.target.value === true) {\n                  setnewparentmodelcode(null);\n                }\n              },\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-2382607489\" + \" \" + \"flex flex-col\",\n                children: [/*#__PURE__*/_jsx(_Radio, {\n                  value: true,\n                  children: \"Ya\"\n                }), /*#__PURE__*/_jsx(_Radio, {\n                  value: false,\n                  children: \"Tidak\"\n                })]\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"2. Jika tidak, pilih Asset Type untuk memindahkan seluruh model yang dimiliki oleh Asset Type \\\"\", displaydata.name, \"\\\"!\", \" \", /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-2382607489\" + \" \" + \"hapusField2\"\n              })]\n            }), /*#__PURE__*/_jsx(_TreeSelect, {\n              value: newparentmodelcode,\n              className: \"step2treeselect\",\n              placeholder: \"Pilih Asset Type\",\n              onChange: (value, label, extra) => {\n                setnewparentmodel(extra.allCheckedNodes[0].node.props.id);\n                setnewparentmodelcode(value);\n                setnewparentmodelradio(true);\n              },\n              disabled: allmodeldelete,\n              treeData: displayassetdata,\n              style: {\n                width: `70%`\n              }\n            })]\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"2382607489\",\n            children: [\".hapusField1.jsx-2382607489::before,.hapusField2.jsx-2382607489::before{content:'*';color:red;}\"]\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: \"Form Hapus Asset Type\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex\",\n          children: /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(_Button, {\n              type: \"default\",\n              onClick: () => {\n                setmodaldeletenonmodel(false);\n              },\n              style: {\n                marginRight: `1rem`\n              },\n              children: \"Batal\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              disabled: newparentchildradio === null,\n              onClick: handleDeleteAsset,\n              loading: loadingdelete,\n              children: \"Simpan\"\n            })]\n          })\n        })]\n      }),\n      visible: modaldeletenonmodel,\n      footer: null,\n      onCancel: () => {\n        setmodaldeletenonmodel(false);\n      },\n      width: 850,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"flex flex-col p-5\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          id: \"step1\",\n          className: \"jsx-2382607489\" + \" \" + \"rounded border bg-gray-50 p-5 flex flex-col\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"Berikut adalah child dari asset type \\\"\", displaydata.name, \"\\\":\"]\n            }), /*#__PURE__*/_jsx(\"ul\", {\n              className: \"jsx-2382607489\",\n              children: childassettype.length === 0 ? /*#__PURE__*/_jsx(_Fragment, {\n                children: \"-\"\n              }) : childassettype.map((doc, idx) => {\n                return /*#__PURE__*/_jsxs(\"li\", {\n                  className: \"jsx-2382607489\" + \" \" + \"text-xs\",\n                  children: [\"- \", doc.title]\n                });\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"1. Apakah anda ingin menghapus seluruh child dari asset type \\\"\", displaydata.name, \"\\\"? \", /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-2382607489\" + \" \" + \"hapusField1\"\n              })]\n            }), /*#__PURE__*/_jsx(_Radio.Group, {\n              className: \"step1radio\",\n              onChange: e => {\n                if (e.target.value === true) {\n                  setnewparentchildradio(true);\n                } else {\n                  setnewparentchildradio(null);\n                }\n\n                setallchilddelete(e.target.value);\n\n                if (e.target.value === true) {\n                  setnewparentchild(null);\n                }\n              },\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-2382607489\" + \" \" + \"flex flex-col\",\n                children: [/*#__PURE__*/_jsx(_Radio, {\n                  value: true,\n                  children: \"Ya\"\n                }), /*#__PURE__*/_jsx(_Radio, {\n                  value: false,\n                  children: \"Tidak\"\n                })]\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"2. Jika tidak, pilih Asset Type sebagai parent untuk child dari Asset Type \\\"\", displaydata.name, \"\\\"!\", \" \", /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-2382607489\" + \" \" + \"hapusField2\"\n              })]\n            }), /*#__PURE__*/_jsx(_TreeSelect, {\n              value: newparentchildcode,\n              className: \"step1treeselect\",\n              placeholder: \"Pilih Asset Type\",\n              onChange: (value, label, extra) => {\n                setnewparentchild(extra.allCheckedNodes[0].node.props.id);\n                setnewparentchildcode(value);\n                setnewparentchildradio(true);\n              },\n              disabled: allchilddelete,\n              treeData: displayassetdata,\n              style: {\n                width: `70%`\n              }\n            })]\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"2382607489\",\n            children: [\".hapusField1.jsx-2382607489::before,.hapusField2.jsx-2382607489::before{content:'*';color:red;}\"]\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: \"Form Hapus Asset Type\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex\",\n          children: /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(_Button, {\n              type: \"default\",\n              onClick: () => {\n                setmodaldeletenonchild;\n              },\n              style: {\n                marginRight: `1rem`\n              },\n              children: \"Batal\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              disabled: newparentmodelradio === null,\n              onClick: handleDeleteAsset,\n              loading: loadingdelete,\n              children: \"Simpan\"\n            })]\n          })\n        })]\n      }),\n      visible: modaldeletenonchild,\n      footer: null,\n      onCancel: () => {\n        setmodaldeletenonchild(false);\n      },\n      width: 850,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"flex flex-col p-5\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          id: \"step2\",\n          className: \"jsx-2382607489\" + \" \" + \"rounded border bg-gray-50 p-5\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"Berikut adalah Model yang dimiliki Asset Type \\\"\", displaydata.name, \"\\\":\"]\n            }), /*#__PURE__*/_jsx(\"ul\", {\n              className: \"jsx-2382607489\",\n              children: modeldata.length === 0 || modeldata.map(doc => doc.asset_id).indexOf(Number(assettypeid)) === -1 ? \"-\" : modeldata.map((doc, idx) => {\n                if (doc.asset_id === Number(assettypeid)) {\n                  return /*#__PURE__*/_jsxs(\"li\", {\n                    className: \"jsx-2382607489\" + \" \" + \"text-xs\",\n                    children: [\"- \", doc.name]\n                  });\n                }\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"1. Apakah anda ingin menghapus seluruh model yang dimiliki Asset Type \\\"\", displaydata.name, \"\\\"? \", /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-2382607489\" + \" \" + \"hapusField1\"\n              })]\n            }), /*#__PURE__*/_jsx(_Radio.Group, {\n              className: \"step2radio\",\n              onChange: e => {\n                if (e.target.value === true) {\n                  setnewparentmodelradio(true);\n                } else {\n                  setnewparentmodelradio(null);\n                }\n\n                setallmodeldelete(e.target.value);\n\n                if (e.target.value === true) {\n                  setnewparentmodelcode(null);\n                }\n              },\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-2382607489\" + \" \" + \"flex flex-col\",\n                children: [/*#__PURE__*/_jsx(_Radio, {\n                  value: true,\n                  children: \"Ya\"\n                }), /*#__PURE__*/_jsx(_Radio, {\n                  value: false,\n                  children: \"Tidak\"\n                })]\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2382607489\" + \" \" + \"mb-2\",\n            children: [/*#__PURE__*/_jsxs(\"h5\", {\n              className: \"jsx-2382607489\" + \" \" + \" text-xs font-semibold\",\n              children: [\"2. Jika tidak, pilih Asset Type untuk memindahkan seluruh model yang dimiliki oleh Asset Type \\\"\", displaydata.name, \"\\\"!\", \" \", /*#__PURE__*/_jsx(\"span\", {\n                className: \"jsx-2382607489\" + \" \" + \"hapusField2\"\n              })]\n            }), /*#__PURE__*/_jsx(_TreeSelect, {\n              value: newparentmodelcode,\n              className: \"step2treeselect\",\n              placeholder: \"Pilih Asset Type\",\n              onChange: (value, label, extra) => {\n                setnewparentmodel(extra.allCheckedNodes[0].node.props.id);\n                setnewparentmodelcode(value);\n                setnewparentmodelradio(true);\n              },\n              disabled: allmodeldelete,\n              treeData: displayassetdata,\n              style: {\n                width: `70%`\n              }\n            })]\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"2382607489\",\n            children: [\".hapusField1.jsx-2382607489::before,.hapusField2.jsx-2382607489::before{content:'*';color:red;}\"]\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsxs(_Modal, {\n      title: /*#__PURE__*/_jsx(\"h1\", {\n        className: \"font-semibold\",\n        children: \"Konfirmasi Hapus Asset Type\"\n      }),\n      visible: modaldeletenonboth,\n      onCancel: () => {\n        setmodaldeletenonboth(false);\n      },\n      okText: \"Ya\",\n      cancelText: \"Tidak\",\n      onOk: handleDeleteAsset,\n      okButtonProps: {\n        loading: loadingdelete\n      },\n      children: [\"Apakah anda yakin ingin menghapus Asset Type\", \" \", /*#__PURE__*/_jsxs(\"strong\", {\n        children: [\"\\\"\", displaydata.name, \"\\\"\"]\n      }), \" ?\"]\n    })]\n  });\n};\n\nexport async function getServerSideProps({\n  req,\n  res,\n  params\n}) {\n  var initProps = {};\n  const assettypeid = params.assettypeId;\n\n  if (!req.headers.cookie) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\"\n      }\n    };\n  }\n\n  const cookiesJSON1 = httpcookie.parse(req.headers.cookie);\n\n  if (!cookiesJSON1.token) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\"\n      }\n    };\n  }\n\n  initProps = cookiesJSON1.token;\n  const resources = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/detailProfile`, {\n    method: `GET`,\n    headers: {\n      Authorization: JSON.parse(initProps)\n    }\n  });\n  const resjson = await resources.json();\n  const dataProfile = resjson;\n  return {\n    props: {\n      initProps,\n      dataProfile,\n      sidemenu: \"81\",\n      assettypeid\n    }\n  };\n}\nexport default AssetTypeDetail;","map":null,"metadata":{},"sourceType":"module"}