{"ast":null,"code":"import _Drawer from \"antd/lib/drawer\";\nimport _InputNumber from \"antd/lib/input-number\";\nimport _Input from \"antd/lib/input\";\nimport _Modal from \"antd/lib/modal\";\nimport _Table from \"antd/lib/table\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _Tooltip from \"antd/lib/tooltip\";\nimport _Button from \"antd/lib/button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _notification from \"antd/lib/notification\";\nimport _Form from \"antd/lib/form\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport DeleteOutlined from \"@ant-design/icons/DeleteOutlined\";\nimport EditOutlined from \"@ant-design/icons/EditOutlined\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport Sticky from \"wil-react-sticky\";\nimport Layout from \"../../../components/layout-dashboard\";\nimport st from \"../../../components/layout-dashboard.module.css\";\nimport httpcookie from \"cookie\";\n\nfunction Vendor({\n  initProps,\n  dataProfile,\n  sidemenu,\n  dataVendors\n}) {\n  const rt = useRouter();\n  const tok = initProps;\n  const pathArr = rt.pathname.split(\"/\").slice(1);\n  const {\n    originPath\n  } = rt.query;\n  const {\n    0: drawablecreate,\n    1: setDrawablecreate\n  } = useState(false);\n  const {\n    0: drawableedit,\n    1: setDrawableedit\n  } = useState(false);\n\n  const [createVendorForm] = _Form.useForm();\n\n  const [editVendorForm] = _Form.useForm();\n\n  const {\n    0: loadingbtn,\n    1: setLoadingbtn\n  } = useState(false); // console.log(dataVendor)\n  //----------CreateVendor-------------\n\n  const {\n    0: newvendor,\n    1: setNewvendor\n  } = useState({\n    name: \"\",\n    singkatan_nama: \"\",\n    npwp: \"\",\n    pic: \"\",\n    jabatan_pic: \"\",\n    alamat: \"\",\n    provinsi: \"\",\n    kab_kota: \"\",\n    kode_pos: \"\",\n    telepon: \"\",\n    fax: \"\",\n    email: \"\",\n    website: \"\"\n  });\n\n  const closeDrawer = () => {\n    setNewvendor({\n      name: \"\",\n      singkatan_nama: \"\",\n      npwp: \"\",\n      pic: \"\",\n      jabatan_pic: \"\",\n      alamat: \"\",\n      provinsi: \"\",\n      kab_kota: \"\",\n      kode_pos: \"\",\n      telepon: \"\",\n      fax: \"\",\n      email: \"\",\n      website: \"\"\n    });\n  };\n\n  const onChangeCreateVendor = e => {\n    var val = e.target.value;\n    setNewvendor(_objectSpread(_objectSpread({}, newvendor), {}, {\n      [e.target.name]: val\n    }));\n  };\n\n  const handleCreateVendor = () => {\n    setLoadingbtn(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/addVendor`, {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(tok),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newvendor)\n    }).then(res => res.json()).then(res2 => {\n      setLoadingbtn(false);\n\n      if (res2.success) {\n        createVendorForm.resetFields();\n        closeDrawer();\n\n        _notification[\"success\"]({\n          message: res2.message,\n          duration: 3\n        });\n\n        setTimeout(() => {\n          setDrawablecreate(false);\n          rt.push(`/admin/vendors`);\n        }, 100);\n      } else if (!res2.success) {\n        _notification[\"error\"]({\n          // message: res2.message.errorInfo[3],\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //---------------------------------------------------------\n  //------------------handle delete vendor-------------------\n\n\n  const {\n    0: warningDelete,\n    1: setWarningDelete\n  } = useState({\n    istrue: false,\n    key: null,\n    name: \"\"\n  });\n\n  const onClickModalDeleteVendor = (istrue, record) => {\n    setWarningDelete(_objectSpread(_objectSpread({}, warningDelete), {}, {\n      [\"istrue\"]: istrue,\n      [\"key\"]: record.key,\n      [\"name\"]: record.name\n    }));\n  };\n\n  const handleDeleteVendor = key => {\n    setLoadingbtn(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/deleteVendor?id=${key}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: JSON.parse(tok)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setLoadingbtn(false);\n\n      if (res2.success) {\n        setWarningDelete(false, null);\n\n        _notification[\"success\"]({\n          message: res2.message,\n          duration: 3\n        });\n\n        setTimeout(() => {\n          rt.push(`/admin/vendors`);\n        }, 100);\n      } else if (!res2.success) {\n        setWarningDelete(false, null);\n\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //----------------------------------------------\n\n\n  const {\n    0: editvendor,\n    1: setEditvendor\n  } = useState({\n    id: \"\",\n    name: \"\",\n    singkatan_nama: \"\",\n    npwp: \"\",\n    pic: \"\",\n    jabatan_pic: \"\",\n    alamat: \"\",\n    provinsi: \"\",\n    kab_kota: \"\",\n    kode_pos: \"\",\n    telepon: \"\",\n    fax: \"\",\n    email: \"\",\n    website: \"\"\n  });\n\n  const closeDrawerEdit = () => {\n    setEditvendor({\n      id: \"\",\n      name: \"\",\n      singkatan_nama: \"\",\n      npwp: \"\",\n      pic: \"\",\n      jabatan_pic: \"\",\n      alamat: \"\",\n      provinsi: \"\",\n      kab_kota: \"\",\n      kode_pos: \"\",\n      telepon: \"\",\n      fax: \"\",\n      email: \"\",\n      website: \"\"\n    });\n  };\n\n  const onChangeEditVendor = e => {\n    var val = e.target.value;\n    setEditvendor(_objectSpread(_objectSpread({}, editvendor), {}, {\n      [e.target.name]: val\n    }));\n  };\n\n  const handleEditVendor = () => {\n    // console.log(\"isidata2: \" + editvendor)\n    setLoadingbtn(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/updateVendor`, {\n      method: \"PUT\",\n      headers: {\n        Authorization: JSON.parse(tok),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(editvendor)\n    }).then(res => res.json()).then(res2 => {\n      setLoadingbtn(false);\n\n      if (res2.success) {\n        _notification[\"success\"]({\n          message: res2.message,\n          duration: 3\n        });\n\n        editVendorForm.resetFields();\n        closeDrawer();\n        setTimeout(() => {\n          setDrawableedit(false);\n          rt.push(`/admin/vendors`);\n        }, 100);\n      } else {\n        _notification[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  var vendors;\n\n  if (dataVendors.data == null) {\n    vendors = [];\n  } else {\n    vendors = dataVendors.data.map((doc, idx) => {\n      return {\n        idx: idx,\n        key: doc.id,\n        id: doc.id,\n        name: doc.name,\n        singkatan_nama: doc.singkatan_nama,\n        npwp: doc.npwp,\n        pic: doc.pic,\n        jabatan_pic: doc.jabatan_pic,\n        alamat: doc.alamat,\n        provinsi: doc.provinsi,\n        kab_kota: doc.kab_kota,\n        kode_pos: doc.kode_pos,\n        telepon: doc.telepon,\n        fax: doc.fax,\n        email: doc.email,\n        website: doc.website\n      };\n    });\n  }\n\n  var actionsArr = [];\n\n  for (var i = 0; i < vendors.length; i++) {\n    actionsArr.push(true);\n  }\n\n  const {\n    0: actions,\n    1: setActions\n  } = useState(actionsArr);\n  const {\n    0: action,\n    1: setAction\n  } = useState(true);\n  const columnsDD = [{\n    title: \"Name\",\n    dataIndex: \"name\",\n    key: \"name\",\n    width: 250,\n\n    render(text, record) {\n      return {\n        props: {\n          style: {\n            background: record.idx % 2 == 1 ? \"#f2f2f2\" : \"#fff\"\n          }\n        },\n        children:\n        /*#__PURE__*/\n        // <Link href={{\n        //     pathname: `/vendors/update/${record.key}`,\n        //     query: {\n        //         originPath: 'Admin'\n        //     }\n        // }}>\n        _jsx(\"a\", {\n          children: text\n        }) // </Link>\n\n      };\n    }\n\n  }, {\n    title: \"PIC\",\n    dataIndex: \"pic\",\n    key: \"pic\",\n    width: 200,\n\n    render(text, record) {\n      return {\n        props: {\n          style: {\n            background: record.idx % 2 == 1 ? \"#f2f2f2\" : \"#fff\"\n          }\n        },\n        children: /*#__PURE__*/_jsx(\"div\", {\n          children: text\n        })\n      };\n    }\n\n  }, {\n    title: \"Phone\",\n    dataIndex: \"telepon\",\n    key: \"telepon\",\n    width: 150,\n\n    render(text, record) {\n      return {\n        props: {\n          style: {\n            background: record.idx % 2 == 1 ? \"#f2f2f2\" : \"#fff\"\n          }\n        },\n        children: /*#__PURE__*/_jsx(\"div\", {\n          children: text\n        })\n      };\n    }\n\n  }, {\n    title: \"Address\",\n    dataIndex: \"alamat\",\n    key: \"alamat\",\n    width: 150,\n\n    render(text, record) {\n      return {\n        props: {\n          style: {\n            background: record.idx % 2 == 1 ? \"#f2f2f2\" : \"#fff\"\n          }\n        },\n        children: /*#__PURE__*/_jsx(\"div\", {\n          children: text\n        })\n      };\n    }\n\n  }, {\n    title: \"\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\",\n    // Non-breakable space is char 0xa0 (160 dec)\n    dataIndex: \"actions\",\n    width: 80,\n    render: (text, record, index) => {\n      return {\n        props: {\n          style: {\n            background: record.idx % 2 == 1 ? \"#f2f2f2\" : \"#fff\"\n          }\n        },\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(_Tooltip, {\n            placement: \"topLeft\",\n            title: \"Edit\",\n            children: /*#__PURE__*/_jsx(_Button, {\n              size: \"medium\",\n              shape: \"square\",\n              onClick: () => {\n                editVendorForm.resetFields();\n                setDrawableedit(true);\n                setEditvendor(record);\n              },\n              children: /*#__PURE__*/_jsx(EditOutlined, {})\n            })\n          })\n        })\n      };\n    }\n  }, {\n    title: \"\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\",\n    // Non-breakable space is char 0xa0 (160 dec)\n    dataIndex: \"actions\",\n    width: 100,\n    render: (text, record, index) => {\n      return {\n        props: {\n          style: {\n            background: record.idx % 2 == 1 ? \"#f2f2f2\" : \"#fff\"\n          }\n        },\n        children: /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(_Tooltip, {\n            placement: \"topLeft\",\n            title: \"Delete\",\n            children: /*#__PURE__*/_jsx(_Button, {\n              size: \"medium\",\n              shape: \"square\",\n              onClick: () => {\n                onClickModalDeleteVendor(true, record);\n              },\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsx(DeleteOutlined, {})\n              })\n            })\n          })\n        })\n      };\n    }\n  }];\n  const {\n    0: widthDrawer,\n    1: setWidthDrawer\n  } = useState(600);\n  useEffect(() => {\n    var w = window.innerWidth;\n\n    if (w < 414) {\n      setWidthDrawer(300);\n    } else if (w < 640) {\n      setWidthDrawer(400);\n    } // console.log(w)\n\n  }, []);\n  return /*#__PURE__*/_jsx(Layout, {\n    tok: tok,\n    dataProfile: dataProfile,\n    pathArr: pathArr,\n    sidemenu: sidemenu,\n    originPath: originPath,\n    st: st,\n    children: /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"w-full h-auto grid grid-cols-1 md:grid-cols-4\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \" col-span-1 md:col-span-4 flex flex-col\",\n          id: \"formAgentsWrapper\",\n          children: [/*#__PURE__*/_jsx(Sticky, {\n            containerSelectorFocus: \"#formAgentsWrapper\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex justify-between p-4 border-gray-400 border-t border-b bg-white mb-8\",\n              children: [/*#__PURE__*/_jsx(\"h1\", {\n                className: \"font-semibold text-base w-auto pt-2\",\n                children: \"Vendors\"\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"flex space-x-2\",\n                children: /*#__PURE__*/_jsx(_Button, {\n                  onClick: () => {\n                    setDrawablecreate(true);\n                  },\n                  type: \"primary\",\n                  size: \"large\",\n                  children: \"Add New\"\n                })\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-span-3 flex flex-col space-y-3\",\n            children: /*#__PURE__*/_jsx(_Table, {\n              className: `${st.customTable}`,\n              size: \"large\",\n              scroll: {\n                x: 400\n              },\n              dataSource: vendors,\n              columns: columnsDD // onRow={(record, rowIndex) => {\n              //     return {\n              //         onMouseOver: (event) => {\n              //             var actionsCopy = actions\n              //             actionsCopy[rowIndex] = true\n              //             setActions(actionsCopy)\n              //             setAction(\"block\")\n              //         },\n              //         onMouseLeave: (event) => {\n              //             var actionsCopy = actions\n              //             actionsCopy[rowIndex] = false\n              //             setActions(actionsCopy)\n              //             setAction(\"hidden\")\n              //         }\n              //     }\n              // }}\n\n            })\n          }), /*#__PURE__*/_jsxs(_Modal, {\n            title: \"Konfirmasi untuk menghapus vendor\",\n            visible: warningDelete.istrue,\n            onOk: () => {\n              handleDeleteVendor(warningDelete.key);\n            },\n            onCancel: () => setWarningDelete(false, null),\n            okButtonProps: {\n              disabled: loadingbtn\n            },\n            children: [\"Apakah anda yakin ingin menghapus vendor\", \" \", /*#__PURE__*/_jsx(\"strong\", {\n              children: warningDelete.name\n            }), \"?\"]\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex flex-col space-y-3 px-4\"\n        })]\n      }), /*#__PURE__*/_jsx(_Drawer, {\n        title: \"New Vendor\",\n        maskClosable: false,\n        visible: drawablecreate,\n        onClose: () => {\n          setDrawablecreate(false), closeDrawer(), createVendorForm.resetFields();\n        },\n        destroyOnClose: true,\n        width: widthDrawer,\n        footer: /*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            textAlign: \"right\"\n          },\n          children: [/*#__PURE__*/_jsx(\"button\", {\n            onClick: () => {\n              setDrawablecreate(false), closeDrawer(), createVendorForm.resetFields();\n            },\n            className: \"bg-white-700 hover:bg-gray-300 border text-black py-1 px-2 rounded-md w-20 mr-4\",\n            children: \"Cancel\"\n          }), /*#__PURE__*/_jsx(_Button, {\n            loading: loadingbtn,\n            type: \"primary\",\n            onClick: createVendorForm.submit,\n            className: \" bg-blue-500 hover:bg-blue-700 border text-white py-1 px-2 rounded-md\",\n            children: \"Submit\"\n          })]\n        }),\n        children: /*#__PURE__*/_jsxs(_Form, {\n          form: createVendorForm,\n          layout: \"vertical\",\n          onFinish: handleCreateVendor,\n          style: {\n            display: \"contents\"\n          },\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"name\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Nama Vendor\",\n              rules: [{\n                required: true,\n                message: \"Nama vendor harus diisi\"\n              }],\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Nama Vendor\",\n                name: `name`,\n                onChange: onChangeCreateVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"singkatan_nama\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Singkatan Nama\",\n              rules: [{\n                required: false // message: 'Nama vendor harus diisi',\n\n              }],\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Singkatan Nama Perusahaan\",\n                name: `singkatan_nama`,\n                onChange: onChangeCreateVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"npwp\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"NPWP\",\n              rules: [{\n                required: false // message: 'Nama vendor harus diisi',\n\n              }],\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"NPWP\",\n                name: `npwp`,\n                onChange: onChangeCreateVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"pic\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Penanggung Jawab\",\n              rules: [{\n                required: true,\n                message: \"Nama penanggung jawab harus diisi\"\n              }],\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Penanggung Jawab\",\n                name: `pic`,\n                onChange: onChangeCreateVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"jabatan_pic\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Jabatan Penanggung Jawab\",\n              rules: [{\n                required: true,\n                message: \"Jabatan penanggung jawab harus diisi\"\n              }],\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Jabatan Penanggung Jawab\",\n                name: `jabatan_pic`,\n                onChange: onChangeCreateVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"alamat\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Alamat\",\n              rules: [{\n                required: true,\n                message: \"Alamat harus diisi\"\n              }],\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Alamat\",\n                name: `alamat`,\n                onChange: onChangeCreateVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"provinsi\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Provinsi\",\n              rules: [{\n                required: false // message: 'Alamat penanggung jawab harus diisi',\n\n              }],\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Provinsi\",\n                name: `provinsi`,\n                onChange: onChangeCreateVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"kab_kota\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Kab/Kota\",\n              rules: [{\n                required: false // message: 'Alamat penanggung jawab harus diisi',\n\n              }],\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Kab/Kota\",\n                name: `kab_kota`,\n                onChange: onChangeCreateVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"kode_pos\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Kode Pos\",\n              rules: [{\n                required: false // message: 'Alamat penanggung jawab harus diisi',\n\n              }, {\n                type: `number`,\n                message: \"Kode Pos harus berupa angka\"\n              }],\n              children: /*#__PURE__*/_jsx(_InputNumber, {\n                placeholder: \"Kode Pos\",\n                name: `kode_pos`,\n                style: {\n                  width: `100%`\n                },\n                onChange: val => {\n                  setNewvendor(_objectSpread(_objectSpread({}, newvendor), {}, {\n                    kode_pos: `${val}`\n                  }));\n                }\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"telepon\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Telepon\",\n              rules: [{\n                required: true,\n                message: \"No Telepon harus diisi\"\n              }, {\n                type: `number`,\n                message: \"Nomor Telepon harus berupa angka\"\n              }],\n              children: /*#__PURE__*/_jsx(_InputNumber, {\n                placeholder: \"Telepon\",\n                name: `telepon`,\n                style: {\n                  width: `100%`\n                },\n                onChange: val => {\n                  setNewvendor(_objectSpread(_objectSpread({}, newvendor), {}, {\n                    telepon: `0${val}`\n                  }));\n                }\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"fax\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Fax\",\n              rules: [{\n                required: false // message: 'No Fax harus diisi',\n\n              }, {\n                type: `number`,\n                message: \"Fax harus berupa angka\"\n              }],\n              children: /*#__PURE__*/_jsx(_InputNumber, {\n                placeholder: \"Fax\",\n                name: `fax`,\n                style: {\n                  width: `100%`\n                },\n                onChange: val => {\n                  setNewvendor(_objectSpread(_objectSpread({}, newvendor), {}, {\n                    fax: `0${val}`\n                  }));\n                }\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"email\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Email\",\n              rules: [{\n                required: false // message: 'No Email harus diisi',\n\n              }],\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Email\",\n                name: `email`,\n                onChange: onChangeCreateVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"website\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Website\",\n              rules: [{\n                required: false // message: 'No Email harus diisi',\n\n              }],\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Website\",\n                name: `website`,\n                onChange: onChangeCreateVendor\n              })\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(_Drawer, {\n        title: \"Edit Vendor\",\n        maskClosable: true,\n        visible: drawableedit,\n        onClose: () => {\n          setDrawableedit(false), closeDrawerEdit(), editVendorForm.resetFields();\n        },\n        destroyOnClose: true,\n        width: widthDrawer,\n        footer: /*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            textAlign: \"right\"\n          },\n          children: [/*#__PURE__*/_jsx(\"button\", {\n            onClick: () => {\n              setDrawableedit(false), editVendorForm.resetFields();\n            },\n            className: \"bg-white-700 hover:bg-gray-300 border text-black py-1 px-2 rounded-md w-20 mr-4\",\n            children: \"Cancel\"\n          }), /*#__PURE__*/_jsx(_Button, {\n            loading: loadingbtn,\n            type: \"primary\",\n            onClick: editVendorForm.submit,\n            className: \"bg-blue-500 hover:bg-blue-700 border text-white py-1 px-2 rounded-md\",\n            children: \"Submit\"\n          })]\n        }),\n        children: /*#__PURE__*/_jsxs(_Form, {\n          form: editVendorForm,\n          layout: \"vertical\",\n          onFinish: handleEditVendor,\n          style: {\n            display: \"contents\"\n          },\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"name\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Nama Vendor\",\n              rules: [{\n                required: true,\n                message: \"Nama vendor harus diisi\"\n              }],\n              initialValue: editvendor.name,\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Nama Vendor\",\n                name: `name`,\n                onChange: onChangeEditVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"singkatan_nama\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Singkatan Nama\",\n              rules: [{\n                required: false // message: 'Nama vendor harus diisi',\n\n              }],\n              initialValue: editvendor.singkatan_nama,\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Singkatan Nama Perusahaan\",\n                name: `singkatan_nama`,\n                onChange: onChangeEditVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"npwp\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"NPWP\",\n              rules: [{\n                required: false // message: 'Nama vendor harus diisi',\n\n              }],\n              initialValue: editvendor.npwp,\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"NPWP\",\n                name: `npwp`,\n                onChange: onChangeEditVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"pic\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Penanggung Jawab\",\n              rules: [{\n                required: true,\n                message: \"Nama penanggung jawab harus diisi\"\n              }],\n              initialValue: editvendor.pic,\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Penanggung Jawab\",\n                name: `pic`,\n                onChange: onChangeEditVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"jabatan_pic\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Jabatan Penanggung Jawab\",\n              rules: [{\n                required: true,\n                message: \"Jabatan penanggung jawab harus diisi\"\n              }],\n              initialValue: editvendor.jabatan_pic,\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Jabatan Penanggung Jawab\",\n                name: `jabatan_pic`,\n                onChange: onChangeEditVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"alamat\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Alamat\",\n              rules: [{\n                required: true,\n                message: \"Alamat harus diisi\"\n              }],\n              initialValue: editvendor.alamat,\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Alamat\",\n                name: `alamat`,\n                onChange: onChangeEditVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"provinsi\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Provinsi\",\n              rules: [{\n                required: false // message: 'Alamat penanggung jawab harus diisi',\n\n              }],\n              initialValue: editvendor.provinsi,\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Provinsi\",\n                name: `provinsi`,\n                onChange: onChangeEditVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"kab_kota\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Kab/Kota\",\n              rules: [{\n                required: false // message: 'Alamat penanggung jawab harus diisi',\n\n              }],\n              initialValue: editvendor.kab_kota,\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Kab/Kota\",\n                name: `kab_kota`,\n                onChange: onChangeEditVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"kode_pos\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Kode Pos\",\n              rules: [{\n                required: false // message: 'Alamat penanggung jawab harus diisi',\n\n              }, {\n                type: `number`,\n                message: \"Kode Pos harus berupa angka\"\n              }],\n              initialValue: editvendor.kode_pos,\n              children: /*#__PURE__*/_jsx(_InputNumber, {\n                placeholder: \"Kode Pos\",\n                name: `kode_pos`,\n                style: {\n                  width: `100%`\n                },\n                onChange: val => {\n                  setEditvendor(_objectSpread(_objectSpread({}, editvendor), {}, {\n                    kode_pos: `${val}`\n                  }));\n                }\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"telepon\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Telepon\",\n              rules: [{\n                required: true,\n                message: \"No Telepon harus diisi\"\n              }, {\n                type: `number`,\n                message: \"Telepon harus berupa angka\"\n              }],\n              initialValue: editvendor.telepon,\n              children: /*#__PURE__*/_jsx(_InputNumber, {\n                placeholder: \"Telepon\",\n                name: `telepon`,\n                style: {\n                  width: `100%`\n                },\n                onChange: val => {\n                  setEditvendor(_objectSpread(_objectSpread({}, editvendor), {}, {\n                    telepon: `0${val}`\n                  }));\n                }\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"fax\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Fax\",\n              rules: [{\n                required: false // message: 'No Fax harus diisi',\n\n              }, {\n                type: `number`,\n                message: \"Fax harus berupa angka\"\n              }],\n              initialValue: editvendor.fax,\n              children: /*#__PURE__*/_jsx(_InputNumber, {\n                placeholder: \"Fax\",\n                name: `fax`,\n                style: {\n                  width: `100%`\n                },\n                onChange: val => {\n                  setEditvendor(_objectSpread(_objectSpread({}, editvendor), {}, {\n                    fax: `0${val}`\n                  }));\n                }\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"email\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Email\",\n              rules: [{\n                required: false // message: 'No Email harus diisi',\n\n              }],\n              initialValue: editvendor.email,\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Email\",\n                name: `email`,\n                onChange: onChangeEditVendor\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pb-0 md:mb-0 \",\n            children: /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"website\",\n              style: {\n                marginRight: `1rem`\n              },\n              label: \"Website\",\n              rules: [{\n                required: false // message: 'No Email harus diisi',\n\n              }],\n              initialValue: editvendor.website,\n              children: /*#__PURE__*/_jsx(_Input, {\n                placeholder: \"Website\",\n                name: `website`,\n                onChange: onChangeEditVendor\n              })\n            })\n          })]\n        })\n      })]\n    })\n  });\n}\n\nexport async function getServerSideProps({\n  req,\n  res\n}) {\n  var initProps = {};\n\n  if (!req.headers.cookie) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\"\n      }\n    };\n  }\n\n  const cookiesJSON1 = httpcookie.parse(req.headers.cookie);\n\n  if (!cookiesJSON1.token) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\"\n      }\n    };\n  }\n\n  initProps = cookiesJSON1.token;\n  const resourcesGP = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/detailProfile`, {\n    method: `GET`,\n    headers: {\n      Authorization: JSON.parse(initProps)\n    }\n  });\n  const resjsonGP = await resourcesGP.json();\n  const dataProfile = resjsonGP;\n  const resourcesGetVendor = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getVendors`, {\n    method: `GET`,\n    headers: {\n      Authorization: JSON.parse(initProps),\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  const resjsonDataVendor = await resourcesGetVendor.json();\n  const dataVendors = resjsonDataVendor;\n  return {\n    props: {\n      initProps,\n      dataProfile,\n      sidemenu: \"83\",\n      dataVendors\n    }\n  };\n}\nexport default Vendor;","map":null,"metadata":{},"sourceType":"module"}