{"ast":null,"code":"import _Spin from \"antd/lib/spin\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _Breadcrumb from \"antd/lib/breadcrumb\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _Layout from \"antd/lib/layout\";\nimport MenuFoldOutlined from \"@ant-design/icons/MenuFoldOutlined\";\nimport MenuUnfoldOutlined from \"@ant-design/icons/MenuUnfoldOutlined\";\nimport jscookie from \"js-cookie\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport LayoutMenu from \"./layout-menu\";\nimport LayoutMenuHeader from \"./layout-menu-header\";\n\nfunction LayoutDashboard({\n  children,\n  tok,\n  dataProfile,\n  pathArr,\n  sidemenu,\n  st,\n  prevpath,\n  idpage,\n  extra\n}) {\n  const rt = useRouter();\n  var rootBreadcrumb = \"\";\n  var childBreacrumb = [];\n\n  if (pathArr) {\n    if (pathArr[0] === \"dashboard\") {\n      rootBreadcrumb = pathArr[1];\n      rootBreadcrumb = rootBreadcrumb[0].toUpperCase() + rootBreadcrumb.slice(1);\n    } else {\n      for (var i = 0; i < pathArr.length; i++) {\n        childBreacrumb.push(pathArr[i]);\n      }\n    }\n  }\n\n  const childBreacrumbCC = childBreacrumb.map((doc, idx) => {\n    return doc[0].toUpperCase() + doc.slice(1);\n  });\n  const childBreacrumbDD = childBreacrumbCC;\n  const {\n    Sider,\n    Content,\n    Header\n  } = _Layout;\n  const {\n    0: coll,\n    1: setColl\n  } = useState(true);\n  const {\n    0: collsmall,\n    1: setCollsmall\n  } = useState(true);\n  const {\n    0: tinggi,\n    1: setTinggi\n  } = useState(90);\n  const {\n    0: loadingspin,\n    1: setloadingspin\n  } = useState(false);\n\n  const handleColl = () => {\n    setColl(prev => !prev);\n  };\n\n  const handleCollSmall = () => {\n    setCollsmall(prev => !prev);\n  };\n\n  const handleLogout = () => {\n    setloadingspin(true);\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/logout`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: JSON.parse(tok)\n      }\n    }).then(res => res.json()).then(res2 => {\n      setloadingspin(false);\n\n      if (res2.success) {\n        jscookie.remove(\"token\");\n        console.log(\"token abis logout: \" + jscookie.get(\"token\"));\n        rt.push(\"/login\");\n      }\n    }).catch(err => {\n      setloadingspin(false);\n      console.log(err.message);\n    });\n  };\n\n  useEffect(() => {\n    var h = window.innerHeight;\n    setTinggi(h);\n  }, []);\n  var pathBuilder = \"\";\n  return /*#__PURE__*/_jsx(_Spin, {\n    spinning: loadingspin,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \" min-h-screen flex\",\n      children: [/*#__PURE__*/_jsx(LayoutMenu, {\n        dataProfile: dataProfile,\n        handleCollSmall: handleCollSmall,\n        sidemenu: sidemenu,\n        coll: coll,\n        collsmall: collsmall,\n        st: st\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"h-auto w-full\",\n        children: [/*#__PURE__*/_jsxs(Header, {\n          className: \"site-layout-background\",\n          style: {\n            padding: 0,\n            backgroundColor: `#F4FAF5`,\n            display: `flex`,\n            alignItems: `center`,\n            flexDirection: `row`,\n            flexWrap: `wrap`,\n            width: `100%`,\n            justifyContent: `space-between`,\n            height: `auto`\n          },\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex z-50\",\n            children: [coll ? /*#__PURE__*/_jsx(MenuUnfoldOutlined, {\n              onClick: handleColl,\n              style: {\n                padding: `24px`,\n                float: `left`,\n                marginTop: `0.3rem`\n              },\n              className: st.trigger\n            }) : /*#__PURE__*/_jsx(MenuFoldOutlined, {\n              onClick: handleColl,\n              style: {\n                padding: `24px`,\n                float: `left`\n              },\n              className: st.trigger\n            }), collsmall ? /*#__PURE__*/_jsx(MenuUnfoldOutlined, {\n              onClick: handleCollSmall,\n              style: {\n                padding: `24px`,\n                float: `left`,\n                marginTop: `0.3rem`\n              },\n              className: st.triggerSmall\n            }) : /*#__PURE__*/_jsx(MenuFoldOutlined, {\n              onClick: handleCollSmall,\n              style: {\n                padding: `24px`,\n                float: `left`\n              },\n              className: st.triggerSmall\n            }), pathArr ? /*#__PURE__*/_jsxs(_Breadcrumb, {\n              separator: \">\",\n              style: {\n                float: `left`,\n                padding: `24px 10px`,\n                backgroundColor: `#F4FAF5`\n              },\n              className: st.breadcrumbClients,\n              children: [childBreacrumbDD[0] === \"Tickets\" && /*#__PURE__*/_jsx(_Fragment, {\n                children: childBreacrumbDD.map((doc, idx) => {\n                  pathBuilder = pathBuilder + `/${pathArr[idx]}`;\n\n                  if (idx === 0) {\n                    if (childBreacrumbDD[1] === \"Detail Tiket\") return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                      href: `/tickets`,\n                      children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                        children: doc\n                      }), \" \"]\n                    }, idx);else if (childBreacrumbDD[1] === \"Riwayat Tiket\") return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                      href: `/tickets`,\n                      children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                        children: doc\n                      }), \" \"]\n                    }, idx);else if (childBreacrumbDD[1] === \"Tipe Task Tiket\") return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                      href: `/tickets`,\n                      children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                        children: doc\n                      }), \" \"]\n                    }, idx);else if (childBreacrumbDD.length === 1) {\n                      return /*#__PURE__*/_jsx(_Breadcrumb.Item, {\n                        children: /*#__PURE__*/_jsx(\"strong\", {\n                          children: doc\n                        })\n                      }, idx);\n                    }\n                  } else if (idx === childBreacrumbDD.length - 1 && idx > 0) return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                    children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                      children: doc\n                    }), \" \"]\n                  }, idx);else return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                    href: pathBuilder,\n                    children: [/*#__PURE__*/_jsx(\"strong\", {\n                      children: doc\n                    }), \" \"]\n                  }, idx);\n                })\n              }), childBreacrumbDD[0] === \"Tasks\" && /*#__PURE__*/_jsx(_Fragment, {\n                children: childBreacrumbDD.map((doc, idx) => {\n                  pathBuilder = pathBuilder + `/${pathArr[idx]}`;\n\n                  if (idx === 0) {\n                    if (childBreacrumbDD[1] === \"Admin\" || childBreacrumbDD[1] === \"My Task\") return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                      href: `/tasks/${prevpath}`,\n                      children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                        children: childBreacrumbDD[1] === \"Admin\" ? \"Admin Task\" : \"My Task\"\n                      }), \" \"]\n                    }, idx);else if (childBreacrumbDD[1] === \"Detail Task\") return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                      href: `/tasks/${prevpath}`,\n                      children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                        children: prevpath === \"admin\" ? \"Admin Task\" : \"My Task\"\n                      }), \" \"]\n                    }, idx);else if (childBreacrumbDD[1] === \"Tasktypes\") return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                      href: `/tasks/admin`,\n                      children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                        children: \"Admin Task\"\n                      }), \" \"]\n                    }, idx);\n                  } else if (idx === childBreacrumbDD.length - 1 && idx > 0) return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                    children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                      children: doc\n                    }), \" \"]\n                  }, idx);else return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                    href: pathBuilder,\n                    children: [/*#__PURE__*/_jsx(\"strong\", {\n                      children: doc\n                    }), \" \"]\n                  }, idx);\n                })\n              }), childBreacrumbDD[0] === \"Company\" && /*#__PURE__*/_jsx(_Fragment, {\n                children: childBreacrumbDD.map((doc, idx) => {\n                  pathBuilder = pathBuilder + `/${pathArr[idx]}`;\n\n                  if (idx === 0) {\n                    if (childBreacrumbDD[1] !== \"Clients\") {\n                      if (childBreacrumbDD[1] !== \"myCompany\") {\n                        return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                          href: `/company/myCompany`,\n                          children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                            children: \"My Company\"\n                          }), \" \"]\n                        }, idx);\n                      } else {\n                        childBreacrumbDD[1] === \"Locations\" && /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                          href: `/company/myCompany`,\n                          children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                            children: \"My Company\"\n                          }), \" \"]\n                        }, idx);\n                        childBreacrumbDD[1] !== \"Locations\" && /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                          href: `/company/myCompany`,\n                          children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                            children: \"My Company\"\n                          }), \" \"]\n                        }, idx);\n                      }\n                    } else if (childBreacrumbDD[1] === \"Clients\") {\n                      return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                        href: `/company/clients/${idpage}`,\n                        children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                          children: \"Clients\"\n                        }), \" \"]\n                      }, idx);\n                    }\n                  } else if (idx === childBreacrumbDD.length - 1 && idx > 0) return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                    children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                      children: doc\n                    }), \" \"]\n                  }, idx);else if (childBreacrumbDD[2] === \"Detail Lokasi\") {\n                    return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                      href: `/company/myCompany/locations`,\n                      children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                        children: doc\n                      }), \" \"]\n                    }, idx);\n                  }\n\n                  if (childBreacrumbDD[1] === \"Clients\") {\n                    if (childBreacrumbDD[2] === \"Locations\") {\n                      return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                        href: `/company/clients`,\n                        children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                          children: doc\n                        }), \" \"]\n                      }, idx);\n                    } else {\n                      return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                        href: `/company/clients/${idpage}`,\n                        children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                          children: doc\n                        }), \" \"]\n                      }, idx);\n                    }\n                  } else {\n                    return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                      href: pathBuilder,\n                      children: [/*#__PURE__*/_jsx(\"strong\", {\n                        children: doc\n                      }), \" \"]\n                    }, idx);\n                  }\n                })\n              })]\n            }) : null]\n          }), /*#__PURE__*/_jsx(\"label\", {\n            htmlFor: `menutoggle`,\n            className: \"pointer-cursor md:hidden block cursor-pointer mr-4\",\n            children: /*#__PURE__*/_jsxs(\"svg\", {\n              className: \"fill-current text-gray-900\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: 20,\n              height: 20,\n              viewBox: \"0 0 20 20\",\n              children: [/*#__PURE__*/_jsx(\"title\", {\n                children: \"menu\"\n              }), /*#__PURE__*/_jsx(\"path\", {\n                d: \"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\"\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"input\", {\n            className: `hidden ${st.menuToggle}`,\n            type: \"checkbox\",\n            id: `menutoggle`\n          }), /*#__PURE__*/_jsx(LayoutMenuHeader, {\n            dataProfile: dataProfile,\n            Linkheader: Link,\n            handleLogout: handleLogout,\n            st: st\n          }), pathArr ? /*#__PURE__*/_jsx(_Breadcrumb, {\n            separator: \">\",\n            style: {\n              float: `left`,\n              padding: `24px 24px`,\n              fontSize: `0.825rem`,\n              width: `100%`\n            },\n            className: st.breadcrumbClientsSmall,\n            children: childBreacrumbDD.length !== 0 ? childBreacrumbDD.map((doc, idx) => {\n              pathBuilder = pathBuilder + `/${pathArr[idx]}`;\n\n              if (idx === 0) {\n                return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                  href: `dashboard/${doc}`,\n                  children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                    children: doc\n                  }), \" \"]\n                }, idx);\n              } else if (idx === childBreacrumbDD.length - 1 && idx > 0) {\n                return /*#__PURE__*/_jsxs(_Breadcrumb.Item, {\n                  children: [\" \", /*#__PURE__*/_jsx(\"strong\", {\n                    children: doc\n                  }), \" \"]\n                }, idx);\n              } else {\n                return /*#__PURE__*/_jsx(_Breadcrumb.Item, {\n                  href: pathBuilder,\n                  children: /*#__PURE__*/_jsx(\"strong\", {\n                    children: doc\n                  })\n                }, idx);\n              }\n            }) : null\n          }) : null]\n        }), /*#__PURE__*/_jsx(\"main\", {\n          className: \"slb min-h-screen bg-backdrop\",\n          style: {\n            padding: 24\n          },\n          children: children\n        })]\n      })]\n    })\n  });\n}\n\nexport default LayoutDashboard;","map":null,"metadata":{},"sourceType":"module"}