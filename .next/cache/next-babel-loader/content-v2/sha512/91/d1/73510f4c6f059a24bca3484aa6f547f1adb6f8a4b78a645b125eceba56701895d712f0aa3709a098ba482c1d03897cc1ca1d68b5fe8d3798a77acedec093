{"ast":null,"code":"import _Modal from \"antd/lib/modal\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _Checkbox from \"antd/lib/checkbox\";\nimport _Spin from \"antd/lib/spin\";\nimport _Input from \"antd/lib/input\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _Button from \"antd/lib/button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _notification from \"antd/lib/notification\";\nimport _toConsumableArray from \"/Users/makarim/Documents/code/Next/mighty-fe/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/makarim/Documents/code/Next/mighty-fe/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _Collapse from \"antd/lib/collapse\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useRouter } from 'next/router';\nimport { useEffect, useState } from 'react';\nimport { ArrowRightOutlined, ArrowLeftOutlined, DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport Layout from '../../../components/layout-dashboard';\nimport st from '../../../components/layout-dashboard.module.css';\nimport ScrollTo from \"react-scroll-into-view\";\nimport Sticky from 'wil-react-sticky';\n\nvar ModulesIndex = function ModulesIndex(_ref) {\n  var initProps = _ref.initProps,\n      dataProfile = _ref.dataProfile,\n      dataListModules = _ref.dataListModules,\n      dataListFeatures = _ref.dataListFeatures,\n      sidemenu = _ref.sidemenu;\n  //Initialization\n  var rt = useRouter();\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  var Panel = _Collapse.Panel;\n  var _rt$query = rt.query,\n      module = _rt$query.module,\n      featuredisplay = _rt$query.featuredisplay,\n      feature = _rt$query.feature; //useState\n  //1. Basic\n\n  var _useState = useState(true),\n      praloading = _useState[0],\n      setpraloading = _useState[1];\n\n  var _useState2 = useState([]),\n      loop = _useState2[0],\n      setloop = _useState2[1];\n\n  var _useState3 = useState(loop),\n      tabnameArrVal = _useState3[0],\n      settabnameArrVal = _useState3[1];\n\n  var _useState4 = useState([{\n    name: \"\",\n    description: \"\",\n    features: []\n  }]),\n      datamodules = _useState4[0],\n      setdatamodules = _useState4[1];\n\n  var _useState5 = useState([{\n    name: \"\",\n    description: \"\",\n    features: []\n  }]),\n      datamodules2 = _useState5[0],\n      setdatamodules2 = _useState5[1];\n\n  var _useState6 = useState([{\n    name: \"\",\n    description: \"\",\n    features: []\n  }]),\n      datamodules3 = _useState6[0],\n      setdatamodules3 = _useState6[1]; // const [currentselectkateg, setcurrentselectkateg] = useState(datamodules[0].name)\n  // const [currentdesctkateg, setcurrentdesckateg] = useState(datamodules[0].description)\n  // const [datafeature, setdatafeature] = useState(datamodules[0].feature)\n  //2. Create\n\n\n  var _useState7 = useState({\n    name: '',\n    description: '',\n    feature_ids: []\n  }),\n      datatambahmodule = _useState7[0],\n      setdatatambahmodule = _useState7[1];\n\n  var _useState8 = useState(false),\n      drawablecreate = _useState8[0],\n      setdrawablecreate = _useState8[1];\n\n  var _useState9 = useState(false),\n      modalcreate = _useState9[0],\n      setmodalcreate = _useState9[1];\n\n  var _useState10 = useState(false),\n      loadiingcreate = _useState10[0],\n      setloadingcreate = _useState10[1]; //3. Update\n\n\n  var _useState11 = useState({\n    id: 0,\n    feature_ids: []\n  }),\n      dataeditmodule = _useState11[0],\n      setdataeditmodule = _useState11[1];\n\n  var _useState12 = useState(false),\n      drawableedit = _useState12[0],\n      setdrawableedit = _useState12[1];\n\n  var _useState13 = useState(false),\n      loadiingupdate = _useState13[0],\n      setloadingupdate = _useState13[1]; //4. Delete\n\n\n  var _useState14 = useState({\n    id: 0\n  }),\n      datadeletemodule = _useState14[0],\n      setdatadeletemodule = _useState14[1];\n\n  var _useState15 = useState({\n    id: 0\n  }),\n      datadeletefeature = _useState15[0],\n      setdatadeletefeature = _useState15[1];\n\n  var _useState16 = useState(false),\n      modaldelete = _useState16[0],\n      setmodaldelete = _useState16[1];\n\n  var _useState17 = useState(false),\n      loadiingdelete = _useState17[0],\n      setloadingdelete = _useState17[1];\n\n  var _useState18 = useState(false),\n      modaldelete2 = _useState18[0],\n      setmodaldelete2 = _useState18[1];\n\n  var _useState19 = useState(false),\n      loadiingdelete2 = _useState19[0],\n      setloadingdelete2 = _useState19[1]; //5. Features list\n\n\n  var _useState20 = useState([{\n    id: \"\",\n    feature_id: \"\",\n    feature_key: \"\",\n    name: \"\",\n    description: \"\",\n    deleted_at: null\n  }]),\n      listfeat = _useState20[0],\n      setlistfeat = _useState20[1];\n\n  var _useState21 = useState([{\n    id: \"\",\n    feature_id: \"\",\n    feature_key: \"\",\n    name: \"\",\n    description: \"\",\n    deleted_at: null\n  }]),\n      listfeat2 = _useState21[0],\n      setlistfeat2 = _useState21[1];\n\n  var _useState22 = useState([{\n    id: \"\",\n    feature_id: \"\",\n    feature_key: \"\",\n    name: \"\",\n    description: \"\",\n    deleted_at: null\n  }]),\n      listfeat3 = _useState22[0],\n      setlistfeat3 = _useState22[1];\n\n  var _useState23 = useState(true),\n      loadinglistfeat = _useState23[0],\n      setloadinglistfeat = _useState23[1];\n\n  var _useState24 = useState(0),\n      checkedfeatures = _useState24[0],\n      setcheckedfeatures = _useState24[1];\n\n  var _useState25 = useState([]),\n      checkeddatafeatures = _useState25[0],\n      setcheckeddatafeatures = _useState25[1];\n\n  var _useState26 = useState(true),\n      praloadingfeature = _useState26[0],\n      setpraloadingfeature = _useState26[1];\n\n  var _useState27 = useState(0),\n      featurecounter = _useState27[0],\n      setfeaturecounter = _useState27[1];\n\n  var _useState28 = useState(\"\"),\n      searchfeature = _useState28[0],\n      setsearchfeature = _useState28[1]; //6. Module list\n\n\n  var _useState29 = useState(0),\n      checkedmodules = _useState29[0],\n      setcheckedmodules = _useState29[1];\n\n  var _useState30 = useState([]),\n      checkedfeaturemodules = _useState30[0],\n      setcheckedfeaturemodules = _useState30[1];\n\n  var _useState31 = useState([]),\n      checkeddatamodules = _useState31[0],\n      setcheckeddatamodules = _useState31[1];\n\n  var _useState32 = useState([]),\n      idmodulemap = _useState32[0],\n      setidmodulemap = _useState32[1];\n\n  var _useState33 = useState(false),\n      moduletrigger = _useState33[0],\n      setmoduletrigger = _useState33[1];\n\n  var _useState34 = useState(false),\n      modaldeletefeatmodule = _useState34[0],\n      setmodaldeletefeatmodule = _useState34[1];\n\n  var _useState35 = useState(false),\n      loadingdeletefeatmodule = _useState35[0],\n      setloadingdeletefeatmodule = _useState35[1];\n\n  var _useState36 = useState(true),\n      praloadingmodule = _useState36[0],\n      setpraloadingmodule = _useState36[1];\n\n  var _useState37 = useState(module !== \"\" || typeof module !== 'undefined' ? false : true),\n      praloadingmodulefeat = _useState37[0],\n      setpraloadingmodulefeat = _useState37[1];\n\n  var _useState38 = useState(0),\n      modulecounter = _useState38[0],\n      setmodulecounter = _useState38[1];\n\n  var _useState39 = useState(\"\"),\n      searchmodulefeature = _useState39[0],\n      setsearchmodulefeature = _useState39[1];\n\n  var _useState40 = useState(0),\n      scrolltrigger = _useState40[0],\n      setscrolltrigger = _useState40[1]; //7.arrow\n\n\n  var _useState41 = useState(featuredisplay === \"\" || typeof featuredisplay === 'undefined' ? false : true),\n      displayarrow = _useState41[0],\n      setdisplayarrow = _useState41[1];\n\n  var _useState42 = useState(true),\n      rightstatus = _useState42[0],\n      setrightstatus = _useState42[1];\n\n  var _useState43 = useState(true),\n      leftstatus = _useState43[0],\n      setleftstatus = _useState43[1]; //event\n\n\n  var onChangeTab = function onChangeTab(e, idxjenis, namakateg, deskripsi, id, feature) {\n    var temp3 = tabnameArrVal;\n    temp3[idxjenis] = \"block\";\n    settabnameArrVal(temp3);\n\n    for (var i = 0; i < tabnameArrVal.length; i++) {\n      if (i != idxjenis) {\n        var temp4 = tabnameArrVal;\n        temp4[i] = \"hidden\";\n        settabnameArrVal(temp4);\n      }\n    }\n\n    setdataeditmodule(_objectSpread(_objectSpread({}, dataeditmodule), {}, {\n      id: id,\n      feature_ids: feature.map(function (doc) {\n        return doc.id;\n      })\n    }));\n    setdatadeletemodule({\n      id: id\n    });\n    setdatafeature(feature);\n    setcurrentselectkateg(namakateg);\n    setcurrentdesckateg(deskripsi);\n  };\n\n  var onChangeTabSmall = function onChangeTabSmall(namakateg) {\n    setcurrentselectkateg(namakateg);\n    var variable = {};\n\n    if (namakateg != 'all') {\n      variable = datamodules.filter(function (dataa) {\n        return dataa.name == namakateg;\n      }).map(function (doc, idx) {\n        return {\n          idxjenis: idx + 1,\n          id: doc.id,\n          name: doc.name,\n          description: doc.description,\n          feature: doc.feature\n        };\n      })[0];\n    }\n\n    var temp3 = tabnameArrVal;\n    temp3[variable.idxjenis] = \"block\";\n    settabnameArrVal(temp3);\n\n    for (var i = 0; i < tabnameArrVal.length; i++) {\n      if (i != variable.idxjenis) {\n        var temp4 = tabnameArrVal;\n        temp4[i] = \"hidden\";\n        settabnameArrVal(temp4);\n      }\n    }\n\n    setdataeditmodule(_objectSpread(_objectSpread({}, dataeditmodule), {}, {\n      id: variable.id,\n      feature_ids: variable.feature.map(function (doc) {\n        return doc.id;\n      })\n    }));\n    setdatadeletemodule({\n      id: variable.id\n    });\n    setdatafeature(variable.feature);\n    setcurrentselectkateg(namakateg);\n    setcurrentdesckateg(variable.description);\n  };\n\n  var onChangeCreateCheckbox = function onChangeCreateCheckbox(e, id) {\n    if (e.target.checked) {\n      var _temp = datatambahmodule.feature_ids;\n\n      _temp.push(id);\n\n      setdatatambahmodule(_objectSpread(_objectSpread({}, datatambahmodule), {}, {\n        feature_ids: _temp\n      }));\n    } else {\n      var temp = datatambahmodule.feature_ids;\n      var idx = temp.indexOf(id);\n      temp.splice(idx, 1);\n      setdatatambahmodule(_objectSpread(_objectSpread({}, datatambahmodule), {}, {\n        feature_ids: temp\n      }));\n    }\n  };\n\n  var onChangeUpdateCheckbox = function onChangeUpdateCheckbox(e, id) {\n    if (e.target.checked) {\n      var _temp2 = dataeditmodule.feature_ids;\n\n      _temp2.push(id);\n\n      setdataeditmodule(_objectSpread(_objectSpread({}, dataeditmodule), {}, {\n        feature_ids: _temp2\n      }));\n    } else {\n      var temp = dataeditmodule.feature_ids;\n      var idx = temp.indexOf(id);\n      temp.splice(idx, 1);\n      setdataeditmodule(_objectSpread(_objectSpread({}, dataeditmodule), {}, {\n        feature_ids: temp\n      }));\n    }\n  };\n\n  var onChangeUpdateCheckbox2 = function onChangeUpdateCheckbox2(e, id, idx) {\n    if (e.target.checked) {\n      // var temp = checkedfeaturemodules\n      // temp[idx] = true\n      // setcheckedfeaturemodules(temp)\n      setcheckeddatamodules([].concat(_toConsumableArray(checkeddatamodules), [id]));\n      checkeddatamodules.length > 0 ? setleftstatus(true) : setrightstatus(false);\n      checkeddatamodules.length > 0 ? setrightstatus(false) : setleftstatus(true);\n      setmodulecounter(function (previ) {\n        return previ + 1;\n      });\n    } else {\n      // var temp2 = checkedfeaturemodules\n      // temp2[idx] = false\n      // setcheckedfeaturemodules(temp2)\n      var temp3 = checkeddatamodules;\n      var idx = temp3.indexOf(id);\n      temp3.splice(idx, 1);\n      setcheckeddatamodules(temp3);\n      checkeddatamodules.length > 0 ? setleftstatus(true) : setrightstatus(false);\n      checkeddatamodules.length > 0 ? setrightstatus(false) : setleftstatus(true);\n      setmodulecounter(function (previ) {\n        return previ - 1;\n      });\n    }\n  };\n\n  var onChangeUpdateCheckbox3 = function onChangeUpdateCheckbox3(e, id, idx) {\n    checkeddatafeatures.length > 0 ? setleftstatus(false) : setrightstatus(true);\n    checkeddatamodules.length > 0 ? setrightstatus(true) : setleftstatus(false);\n\n    if (e.target.checked) {\n      // var temp = checkedfeaturemodules\n      // temp[idx] = true\n      // setcheckedfeaturemodules(temp)\n      setcheckeddatafeatures([].concat(_toConsumableArray(checkeddatafeatures), [id]));\n      setfeaturecounter(function (previ) {\n        return previ + 1;\n      });\n    } else {\n      // var temp2 = checkedfeaturemodules\n      // temp2[idx] = false\n      // setcheckedfeaturemodules(temp2)\n      var temp3 = checkeddatafeatures;\n      var idx = temp3.indexOf(id);\n      temp3.splice(idx, 1);\n      setcheckeddatafeatures(temp3);\n      setfeaturecounter(function (previ) {\n        return previ - 1;\n      });\n    }\n  };\n\n  var onCheckedAll = function onCheckedAll(e) {\n    if (e.target.checked) {\n      setCheckAll(true);\n      var status = idmodulemap.map(function (doc) {\n        return true;\n      });\n      setcheckedfeaturemodules(status);\n      setcheckeddatamodules(idmodulemap);\n    } else {\n      setCheckAll(false);\n\n      var _status = idmodulemap.map(function (doc) {\n        return false;\n      });\n\n      setcheckedfeaturemodules(_status);\n      setcheckeddatamodules([]);\n    }\n  }; //handler\n\n\n  var handleAddModuleFeature = function handleAddModuleFeature() {\n    setloadingcreate(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/addModuleFeature\", {\n      method: 'POST',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: Number(datamodules[checkedmodules].id),\n        feature_ids: checkeddatafeatures\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      if (res2.success) {\n        _notification['success']({\n          message: 'Fitur berhasil didaftarkan',\n          duration: 3\n        });\n\n        setTimeout(function () {\n          setloadingcreate(false);\n          setmodalcreate(false);\n          window.location.href = \"/admin/modules?module=\".concat(checkedmodules, \"&featuredisplay=1\");\n        }, 300);\n      } else if (!res2.success) {\n        _notification['error']({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n\n        setloadingcreate(false);\n        setmodalcreate(false);\n      }\n    });\n  };\n\n  var handleDeleteModuleFeature = function handleDeleteModuleFeature() {\n    setloadingdeletefeatmodule(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/deleteModuleFeature\", {\n      method: 'DELETE',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: Number(datamodules[checkedmodules].id),\n        feature_ids: checkeddatamodules\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      if (res2.success) {\n        _notification['success']({\n          message: 'Fitur berhasil dikeluarkan',\n          duration: 3\n        });\n\n        setTimeout(function () {\n          setloadingdeletefeatmodule(false);\n          setmodaldeletefeatmodule(false);\n          window.location.href = \"/admin/modules?module=\".concat(checkedmodules, \"&featuredisplay=1\");\n        }, 300);\n      } else if (!res2.success) {\n        _notification['error']({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n\n        setloadingdeletefeatmodule(false);\n        setmodaldeletefeatmodule(false);\n      }\n    });\n  };\n\n  var handleUpdate = function handleUpdate() {\n    setloadingupdate(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/updateModuleFeature\", {\n      method: 'POST',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(dataeditmodule)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      if (res2.success) {\n        _notification['success']({\n          message: res2.message,\n          duration: 3\n        });\n\n        setdataeditmodule({\n          id: 0,\n          feature_ids: []\n        });\n        setTimeout(function () {\n          setloadingupdate(false);\n          setdrawableedit(false);\n          window.location.href = \"/admin/modules\";\n        }, 300);\n      } else if (!res2.success) {\n        _notification['error']({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n\n        setloadingupdate(false);\n        setdrawableedit(false);\n      }\n    });\n  };\n\n  var handleDeleteModule = function handleDeleteModule() {\n    setloadingdelete(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/deleteModule\", {\n      method: 'DELETE',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(datadeletemodule)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      if (res2.success) {\n        _notification['success']({\n          message: 'Module berhasil dihapus',\n          duration: 3\n        });\n\n        setdatadeletemodule({\n          id: 0\n        });\n        setTimeout(function () {\n          setloadingdelete(false);\n          setmodaldelete(false);\n          window.location.href = \"/admin/modules?module=&featuredisplay=\";\n        }, 300);\n      } else if (!res2.success) {\n        _notification['error']({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n\n        setloadingdelete(false);\n        setmodaldelete(false);\n      }\n    });\n  };\n\n  var handleDeleteFeature = function handleDeleteFeature() {\n    setloadingdelete2(true);\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/deleteFeature\", {\n      method: 'DELETE',\n      headers: {\n        'Authorization': JSON.parse(initProps),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(datadeletefeature)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      if (res2.success) {\n        _notification['success']({\n          message: 'Fitur berhasil dihapus',\n          duration: 3\n        });\n\n        setdatadeletefeature({\n          id: 0\n        });\n        setTimeout(function () {\n          setloadingdelete2(false);\n          setmodaldelete2(false);\n          window.location.href = \"/admin/modules?module=&featuredisplay=\";\n        }, 300);\n      } else if (!res2.success) {\n        _notification['error']({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n\n        setloadingdelete2(false);\n        setmodaldelete2(false);\n      }\n    });\n  }; //useEffect\n\n\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getModules\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatamodules(res2.data);\n      setdatamodules2(res2.data);\n      setdatamodules3(res2.data); // setcurrentselectkateg(res2.data[0].name)\n      // setcurrentdesckateg(res2.data[0].description)\n      // setdatafeature(res2.data[0].feature)\n\n      var temp = loop;\n\n      for (var i = 0; i < res2.data.length; i++) {\n        i !== 0 ? temp.push(\"hidden\") : temp.push(\"block\");\n      }\n\n      setloop(temp);\n      setloadinglistfeat(false);\n      setidmodulemap(res2.data[Number(module)].features !== null ? res2.data[Number(module)].features.map(function (doc, idx) {\n        return doc.id;\n      }) : []);\n      setcheckedmodules(module !== \"\" || typeof module !== 'undefined' ? Number(module) : 0);\n      setpraloadingmodule(false);\n    });\n  }, [moduletrigger]);\n  useEffect(function () {\n    fetch(\"https://boiling-thicket-46501.herokuapp.com/getFeatures\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setlistfeat(res2.data);\n      setlistfeat2(res2.data);\n      setlistfeat3(res2.data);\n      setpraloadingfeature(false);\n    });\n  }, []);\n  useEffect(function () {\n    document.getElementById(\"panel\".concat(scrolltrigger)).scrollIntoView(true);\n  }, [scrolltrigger]);\n  return /*#__PURE__*/_jsxs(Layout, {\n    tok: initProps,\n    dataProfile: dataProfile,\n    sidemenu: sidemenu,\n    st: st,\n    pathArr: pathArr,\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      id: \"containerListModules\",\n      className: \"w-full border-t border-opacity-30 border-gray-500\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"w-full border-b border-opacity-30 border-gray-400 flex items-center justify-between p-4 mb-5 bg-white\",\n        children: /*#__PURE__*/_jsx(\"h1\", {\n          className: \"font-bold\",\n          children: \"Modules\"\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-7\",\n        id: \"containerModules\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \" col-span-1 md:col-span-3 flex flex-col p-3\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex justify-between mb-2 md:mb-5\",\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              className: \"font-bold text-xl\",\n              children: \"Module\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              onClick: function onClick() {\n                rt.push(\"/admin/modules/create/module?module=\".concat(datamodules.length));\n                console.log(idmodulemap);\n                console.log(listfeat);\n              },\n              children: \"Tambah\"\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mb-2 md:mb-5\",\n            children: /*#__PURE__*/_jsx(_Input, {\n              style: {\n                width: \"100%\"\n              },\n              placeholder: \"Cari module\",\n              onChange: function onChange(e) {\n                if (e.target.value === \"\") {\n                  setdatamodules(datamodules3);\n                } else {\n                  var filtered = datamodules2.filter(function (flt) {\n                    return flt.name.toLowerCase().includes(e.target.value.toLowerCase());\n                  });\n                  setdatamodules(filtered);\n                }\n              }\n            })\n          }), praloadingmodule ? /*#__PURE__*/_jsx(\"div\", {\n            id: \"panel0\",\n            className: \" flex justify-center\",\n            children: /*#__PURE__*/_jsx(_Spin, {\n              size: \"large\"\n            })\n          }) : /*#__PURE__*/_jsx(\"div\", {\n            className: \" mb-2 md:mb-5\",\n            children: /*#__PURE__*/_jsx(_Collapse, {\n              accordion: true,\n              defaultActiveKey: module === \"\" || typeof module === 'undefined' ? -1 : Number(module),\n              onChange: function onChange(value) {\n                if (typeof value === 'undefined') {\n                  setdisplayarrow(false);\n                  setrightstatus(true);\n                  setleftstatus(true);\n                  setmodulecounter(0);\n                  setfeaturecounter(0);\n                  setcheckeddatamodules([]);\n                  setcheckeddatafeatures([]);\n                  setpraloadingmodulefeat(true);\n                  setsearchmodulefeature(\"\");\n                } else {\n                  setpraloadingmodulefeat(false);\n                  setdisplayarrow(true);\n                  setcheckeddatamodules([]);\n                  setcheckeddatafeatures([]);\n                  setcheckedmodules(value);\n                  setmodulecounter(0);\n                  setfeaturecounter(0);\n                  setdatadeletemodule(_objectSpread(_objectSpread({}, datadeletemodule), {}, {\n                    id: datamodules[value].id\n                  }));\n                  datamodules[value].features ? setidmodulemap(datamodules[value].features.map(function (doc, idx) {\n                    return doc.id;\n                  })) : setidmodulemap([]);\n                  setscrolltrigger(value);\n                }\n              },\n              children: datamodules.map(function (doc, idx) {\n                return /*#__PURE__*/_jsx(Panel, {\n                  id: \"panel\".concat(idx),\n                  header: /*#__PURE__*/_jsx(\"strong\", {\n                    children: doc.name\n                  }),\n                  extra: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex\",\n                    children: [/*#__PURE__*/_jsx(EditOutlined, {\n                      style: {\n                        marginRight: \"1rem\"\n                      },\n                      onClick: function onClick() {\n                        rt.push(\"/admin/modules/update/module/\".concat(doc.id, \"?module=\").concat(idx));\n                      }\n                    }), /*#__PURE__*/_jsx(DeleteOutlined, {\n                      style: {\n                        color: \"red\"\n                      },\n                      onClick: function onClick() {\n                        setmodaldelete(true);\n                      }\n                    })]\n                  }),\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex justify-between border-b pb-3 mb-3\",\n                      children: [/*#__PURE__*/_jsxs(\"div\", {\n                        children: [modulecounter, \"/\", doc.features ? doc.features.length : 0, \" \", checkeddatamodules.length > 1 ? \"items\" : \"item\"]\n                      }), /*#__PURE__*/_jsx(\"div\", {\n                        children: /*#__PURE__*/_jsxs(\"strong\", {\n                          children: [\"Feature yang terdaftar pada - Module \", doc.name]\n                        })\n                      })]\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"mb-5\",\n                      children: /*#__PURE__*/_jsx(_Input, {\n                        placeholder: \"Cari feature terdaftar\",\n                        onChange: function onChange(e) {\n                          setsearchmodulefeature(e.target.value.toLowerCase());\n                        }\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"overflow-y-auto flex flex-col h-48 mb-5 border-b pb-3\",\n                      children: praloadingmodulefeat ? null : /*#__PURE__*/_jsx(_Fragment, {\n                        children: doc.features ? doc.features.map(function (doc2, idx2) {\n                          var st = checkeddatamodules.includes(doc2.id);\n\n                          if (doc2.name.toLowerCase().includes(searchmodulefeature.toLowerCase())) {\n                            return /*#__PURE__*/_jsxs(\"div\", {\n                              className: \"flex items-center my-2\",\n                              children: [/*#__PURE__*/_jsx(_Checkbox, {\n                                checked: st,\n                                onChange: function onChange(e) {\n                                  onChangeUpdateCheckbox2(e, doc2.id, idx);\n                                },\n                                style: {\n                                  marginRight: \"1rem\"\n                                }\n                              }), \" \", doc2.name]\n                            });\n                          }\n                        }) : null\n                      })\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      children: [/*#__PURE__*/_jsx(\"h1\", {\n                        className: \"font-semibold text-lg\",\n                        children: \"Deskripsi\"\n                      }), /*#__PURE__*/_jsx(\"p\", {\n                        className: \"text-xs mb-0\",\n                        children: doc.description\n                      })]\n                    })]\n                  })\n                }, idx);\n              })\n            })\n          })]\n        }), /*#__PURE__*/_jsx(Sticky, {\n          containerSelectorFocus: \"#containerModules\",\n          offsetTop: 400,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \" col-span-1 md:col-span-1 flex flex-col justify-center items-center\",\n            children: displayarrow ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [/*#__PURE__*/_jsx(_Button, {\n                type: \"primary\",\n                onClick: function onClick() {\n                  setmodaldeletefeatmodule(true);\n                  /*console.log(checkeddatamodules); console.log(datamodules[checkedmodules].feature)*/\n                },\n                disabled: rightstatus || modulecounter < 1,\n                style: {\n                  marginBottom: \"0.5rem\"\n                },\n                children: /*#__PURE__*/_jsx(ArrowRightOutlined, {})\n              }), /*#__PURE__*/_jsx(_Button, {\n                type: \"primary\",\n                onClick: function onClick() {\n                  setmodalcreate(true);\n                },\n                disabled: leftstatus || featurecounter < 1,\n                style: {\n                  marginBottom: \"0.5rem\"\n                },\n                children: /*#__PURE__*/_jsx(ArrowLeftOutlined, {})\n              })]\n            }) : null\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \" col-span-1 md:col-span-3 flex flex-col p-3\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex justify-between mb-2 md:mb-5\",\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              className: \"font-bold text-xl\",\n              children: \"Feature\"\n            }), /*#__PURE__*/_jsx(_Button, {\n              type: \"primary\",\n              onClick: function onClick() {\n                rt.push(\"/admin/modules/create/feature?feature=\".concat(listfeat.length));\n              },\n              children: \"Tambah\"\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"mb-2 md:mb-5\",\n            children: /*#__PURE__*/_jsx(_Input, {\n              style: {\n                width: \"100%\"\n              },\n              placeholder: \"Cari feature\",\n              onChange: function onChange(e) {\n                if (e.target.value === \"\") {\n                  setlistfeat(listfeat3);\n                } else {\n                  var filtered = listfeat2.filter(function (flt) {\n                    return flt.name.toLowerCase().includes(e.target.value.toLowerCase());\n                  });\n                  setlistfeat(filtered);\n                }\n              }\n            })\n          }), praloadingfeature ? /*#__PURE__*/_jsx(_Spin, {\n            size: \"large\"\n          }) : /*#__PURE__*/_jsx(\"div\", {\n            className: \" mb-2 md:mb-5\",\n            children: displayarrow ? /*#__PURE__*/_jsx(Sticky, {\n              containerSelectorFocus: \"#containerModules\",\n              offsetTop: 60,\n              children: datamodules.length > 0 ? /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex flex-col border p-2\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex justify-between border-b pb-3 mb-3\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    children: [featurecounter, \"/\", listfeat.length - idmodulemap.length, \" \", checkeddatafeatures.length > 1 ? \"items\" : \"item\"]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    children: /*#__PURE__*/_jsxs(\"strong\", {\n                      children: [\"Feature yang tidak terdaftar pada - Module \", datamodules[checkedmodules] ? datamodules[checkedmodules].name : \"\"]\n                    })\n                  })]\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"mb-5\",\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    placeholder: \"Cari feature terdaftar\",\n                    onChange: function onChange(e) {\n                      setsearchfeature(e.target.value.toLowerCase());\n                    }\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"overflow-y-auto flex flex-col h-80 mb-5 border-b pb-5\",\n                  children: listfeat.map(function (doc3, idx3) {\n                    var st = checkeddatafeatures.includes(doc3.id);\n\n                    if (!idmodulemap.includes(doc3.id)) {\n                      if (doc3.name.toLowerCase().includes(searchfeature.toLowerCase())) {\n                        return /*#__PURE__*/_jsxs(\"div\", {\n                          className: \"flex items-center my-1\",\n                          children: [/*#__PURE__*/_jsx(_Checkbox, _defineProperty({\n                            checked: st,\n                            style: {\n                              marginRight: \"1rem\"\n                            },\n                            onChange: function onChange(e) {\n                              onChangeUpdateCheckbox3(e, doc3.id, idx3);\n                            }\n                          }, \"style\", {\n                            marginRight: \"1rem\"\n                          })), \" \", doc3.name]\n                        }, idx3);\n                      }\n                    }\n                  })\n                })]\n              }) : null\n            }) : /*#__PURE__*/_jsx(_Collapse, {\n              accordion: true,\n              defaultActiveKey: !feature ? -1 : Number(feature),\n              onChange: function onChange(value) {\n                if (typeof value !== 'undefined') {\n                  setcheckeddatafeatures([]);\n                  setcheckedfeatures(value);\n                  setdatadeletefeature(_objectSpread(_objectSpread({}, datadeletefeature), {}, {\n                    id: listfeat[value].id\n                  }));\n                }\n              },\n              children: listfeat.map(function (doc, idx) {\n                return /*#__PURE__*/_jsx(Panel, {\n                  header: doc.name,\n                  extra: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"flex\",\n                    children: [/*#__PURE__*/_jsx(EditOutlined, {\n                      style: {\n                        marginRight: \"1rem\"\n                      },\n                      onClick: function onClick() {\n                        rt.push(\"/admin/modules/update/feature/\".concat(doc.id, \"?feature=\").concat(idx));\n                      }\n                    }), /*#__PURE__*/_jsx(DeleteOutlined, {\n                      style: {\n                        color: \"red\"\n                      },\n                      onClick: function onClick() {\n                        setmodaldelete2(true);\n                      }\n                    })]\n                  }),\n                  children: /*#__PURE__*/_jsx(\"p\", {\n                    children: doc.description\n                  })\n                }, idx);\n              })\n            })\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: \"Konfirmasi Tambah Feature pada Module\",\n      visible: modalcreate,\n      onCancel: function onCancel() {\n        setloadingcreate(false);\n        setmodalcreate(false);\n      },\n      onOk: handleAddModuleFeature,\n      okButtonProps: {\n        loading: loadiingcreate\n      },\n      okText: \"Ya\",\n      cancelText: \"Tidak\",\n      style: {\n        top: \"3rem\"\n      },\n      width: 500,\n      destroyOnClose: true,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsxs(\"p\", {\n          children: [\"Apakah anda yakin ingin menambahkan Feature berikut ke Module \", /*#__PURE__*/_jsx(\"strong\", {\n            children: datamodules[checkedmodules] ? datamodules[checkedmodules].name : null\n          }), \"?\"]\n        }), datamodules.length < 1 ? /*#__PURE__*/_jsx(\"p\", {\n          className: \"font-semibold\",\n          children: \"-\"\n        }) : /*#__PURE__*/_jsx(\"ol\", {\n          children: checkeddatafeatures.length > 0 ? listfeat.map(function (doc, idx) {\n            if (checkeddatafeatures.includes(doc.id)) {\n              return /*#__PURE__*/_jsxs(\"li\", {\n                className: \"font-semibold\",\n                children: [\"-\", \" \", doc.name]\n              }, idx);\n            }\n          }) : \"-\"\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_Modal, {\n      title: \"Konfirmasi Hapus Feature pada Module\",\n      visible: modaldeletefeatmodule,\n      onCancel: function onCancel() {\n        setloadingdeletefeatmodule(false);\n        setmodaldeletefeatmodule(false);\n      },\n      onOk: handleDeleteModuleFeature,\n      okButtonProps: {\n        loading: loadingdeletefeatmodule\n      },\n      okText: \"Ya\",\n      cancelText: \"Tidak\",\n      style: {\n        top: \"3rem\"\n      },\n      width: 500,\n      destroyOnClose: true,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsxs(\"p\", {\n          children: [\"Apakah anda yakin ingin mengeluarkan Feature berikut dari Module \", /*#__PURE__*/_jsx(\"strong\", {\n            children: datamodules[checkedmodules] ? datamodules[checkedmodules].name : null\n          }), \"?\"]\n        }), datamodules.length < 1 ? /*#__PURE__*/_jsx(\"p\", {\n          className: \"font-semibold\",\n          children: \"----\"\n        }) : /*#__PURE__*/_jsx(\"ol\", {\n          children: checkeddatamodules.length > 0 && datamodules[checkedmodules].features ? datamodules[checkedmodules].features.map(function (doc, idx) {\n            if (checkeddatamodules.includes(doc.id)) {\n              return /*#__PURE__*/_jsxs(\"li\", {\n                className: \"font-semibold\",\n                children: [\"- \", doc.name]\n              }, idx);\n            }\n          }) : \"-\"\n        })]\n      })\n    }), /*#__PURE__*/_jsxs(_Modal, {\n      title: \"Konfirmasi hapus module\",\n      visible: modaldelete,\n      onOk: handleDeleteModule,\n      onCancel: function onCancel() {\n        return setmodaldelete(false);\n      },\n      okText: \"Ya\",\n      cancelText: \"Tidak\",\n      okButtonProps: {\n        loading: loadiingdelete\n      },\n      children: [/*#__PURE__*/_jsxs(\"p\", {\n        children: [\"Apakah anda yakin ingin menghapus Module \", /*#__PURE__*/_jsx(\"strong\", {\n          children: datamodules[checkedmodules] > 0 ? datamodules[checkedmodules].name : null\n        }), \" yang memiliki Feature berikut ini?\"]\n      }), datamodules[checkedmodules] ? /*#__PURE__*/_jsx(\"p\", {\n        className: \"font-semibold\",\n        children: \"-\"\n      }) : /*#__PURE__*/_jsx(\"ol\", {\n        children: datamodules[checkedmodules] ? datamodules[checkedmodules].features.map(function (doc, idx) {\n          return /*#__PURE__*/_jsxs(\"li\", {\n            className: \"font-semibold\",\n            children: [idx + 1, \". \", doc.name]\n          }, idx);\n        }) : \"-\"\n      })]\n    }), /*#__PURE__*/_jsxs(_Modal, {\n      title: \"Konfirmasi hapus feature\",\n      visible: modaldelete2,\n      onOk: handleDeleteFeature,\n      onCancel: function onCancel() {\n        return setmodaldelete2(false);\n      },\n      okText: \"Ya\",\n      cancelText: \"Tidak\",\n      okButtonProps: {\n        loading: loadiingdelete2\n      },\n      children: [/*#__PURE__*/_jsxs(\"p\", {\n        children: [\"Apakah Anda yakin untuk menghapus fitur \", /*#__PURE__*/_jsx(\"strong\", {\n          children: listfeat.length > 0 ? listfeat[checkedfeatures].name : null\n        }), \" yang terdaftar pada modul:\"]\n      }), listfeat.length < 1 ? /*#__PURE__*/_jsx(\"p\", {\n        className: \"font-semibold\",\n        children: \"-\"\n      }) : /*#__PURE__*/_jsx(\"ol\", {\n        children: datamodules ? datamodules.map(function (doc, idx) {\n          var status = doc.features !== null ? doc.features.map(function (doc) {\n            return doc.id;\n          }).includes(listfeat[checkedfeatures].id) : false;\n\n          if (status) {\n            return /*#__PURE__*/_jsxs(\"li\", {\n              className: \"font-semibold\",\n              children: [\"- \", doc.name]\n            }, idx);\n          }\n        }) : \"-\"\n      })]\n    })]\n  });\n};\n\nexport var __N_SSP = true;\nexport default ModulesIndex;","map":null,"metadata":{},"sourceType":"module"}