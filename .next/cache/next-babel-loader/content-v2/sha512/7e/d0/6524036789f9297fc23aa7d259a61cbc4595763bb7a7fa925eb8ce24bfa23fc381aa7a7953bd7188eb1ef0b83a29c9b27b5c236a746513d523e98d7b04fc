{"ast":null,"code":"import _Table from \"antd/lib/table\";\nimport _defineProperty from \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _TreeSelect from \"antd/lib/tree-select\";\nimport _Select from \"antd/lib/select\";\nimport _Input from \"antd/lib/input\";\nimport _Button from \"antd/lib/button\";\nimport _notification from \"antd/lib/notification\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/requesters/index.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport Layout from \"../../../components/layout-dashboard\";\nimport st from \"../../../components/layout-dashboard.module.css\";\n\nfunction modifData(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    dataa[i][\"key\"] = dataa[i].id;\n    dataa[i][\"value\"] = dataa[i].id;\n    dataa[i][\"title\"] = dataa[i].name;\n    dataa[i][\"children\"] = dataa[i].members;\n    delete dataa[i].members;\n\n    if (dataa[i].children) {\n      modifData(dataa[i].children);\n    }\n  }\n\n  return dataa;\n}\n\nfunction Requesters(_ref) {\n  _s();\n\n  var _this = this;\n\n  var initProps = _ref.initProps,\n      dataProfile = _ref.dataProfile,\n      dataListRequester = _ref.dataListRequester,\n      dataCompanyList = _ref.dataCompanyList,\n      sidemenu = _ref.sidemenu;\n  var rt = useRouter();\n  var tok = initProps;\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  var originPath = rt.query.originPath;\n  var location_id1 = \"\",\n      name1 = \"\",\n      is_enabled1 = \"\",\n      company_id1 = \"\";\n  var _rt$query = rt.query,\n      location_id = _rt$query.location_id,\n      name = _rt$query.name,\n      is_enabled = _rt$query.is_enabled,\n      company_id = _rt$query.company_id;\n\n  if (location_id) {\n    location_id1 = location_id;\n  }\n\n  if (name) {\n    name1 = name;\n  }\n\n  if (is_enabled) {\n    is_enabled1 = is_enabled;\n  }\n\n  if (company_id) {\n    company_id1 = company_id;\n  }\n\n  var _useState = useState({\n    current_page: \"\",\n    data: [],\n    first_page_url: \"\",\n    from: null,\n    last_page: null,\n    last_page_url: \"\",\n    next_page_url: \"\",\n    path: \"\",\n    per_page: null,\n    prev_page_url: null,\n    to: null,\n    total: null\n  }),\n      rawdata = _useState[0],\n      setrawdata = _useState[1]; //useState\n\n\n  var _useState2 = useState([]),\n      dataraw = _useState2[0],\n      setdataraw = _useState2[1];\n\n  var _useState3 = useState(true),\n      praloading = _useState3[0],\n      setpraloading = _useState3[1];\n\n  var _useState4 = useState(false),\n      datarawloading = _useState4[0],\n      setdatarawloading = _useState4[1];\n\n  var _useState5 = useState(false),\n      datarawloading2 = _useState5[0],\n      setdatarawloading2 = _useState5[1];\n\n  var _useState6 = useState([]),\n      dataKK = _useState6[0],\n      setDataSource = _useState6[1];\n\n  var _useState7 = useState(0),\n      rowstate = _useState7[0],\n      setrowstate = _useState7[1];\n\n  var _useState8 = useState([]),\n      datacompany = _useState8[0],\n      setdatacompany = _useState8[1];\n\n  var _useState9 = useState([]),\n      datalokasi = _useState9[0],\n      setdatalokasi = _useState9[1]; //state order\n\n\n  var _useState10 = useState(name1 === \"\" ? false : true),\n      namasearchact = _useState10[0],\n      setnamasearchact = _useState10[1];\n\n  var _useState11 = useState(company_id1 === \"\" ? false : true),\n      asalcompanyfilteract = _useState11[0],\n      setasalcompanyfilteract = _useState11[1];\n\n  var _useState12 = useState(location_id1 === \"\" ? false : true),\n      asallokasifilteract = _useState12[0],\n      setasallokasifilteract = _useState12[1];\n\n  var _useState13 = useState(-1),\n      asallokasitrigger = _useState13[0],\n      setasallokasitrigger = _useState13[1];\n\n  var _useState14 = useState(is_enabled1 === \"\" ? false : true),\n      statusfilteract = _useState14[0],\n      setstatusfilteract = _useState14[1]; //state value\n\n\n  var _useState15 = useState(null),\n      namavalue = _useState15[0],\n      setnamavalue = _useState15[1];\n\n  var _useState16 = useState(null),\n      asallokasivalue = _useState16[0],\n      setasallokasivalue = _useState16[1];\n\n  var _useState17 = useState(null),\n      asalcompanyvalue = _useState17[0],\n      setasalcompanyvalue = _useState17[1];\n\n  var _useState18 = useState(null),\n      statusvalue = _useState18[0],\n      setstatusvalue = _useState18[1];\n\n  var _useState19 = useState(true),\n      loadinglokasi = _useState19[0],\n      setloadinglokasi = _useState19[1];\n\n  var _useState20 = useState(location_id1),\n      namaasset = _useState20[0],\n      setnamaasset = _useState20[1];\n\n  var _useState21 = useState(null),\n      defasset = _useState21[0],\n      setdefasset = _useState21[1];\n\n  var _useState22 = useState(null),\n      defasset2 = _useState22[0],\n      setdefasset2 = _useState22[1]; //function\n\n\n  var temp = [];\n\n  function getidData(dataa) {\n    for (var i = 0; i < dataa.length; i++) {\n      temp.push(dataa[i][\"id\"]);\n\n      if (dataa[i][\"children\"]) {\n        getidData(dataa[i][\"children\"]);\n      }\n    }\n  } //filtering\n\n\n  var onChangeSearch = function onChangeSearch(e) {\n    if (e.target.value === \"\") {\n      // setDataSource(dataraw)\n      window.location.href = \"/admin/requesters?name=&location_id=\".concat(asallokasifilteract ? location_id1 : \"\", \"&is_enabled=\").concat(statusfilteract ? is_enabled1 : \"\", \"&company_id=\").concat(asalcompanyfilteract ? company_id1 : \"\");\n      setnamasearchact(false);\n    } else {\n      setnamasearchact(true);\n      setnamavalue(e.target.value);\n    }\n  };\n\n  var onChangeAsalCompany = function onChangeAsalCompany(value) {\n    if (typeof value === \"undefined\") {\n      // setDataSource(dataraw)\n      window.location.href = \"/admin/requesters?name=\".concat(namasearchact ? name1 : \"\", \"&location_id=&is_enabled=\").concat(statusfilteract ? is_enabled1 : \"\", \"&company_id=\"); // setasalcompanyfilteract(false)\n      // setasalcompanyvalue(null)\n      // setdatalokasi([])\n      // setloadinglokasi(true)\n    } else {\n      setasalcompanyfilteract(true);\n      setasalcompanyvalue(value);\n      setasallokasitrigger(function (prev) {\n        return prev + 1;\n      });\n    }\n  };\n\n  var onChangeAsalLokasi = function onChangeAsalLokasi(value) {\n    if (typeof value === \"undefined\") {\n      // setDataSource(dataraw)\n      window.location.href = \"/admin/requesters?name=\".concat(namasearchact ? name1 : \"\", \"&location_id=&is_enabled=\").concat(statusfilteract ? is_enabled1 : \"\", \"&company_id=\").concat(asalcompanyfilteract ? company_id1 : \"\"); // setasallokasifilteract(false)\n      // setasalcompanyfilteract(true)\n      // setasallokasivalue(null)\n    } else {\n      setasallokasifilteract(true);\n      setasalcompanyfilteract(true);\n      setasallokasivalue(value);\n    }\n  };\n\n  var onChangeStatus = function onChangeStatus(value) {\n    if (typeof value === \"undefined\") {\n      // setDataSource(dataraw)\n      window.location.href = \"/admin/requesters?name=\".concat(namasearchact ? name1 : \"\", \"&location_id=&is_enabled=&company_id=\").concat(asalcompanyfilteract ? company_id1 : \"\");\n      setstatusfilteract(false);\n    } else {\n      setstatusfilteract(true);\n      setstatusvalue(value);\n    }\n  };\n\n  var onFinalClick = function onFinalClick() {\n    // var datatemp = dataraw\n    // if (asalcompanyfilteract) {\n    //     datatemp = datatemp.filter(flt => {\n    //         return flt.company_id === asalcompanyvalue\n    //     })\n    // }\n    // if (asallokasifilteract) {\n    //     datatemp = datatemp.filter(flt => {\n    //         return flt.company_id === asallokasivalue\n    //     })\n    // }\n    // if (namasearchact) {\n    //     datatemp = datatemp.filter(flt => {\n    //         return flt.fullname.toLowerCase().includes(namavalue.toLowerCase())\n    //     })\n    // }\n    // if (statusfilteract) {\n    //     datatemp = datatemp.filter(flt => {\n    //         return flt.status === statusvalue\n    //     })\n    // }\n    // setDataSource(datatemp)\n    window.location.href = \"/admin/requesters?name=\".concat(namasearchact ? namavalue === null ? name1 : namavalue : \"\", \"&location_id=\").concat(asallokasifilteract ? asallokasivalue === null ? location_id1 : asallokasivalue : \"\", \"&is_enabled=\").concat(statusfilteract ? statusvalue === null ? is_enabled1 : statusvalue : \"\", \"&company_id=\").concat(asalcompanyfilteract ? asalcompanyvalue === null ? company_id1 : asalcompanyvalue : \"\");\n  };\n\n  var FilterAll = function FilterAll() {\n    setDataSource(dataraw);\n  };\n\n  var FilterByWord = function FilterByWord(word) {\n    var currValue = word;\n    var filteredData = dataraw.filter(function (entry) {\n      if (entry.fullname.toLowerCase()[0] === word) {\n        return entry.fullname.toLowerCase().includes(currValue);\n      }\n    });\n    setDataSource(filteredData);\n  };\n\n  var onFilterByCompany = function onFilterByCompany(val) {\n    setDataSource(dataraw);\n\n    if (val === \"all\") {\n      setDataSource(dataraw);\n    } else {\n      setDataSource(function (prev) {\n        return prev.filter(function (dataa) {\n          return dataa.company_id === val;\n        });\n      });\n    }\n  };\n\n  var columnsDD = [{\n    dataIndex: \"profil_image\",\n    render: function render(text, record, index) {\n      return {\n        // props: {\n        //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n        // },\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: record.profile_image,\n            alt: \"imageProfile\",\n            className: \" object-cover w-10 h-10 rounded-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false)\n      };\n    } // render: (text, record, index) => (\n    //     <>\n    //         <img src={record.profile_image} alt=\"imageProfile\" className=\" object-cover w-10 h-10 rounded-full\" />\n    //     </>\n    // )\n\n  }, // {\n  //     title: 'ID',\n  //     dataIndex: 'user_id',\n  //     // sorter: (a, b) => a.user_id - b.user_id,\n  //     // sortDirections: ['descend', 'ascend'],\n  //     render: (text, record, index) => {\n  //         return {\n  //             // props: {\n  //             //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n  //             // },\n  //             children:\n  //                 <>\n  //                     {record.user_id}\n  //                 </>\n  //         }\n  //     }\n  // },\n  {\n    title: \"Nama\",\n    dataIndex: \"name\",\n    // sorter: (a, b) => a.fullname.localeCompare(b.fullname),\n    // sortDirections: ['descend', 'ascend'],\n    render: function render(text, record, index) {\n      return {\n        // props: {\n        //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n        // },\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: record.name\n        }, void 0, false)\n      };\n    }\n  }, {\n    title: \"Email\",\n    dataIndex: \"email\",\n    render: function render(text, record, index) {\n      return {\n        // props: {\n        //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n        // },\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: record.email\n        }, void 0, false)\n      };\n    }\n  }, {\n    title: \"Posisi\",\n    dataIndex: \"position\",\n    render: function render(text, record, index) {\n      return {\n        // props: {\n        //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n        // },\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: record.position\n        }, void 0, false)\n      };\n    }\n  }, {\n    title: \"No. Handphone\",\n    dataIndex: \"phone_number\",\n    render: function render(text, record, index) {\n      return {\n        // props: {\n        //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n        // },\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: record.phone_number\n        }, void 0, false)\n      };\n    }\n  }, {\n    title: \"Asal Perusahaan\",\n    dataIndex: \"company_name\",\n    render: function render(text, record, index) {\n      return {\n        // props: {\n        //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n        // },\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: record.company_name\n        }, void 0, false)\n      };\n    }\n  }, {\n    title: \"Status\",\n    dataIndex: \"is_enabled\",\n    render: function render(text, record, index) {\n      return {\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: record.is_enabled ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-md w-auto h-auto px-1 text-center py-1 bg-blue-100 border border-blue-200 text-blue-600\",\n            children: \"Aktif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 17\n          }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-md w-auto h-auto px-1 text-center py-1 bg-red-100 border border-red-200 text-red-600\",\n            children: \"Non-aktif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false)\n      };\n    }\n  } // {\n  //     title: '\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0',\n  //     dataIndex: 'actionss',\n  //     render: (text, record, index) => {\n  //         return {\n  //             // props: {\n  //             //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n  //             // },\n  //             children:\n  //                 <>\n  //                     {/* {\n  //                         actions[index] ?\n  //                             <>{actions[index]} */}\n  //                     {\n  //                         [114, 115, 116, 118, 133].every((curr) => dataProfile.data.registered_feature.includes(curr)) ?\n  //                             <Button onClick={() => { rt.push(`/admin/requesters/${record.user_id}`) }} style={{ paddingTop: `0`, paddingBottom: `0.3rem` }}>\n  //                                 <EditOutlined />\n  //                             </Button>\n  //                             :\n  //                             null\n  //                     }\n  //                     {/* </>\n  //                             :\n  //                             null\n  //                     } */}\n  //                 </>\n  //         }\n  //     }\n  //     // render: (text, record, index) => (\n  //     //     <>\n  //     //         {\n  //     //             actions[index] ?\n  //     //                 <>{actions[index]}\n  //     //                     <Button onClick={() => { rt.push(`/admin/requesters/${record.user_id}`) }} style={{ paddingTop: `0`, paddingBottom: `0.3rem` }}>\n  //     //                         <EditOutlined />\n  //     //                     </Button>\n  //     //                 </>\n  //     //                 :\n  //     //                 null\n  //     //         }\n  //     //     </>\n  //     // )\n  // }\n  ]; //useEffect\n\n  useEffect(function () {\n    setpraloading(true);\n    setdatarawloading(true);\n    setdatarawloading2(true);\n    fetch(\"\".concat(process.env.NEXT_PUBLIC_BACKEND_URL, \"/getRequesterList?name=\").concat(name1, \"&company_id=\").concat(location_id1 === \"\" && company_id1 === \"null\" ? \"\" : location_id1 === \"\" ? company_id1 : location_id1).concat(is_enabled1 === \"\" ? \"\" : \"&is_enabled=\".concat(is_enabled1)), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setrawdata(res2.data);\n      var dataDD = [];\n\n      if (!res2) {\n        dataDD = [];\n\n        _notification[\"error\"]({\n          message: res2.message.errorInfo.status_detail,\n          duration: 3\n        });\n\n        rt.push(\"/dashboard/admin\");\n      } else {\n        dataDD = res2.data.data.map(function (doc, idx) {\n          return {\n            id: doc.id,\n            profile_image: doc.profile_image === \"\" || doc.profile_image === \"-\" ? \"/default-users.jpeg\" : doc.profile_image,\n            name: doc.name,\n            email: doc.email,\n            phone_number: doc.phone_number,\n            company_id: doc.company_id,\n            company_name: doc.company_name,\n            is_enabled: doc.is_enabled,\n            position: doc.position\n          };\n        });\n      }\n\n      setdataraw(res2.data);\n      setDataSource(dataDD);\n      setpraloading(false);\n    });\n  }, []);\n  useEffect(function () {\n    fetch(\"\".concat(process.env.NEXT_PUBLIC_BACKEND_URL, \"/getCompanyClientList\"), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setdatacompany(res2.data);\n      setdatarawloading(false);\n    });\n  }, []);\n  useEffect(function () {\n    setloadinglokasi(true);\n    fetch(\"\".concat(process.env.NEXT_PUBLIC_BACKEND_URL, \"/getLocations\").concat(location_id1 !== \"\" ? \"?company_id=\".concat(company_id1) : \"\"), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      if (location_id1 !== \"\") {\n        res2.data.children ? setdatalokasi(res2.data.children) : setdatalokasi([]);\n        setloadinglokasi(false);\n        var selectedBranchClient = {};\n\n        var recursiveSearchBranchClient = function recursiveSearchBranchClient(doc, key) {\n          for (var i = 0; i < doc.length; i++) {\n            if (doc[i].id === key) {\n              selectedBranchClient = doc[i];\n            } else {\n              if (doc[i].children) {\n                recursiveSearchBranchClient(doc[i].children, key);\n              }\n            }\n          }\n        };\n\n        res2.data.children ? recursiveSearchBranchClient(res2.data.children, Number(location_id1)) : selectedBranchClient = null;\n        res2.data.children ? setdefasset2(selectedBranchClient.key) : setdefasset2(null);\n      } else {\n        setdatalokasi([]);\n        company_id1 === \"\" ? setloadinglokasi(true) : setloadinglokasi(false);\n      }\n\n      setdatarawloading2(false);\n    });\n  }, []);\n  useEffect(function () {\n    if (asallokasitrigger !== -1) {\n      setloadinglokasi(true);\n      fetch(\"\".concat(process.env.NEXT_PUBLIC_BACKEND_URL, \"/getLocations\").concat(asalcompanyvalue !== null ? \"?company_id=\".concat(asalcompanyvalue) : \"\"), {\n        method: \"GET\",\n        headers: {\n          Authorization: JSON.parse(initProps)\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res2) {\n        if (asalcompanyvalue !== null) {\n          res2.data.children ? setdatalokasi(res2.data.children) : setdatalokasi([]);\n          setloadinglokasi(false);\n        } else {\n          setdatalokasi([]);\n          setloadinglokasi(false);\n        }\n      });\n    }\n  }, [asallokasitrigger]);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    tok: tok,\n    dataProfile: dataProfile,\n    pathArr: pathArr,\n    sidemenu: sidemenu,\n    originPath: originPath,\n    st: st,\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-20 w-full grid grid-cols-1 md:grid-cols-3 border-gray-400 md:border-t md:border-b p-4 bg-white mb-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-1 md:col-span-2 flex items-center mb-2 md:mb-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold text-base w-auto\",\n            children: \"Requesters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 11\n        }, this),\n        /*#__PURE__*/\n        // [117].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n        _jsxDEV(\"div\", {\n          className: \" col-span-1 md:col-span-1 flex md:justify-end items-center\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: {\n              pathname: \"/admin/requesters/create\"\n            },\n            children: /*#__PURE__*/_jsxDEV(_Button, {\n              /*onClick={() => { console.log(asalcompanyfilteract, company_id1, asalcompanyvalue); console.log(asallokasifilteract, location_id1, asallokasivalue) }}*/\n              size: \"large\",\n              type: \"primary\",\n              children: \"Tambah\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 9\n      }, this),\n      /*#__PURE__*/\n      // [119].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n      _jsxDEV(\"div\", {\n        className: \"h-auto w-full grid grid-cols-1 md:grid-cols-5 mb-5 bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-5 col-span-1 flex flex-col py-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" w-10/12 mr-1 grid grid-cols-9\",\n              children: [datarawloading ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-3 mr-1\",\n                children: /*#__PURE__*/_jsxDEV(_Input, {\n                  defaultValue: name1,\n                  style: {\n                    width: \"100%\",\n                    marginRight: \"0.5rem\"\n                  },\n                  placeholder: \"Cari nama requester\",\n                  onChange: onChangeSearch,\n                  allowClear: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 599,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 21\n              }, this), datarawloading ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-2 mr-1\",\n                children: /*#__PURE__*/_jsxDEV(_Select, {\n                  defaultValue: company_id1 === \"\" ? null : Number(company_id1),\n                  placeholder: \"Pilih asal perusahaan requester\",\n                  style: {\n                    width: \"100%\",\n                    marginRight: \"0.5rem\"\n                  },\n                  onChange: onChangeAsalCompany,\n                  allowClear: true,\n                  children: datacompany.map(function (doc, idx) {\n                    return /*#__PURE__*/_jsxDEV(_Select.Option, {\n                      value: doc.id,\n                      children: doc.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 621,\n                      columnNumber: 29\n                    }, _this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 21\n              }, this), datarawloading2 ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-2 mr-1\",\n                children: /*#__PURE__*/_jsxDEV(_TreeSelect, {\n                  defaultValue: location_id1 === \"\" ? null : defasset2 === null ? defasset2 : Number(defasset2),\n                  allowClear: true,\n                  dropdownStyle: {\n                    maxHeight: 400,\n                    overflow: \"auto\"\n                  },\n                  treeData: datalokasi,\n                  placeholder: \"Cari asal lokasi requester\",\n                  treeDefaultExpandAll: true,\n                  style: {\n                    width: \"100%\",\n                    marginRight: \"0.5rem\"\n                  },\n                  onChange: onChangeAsalLokasi,\n                  disabled: loadinglokasi\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 21\n              }, this), datarawloading ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-2 mr-1\",\n                children: /*#__PURE__*/_jsxDEV(_Select, {\n                  defaultValue: is_enabled1 === \"\" ? null : is_enabled1 === \"true\" ? true : false,\n                  placeholder: \"Pilih status requester\",\n                  style: {\n                    width: \"100%\",\n                    marginRight: \"0.5rem\"\n                  },\n                  onChange: onChangeStatus,\n                  allowClear: true,\n                  children: [/*#__PURE__*/_jsxDEV(_Select.Option, {\n                    value: true,\n                    children: \"Aktif\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(_Select.Option, {\n                    value: false,\n                    children: \"Non Aktif\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 674,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 17\n            }, this), datarawloading ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2/12\",\n              children: /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"primary\",\n                style: {\n                  width: \"100%\"\n                },\n                onClick: onFinalClick,\n                children: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 686,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(_Table, {\n            pagination: {\n              pageSize: 10,\n              total: rawdata.total,\n              onChange: function onChange(page, pageSize) {\n                setpraloading(true);\n                fetch(\"\".concat(process.env.NEXT_PUBLIC_BACKEND_URL, \"/getRequesterList?page=\").concat(page, \"&rows=10&name=\").concat(name1, \"&company_id=\").concat(location_id1 === \"\" ? company_id1 : location_id1).concat(is_enabled1 === \"\" ? \"\" : \"&is_enabled=\".concat(is_enabled1)), {\n                  // fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRequesterList`, {\n                  method: \"GET\",\n                  headers: {\n                    Authorization: JSON.parse(initProps)\n                  }\n                }).then(function (res) {\n                  return res.json();\n                }).then(function (res2) {\n                  setrawdata(res2.data);\n                  var temppagination = res2.data.data.map(function (doc, idx) {\n                    return _objectSpread(_objectSpread({}, doc), {}, {\n                      profile_image: doc.profile_image === \"-\" || doc.profile_image === \"\" ? \"/default-users.jpeg\" : doc.profile_image\n                    });\n                  });\n                  setDataSource(temppagination);\n                  setpraloading(false);\n                });\n              }\n            },\n            scroll: {\n              x: 200\n            },\n            dataSource: dataKK,\n            columns: columnsDD,\n            loading: praloading,\n            onRow: function onRow(record, rowIndex) {\n              return {\n                onMouseOver: function onMouseOver(event) {\n                  setrowstate(record.id);\n                },\n                onClick: function onClick(event) {\n                  {\n                    // [107, 110, 111, 112, 132].every((curr) => dataProfile.data.registered_feature.includes(curr)) ?\n                    rt.push(\"/admin/requesters/detail/\".concat(record.id)); // :\n                    // null\n                  }\n                }\n              };\n            },\n            rowClassName: function rowClassName(record, idx) {\n              return record.id === rowstate ? \"cursor-pointer\" : \"\";\n            } // onRow={(record, rowIndex) => {\n            //     return {\n            //         onMouseOver: (event) => {\n            //             var actionsCopy = actions\n            //             actionsCopy[rowIndex] = true\n            //             setActions(actionsCopy)\n            //             setAction(\"block\")\n            //         },\n            //         onMouseLeave: (event) => {\n            //             var actionsCopy = actions\n            //             actionsCopy[rowIndex] = false\n            //             setActions(actionsCopy)\n            //             setAction(\"hidden\")\n            //         }\n            //     }\n            // }}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 560,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Requesters, \"VZEyJ0n6jEAYg4uwjlYhimQm5D0=\", false, function () {\n  return [useRouter];\n});\n\n_c = Requesters;\nexport var __N_SSP = true;\nexport default Requesters;\n\nvar _c;\n\n$RefreshReg$(_c, \"Requesters\");","map":{"version":3,"sources":["/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/requesters/index.js"],"names":["SearchOutlined","Link","useRouter","useEffect","useState","Layout","st","modifData","dataa","i","length","id","name","members","children","Requesters","initProps","dataProfile","dataListRequester","dataCompanyList","sidemenu","rt","tok","pathArr","pathname","split","slice","originPath","query","location_id1","name1","is_enabled1","company_id1","location_id","is_enabled","company_id","current_page","data","first_page_url","from","last_page","last_page_url","next_page_url","path","per_page","prev_page_url","to","total","rawdata","setrawdata","dataraw","setdataraw","praloading","setpraloading","datarawloading","setdatarawloading","datarawloading2","setdatarawloading2","dataKK","setDataSource","rowstate","setrowstate","datacompany","setdatacompany","datalokasi","setdatalokasi","namasearchact","setnamasearchact","asalcompanyfilteract","setasalcompanyfilteract","asallokasifilteract","setasallokasifilteract","asallokasitrigger","setasallokasitrigger","statusfilteract","setstatusfilteract","namavalue","setnamavalue","asallokasivalue","setasallokasivalue","asalcompanyvalue","setasalcompanyvalue","statusvalue","setstatusvalue","loadinglokasi","setloadinglokasi","namaasset","setnamaasset","defasset","setdefasset","defasset2","setdefasset2","temp","getidData","push","onChangeSearch","e","target","value","window","location","href","onChangeAsalCompany","prev","onChangeAsalLokasi","onChangeStatus","onFinalClick","FilterAll","FilterByWord","word","currValue","filteredData","filter","entry","fullname","toLowerCase","includes","onFilterByCompany","val","columnsDD","dataIndex","render","text","record","index","profile_image","title","email","position","phone_number","company_name","fetch","process","env","NEXT_PUBLIC_BACKEND_URL","method","headers","Authorization","JSON","parse","then","res","json","res2","dataDD","message","errorInfo","status_detail","duration","map","doc","idx","selectedBranchClient","recursiveSearchBranchClient","key","Number","width","marginRight","maxHeight","overflow","pageSize","onChange","page","temppagination","x","rowIndex","onMouseOver","event","onClick"],"mappings":"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","sourcesContent":["import { SearchOutlined } from \"@ant-design/icons\";\nimport { Button, Input, Select, Table, TreeSelect, notification } from \"antd\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\n\nimport Layout from \"../../../components/layout-dashboard\";\nimport st from \"../../../components/layout-dashboard.module.css\";\nimport httpcookie from \"cookie\";\n\nfunction modifData(dataa) {\n  for (var i = 0; i < dataa.length; i++) {\n    dataa[i][\"key\"] = dataa[i].id;\n    dataa[i][\"value\"] = dataa[i].id;\n    dataa[i][\"title\"] = dataa[i].name;\n    dataa[i][\"children\"] = dataa[i].members;\n    delete dataa[i].members;\n    if (dataa[i].children) {\n      modifData(dataa[i].children);\n    }\n  }\n  return dataa;\n}\n\nfunction Requesters({\n  initProps,\n  dataProfile,\n  dataListRequester,\n  dataCompanyList,\n  sidemenu,\n}) {\n  const rt = useRouter();\n  const tok = initProps;\n  const pathArr = rt.pathname.split(\"/\").slice(1);\n  const { originPath } = rt.query;\n  var location_id1 = \"\",\n    name1 = \"\",\n    is_enabled1 = \"\",\n    company_id1 = \"\";\n  const { location_id, name, is_enabled, company_id } = rt.query;\n  if (location_id) {\n    location_id1 = location_id;\n  }\n  if (name) {\n    name1 = name;\n  }\n  if (is_enabled) {\n    is_enabled1 = is_enabled;\n  }\n  if (company_id) {\n    company_id1 = company_id;\n  }\n  const [rawdata, setrawdata] = useState({\n    current_page: \"\",\n    data: [],\n    first_page_url: \"\",\n    from: null,\n    last_page: null,\n    last_page_url: \"\",\n    next_page_url: \"\",\n    path: \"\",\n    per_page: null,\n    prev_page_url: null,\n    to: null,\n    total: null,\n  });\n\n  //useState\n  const [dataraw, setdataraw] = useState([]);\n  const [praloading, setpraloading] = useState(true);\n  const [datarawloading, setdatarawloading] = useState(false);\n  const [datarawloading2, setdatarawloading2] = useState(false);\n  const [dataKK, setDataSource] = useState([]);\n  const [rowstate, setrowstate] = useState(0);\n  const [datacompany, setdatacompany] = useState([]);\n  const [datalokasi, setdatalokasi] = useState([]);\n  //state order\n  const [namasearchact, setnamasearchact] = useState(\n    name1 === \"\" ? false : true\n  );\n  const [asalcompanyfilteract, setasalcompanyfilteract] = useState(\n    company_id1 === \"\" ? false : true\n  );\n  const [asallokasifilteract, setasallokasifilteract] = useState(\n    location_id1 === \"\" ? false : true\n  );\n  const [asallokasitrigger, setasallokasitrigger] = useState(-1);\n  const [statusfilteract, setstatusfilteract] = useState(\n    is_enabled1 === \"\" ? false : true\n  );\n  //state value\n  const [namavalue, setnamavalue] = useState(null);\n  const [asallokasivalue, setasallokasivalue] = useState(null);\n  const [asalcompanyvalue, setasalcompanyvalue] = useState(null);\n  const [statusvalue, setstatusvalue] = useState(null);\n  const [loadinglokasi, setloadinglokasi] = useState(true);\n  const [namaasset, setnamaasset] = useState(location_id1);\n  const [defasset, setdefasset] = useState(null);\n  const [defasset2, setdefasset2] = useState(null);\n\n  //function\n  var temp = [];\n  function getidData(dataa) {\n    for (var i = 0; i < dataa.length; i++) {\n      temp.push(dataa[i][\"id\"]);\n      if (dataa[i][\"children\"]) {\n        getidData(dataa[i][\"children\"]);\n      }\n    }\n  }\n\n  //filtering\n  const onChangeSearch = (e) => {\n    if (e.target.value === \"\") {\n      // setDataSource(dataraw)\n      window.location.href = `/admin/requesters?name=&location_id=${\n        asallokasifilteract ? location_id1 : \"\"\n      }&is_enabled=${statusfilteract ? is_enabled1 : \"\"}&company_id=${\n        asalcompanyfilteract ? company_id1 : \"\"\n      }`;\n      setnamasearchact(false);\n    } else {\n      setnamasearchact(true);\n      setnamavalue(e.target.value);\n    }\n  };\n  const onChangeAsalCompany = (value) => {\n    if (typeof value === \"undefined\") {\n      // setDataSource(dataraw)\n      window.location.href = `/admin/requesters?name=${\n        namasearchact ? name1 : \"\"\n      }&location_id=&is_enabled=${\n        statusfilteract ? is_enabled1 : \"\"\n      }&company_id=`;\n      // setasalcompanyfilteract(false)\n      // setasalcompanyvalue(null)\n      // setdatalokasi([])\n      // setloadinglokasi(true)\n    } else {\n      setasalcompanyfilteract(true);\n      setasalcompanyvalue(value);\n      setasallokasitrigger((prev) => prev + 1);\n    }\n  };\n  const onChangeAsalLokasi = (value) => {\n    if (typeof value === \"undefined\") {\n      // setDataSource(dataraw)\n      window.location.href = `/admin/requesters?name=${\n        namasearchact ? name1 : \"\"\n      }&location_id=&is_enabled=${\n        statusfilteract ? is_enabled1 : \"\"\n      }&company_id=${asalcompanyfilteract ? company_id1 : \"\"}`;\n      // setasallokasifilteract(false)\n      // setasalcompanyfilteract(true)\n      // setasallokasivalue(null)\n    } else {\n      setasallokasifilteract(true);\n      setasalcompanyfilteract(true);\n      setasallokasivalue(value);\n    }\n  };\n  const onChangeStatus = (value) => {\n    if (typeof value === \"undefined\") {\n      // setDataSource(dataraw)\n      window.location.href = `/admin/requesters?name=${\n        namasearchact ? name1 : \"\"\n      }&location_id=&is_enabled=&company_id=${\n        asalcompanyfilteract ? company_id1 : \"\"\n      }`;\n      setstatusfilteract(false);\n    } else {\n      setstatusfilteract(true);\n      setstatusvalue(value);\n    }\n  };\n  const onFinalClick = () => {\n    // var datatemp = dataraw\n    // if (asalcompanyfilteract) {\n    //     datatemp = datatemp.filter(flt => {\n    //         return flt.company_id === asalcompanyvalue\n    //     })\n    // }\n    // if (asallokasifilteract) {\n    //     datatemp = datatemp.filter(flt => {\n    //         return flt.company_id === asallokasivalue\n    //     })\n    // }\n    // if (namasearchact) {\n    //     datatemp = datatemp.filter(flt => {\n    //         return flt.fullname.toLowerCase().includes(namavalue.toLowerCase())\n    //     })\n    // }\n    // if (statusfilteract) {\n    //     datatemp = datatemp.filter(flt => {\n    //         return flt.status === statusvalue\n    //     })\n    // }\n    // setDataSource(datatemp)\n    window.location.href = `/admin/requesters?name=${\n      namasearchact ? (namavalue === null ? name1 : namavalue) : \"\"\n    }&location_id=${\n      asallokasifilteract\n        ? asallokasivalue === null\n          ? location_id1\n          : asallokasivalue\n        : \"\"\n    }&is_enabled=${\n      statusfilteract ? (statusvalue === null ? is_enabled1 : statusvalue) : \"\"\n    }&company_id=${\n      asalcompanyfilteract\n        ? asalcompanyvalue === null\n          ? company_id1\n          : asalcompanyvalue\n        : \"\"\n    }`;\n  };\n\n  const FilterAll = () => {\n    setDataSource(dataraw);\n  };\n  const FilterByWord = (word) => {\n    const currValue = word;\n    const filteredData = dataraw.filter((entry) => {\n      if (entry.fullname.toLowerCase()[0] === word) {\n        return entry.fullname.toLowerCase().includes(currValue);\n      }\n    });\n    setDataSource(filteredData);\n  };\n  const onFilterByCompany = (val) => {\n    setDataSource(dataraw);\n    if (val === \"all\") {\n      setDataSource(dataraw);\n    } else {\n      setDataSource((prev) => {\n        return prev.filter((dataa) => {\n          return dataa.company_id === val;\n        });\n      });\n    }\n  };\n\n  const columnsDD = [\n    {\n      dataIndex: \"profil_image\",\n      render: (text, record, index) => {\n        return {\n          // props: {\n          //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n          // },\n          children: (\n            <>\n              <img\n                src={record.profile_image}\n                alt=\"imageProfile\"\n                className=\" object-cover w-10 h-10 rounded-full\"\n              />\n            </>\n          ),\n        };\n      },\n      // render: (text, record, index) => (\n      //     <>\n      //         <img src={record.profile_image} alt=\"imageProfile\" className=\" object-cover w-10 h-10 rounded-full\" />\n      //     </>\n      // )\n    },\n    // {\n    //     title: 'ID',\n    //     dataIndex: 'user_id',\n    //     // sorter: (a, b) => a.user_id - b.user_id,\n    //     // sortDirections: ['descend', 'ascend'],\n    //     render: (text, record, index) => {\n    //         return {\n    //             // props: {\n    //             //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n    //             // },\n    //             children:\n    //                 <>\n    //                     {record.user_id}\n    //                 </>\n    //         }\n    //     }\n    // },\n    {\n      title: \"Nama\",\n      dataIndex: \"name\",\n      // sorter: (a, b) => a.fullname.localeCompare(b.fullname),\n      // sortDirections: ['descend', 'ascend'],\n      render: (text, record, index) => {\n        return {\n          // props: {\n          //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n          // },\n          children: <>{record.name}</>,\n        };\n      },\n    },\n    {\n      title: \"Email\",\n      dataIndex: \"email\",\n      render: (text, record, index) => {\n        return {\n          // props: {\n          //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n          // },\n          children: <>{record.email}</>,\n        };\n      },\n    },\n    {\n      title: \"Posisi\",\n      dataIndex: \"position\",\n      render: (text, record, index) => {\n        return {\n          // props: {\n          //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n          // },\n          children: <>{record.position}</>,\n        };\n      },\n    },\n    {\n      title: \"No. Handphone\",\n      dataIndex: \"phone_number\",\n      render: (text, record, index) => {\n        return {\n          // props: {\n          //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n          // },\n          children: <>{record.phone_number}</>,\n        };\n      },\n    },\n    {\n      title: \"Asal Perusahaan\",\n      dataIndex: \"company_name\",\n      render: (text, record, index) => {\n        return {\n          // props: {\n          //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n          // },\n          children: <>{record.company_name}</>,\n        };\n      },\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"is_enabled\",\n      render: (text, record, index) => {\n        return {\n          children: (\n            <>\n              {record.is_enabled ? (\n                <div className=\"rounded-md w-auto h-auto px-1 text-center py-1 bg-blue-100 border border-blue-200 text-blue-600\">\n                  Aktif\n                </div>\n              ) : (\n                <div className=\"rounded-md w-auto h-auto px-1 text-center py-1 bg-red-100 border border-red-200 text-red-600\">\n                  Non-aktif\n                </div>\n              )}\n            </>\n          ),\n        };\n      },\n    },\n    // {\n    //     title: '\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0',\n    //     dataIndex: 'actionss',\n    //     render: (text, record, index) => {\n    //         return {\n    //             // props: {\n    //             //     style: { backgroundColor: index % 2 == 1 ? '#f2f2f2' : '#fff' },\n    //             // },\n    //             children:\n    //                 <>\n    //                     {/* {\n    //                         actions[index] ?\n    //                             <>{actions[index]} */}\n    //                     {\n    //                         [114, 115, 116, 118, 133].every((curr) => dataProfile.data.registered_feature.includes(curr)) ?\n    //                             <Button onClick={() => { rt.push(`/admin/requesters/${record.user_id}`) }} style={{ paddingTop: `0`, paddingBottom: `0.3rem` }}>\n    //                                 <EditOutlined />\n    //                             </Button>\n    //                             :\n    //                             null\n    //                     }\n    //                     {/* </>\n    //                             :\n    //                             null\n    //                     } */}\n    //                 </>\n    //         }\n    //     }\n    //     // render: (text, record, index) => (\n    //     //     <>\n    //     //         {\n    //     //             actions[index] ?\n    //     //                 <>{actions[index]}\n    //     //                     <Button onClick={() => { rt.push(`/admin/requesters/${record.user_id}`) }} style={{ paddingTop: `0`, paddingBottom: `0.3rem` }}>\n    //     //                         <EditOutlined />\n    //     //                     </Button>\n    //     //                 </>\n    //     //                 :\n    //     //                 null\n    //     //         }\n    //     //     </>\n    //     // )\n    // }\n  ];\n\n  //useEffect\n  useEffect(() => {\n    setpraloading(true);\n    setdatarawloading(true);\n    setdatarawloading2(true);\n    fetch(\n      `${\n        process.env.NEXT_PUBLIC_BACKEND_URL\n      }/getRequesterList?name=${name1}&company_id=${\n        location_id1 === \"\" && company_id1 === \"null\"\n          ? \"\"\n          : location_id1 === \"\"\n          ? company_id1\n          : location_id1\n      }${is_enabled1 === \"\" ? \"\" : `&is_enabled=${is_enabled1}`}`,\n      {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps),\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res2) => {\n        setrawdata(res2.data);\n        var dataDD = [];\n        if (!res2) {\n          dataDD = [];\n          notification[\"error\"]({\n            message: res2.message.errorInfo.status_detail,\n            duration: 3,\n          });\n          rt.push(\"/dashboard/admin\");\n        } else {\n          dataDD = res2.data.data.map((doc, idx) => {\n            return {\n              id: doc.id,\n              profile_image:\n                doc.profile_image === \"\" || doc.profile_image === \"-\"\n                  ? `/default-users.jpeg`\n                  : doc.profile_image,\n              name: doc.name,\n              email: doc.email,\n              phone_number: doc.phone_number,\n              company_id: doc.company_id,\n              company_name: doc.company_name,\n              is_enabled: doc.is_enabled,\n              position: doc.position,\n            };\n          });\n        }\n        setdataraw(res2.data);\n        setDataSource(dataDD);\n        setpraloading(false);\n      });\n  }, []);\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getCompanyClientList`, {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps),\n      },\n    })\n      .then((res) => res.json())\n      .then((res2) => {\n        setdatacompany(res2.data);\n        setdatarawloading(false);\n      });\n  }, []);\n  useEffect(() => {\n    setloadinglokasi(true);\n    fetch(\n      `${process.env.NEXT_PUBLIC_BACKEND_URL}/getLocations${\n        location_id1 !== \"\" ? `?company_id=${company_id1}` : ``\n      }`,\n      {\n        method: `GET`,\n        headers: {\n          Authorization: JSON.parse(initProps),\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res2) => {\n        if (location_id1 !== \"\") {\n          res2.data.children\n            ? setdatalokasi(res2.data.children)\n            : setdatalokasi([]);\n          setloadinglokasi(false);\n          var selectedBranchClient = {};\n          const recursiveSearchBranchClient = (doc, key) => {\n            for (var i = 0; i < doc.length; i++) {\n              if (doc[i].id === key) {\n                selectedBranchClient = doc[i];\n              } else {\n                if (doc[i].children) {\n                  recursiveSearchBranchClient(doc[i].children, key);\n                }\n              }\n            }\n          };\n          res2.data.children\n            ? recursiveSearchBranchClient(\n                res2.data.children,\n                Number(location_id1)\n              )\n            : (selectedBranchClient = null);\n          res2.data.children\n            ? setdefasset2(selectedBranchClient.key)\n            : setdefasset2(null);\n        } else {\n          setdatalokasi([]);\n          company_id1 === \"\" ? setloadinglokasi(true) : setloadinglokasi(false);\n        }\n        setdatarawloading2(false);\n      });\n  }, []);\n  useEffect(() => {\n    if (asallokasitrigger !== -1) {\n      setloadinglokasi(true);\n      fetch(\n        `${process.env.NEXT_PUBLIC_BACKEND_URL}/getLocations${\n          asalcompanyvalue !== null ? `?company_id=${asalcompanyvalue}` : ``\n        }`,\n        {\n          method: `GET`,\n          headers: {\n            Authorization: JSON.parse(initProps),\n          },\n        }\n      )\n        .then((res) => res.json())\n        .then((res2) => {\n          if (asalcompanyvalue !== null) {\n            res2.data.children\n              ? setdatalokasi(res2.data.children)\n              : setdatalokasi([]);\n            setloadinglokasi(false);\n          } else {\n            setdatalokasi([]);\n            setloadinglokasi(false);\n          }\n        });\n    }\n  }, [asallokasitrigger]);\n  return (\n    <Layout\n      tok={tok}\n      dataProfile={dataProfile}\n      pathArr={pathArr}\n      sidemenu={sidemenu}\n      originPath={originPath}\n      st={st}\n    >\n      <>\n        <div className=\"h-20 w-full grid grid-cols-1 md:grid-cols-3 border-gray-400 md:border-t md:border-b p-4 bg-white mb-5\">\n          <div className=\"col-span-1 md:col-span-2 flex items-center mb-2 md:mb-0\">\n            <div className=\"font-semibold text-base w-auto\">Requesters</div>\n          </div>\n          {\n            // [117].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n            <div className=\" col-span-1 md:col-span-1 flex md:justify-end items-center\">\n              <Link\n                href={{\n                  pathname: \"/admin/requesters/create\",\n                }}\n              >\n                <Button\n                  /*onClick={() => { console.log(asalcompanyfilteract, company_id1, asalcompanyvalue); console.log(asallokasifilteract, location_id1, asallokasivalue) }}*/ size=\"large\"\n                  type=\"primary\"\n                >\n                  Tambah\n                </Button>\n              </Link>\n            </div>\n          }\n        </div>\n        {\n          // [119].every((curr) => dataProfile.data.registered_feature.includes(curr)) &&\n          <div className=\"h-auto w-full grid grid-cols-1 md:grid-cols-5 mb-5 bg-white\">\n            <div className=\"md:col-span-5 col-span-1 flex flex-col py-3\">\n              <div className=\"flex mb-8\">\n                <div className=\" w-10/12 mr-1 grid grid-cols-9\">\n                  {datarawloading ? null : (\n                    <div className=\"col-span-3 mr-1\">\n                      <Input\n                        defaultValue={name1}\n                        style={{ width: `100%`, marginRight: `0.5rem` }}\n                        placeholder=\"Cari nama requester\"\n                        onChange={onChangeSearch}\n                        allowClear\n                      ></Input>\n                    </div>\n                  )}\n                  {datarawloading ? null : (\n                    <div className=\"col-span-2 mr-1\">\n                      <Select\n                        defaultValue={\n                          company_id1 === \"\" ? null : Number(company_id1)\n                        }\n                        placeholder=\"Pilih asal perusahaan requester\"\n                        style={{ width: `100%`, marginRight: `0.5rem` }}\n                        onChange={onChangeAsalCompany}\n                        allowClear\n                      >\n                        {datacompany.map((doc, idx) => {\n                          return (\n                            <Select.Option value={doc.id}>\n                              {doc.name}\n                            </Select.Option>\n                          );\n                        })}\n                      </Select>\n                      {/* <TreeSelect defaultValue={company_id1 === \"null\" || company_id1 === \"\" ? null : Number(defasset)} allowClear\n                                                    dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                                                    treeData={datacompany}\n                                                    placeholder=\"Cari asal perusahaan requester\"\n                                                    treeDefaultExpandAll\n                                                    style={{ width: `100%`, marginRight: `0.5rem` }}\n                                                    onChange={onChangeAsalCompany}\n                                                /> */}\n                    </div>\n                  )}\n                  {datarawloading2 ? null : (\n                    <div className=\"col-span-2 mr-1\">\n                      <TreeSelect\n                        defaultValue={\n                          location_id1 === \"\"\n                            ? null\n                            : defasset2 === null\n                            ? defasset2\n                            : Number(defasset2)\n                        }\n                        allowClear\n                        dropdownStyle={{ maxHeight: 400, overflow: \"auto\" }}\n                        treeData={datalokasi}\n                        placeholder=\"Cari asal lokasi requester\"\n                        treeDefaultExpandAll\n                        style={{ width: `100%`, marginRight: `0.5rem` }}\n                        onChange={onChangeAsalLokasi}\n                        disabled={loadinglokasi}\n                      />\n                    </div>\n                  )}\n                  {datarawloading ? null : (\n                    <div className=\"col-span-2 mr-1\">\n                      <Select\n                        defaultValue={\n                          is_enabled1 === \"\"\n                            ? null\n                            : is_enabled1 === \"true\"\n                            ? true\n                            : false\n                        }\n                        placeholder=\"Pilih status requester\"\n                        style={{ width: `100%`, marginRight: `0.5rem` }}\n                        onChange={onChangeStatus}\n                        allowClear\n                      >\n                        <Select.Option value={true}>Aktif</Select.Option>\n                        <Select.Option value={false}>Non Aktif</Select.Option>\n                      </Select>\n                    </div>\n                  )}\n                </div>\n                {datarawloading ? null : (\n                  <div className=\"w-2/12\">\n                    <Button\n                      type=\"primary\"\n                      style={{ width: `100%` }}\n                      onClick={onFinalClick}\n                    >\n                      <SearchOutlined />\n                    </Button>\n                  </div>\n                )}\n              </div>\n              <Table\n                pagination={{\n                  pageSize: 10,\n                  total: rawdata.total,\n                  onChange: (page, pageSize) => {\n                    setpraloading(true);\n                    fetch(\n                      `${\n                        process.env.NEXT_PUBLIC_BACKEND_URL\n                      }/getRequesterList?page=${page}&rows=10&name=${name1}&company_id=${\n                        location_id1 === \"\" ? company_id1 : location_id1\n                      }${\n                        is_enabled1 === \"\" ? \"\" : `&is_enabled=${is_enabled1}`\n                      }`,\n                      {\n                        // fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRequesterList`, {\n                        method: `GET`,\n                        headers: {\n                          Authorization: JSON.parse(initProps),\n                        },\n                      }\n                    )\n                      .then((res) => res.json())\n                      .then((res2) => {\n                        setrawdata(res2.data);\n                        var temppagination = res2.data.data.map((doc, idx) => ({\n                          ...doc,\n                          profile_image:\n                            doc.profile_image === \"-\" ||\n                            doc.profile_image === \"\"\n                              ? `/default-users.jpeg`\n                              : doc.profile_image,\n                        }));\n                        setDataSource(temppagination);\n                        setpraloading(false);\n                      });\n                  },\n                }}\n                scroll={{ x: 200 }}\n                dataSource={dataKK}\n                columns={columnsDD}\n                loading={praloading}\n                onRow={(record, rowIndex) => {\n                  return {\n                    onMouseOver: (event) => {\n                      setrowstate(record.id);\n                    },\n                    onClick: (event) => {\n                      {\n                        // [107, 110, 111, 112, 132].every((curr) => dataProfile.data.registered_feature.includes(curr)) ?\n                        rt.push(`/admin/requesters/detail/${record.id}`);\n                        // :\n                        // null\n                      }\n                    },\n                  };\n                }}\n                rowClassName={(record, idx) => {\n                  return record.id === rowstate ? `cursor-pointer` : ``;\n                }}\n                // onRow={(record, rowIndex) => {\n                //     return {\n                //         onMouseOver: (event) => {\n                //             var actionsCopy = actions\n                //             actionsCopy[rowIndex] = true\n                //             setActions(actionsCopy)\n                //             setAction(\"block\")\n                //         },\n                //         onMouseLeave: (event) => {\n                //             var actionsCopy = actions\n                //             actionsCopy[rowIndex] = false\n                //             setActions(actionsCopy)\n                //             setAction(\"hidden\")\n                //         }\n                //     }\n                // }}\n              ></Table>\n            </div>\n          </div>\n        }\n      </>\n    </Layout>\n  );\n}\n\nexport async function getServerSideProps({ req, res }) {\n  var initProps = {};\n  const reqBodyAccountList = {\n    page: 1,\n    rows: 50,\n    order_by: \"asc\",\n  };\n  const reqBody = {\n    page: 1,\n    rows: 50,\n    order_by: \"asc\",\n  };\n  if (!req.headers.cookie) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\",\n      },\n    };\n  }\n  const cookiesJSON1 = httpcookie.parse(req.headers.cookie);\n  if (!cookiesJSON1.token) {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\",\n      },\n    };\n  }\n  initProps = cookiesJSON1.token;\n  const resourcesGP = await fetch(\n    `${process.env.NEXT_PUBLIC_BACKEND_URL}/detailProfile`,\n    {\n      method: `GET`,\n      headers: {\n        Authorization: JSON.parse(initProps),\n      },\n    }\n  );\n  const resjsonGP = await resourcesGP.json();\n  const dataProfile = resjsonGP;\n\n  // if (![119, 118, 117, 116, 115, 114, 133].every((curr) => dataProfile.data.registered_feature.includes(curr))) {\n  //     res.writeHead(302, { Location: '/dashboard/admin' })\n  //     res.end()\n  // }\n\n  // const resourcesLA = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getRequesterList`, {\n  //     method: `POST`,\n  //     headers: {\n  //         'Authorization': JSON.parse(initProps),\n  //         'Content-Type': 'application/json'\n  //     },\n  //     body: JSON.stringify(reqBodyAccountList)\n  // })\n  // const resjsonLA = await resourcesLA.json()\n  // const dataListRequester = resjsonLA\n\n  // const resourcesGCL = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getClientCompanyList`, {\n  //     method: `POST`,\n  //     headers: {\n  //         'Authorization': JSON.parse(initProps),\n  //         'Content-Type': 'application/json'\n  //     },\n  //     body: JSON.stringify(reqBody)\n  // })\n  // const resjsonGCL = await resourcesGCL.json()\n  // const dataCompanyList = resjsonGCL\n\n  return {\n    props: {\n      initProps,\n      dataProfile,\n      // dataListRequester,\n      // dataCompanyList,\n      sidemenu: \"62\",\n    },\n  };\n}\n\nexport default Requesters;\n"]},"metadata":{},"sourceType":"module"}