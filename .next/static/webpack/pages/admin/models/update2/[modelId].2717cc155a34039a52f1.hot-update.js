webpackHotUpdate_N_E("pages/admin/models/update2/[modelId]",{

/***/ "./src/pages/admin/models/update2/[modelId].js":
/*!*****************************************************!*\
  !*** ./src/pages/admin/models/update2/[modelId].js ***!
  \*****************************************************/
/*! exports provided: __N_SSP, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/lib/popconfirm */ \"./node_modules/antd/lib/popconfirm/index.js\");\n/* harmony import */ var antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/lib/date-picker */ \"./node_modules/antd/lib/date-picker/index.js\");\n/* harmony import */ var antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/lib/input-number */ \"./node_modules/antd/lib/input-number/index.js\");\n/* harmony import */ var antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var antd_lib_empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/lib/empty */ \"./node_modules/antd/lib/empty/index.js\");\n/* harmony import */ var antd_lib_empty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(antd_lib_empty__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd/lib/input */ \"./node_modules/antd/lib/input/index.js\");\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/lib/tree-select */ \"./node_modules/antd/lib/tree-select/index.js\");\n/* harmony import */ var antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var antd_lib_spin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/lib/spin */ \"./node_modules/antd/lib/spin/index.js\");\n/* harmony import */ var antd_lib_spin__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(antd_lib_spin__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var antd_lib_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd/lib/button */ \"./node_modules/antd/lib/button/index.js\");\n/* harmony import */ var antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var antd_lib_notification__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! antd/lib/notification */ \"./node_modules/antd/lib/notification/index.js\");\n/* harmony import */ var antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(antd_lib_notification__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty */ \"./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray */ \"./node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var antd_lib_timeline__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! antd/lib/timeline */ \"./node_modules/antd/lib/timeline/index.js\");\n/* harmony import */ var antd_lib_timeline__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(antd_lib_timeline__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! antd/lib/checkbox */ \"./node_modules/antd/lib/checkbox/index.js\");\n/* harmony import */ var antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! antd/lib/select */ \"./node_modules/antd/lib/select/index.js\");\n/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! antd/lib/collapse */ \"./node_modules/antd/lib/collapse/index.js\");\n/* harmony import */ var antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! antd/lib/form */ \"./node_modules/antd/lib/form/index.js\");\n/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(antd_lib_form__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! styled-jsx/style */ \"./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ant-design/icons */ \"./node_modules/@ant-design/icons/es/index.js\");\n/* harmony import */ var antd_lib_modal_Modal__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! antd/lib/modal/Modal */ \"./node_modules/antd/lib/modal/Modal.js\");\n/* harmony import */ var antd_lib_modal_Modal__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(antd_lib_modal_Modal__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! moment */ \"./node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var wil_react_sticky__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! wil-react-sticky */ \"./node_modules/wil-react-sticky/dist/index.es.js\");\n/* harmony import */ var _components_layout_dashboard__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../components/layout-dashboard */ \"./src/components/layout-dashboard.js\");\n/* harmony import */ var _components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../components/layout-dashboard.module.css */ \"./src/components/layout-dashboard.module.css\");\n/* harmony import */ var _components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_27__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _jsxFileName = \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js\",\n    _this = undefined,\n    _s = $RefreshSig$();\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar ModelsUpdate2 = function ModelsUpdate2(_ref) {\n  _s();\n\n  var sidemenu = _ref.sidemenu,\n      dataProfile = _ref.dataProfile,\n      initProps = _ref.initProps,\n      modelid = _ref.modelid;\n  //1.Init\n  var rt = Object(next_router__WEBPACK_IMPORTED_MODULE_23__[\"useRouter\"])();\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  pathArr.splice(3, 1);\n  pathArr[pathArr.length - 1] = \"Ubah Model\";\n\n  var _Form$useForm = antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.useForm(),\n      _Form$useForm2 = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(_Form$useForm, 1),\n      instanceForm = _Form$useForm2[0];\n\n  var _Form$useForm3 = antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.useForm(),\n      _Form$useForm4 = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(_Form$useForm3, 1),\n      instanceForm2 = _Form$useForm4[0];\n\n  var Panel = antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15___default.a.Panel; //2.Helper functions\n\n  var renderChildPartModel = function renderChildPartModel(item) {\n    return item.map(function (doc, idx) {\n      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(Children, {\n        doc: doc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 14\n      }, _this);\n    });\n  };\n\n  var Children = function Children(_ref2) {\n    var doc = _ref2.doc;\n    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_timeline__WEBPACK_IMPORTED_MODULE_11___default.a.Item, {\n      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15___default.a, {\n        accordion: true,\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(Panel, {\n          header: doc.name,\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n            className: \"jsx-2733278964\" + \" \" + \"flex flex-col p-3\",\n            children: [doc.model_columns.map(function (docmc2, idx) {\n              // var default2 = {}\n              // if (docmc2.data_type === 'dropdown' || docmc2.data_type === 'checkbox') {\n              //     default2 = JSON.parse(docmc2.default)\n              // }\n              return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"jsx-2733278964\" + \" \" + \"flex flex-col mb-5\",\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                  className: \"jsx-2733278964\" + \" \" + \"font-semibold mb-1\",\n                  children: [docmc2.name, \" \", docmc2.required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-2733278964\" + \" \" + \"judulsn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 27\n                  }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-2733278964\" + \" \" + \"text-gray-400\",\n                    children: [\"(\", docmc2.data_type === \"single\" ? \"Single Textbox\" : docmc2.data_type.charAt(0).toUpperCase() + docmc2.data_type.slice(1), docmc2.data_type === \"paragraph\" && \" Text\", \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-2733278964\" + \" \" + \"w-full flex items-center my-auto px-2\",\n                  children: docmc2.data_type === \"dropdown\" || docmc2.data_type === \"checkbox\" || docmc2.data_type === \"date\" || docmc2.data_type === \"paragraph\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                    children: [docmc2.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                      disabled: true,\n                      style: {\n                        width: \"100%\",\n                        backgroundColor: \"rgba(229, 231, 235,1)\",\n                        color: \"rgba(229, 231, 235,1)\"\n                      },\n                      children: docmc2[\"default\"].opsi.map(function (doc2, idx2) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          disabled: true,\n                          value: idx2,\n                          children: doc2\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 101,\n                          columnNumber: 35\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 31\n                    }, _this), docmc2.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"w-full flex flex-col\",\n                      children: docmc2[\"default\"].opsi.map(function (doc3, idx3) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-2733278964\" + \" \" + \"flex mb-1\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            disabled: true,\n                            style: {\n                              marginRight: \"0.5rem\"\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 111,\n                            columnNumber: 37\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                            className: \"jsx-2733278964\" + \" \" + \"mb-0\",\n                            children: doc3\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 115,\n                            columnNumber: 37\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 110,\n                          columnNumber: 35\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 31\n                    }, _this), docmc2.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"flex w-full items-center justify-between rounded bg-gray-100 h-10 px-3\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                        className: \"jsx-2733278964\" + \" \" + \"mb-0\",\n                        children: docmc2[\"default\"]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 33\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-2733278964\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 124,\n                          columnNumber: 35\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 33\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 31\n                    }, _this), docmc2.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"flex h-20 rounded border bg-gray-100 w-full px-3\",\n                      children: docmc2[\"default\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-2733278964\" + \" \" + \"rounded border bg-gray-100 flex items-center w-full h-10 px-3\",\n                    children: docmc2[\"default\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 27\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, _this);\n            }), doc.model_parts.length > 0 && renderChildPartModel(doc.model_parts)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n            id: \"2733278964\",\n            children: \".judulassettype.jsx-2733278964::before{content:'*';color:red;}.judulsn.jsx-2733278964::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrSmlCLEFBR3lFLEFBSUEsWUFIRixBQUlBLFVBSGQsQUFJQSIsImZpbGUiOiIvaG9tZS9ram9ra2VuL21pZy9jb2RlL2Zyb250ZW5kL2ltcy1mZS1zc2gtZGV2L3NyYy9wYWdlcy9hZG1pbi9tb2RlbHMvdXBkYXRlMi9bbW9kZWxJZF0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWxldGVPdXRsaW5lZCB9IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQ2FsZW5kYXJPdXRsaW5lZCxcbiAgQ2xvc2VDaXJjbGVPdXRsaW5lZCxcbiAgUGx1c1NxdWFyZVR3b1RvbmUsXG59IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBDaGVja2JveCxcbiAgQ29sbGFwc2UsXG4gIERhdGVQaWNrZXIsXG4gIEVtcHR5LFxuICBGb3JtLFxuICBJbnB1dCxcbiAgSW5wdXROdW1iZXIsXG4gIFBvcGNvbmZpcm0sXG4gIFNlbGVjdCxcbiAgU3BpbixcbiAgVGltZWxpbmUsXG4gIFRyZWVTZWxlY3QsXG4gIG5vdGlmaWNhdGlvbixcbn0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBNb2RhbCBmcm9tIFwiYW50ZC9saWIvbW9kYWwvTW9kYWxcIjtcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgU3RpY2t5IGZyb20gXCJ3aWwtcmVhY3Qtc3RpY2t5XCI7XG5cbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0LWRhc2hib2FyZFwiO1xuaW1wb3J0IHN0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmQubW9kdWxlLmNzc1wiO1xuaW1wb3J0IGh0dHBjb29raWUgZnJvbSBcImNvb2tpZVwiO1xuXG5jb25zdCBNb2RlbHNVcGRhdGUyID0gKHsgc2lkZW1lbnUsIGRhdGFQcm9maWxlLCBpbml0UHJvcHMsIG1vZGVsaWQgfSkgPT4ge1xuICAvLzEuSW5pdFxuICBjb25zdCBydCA9IHVzZVJvdXRlcigpO1xuICB2YXIgcGF0aEFyciA9IHJ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcbiAgcGF0aEFyci5zcGxpY2UoMywgMSk7XG4gIHBhdGhBcnJbcGF0aEFyci5sZW5ndGggLSAxXSA9IFwiVWJhaCBNb2RlbFwiO1xuICBjb25zdCBbaW5zdGFuY2VGb3JtXSA9IEZvcm0udXNlRm9ybSgpO1xuICBjb25zdCBbaW5zdGFuY2VGb3JtMl0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgeyBQYW5lbCB9ID0gQ29sbGFwc2U7XG5cbiAgLy8yLkhlbHBlciBmdW5jdGlvbnNcbiAgY29uc3QgcmVuZGVyQ2hpbGRQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgIHJldHVybiBpdGVtLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgIHJldHVybiA8Q2hpbGRyZW4gZG9jPXtkb2N9PjwvQ2hpbGRyZW4+O1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IENoaWxkcmVuID0gKHsgZG9jIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRpbWVsaW5lLkl0ZW0+XG4gICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAge1xuICAgICAgICAgICAgPFBhbmVsIGhlYWRlcj17ZG9jLm5hbWV9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+UXVhbnRpdHkgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj48L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MucXVhbnRpdHl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYzIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gdmFyIGRlZmF1bHQyID0ge31cbiAgICAgICAgICAgICAgICAgIC8vIGlmIChkb2NtYzIuZGF0YV90eXBlID09PSAnZHJvcGRvd24nIHx8IGRvY21jMi5kYXRhX3R5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgICAgICAgIC8vICAgICBkZWZhdWx0MiA9IEpTT04ucGFyc2UoZG9jbWMyLmRlZmF1bHQpXG4gICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIubmFtZX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvY21jMi5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAxMDAlYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGByZ2JhKDIyOSwgMjMxLCAyMzUsMSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0Lm9wc2kubWFwKChkb2MyLCBpZHgyKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gZGlzYWJsZWQgdmFsdWU9e2lkeDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMywgaWR4MykgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jM308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQgYmctZ3JheS0xMDAgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jbWMyLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgIHJlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgIDwvVGltZWxpbmUuSXRlbT5cbiAgICApO1xuICB9O1xuXG4gIC8vMi51c2VTdGF0ZVxuICBjb25zdCBbbmV3ZGF0YSwgc2V0bmV3ZGF0YV0gPSB1c2VTdGF0ZSh7XG4gICAgaWQ6IFwiXCIsXG4gICAgYXNzZXRfaWQ6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICBtYW51ZmFjdHVyZXJfaWQ6IG51bGwsXG4gICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgICBhZGRfY29sdW1uczogW10sXG4gICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgfSk7XG4gIGNvbnN0IFtuZXdkYXRhMiwgc2V0bmV3ZGF0YTJdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbZGVmYXVsdGRhdGEsIHNldGRlZmF1bHRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2Fzc2V0ZGF0YSwgc2V0YXNzZXRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21hbnVmZGF0YSwgc2V0bWFudWZkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVsZGF0YSwgc2V0bW9kZWxkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YSwgc2V0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YTIsIHNldGZpZWxkZGF0YTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYSwgc2V0ZmllbGRkYXRhYV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhMiwgc2V0ZmllbGRkYXRhYTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxwYXJ0ZmllbGRkYXRhLCBzZXRtb2RlbHBhcnRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudGZpZWxkLCBzZXRjdXJyZW50ZmllbGRdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZDIsIHNldGN1cnJlbnRmaWVsZDJdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRpZG1vZGVsLCBzZXRjdXJyZW50aWRtb2RlbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FkZGVkZmllbGQsIHNldGFkZGVkZmllbGRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDEsIHNldGFkZGVkZmllbGQxXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQyLCBzZXRhZGRlZGZpZWxkMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMywgc2V0YWRkZWRmaWVsZDNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeCwgc2V0YWRkZWRmaWVsZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlciwgc2V0YWRkZWRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDEsIHNldGFkZGVkZmllbGRpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMSwgc2V0YWRkZWRmaWVsZHRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgyLCBzZXRhZGRlZGZpZWxkaWR4Ml0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjIsIHNldGFkZGVkZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Mywgc2V0YWRkZWRmaWVsZGlkeDNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIzLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZSwgc2V0bG9hZGluZ2NyZWF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlbW9kZWwsIHNldGxvYWRpbmdjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nZ2V0bW9kZWwsIHNldGxvYWRpbmdnZXRtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmFsb2FkaW5nLCBzZXRwcmFsb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMsIHNldGxvYWRpbmdzcGVjXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjMiwgc2V0bG9hZGluZ3NwZWMyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bjIsIHNldGN1cnJlbnRkcm9wZG93bjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bm4yLCBzZXRjdXJyZW50ZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlciwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMSwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjMsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIsIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnNpZHgsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3ZhbHVlLCBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWVdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIxLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjFdID1cbiAgICB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4MSwgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3ZhbHVlMSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjb25jYXRmaWVsZHRyaWdnZXIyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VkaXRwYXJ0LCBzZXRlZGl0cGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RhbGNyZWF0ZW1vZGVsLCBzZXRtb2RhbGNyZWF0ZW1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld2RhdGF0cmlnZ2VyLCBzZXRuZXdkYXRhdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlcjIsIHNldG5ld2RhdGF0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RlbHRyaWdnZXIsIHNldG1vZGVsdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRwYXJ0dHJpZ2dlciwgc2V0Y29uY2F0cGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHZhbHVlLCBzZXRjb25jYXRwYXJ0dmFsdWVdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYXNzZXR0eXBlY29kZSwgc2V0YXNzZXR0eXBlY29kZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUyLCBzZXRhc3NldHR5cGVjb2RlMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2RlZmF1bHRtb2RlbCwgc2V0ZGVmYXVsdG1vZGVsXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW2Rpc2FibGVkdGFtYmFoLCBzZXRkaXNhYmxlZHRhbWJhaF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaDIsIHNldGRpc2FibGVkdGFtYmFoMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkLCBzZXRkaXNhYmxlZGFkZGZpZWxkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkZmllbGQyLCBzZXRkaXNhYmxlZGFkZGZpZWxkMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwb2ludGV2ZW50LCBzZXRwb2ludGV2ZW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcG9pbnRldmVudDIsIHNldHBvaW50ZXZlbnQyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY2QyLCBzZXRjZDJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2NkaWR4LCBzZXRjZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjZHRyaWdnZXIsIHNldGNkdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjZDJwYXJ0LCBzZXRjZDJwYXJ0XSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZHBhcnRpZHgsIHNldGNkcGFydGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjZHBhcnR0cmlnZ2VyLCBzZXRjZHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NoYW5nZWFzc2V0LCBzZXRjaGFuZ2Vhc3NldF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtkZWZhdWx0YXNzZXQsIHNldGRlZmF1bHRhc3NldF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmZXRjaGluZ3BhcnQsIHNldGZldGNoaW5ncGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwYWdlLCBzZXRwYWdlXSA9IHVzZVN0YXRlKDEpO1xuICAvL2NyZWF0ZSBtYW51ZmFjdHVyZXJcbiAgY29uc3QgW21vZGFsbWFudWYsIHNldG1vZGFsbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ21hbnVmLCBzZXRsb2FkaW5nbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRtYW51Ziwgc2V0ZGlzYWJsZWRtYW51Zl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyaWdnZXJtYW51Ziwgc2V0dHJpZ2dlcm1hbnVmXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2RhdGFtYW51Ziwgc2V0ZGF0YW1hbnVmXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICB9KTtcblxuICAvLzMub25DaGFuZ2VcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkID0gKCkgPT4ge1xuICAgIHNldGZpZWxkZGF0YShbXG4gICAgICAuLi5maWVsZGRhdGEsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgc2V0YWRkZWRmaWVsZDEoWy4uLmFkZGVkZmllbGQxLCBmYWxzZV0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkMiA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGFhMihbXG4gICAgICAuLi5maWVsZGRhdGFhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQgPSAoaWQpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYXNzZXRfaWQ6IE51bWJlcihpZCkgfSk7XG4gICAgc2V0bG9hZGluZ3NwZWModHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0YXNzZXRpZCA9IGRlZmF1bHRhc3NldC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKTtcbiAgICAgICAgICBjb25zdCBuZXdhc3NldGZpZWxkZGF0YTIgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgIC5maWx0ZXIoKGRvY2ZpbHRlcikgPT4gZGVmYXVsdGFzc2V0aWQuaW5jbHVkZXMoZG9jZmlsdGVyLmlkKSlcbiAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wbyA9IHByZXY7XG4gICAgICAgICAgICB0ZW1wbyA9IHRlbXBvXG4gICAgICAgICAgICAgIC5maWx0ZXIoKGRvY2ZpbHRlcikgPT4gZGVmYXVsdGFzc2V0aWQuaW5jbHVkZXMoZG9jZmlsdGVyLmlkKSlcbiAgICAgICAgICAgICAgLmNvbmNhdCh0ZW1wKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wbztcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbmV3YXNzZXRmaWVsZGRhdGEyLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICBhZGRfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRkZWZhdWx0ZGF0YSh7XG4gICAgICAgICAgICAuLi5kZWZhdWx0ZGF0YSxcbiAgICAgICAgICAgIGlkOiBkZWZhdWx0bW9kZWwuaWQsXG4gICAgICAgICAgICBuYW1lOiBkZWZhdWx0bW9kZWwubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZWZhdWx0bW9kZWwuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXJfaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXJfaWQsXG4gICAgICAgICAgICBjb3VudDogZGVmYXVsdG1vZGVsLmNvdW50LFxuICAgICAgICAgICAgYXNzZXQ6IHtcbiAgICAgICAgICAgICAgaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICAgICAgbmFtZTogcmVzMi5kYXRhLm5hbWUsXG4gICAgICAgICAgICAgIGNvZGU6IHJlczIuZGF0YS5jb2RlLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzMi5kYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcjoge1xuICAgICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLm1hbnVmYWN0dXJlci5pZCxcbiAgICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm1hbnVmYWN0dXJlci5uYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiBOdW1iZXIoaWQpLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogZGVmYXVsdGFzc2V0LFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgICAgICAgICAgYWRkX21vZGVsczogW10sXG4gICAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3YXNzZXRmaWVsZGRhdGEyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0Y2hhbmdlYXNzZXQodGVtcCk7XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZChhcnIpO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJpbmZvXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQW5kYSBUZWxhaCBNZW5ndWJhaCBBc3NldCBUeXBlXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgICAgXCJIYWwgaW5pIG1lbWJ1YXQgZmllbGQgZGFyaSBhc3NldCB0eXBlIHRlcmthaXQgdGVyYmVudHVrIGRpIGZvcm0gaW5pIVwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IFtdO1xuICAgICAgICAgIC8vIHNldGZpZWxkZGF0YTIodGVtcClcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tTZWxlY3RBc3NldDIgPSAoaWQpID0+IHtcbiAgICBzZXRsb2FkaW5nc3BlYzIodHJ1ZSk7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgYXNzZXRfaWQ6IE51bWJlcihpZCkgfSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgYm9vbCA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9vbC5wdXNoKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRhZGRlZGZpZWxkMyhib29sKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YTIubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5jb2RlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGFzc2V0dHlwZWNvZGUyKHJlczIuZGF0YS5pZCk7XG4gICAgICAgICAgLy8gc2V0bmV3ZGF0YXRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMyKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IFtdO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YTIubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICAuLi5uZXdkYXRhMixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vNC5oYW5kbGVcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTW9kZWwgPSAoKSA9PiB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wIGluIG5ld2RhdGEpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJ1cGRhdGVfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFkZF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIHNldGxvYWRpbmdjcmVhdGUodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L3VwZGF0ZU1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHQpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ2NyZWF0ZShmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTW9kZWwgYmVyaGFzaWwgZGl1YmFoXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgcnQucHVzaChgL2FkbWluL21vZGVscy9kZXRhaWwvJHttb2RlbGlkfWApO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTW9kZWxpbk1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhMikge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhc3NldF9pZFwiKSBbKHRbcHJvcF0gPSBOdW1iZXIoYXNzZXR0eXBlY29kZTIpKV07XG4gICAgICBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGEyW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTW9kZWwgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgc2V0bW9kZWx0cmlnZ2VyKHJlczIuaWQpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUFkZE1hbnVmYWN0dXJlciA9ICgpID0+IHtcbiAgICBzZXRsb2FkaW5nbWFudWYodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1hbnVmYWN0dXJlcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YW1hbnVmKSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdtYW51ZihmYWxzZSk7XG4gICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1hbnVmYWN0dXJlciBiZXJoYXNpbCBkaXRhbWJhaGthblwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGF0YW1hbnVmKHtcbiAgICAgICAgICAgIC4uLmRhdGFtYW51ZixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0dHJpZ2dlcm1hbnVmKChwcmV2KSA9PiBwcmV2ICsgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzUudXNlRWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0c2AsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRhc3NldGRhdGEocmVzMi5kYXRhKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1hbnVmYWN0dXJlcnNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlczIuZGF0YTtcblxuICAgICAgICBzZXRtYW51ZmRhdGEoZGF0YSk7XG5cbiAgICAgICAgLyoqIFNldCBuZXcgaW5zZXJ0ZWQgbWFudWZhY3R1cmVyIGFzIGRlZmF1bHQgc2VsZWN0ZWQgb3B0aW9uIGluIHRoZSBcIk1hbnVmYWN0dXJlclwiIGRyb3Bkb3duICovXG4gICAgICAgIGlmICh0cmlnZ2VybWFudWYgPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IG5ld01hbnVmYWN0dXJlcklkID0gbGF0ZXN0SW5zZXJ0ZWRNYW51ZmFjdHVyZXIuaWQ7XG5cbiAgICAgICAgICAvKiogRm9ybSBjb250cm9sIHZhbHVlICovXG4gICAgICAgICAgaW5zdGFuY2VGb3JtLnNldEZpZWxkc1ZhbHVlKHsgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCB9KTtcblxuICAgICAgICAgIC8qKiBJdCdzIG5lY2Vzc2FyeSB0byB1cGRhdGUgdGhpcyBzdGF0ZS4gVGhpcyBzdGF0ZSB3aWxsIGJlIHVzZWQgYXMgYSBwYXlsb2FkIHRvIHRoZSBiYWNrZW5kICovXG4gICAgICAgICAgc2V0bmV3ZGF0YShwcmV2ID0+ICh7Li4ucHJldiwgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9LCBbdHJpZ2dlcm1hbnVmXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7bW9kZWxpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9tb2RlbF9wYXJ0c1xuICAgICAgICBjb25zdCByZWN1cnNpdmVQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgICAgIHZhciB0ZW1wMTEgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZW1wMSA9IHt9O1xuICAgICAgICAgICAgdGVtcDEgPSBpdGVtW2ldLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0ZW1wMTEucHVzaCh7XG4gICAgICAgICAgICAgIC4uLml0ZW1baV0sXG4gICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAxLFxuICAgICAgICAgICAgICBtb2RlbF9wYXJ0czpcbiAgICAgICAgICAgICAgICBpdGVtW2ldLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gcmVjdXJzaXZlUGFydE1vZGVsKGl0ZW1baV0ubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZW1wMTE7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHlvID0gcmVjdXJzaXZlUGFydE1vZGVsKHJlczIuZGF0YS5tb2RlbF9wYXJ0cyk7XG4gICAgICAgIGNvbnN0IHRlbXAyID0ge1xuICAgICAgICAgIC4uLnJlczIuZGF0YSxcbiAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmFzc2V0LmNvZGUsXG4gICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcCxcbiAgICAgICAgICBhZGRfY29sdW1uczogW10sXG4gICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0bmV3ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGFzc2V0KHRlbXApO1xuICAgICAgICBzZXRkZWZhdWx0bW9kZWwodGVtcDIpO1xuICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoeW8pO1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRhZGRlZGZpZWxkKGFycik7XG4gICAgICAgIHNldGFzc2V0dHlwZWNvZGUocmVzMi5kYXRhLmFzc2V0X2lkKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwobW9kZWx0cmlnZ2VyKTtcbiAgICAgICAgbW9kZWx0cmlnZ2VyICE9PSBmYWxzZSA/IHNldGVkaXRwYXJ0KHRydWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICB9LCBbbW9kZWx0cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlciAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEyLmNvbmNhdChmaWVsZGRhdGEpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHggIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNoYW5nZWFzc2V0LnNvbWUoXG4gICAgICAgICAgKGRvY3NvbWUpID0+IGRvY3NvbWUuaWQgPT09IGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZFxuICAgICAgICApIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2ZpZWxkZGF0YTIubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHgxICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjb25jYXRhZGRjb2x1bW5zaWR4MSA+IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoIC0gMSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlMS5pZCA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICBjaGFuZ2Vhc3NldCA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtmaWVsZGRhdGEubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtjb25jYXRhZGRjb2x1bW5zaWR4MV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4XSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHhdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDEgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4MV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4MV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgzICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDNdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4M10gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyM10pO1xuXG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYWRkX21vZGVsczogdGVtcCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRwYXJ0dHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMi5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkaWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RwYXJ0aWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMnBhcnQuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZHBhcnRpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RwYXJ0aWR4KSk7XG4gICAgfVxuICB9LCBbY2RwYXJ0dHJpZ2dlcl0pO1xuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5cbiAgICAgICAgICAgICAgICBGb3JtIFViYWggTW9kZWwgLSB7bmV3ZGF0YS5uYW1lfVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gfT5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgLypvbkNsaWNrPXsoKSA9PiB7IGNvbnNvbGUubG9nKG5ld2RhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2coZGVmYXVsdGRhdGEpOyBjb25zb2xlLmxvZyhkZWZhdWx0YXNzZXQpIH19Ki8gdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybS5zdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9TdGlja3k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+SW5mb3JtYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAge3ByYWxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxTcGluPjwvU3Bpbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtfVxuICAgICAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWx9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17bmV3ZGF0YX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51Zih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5pc19jb25zdW1hYmxlfVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBNb2RlbCBDb25zdW1hYmxlIGRlbmdhbiBzYXR1YW4ganVtbGFoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7bG9hZGluZ3NwZWMgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhMi5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPEVtcHR5IGltYWdlPXtFbXB0eS5QUkVTRU5URURfSU1BR0VfU0lNUExFfT48L0VtcHR5PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGZpZWxkZGF0YTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZFtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICE9PSBmaWVsZGRhdGEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeFVwZGF0ZUNvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5zcGxpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4VXBkYXRlQ29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2ZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMVtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGFbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YTIubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvYy5tb2RlbF9jaGlsZC5sZW5ndGggPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB3LTYvMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0yXCI+e2RvYy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJyaWdodFwiIHRpdGxlPVwiTW9kZWwgdGlkYWsgbWVtaWxpa2kgcGFydCBtb2RlbCFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgPEV4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGBicm93bmAgfX0+PC9FeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBNb2RlbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBkYXJpIE1vZGVsIFBhcnQgJHtuZXdkYXRhLm5hbWV9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4dGVtcCA9IG1vZGVscGFydGZpZWxkZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzIpID0+IGRvYzIuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5zcGxpY2UoaWR4ZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5pbmRleE9mKGRvYy5pZCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGByZWRgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXQgVHlwZXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsYXNzZXR0eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jLCBpZHhtYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgbXktYXV0byBweC0yIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXdoaXRlIGJvcmRlciB3LTMvMTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGJnLWdyYXktMTAwIHJvdW5kZWQgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIGZsZXggaXRlbXMtY2VudGVyIHctZnVsbCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUaW1lbGluZSBzdHlsZT17eyBtYXJnaW5Ub3A6IGAxcmVtYCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RpbWVsaW5lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2VkaXRwYXJ0ID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG15LTMgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTUgdGV4dC1sZyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50aWRtb2RlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtjdXJyZW50aWRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hpbmdwYXJ0ID8gPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9L2dldE1vZGVscz9yb3dzPTEwJm5hbWU9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gXCJcIiA/IHZhbHVlIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldG1vZGVsZGF0YShbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gYXRhdSBjYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uUG9wdXBTY3JvbGw9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZXZlbnQudGFyZ2V0LnNjcm9sbFRvcCArIGV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQgPT09IGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldHBhZ2UocHJldiA9PiBwcmV2ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHM/cGFnZT0ke3BhZ2V9JnJvd3M9MTBgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlczIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2Nyb2xsVG8oMCwgZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLnRvID49IHJlczIuZGF0YS50b3RhbCA/IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YV0pIDogc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhLCA8U3BpbiBzaXplPVwic21hbGxcIiAvPl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kZWxkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17ZG9jLmlkfSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdnZXRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke2N1cnJlbnRpZG1vZGVsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAxID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiByZXMyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9jb2x1bW5zXCJdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVscGFydHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubW9kZWxfcGFydHMubWFwKChkb2MyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwMyA9IGRvYzIubW9kZWxfY29sdW1ucy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jMykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MzIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbWFwMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9wYXJ0c1wiXSA9IG1vZGVscGFydHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wiaWRcIl0gPSByZXMyLmRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibmFtZVwiXSA9IHJlczIuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMSA9IFsuLi50ZW1wMSwgdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHZhbHVlKHJlczIuZGF0YS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR0cmlnZ2VyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YTIgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhkYXRhMiA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRpZG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWR4ZGF0YTIgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgKyBUYW1iYWggUGFydCBNb2RlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybTIuc3VibWl0fVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGVtb2RlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsY3JlYXRlbW9kZWx9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgbWItOFwiPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm0yfVxuICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEyLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge2ZpZWxkZGF0YWEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQyW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMl07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YWEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZG1hbnVmfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZE1hbnVmYWN0dXJlcn1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbG1hbnVmfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgTmFtYSBNYW51ZmFjdHVyZXIgPHNwYW4gY2xhc3NOYW1lPVwibmFtYW1hbnVcIj48L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdmFsdWU9e2RhdGFtYW51Zi5uYW1lfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIE5hbWEgTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgID8gc2V0ZGlzYWJsZWRtYW51Zih0cnVlKVxuICAgICAgICAgICAgICAgICAgOiBzZXRkaXNhYmxlZG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRkYXRhbWFudWYoeyBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hbWFtYW51OjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoeyByZXEsIHJlcywgcGFyYW1zIH0pIHtcbiAgY29uc3QgbW9kZWxpZCA9IHBhcmFtcy5tb2RlbElkO1xuICB2YXIgaW5pdFByb3BzID0ge307XG4gIGlmICghcmVxLmhlYWRlcnMuY29va2llKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvb2tpZXNKU09OMSA9IGh0dHBjb29raWUucGFyc2UocmVxLmhlYWRlcnMuY29va2llKTtcbiAgaWYgKCFjb29raWVzSlNPTjEudG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaW5pdFByb3BzID0gY29va2llc0pTT04xLnRva2VuO1xuICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZGV0YWlsUHJvZmlsZWAsXG4gICAge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IHJlc2pzb24gPSBhd2FpdCByZXNvdXJjZXMuanNvbigpO1xuICBjb25zdCBkYXRhUHJvZmlsZSA9IHJlc2pzb247XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgaW5pdFByb3BzLFxuICAgICAgZGF0YVByb2ZpbGUsXG4gICAgICBzaWRlbWVudTogXCI4MlwiLFxuICAgICAgbW9kZWxpZCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNVcGRhdGUyO1xuIl19 */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n          }, void 0, false, void 0, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, _this);\n  }; //2.useState\n\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({\n    id: \"\",\n    asset_id: \"\",\n    name: \"\",\n    description: \"\",\n    manufacturer_id: null,\n    required_sn: false,\n    is_consumable: false,\n    model_columns: [],\n    model_parts: [],\n    add_columns: [],\n    delete_column_ids: [],\n    update_columns: [],\n    add_models: [],\n    delete_model_ids: []\n  }),\n      newdata = _useState[0],\n      setnewdata = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({\n    id: \"\",\n    asset_id: \"\",\n    name: \"\",\n    description: \"\",\n    manufacturer_id: \"\",\n    required_sn: false,\n    is_consumable: false,\n    model_columns: [],\n    model_parts: [],\n    add_columns: [],\n    delete_column_ids: [],\n    update_columns: [],\n    add_models: [],\n    delete_model_ids: []\n  }),\n      newdata2 = _useState2[0],\n      setnewdata2 = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      defaultdata = _useState3[0],\n      setdefaultdata = _useState3[1];\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      assetdata = _useState4[0],\n      setassetdata = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      manufdata = _useState5[0],\n      setmanufdata = _useState5[1];\n\n  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      modeldata = _useState6[0],\n      setmodeldata = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      fielddata = _useState7[0],\n      setfielddata = _useState7[1];\n\n  var _useState8 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      fielddata2 = _useState8[0],\n      setfielddata2 = _useState8[1];\n\n  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      fielddataa = _useState9[0],\n      setfielddataa = _useState9[1];\n\n  var _useState10 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      fielddataa2 = _useState10[0],\n      setfielddataa2 = _useState10[1];\n\n  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      modelpartfielddata = _useState11[0],\n      setmodelpartfielddata = _useState11[1];\n\n  var _useState12 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({\n    name: \"\",\n    data_type: \"\",\n    \"default\": \"single\",\n    required: false\n  }),\n      currentfield = _useState12[0],\n      setcurrentfield = _useState12[1];\n\n  var _useState13 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({\n    name: \"\",\n    data_type: \"\",\n    \"default\": \"single\",\n    required: false\n  }),\n      currentfield2 = _useState13[0],\n      setcurrentfield2 = _useState13[1];\n\n  var _useState14 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      currentidmodel = _useState14[0],\n      setcurrentidmodel = _useState14[1];\n\n  var _useState15 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      addedfield = _useState15[0],\n      setaddedfield = _useState15[1];\n\n  var _useState16 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      addedfield1 = _useState16[0],\n      setaddedfield1 = _useState16[1];\n\n  var _useState17 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      addedfield2 = _useState17[0],\n      setaddedfield2 = _useState17[1];\n\n  var _useState18 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      addedfield3 = _useState18[0],\n      setaddedfield3 = _useState18[1];\n\n  var _useState19 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      addedfieldidx = _useState19[0],\n      setaddedfieldidx = _useState19[1];\n\n  var _useState20 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      addedfieldtrigger = _useState20[0],\n      setaddedfieldtrigger = _useState20[1];\n\n  var _useState21 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      addedfieldidx1 = _useState21[0],\n      setaddedfieldidx1 = _useState21[1];\n\n  var _useState22 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      addedfieldtrigger1 = _useState22[0],\n      setaddedfieldtrigger1 = _useState22[1];\n\n  var _useState23 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      addedfieldidx2 = _useState23[0],\n      setaddedfieldidx2 = _useState23[1];\n\n  var _useState24 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      addedfieldtrigger2 = _useState24[0],\n      setaddedfieldtrigger2 = _useState24[1];\n\n  var _useState25 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      addedfieldidx3 = _useState25[0],\n      setaddedfieldidx3 = _useState25[1];\n\n  var _useState26 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      addedfieldtrigger3 = _useState26[0],\n      setaddedfieldtrigger3 = _useState26[1];\n\n  var _useState27 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadingcreate = _useState27[0],\n      setloadingcreate = _useState27[1];\n\n  var _useState28 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadingcreatemodel = _useState28[0],\n      setloadingcreatemodel = _useState28[1];\n\n  var _useState29 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadinggetmodel = _useState29[0],\n      setloadinggetmodel = _useState29[1];\n\n  var _useState30 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(true),\n      praloading = _useState30[0],\n      setpraloading = _useState30[1];\n\n  var _useState31 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadingspec = _useState31[0],\n      setloadingspec = _useState31[1];\n\n  var _useState32 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadingspec2 = _useState32[0],\n      setloadingspec2 = _useState32[1];\n\n  var _useState33 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([\"\", \"\"]),\n      currentdropdown2 = _useState33[0],\n      setcurrentdropdown2 = _useState33[1];\n\n  var _useState34 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([\"\", \"\"]),\n      currentdropdownn2 = _useState34[0],\n      setcurrentdropdownn2 = _useState34[1];\n\n  var _useState35 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      currentcheckeddropdown2 = _useState35[0],\n      setcurrentcheckeddropdown2 = _useState35[1];\n\n  var _useState36 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      currentcheckeddropdownn2 = _useState36[0],\n      setcurrentcheckeddropdownn2 = _useState36[1];\n\n  var _useState37 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      valuedropdowntrigger = _useState37[0],\n      setvaluedropdowntrigger = _useState37[1];\n\n  var _useState38 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      valuedropdowntrigger1 = _useState38[0],\n      setvaluedropdowntrigger1 = _useState38[1];\n\n  var _useState39 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      valuedropdowntrigger2 = _useState39[0],\n      setvaluedropdowntrigger2 = _useState39[1];\n\n  var _useState40 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      valuedropdowntrigger3 = _useState40[0],\n      setvaluedropdowntrigger3 = _useState40[1];\n\n  var _useState41 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      idxdropdowntrigger = _useState41[0],\n      setidxdropdowntrigger = _useState41[1];\n\n  var _useState42 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      idxdropdowntrigger1 = _useState42[0],\n      setidxdropdowntrigger1 = _useState42[1];\n\n  var _useState43 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      idxdropdowntrigger2 = _useState43[0],\n      setidxdropdowntrigger2 = _useState43[1];\n\n  var _useState44 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      idxdropdowntrigger3 = _useState44[0],\n      setidxdropdowntrigger3 = _useState44[1];\n\n  var _useState45 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      concatfieldtrigger = _useState45[0],\n      setconcatfieldtrigger = _useState45[1];\n\n  var _useState46 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      concataddcolumnstrigger = _useState46[0],\n      setconcataddcolumnstrigger = _useState46[1];\n\n  var _useState47 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      concataddcolumnsidx = _useState47[0],\n      setconcataddcolumnsidx = _useState47[1];\n\n  var _useState48 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      concataddcolumnsvalue = _useState48[0],\n      setconcataddcolumnsvalue = _useState48[1];\n\n  var _useState49 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      concataddcolumnstrigger1 = _useState49[0],\n      setconcataddcolumnstrigger1 = _useState49[1];\n\n  var _useState50 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      concataddcolumnsidx1 = _useState50[0],\n      setconcataddcolumnsidx1 = _useState50[1];\n\n  var _useState51 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      concataddcolumnsvalue1 = _useState51[0],\n      setconcataddcolumnsvalue1 = _useState51[1];\n\n  var _useState52 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      concatfieldtrigger2 = _useState52[0],\n      setconcatfieldtrigger2 = _useState52[1];\n\n  var _useState53 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      editpart = _useState53[0],\n      seteditpart = _useState53[1];\n\n  var _useState54 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      modalcreatemodel = _useState54[0],\n      setmodalcreatemodel = _useState54[1];\n\n  var _useState55 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      newdatatrigger = _useState55[0],\n      setnewdatatrigger = _useState55[1];\n\n  var _useState56 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      newdatatrigger2 = _useState56[0],\n      setnewdatatrigger2 = _useState56[1];\n\n  var _useState57 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      modeltrigger = _useState57[0],\n      setmodeltrigger = _useState57[1];\n\n  var _useState58 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      concatparttrigger = _useState58[0],\n      setconcatparttrigger = _useState58[1];\n\n  var _useState59 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      concatpartvalue = _useState59[0],\n      setconcatpartvalue = _useState59[1];\n\n  var _useState60 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      assettypecode = _useState60[0],\n      setassettypecode = _useState60[1];\n\n  var _useState61 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      assettypecode2 = _useState61[0],\n      setassettypecode2 = _useState61[1];\n\n  var _useState62 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({}),\n      defaultmodel = _useState62[0],\n      setdefaultmodel = _useState62[1];\n\n  var _useState63 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      disabledtambah = _useState63[0],\n      setdisabledtambah = _useState63[1];\n\n  var _useState64 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      disabledtambah2 = _useState64[0],\n      setdisabledtambah2 = _useState64[1];\n\n  var _useState65 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      disabledaddfield = _useState65[0],\n      setdisabledaddfield = _useState65[1];\n\n  var _useState66 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      disabledaddfield2 = _useState66[0],\n      setdisabledaddfield2 = _useState66[1];\n\n  var _useState67 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      pointevent = _useState67[0],\n      setpointevent = _useState67[1];\n\n  var _useState68 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      pointevent2 = _useState68[0],\n      setpointevent2 = _useState68[1];\n\n  var _useState69 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([\"\", \"\"]),\n      cd2 = _useState69[0],\n      setcd2 = _useState69[1];\n\n  var _useState70 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      cdidx = _useState70[0],\n      setcdidx = _useState70[1];\n\n  var _useState71 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      cdtrigger = _useState71[0],\n      setcdtrigger = _useState71[1];\n\n  var _useState72 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([\"\", \"\"]),\n      cd2part = _useState72[0],\n      setcd2part = _useState72[1];\n\n  var _useState73 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      cdpartidx = _useState73[0],\n      setcdpartidx = _useState73[1];\n\n  var _useState74 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      cdparttrigger = _useState74[0],\n      setcdparttrigger = _useState74[1];\n\n  var _useState75 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      changeasset = _useState75[0],\n      setchangeasset = _useState75[1];\n\n  var _useState76 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      defaultasset = _useState76[0],\n      setdefaultasset = _useState76[1];\n\n  var _useState77 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      fetchingpart = _useState77[0],\n      setfetchingpart = _useState77[1];\n\n  var _useState78 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(1),\n      page = _useState78[0],\n      setpage = _useState78[1]; //create manufacturer\n\n\n  var _useState79 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      modalmanuf = _useState79[0],\n      setmodalmanuf = _useState79[1];\n\n  var _useState80 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadingmanuf = _useState80[0],\n      setloadingmanuf = _useState80[1];\n\n  var _useState81 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(true),\n      disabledmanuf = _useState81[0],\n      setdisabledmanuf = _useState81[1];\n\n  var _useState82 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      triggermanuf = _useState82[0],\n      settriggermanuf = _useState82[1];\n\n  var _useState83 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({\n    name: \"\"\n  }),\n      datamanuf = _useState83[0],\n      setdatamanuf = _useState83[1]; //3.onChange\n\n\n  var onClickAddField = function onClickAddField() {\n    setfielddata([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(fielddata), [{\n      name: \"\",\n      data_type: \"\",\n      \"default\": \"\",\n      required: false\n    }]));\n    setcurrentfield({\n      name: \"\",\n      data_type: \"\",\n      \"default\": \"\",\n      required: false\n    });\n    setaddedfield1([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(addedfield1), [false]));\n    setcurrentdropdown2([\"\", \"\"]);\n    setcd2([\"\", \"\"]);\n    setcurrentcheckeddropdown2([]);\n    setdisabledaddfield(true);\n    setdisabledtambah(true);\n    setpointevent(\"pointer-events-none\");\n  };\n\n  var onClickAddField2 = function onClickAddField2() {\n    setfielddataa2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(fielddataa2), [{\n      name: \"\",\n      data_type: \"\",\n      \"default\": \"\",\n      required: false\n    }]));\n    setcurrentfield2({\n      name: \"\",\n      data_type: \"\",\n      \"default\": \"\",\n      required: false\n    });\n    setcurrentdropdownn2([\"\", \"\"]);\n    setcd2part([\"\", \"\"]);\n    setcurrentcheckeddropdownn2([]);\n    setdisabledaddfield2(true);\n    setdisabledtambah2(true);\n    setpointevent2(\"pointer-events-none\");\n  };\n\n  var onClickSelectAsset = function onClickSelectAsset(id) {\n    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n      asset_id: Number(id)\n    }));\n    setloadingspec(true);\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getAsset?id=\").concat(id), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      var temp = [];\n\n      if (res2.success) {\n        temp = res2.data.asset_columns.map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": doc[\"default\"] === \"\" || doc[\"default\"] === \"-\" ? doc[\"default\"] : JSON.parse(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n        var defaultassetid = defaultasset.map(function (docmap) {\n          return docmap.id;\n        });\n        var newassetfielddata2 = newdata.model_columns.filter(function (docfilter) {\n          return defaultassetid.includes(docfilter.id);\n        }).concat(temp);\n        var newfieldmap = newdata.model_columns.filter(function (docnewfield) {\n          return typeof docnewfield.id === \"undefined\";\n        });\n        setfielddata2(function (prev) {\n          var tempo = prev;\n          tempo = tempo.filter(function (docfilter) {\n            return defaultassetid.includes(docfilter.id);\n          }).concat(temp);\n          return tempo;\n        });\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          id: defaultmodel.id,\n          name: defaultmodel.name,\n          description: defaultmodel.description,\n          model_columns: newassetfielddata2.concat(newfieldmap),\n          add_columns: temp.concat(newfieldmap),\n          required_sn: res2.data.required_sn\n        }));\n        setdefaultdata(_objectSpread(_objectSpread({}, defaultdata), {}, {\n          id: defaultmodel.id,\n          name: defaultmodel.name,\n          description: defaultmodel.description,\n          manufacturer_id: defaultmodel.manufacturer_id,\n          count: defaultmodel.count,\n          asset: {\n            id: res2.data.id,\n            name: res2.data.name,\n            code: res2.data.code,\n            description: res2.data.description\n          },\n          manufacturer: {\n            id: defaultmodel.manufacturer.id,\n            name: defaultmodel.manufacturer.name\n          },\n          asset_id: Number(id),\n          model_columns: defaultasset,\n          add_columns: [],\n          update_columns: [],\n          delete_column_ids: [],\n          add_models: [],\n          delete_model_ids: [],\n          required_sn: res2.data.required_sn\n        }));\n        var arr = [];\n\n        for (var i = 0; i < newassetfielddata2.length; i++) {\n          arr.push(true);\n        }\n\n        setchangeasset(temp);\n        setaddedfield(arr);\n        setloadingspec(false);\n        setdisabledaddfield(false);\n\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"info\"]({\n          message: \"Anda Telah Mengubah Asset Type\",\n          description: \"Hal ini membuat field dari asset type terkait terbentuk di form ini!\",\n          duration: 0\n        });\n      } else {\n        temp = []; // setfielddata2(temp)\n\n        var _newfieldmap = newdata.model_columns.filter(function (docnewfield) {\n          return typeof docnewfield.id === \"undefined\";\n        });\n\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          model_columns: newdata.model_columns.concat(_newfieldmap),\n          required_sn: false,\n          asset_id: 0\n        }));\n        setloadingspec(false);\n        setdisabledaddfield(true);\n      }\n    });\n  };\n\n  var onClickSelectAsset2 = function onClickSelectAsset2(id) {\n    setloadingspec2(true);\n    setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n      asset_id: Number(id)\n    }));\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getAsset?id=\").concat(id), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      var temp = [];\n\n      if (res2.success) {\n        temp = res2.data.asset_columns.map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": JSON.parse(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n        var bool = [];\n\n        for (var i = 0; i < temp.length; i++) {\n          bool.push(true);\n        }\n\n        setaddedfield3(bool);\n        setfielddataa(temp);\n        var newfieldmap = newdata2.model_columns.filter(function (docnewfield) {\n          return typeof docnewfield.id === \"undefined\";\n        });\n        setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n          required_sn: res2.data.required_sn,\n          asset_id: res2.data.code,\n          model_columns: temp.concat(newfieldmap)\n        }));\n        setassettypecode2(res2.data.id); // setnewdatatrigger2(prev => !prev)\n\n        setloadingspec2(false);\n        setdisabledaddfield2(false);\n      } else {\n        temp = [];\n\n        var _newfieldmap2 = newdata2.model_columns.filter(function (docnewfield) {\n          return typeof docnewfield.id === \"undefined\";\n        });\n\n        setfielddataa(temp);\n        setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n          model_columns: temp.concat(_newfieldmap2),\n          required_sn: false,\n          asset_id: 0\n        }));\n        setloadingspec2(false);\n      }\n    });\n  }; //4.handle\n\n\n  var handleCreateModel = function handleCreateModel() {\n    var t = {};\n\n    for (var prop in newdata) {\n      if (prop === \"model_columns\") {\n        t[prop] = newdata[prop].map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": JSON.stringify(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n      } else if (prop === \"update_columns\") {\n        t[prop] = newdata[prop].map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": JSON.stringify(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n      } else if (prop === \"add_columns\") {\n        t[prop] = newdata[prop].map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": JSON.stringify(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n      } else if (prop === \"asset_id\") {\n        t[prop] = Number(assettypecode);\n      } else {\n        t[prop] = newdata[prop];\n      }\n    }\n\n    setloadingcreate(true);\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/updateModel\"), {\n      method: \"PUT\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(t)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setloadingcreate(false);\n\n      if (res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"success\"]({\n          message: \"Model berhasil diubah\",\n          duration: 3\n        });\n\n        setTimeout(function () {\n          setmodalcreatemodel(false);\n          rt.push(\"/admin/models/detail/\".concat(modelid));\n        }, 500);\n      } else if (!res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  var handleCreateModelinModel = function handleCreateModelinModel() {\n    var t = {};\n\n    for (var prop in newdata2) {\n      if (prop === \"model_columns\") {\n        t[prop] = newdata2[prop].map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": JSON.stringify(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n      } else if (prop === \"asset_id\") [t[prop] = Number(assettypecode2)];else {\n        t[prop] = newdata2[prop];\n      }\n    }\n\n    setloadingcreatemodel(true);\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/addModel\"), {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(t)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setloadingcreatemodel(false);\n\n      if (res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"success\"]({\n          message: \"Model berhasil ditambahkan\",\n          duration: 3\n        });\n\n        setnewdata2({\n          asset_id: \"\",\n          name: \"\",\n          description: \"\",\n          manufacturer_id: \"\",\n          required_sn: false,\n          is_consumable: false,\n          model_columns: [],\n          model_parts: []\n        });\n        setmodalcreatemodel(false);\n        seteditpart(false);\n        setmodeltrigger(res2.id);\n      } else if (!res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  var handleAddManufacturer = function handleAddManufacturer() {\n    setloadingmanuf(true);\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/addManufacturer\"), {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(datamanuf)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setloadingmanuf(false);\n      setmodalmanuf(false);\n\n      if (res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"success\"]({\n          message: \"Manufacturer berhasil ditambahkan\",\n          duration: 2\n        });\n\n        setdatamanuf(_objectSpread(_objectSpread({}, datamanuf), {}, {\n          name: \"\"\n        }));\n        settriggermanuf(function (prev) {\n          return prev + 1;\n        });\n      } else if (!res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //5.useEffect\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getAssets\"), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setassetdata(res2.data);\n    });\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getManufacturers\"), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      var data = res2.data;\n      setmanufdata(data);\n      /** Set new inserted manufacturer as default selected option in the \"Manufacturer\" dropdown */\n\n      if (triggermanuf > -1) {\n        var latestInsertedManufacturer = data[data.length - 1];\n        var newManufacturerId = latestInsertedManufacturer.id;\n        /** Form control value */\n\n        instanceForm.setFieldsValue({\n          manufacturer_id: newManufacturerId\n        });\n        /** It's necessary to update this state. This state will be used as a payload to the backend */\n\n        setnewdata(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            manufacturer_id: newManufacturerId\n          });\n        });\n      }\n    });\n  }, [triggermanuf]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getModel?id=\").concat(modelid), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      var temp = res2.data.model_columns.map(function (doc, idx) {\n        if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n          return _objectSpread(_objectSpread({}, doc), {}, {\n            \"default\": doc[\"default\"] === \"\" || doc[\"default\"] === \"-\" ? doc[\"default\"] : JSON.parse(doc[\"default\"])\n          });\n        } else {\n          return _objectSpread({}, doc);\n        }\n      }); //model_parts\n\n      var recursivePartModel = function recursivePartModel(item) {\n        var temp11 = [];\n\n        for (var i = 0; i < item.length; i++) {\n          var temp1 = {};\n          temp1 = item[i].model_columns.map(function (doc, idx) {\n            if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n              return _objectSpread(_objectSpread({}, doc), {}, {\n                \"default\": doc[\"default\"] === \"\" || doc[\"default\"] === \"-\" ? doc[\"default\"] : JSON.parse(doc[\"default\"])\n              });\n            } else {\n              return _objectSpread({}, doc);\n            }\n          });\n          temp11.push(_objectSpread(_objectSpread({}, item[i]), {}, {\n            model_columns: temp1,\n            model_parts: item[i].model_parts.length > 0 ? recursivePartModel(item[i].model_parts) : []\n          }));\n        }\n\n        return temp11;\n      };\n\n      var yo = recursivePartModel(res2.data.model_parts);\n\n      var temp2 = _objectSpread(_objectSpread({}, res2.data), {}, {\n        asset_id: res2.data.asset.code,\n        model_columns: temp,\n        add_columns: [],\n        update_columns: [],\n        delete_column_ids: [],\n        add_models: [],\n        delete_model_ids: []\n      });\n\n      setnewdata(temp2);\n      setdefaultdata(temp2);\n      setdefaultasset(temp);\n      setdefaultmodel(temp2);\n      setfielddata2(temp);\n      setmodelpartfielddata(yo);\n      var arr = [];\n\n      for (var i = 0; i < res2.data.model_columns.length; i++) {\n        arr.push(true);\n      }\n\n      setaddedfield(arr);\n      setassettypecode(res2.data.asset_id);\n      setpraloading(false);\n    });\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getModels\"), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setmodeldata(res2.data.data);\n      setcurrentidmodel(modeltrigger);\n      modeltrigger !== false ? seteditpart(true) : null;\n    });\n  }, [modeltrigger]); //checkbox dropdown dari model utama yang field asset\n\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (idxdropdowntrigger !== -1) {\n      setfielddata2(function (prev) {\n        var temp = prev;\n        temp[idxdropdowntrigger][\"default\"] = {\n          \"default\": currentcheckeddropdown2,\n          opsi: currentdropdown2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger]); //checkbox dropdown dari model utama yang field buat sendiri\n\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (idxdropdowntrigger1 !== -1) {\n      setfielddata(function (prev) {\n        var temp = prev; // temp[idxdropdowntrigger][\"default\"] = `${valuedropdowntrigger}`\n\n        temp[idxdropdowntrigger1][\"default\"] = {\n          \"default\": currentcheckeddropdown2,\n          opsi: currentdropdown2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger1]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n      model_columns: fielddata2.concat(fielddata)\n    }));\n  }, [concatfieldtrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (concataddcolumnsidx !== -1) {\n      if (changeasset.some(function (docsome) {\n        return docsome.id === concataddcolumnsvalue.id;\n      }) || typeof concataddcolumnsvalue.id === \"undefined\") {\n        // if ((fielddata2.length - defaultdata.model_columns.length) >= newdata.add_columns.length) {\n        if (newdata.add_columns.map(function (docadd) {\n          return docadd.name;\n        }).indexOf(currentfield.name) === -1) {\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns.push(fielddata2[fielddata2.length - 1]);\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns.push(currentfield);\n              return temp;\n            });\n          }\n        } else {\n          var idxaddcolumn = newdata.add_columns.map(function (docadd2) {\n            return docadd2.name;\n          }).indexOf(currentfield.name); // console.log(newdata.asset_columns.length+\":\"+concataddcolumnsidx+\";\"+newdata.add_columns.length)\n\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns[idxaddcolumn] = {\n                name: currentfield.name,\n                data_type: currentfield.data_type,\n                \"default\": {\n                  \"default\": currentcheckeddropdown2,\n                  opsi: currentdropdown2\n                },\n                required: currentfield.required\n              };\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns[idxaddcolumn] = currentfield;\n              return temp;\n            });\n          }\n        }\n      } else {\n        // console.log(fielddata2[concataddcolumnsidx])\n        if (newdata.update_columns.map(function (docup) {\n          return docup.id;\n        }).indexOf(currentfield.id) === -1) {\n          setnewdata(function (prev) {\n            var temp = prev;\n            temp.update_columns.push(fielddata2[concataddcolumnsidx]);\n            return temp;\n          });\n        } else {\n          var idxupcolumn = newdata.update_columns.map(function (docadd2) {\n            return docadd2.id;\n          }).indexOf(currentfield.id);\n\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.update_columns[idxupcolumn] = {\n                id: currentfield.id,\n                model_id: currentfield.model_id,\n                name: currentfield.name,\n                data_type: currentfield.data_type,\n                \"default\": {\n                  \"default\": currentcheckeddropdown2,\n                  opsi: currentdropdown2\n                },\n                required: currentfield.required\n              };\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.update_columns[idxupcolumn] = currentfield;\n              return temp;\n            });\n          }\n        }\n      }\n    }\n  }, [concataddcolumnstrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (concataddcolumnsidx1 !== -1) {\n      if (concataddcolumnsidx1 > defaultdata.model_columns.length - 1 || typeof concataddcolumnsvalue1.id === \"undefined\" || changeasset === true) {\n        // if ((fielddata2.length - defaultdata.model_columns.length) >= newdata.add_columns.length) {\n        if (newdata.add_columns.map(function (docadd) {\n          return docadd.name;\n        }).indexOf(currentfield.name) === -1) {\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns.push(fielddata[fielddata.length - 1]);\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns.push(currentfield);\n              return temp;\n            });\n          }\n        } else {\n          var idxaddcolumn = newdata.add_columns.map(function (docadd2) {\n            return docadd2.name;\n          }).indexOf(currentfield.name); // console.log(newdata.asset_columns.length+\":\"+concataddcolumnsidx+\";\"+newdata.add_columns.length)\n\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns[idxaddcolumn] = {\n                name: currentfield.name,\n                data_type: currentfield.data_type,\n                \"default\": {\n                  \"default\": currentcheckeddropdown2,\n                  opsi: currentdropdown2\n                },\n                required: currentfield.required\n              };\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns[idxaddcolumn] = currentfield;\n              return temp;\n            });\n          }\n        }\n      } else {\n        // console.log(fielddata2[concataddcolumnsidx])\n        if (newdata.update_columns.map(function (docup) {\n          return docup.id;\n        }).indexOf(currentfield.id) === -1) {\n          setnewdata(function (prev) {\n            var temp = prev;\n            temp.update_columns.push(fielddata[concataddcolumnsidx1]);\n            return temp;\n          });\n        } else {\n          var idxupcolumn = newdata.update_columns.map(function (docadd2) {\n            return docadd2.id;\n          }).indexOf(currentfield.id);\n\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.update_columns[idxupcolumn] = {\n                id: currentfield.id,\n                model_id: currentfield.model_id,\n                name: currentfield.name,\n                data_type: currentfield.data_type,\n                \"default\": {\n                  \"default\": currentcheckeddropdown2,\n                  opsi: currentdropdown2\n                },\n                required: currentfield.required\n              };\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.update_columns[idxupcolumn] = currentfield;\n              return temp;\n            });\n          }\n        }\n      }\n    }\n  }, [concataddcolumnstrigger1]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (addedfieldidx !== -1) {\n      setaddedfield(function (prev) {\n        if (prev[addedfieldidx] === false) {\n          prev[addedfieldidx] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx] === \"undefined\") {\n          var temp2 = [].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(prev), [true]);\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (addedfieldidx1 !== -1) {\n      setaddedfield1(function (prev) {\n        if (prev[addedfieldidx1] === false) {\n          prev[addedfieldidx1] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx1] === \"undefined\") {\n          var temp2 = [].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(prev), [true]);\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger1]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (addedfieldidx3 !== -1) {\n      setaddedfield3(function (prev) {\n        if (prev[addedfieldidx3] === false) {\n          prev[addedfieldidx3] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx3] === \"undefined\") {\n          var temp2 = [].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(prev), [true]);\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger3]); //checkbox dropdown dari model baru yang field asset\n\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (idxdropdowntrigger3 !== -1) {\n      setfielddataa(function (prev) {\n        var temp = prev; // temp[idxdropdowntrigger][\"default\"] = `${valuedropdowntrigger}`\n\n        temp[idxdropdowntrigger3][\"default\"] = {\n          \"default\": currentcheckeddropdownn2,\n          opsi: currentdropdownn2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger3]); //checkbox dropdown dari model baru yang field buat sendiri\n\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (idxdropdowntrigger2 !== -1) {\n      setfielddataa2(function (prev) {\n        var temp = prev;\n        temp[idxdropdowntrigger2][\"default\"] = {\n          \"default\": currentcheckeddropdownn2,\n          opsi: currentdropdownn2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger2]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n      model_columns: fielddataa.concat(fielddataa2)\n    }));\n  }, [concatfieldtrigger2]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (addedfieldidx2 !== -1) {\n      setaddedfield2(function (prev) {\n        if (prev[addedfieldidx2] === false) {\n          prev[addedfieldidx2] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx2] === \"undefined\") {\n          var temp2 = [].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(prev), [true]);\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger2]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n      model_columns: fielddata\n    }));\n  }, [newdatatrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n      model_columns: fielddataa\n    }));\n  }, [newdatatrigger2]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    var temp = [];\n\n    if (concatpartvalue !== -1) {\n      if (concatpartvalue.length === 0) {\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          model_parts: []\n        }));\n      } else {\n        concatpartvalue.map(function (doc, idx) {\n          var idxtemp = temp.map(function (doc) {\n            return doc.id;\n          }).indexOf(doc.id);\n\n          if (idxtemp !== -1 && temp[idxtemp][\"id\"] === doc.id) {\n            var idxof = temp.map(function (doc) {\n              return doc.id;\n            }).indexOf(doc.id);\n            temp[idxof] = _objectSpread(_objectSpread({}, temp[idxof]), {}, {\n              quantity: temp[idxof].quantity + doc.quantity\n            });\n          } else if (idxtemp === -1) {\n            temp.push({\n              id: doc.id,\n              quantity: doc.quantity\n            });\n          }\n        });\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          add_models: temp\n        }));\n      }\n    }\n  }, [concatparttrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (cdidx !== -1) {\n      setcurrentdropdown2(function (prev) {\n        return cd2.filter(function (doc10, idx10) {\n          return idx10 !== cdidx;\n        });\n      });\n      setcd2(function (prev) {\n        return prev.filter(function (doc11, idx11) {\n          return idx11 !== cdidx;\n        });\n      });\n    }\n  }, [cdtrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (cdpartidx !== -1) {\n      setcurrentdropdownn2(function (prev) {\n        return cd2part.filter(function (doc10, idx10) {\n          return idx10 !== cdpartidx;\n        });\n      });\n      setcd2part(function (prev) {\n        return prev.filter(function (doc11, idx11) {\n          return idx11 !== cdpartidx;\n        });\n      });\n    }\n  }, [cdparttrigger]);\n  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_components_layout_dashboard__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    st: _components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_27___default.a,\n    tok: initProps,\n    sidemenu: sidemenu,\n    dataProfile: dataProfile,\n    pathArr: pathArr,\n    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n      className: \"w-full h-auto grid grid-cols-1 md:grid-cols-4\",\n      id: \"createAssetsWrapper\",\n      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \" col-span-1 md:col-span-4 mb-8\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(wil_react_sticky__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n          containerSelectorFocus: \"#createAgentsWrapper\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n            className: \" col-span-4 flex justify-between p-2 pt-4 border-t-2 border-b-2 bg-white\",\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n              className: \"font-semibold py-2\",\n              children: [\"Form Ubah Model - \", newdata.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1200,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(next_link__WEBPACK_IMPORTED_MODULE_22___default.a, {\n                href: \"/admin/models/detail/\".concat(modelid),\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                  /*onClick={() => { console.log(newdata); console.log(fielddata); console.log(fielddata2); console.log(defaultdata); console.log(defaultasset) }}*/\n                  type: \"default\",\n                  children: \"Batal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1205,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1204,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                type: \"primary\",\n                loading: loadingcreate,\n                disabled: disabledaddfield,\n                onClick: instanceForm.submit,\n                children: \"Simpan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1211,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1203,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1199,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1198,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1197,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \"col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Informasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1225,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1224,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"shadow-md border p-8 flex flex-col rounded-md\",\n          children: praloading ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_6___default.a, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1229,\n            columnNumber: 15\n          }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n            form: instanceForm,\n            layout: \"vertical\",\n            onFinish: handleCreateModel,\n            initialValues: newdata,\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                name: \"asset_id\",\n                label: \"Asset Type\",\n                rules: [{\n                  required: true,\n                  message: \"Asset Type wajib diisi\"\n                }],\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_5___default.a, {\n                  style: {\n                    marginRight: \"1rem\"\n                  },\n                  dropdownStyle: {\n                    maxHeight: 400,\n                    overflow: \"auto\"\n                  },\n                  treeData: assetdata,\n                  placeholder: \"Pilih Asset Type\",\n                  treeDefaultExpandAll: true,\n                  onChange: function onChange(value, label, extra) {\n                    if (typeof value !== \"undefined\") {\n                      onClickSelectAsset(extra.allCheckedNodes[0].node.props.id);\n                    } else {\n                      onClickSelectAsset(0);\n                    }\n                  },\n                  allowClear: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1248,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1238,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                name: \"name\",\n                label: \"Nama Model\",\n                rules: [{\n                  required: true,\n                  message: \"Nama Model wajib diisi\"\n                }],\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                  name: \"name\",\n                  onChange: function onChange(e) {\n                    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                      name: e.target.value\n                    }));\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1276,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1266,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1237,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"flex mb-2\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \" w-11/12 mr-2\",\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                  name: \"manufacturer_id\",\n                  label: \"Manufacturer\",\n                  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                    placeholder: \"Pilih Manufacturer\",\n                    onChange: function onChange(value) {\n                      setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                        manufacturer_id: value\n                      }));\n                    },\n                    children: manufdata.map(function (doc, idx) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: doc.id,\n                        children: doc.name\n                      }, idx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1295,\n                        columnNumber: 29\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1287,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1286,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1285,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"w-1/12 flex pt-2 my-auto items-center justify-center cursor-pointer\",\n                onClick: function onClick() {\n                  setmodalmanuf(true);\n                },\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"PlusSquareTwoTone\"], {\n                  style: {\n                    fontSize: \"1.5rem\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1309,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1303,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1284,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n              name: \"description\",\n              label: \"Deskripsi\",\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n                rows: 4,\n                name: \"description\",\n                onChange: function onChange(e) {\n                  setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                    description: e.target.value\n                  }));\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1313,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1312,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"flex mb-5\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                style: {\n                  marginRight: \"0.5rem\"\n                },\n                onChange: function onChange(e) {\n                  setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                    required_sn: e.target.checked\n                  }));\n                },\n                checked: newdata.required_sn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1322,\n                columnNumber: 19\n              }, _this), \" \", \"Serial Number wajib ada\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1321,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"flex\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                style: {\n                  marginRight: \"0.5rem\"\n                },\n                onChange: function onChange(e) {\n                  setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                    is_consumable: e.target.checked\n                  }));\n                },\n                checked: newdata.is_consumable\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1332,\n                columnNumber: 19\n              }, _this), \" \", \"Model Consumable dengan satuan jumlah\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1331,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1231,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1227,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \" col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1350,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1349,\n          columnNumber: 11\n        }, _this), loadingspec ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_6___default.a, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1353,\n          columnNumber: 13\n        }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n          children: fielddata2.length === 0 ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_empty__WEBPACK_IMPORTED_MODULE_3___default.a, {\n            image: antd_lib_empty__WEBPACK_IMPORTED_MODULE_3___default.a.PRESENTED_IMAGE_SIMPLE\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1357,\n            columnNumber: 17\n          }, _this) : fielddata2.map(function (doc, idx) {\n            return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n              children: addedfield[idx] === true ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                onClick: function onClick() {\n                  var temp = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(addedfield);\n\n                  temp[idx] = false;\n\n                  for (var i = 0; i < temp.length; i++) {\n                    if (i !== idx) {\n                      temp[i] = true;\n                    }\n                  }\n\n                  setaddedfield(temp);\n                  setcurrentfield(fielddata2[idx]);\n\n                  if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                    setcurrentdropdown2(doc[\"default\"].opsi);\n                    setcurrentcheckeddropdown2(doc[\"default\"][\"default\"]);\n                  }\n\n                  if (fielddata2[idx].data_type !== \"dropdown\" || fielddata2[idx].data_type !== \"checkbox\") {\n                    setcd2(doc[\"default\"].opsi);\n\n                    if (fielddata2[idx].name !== \"\" && fielddata2[idx].data_type !== \"\") {\n                      setdisabledtambah(false);\n                    } else {\n                      setdisabledtambah(true);\n                    }\n                  } else {\n                    if (doc[\"default\"].opsi.some(function (docopsi) {\n                      return docopsi === \"\";\n                    })) {\n                      setdisabledtambah(true);\n                    } else {\n                      setdisabledtambah(false);\n                    }\n                  }\n\n                  setdisabledaddfield(true);\n                  setpointevent(\"pointer-events-none\");\n                },\n                className: \"jsx-3315758188\" + \" \" + \"\".concat(pointevent, \" shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer\"),\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-3315758188\" + \" \" + \"font-semibold mb-2\",\n                  children: [doc.name, fielddata2[idx].required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-3315758188\" + \" \" + \"judulField\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1414,\n                    columnNumber: 31\n                  }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-3315758188\" + \" \" + \"text-gray-400 text-sm\",\n                    children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && \" Text\", \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1416,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1411,\n                  columnNumber: 27\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-3315758188\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                  children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"paragraph\" || doc.data_type === \"date\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                    children: [doc.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex flex-col w-full\",\n                      children: doc[\"default\"].opsi.map(function (dok, idk) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-3315758188\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            disabled: true,\n                            checked: doc[\"default\"][\"default\"] === idk ? true : false,\n                            style: {\n                              marginRight: \"0.5rem\"\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1439,\n                            columnNumber: 43\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                            className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1448,\n                            columnNumber: 43\n                          }, _this)]\n                        }, idk, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1435,\n                          columnNumber: 41\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1432,\n                      columnNumber: 35\n                    }, _this), doc.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex flex-col w-full\",\n                      children: doc[\"default\"].opsi.map(function (dok, idk) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-3315758188\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            disabled: true,\n                            checked: doc[\"default\"][\"default\"].indexOf(idk) !== -1 ? true : false,\n                            style: {\n                              marginRight: \"0.5rem\"\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1462,\n                            columnNumber: 43\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                            className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1473,\n                            columnNumber: 43\n                          }, _this)]\n                        }, idk, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1458,\n                          columnNumber: 41\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1455,\n                      columnNumber: 35\n                    }, _this), doc.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex justify-between w-full px-3\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                        className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                        children: doc[\"default\"]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1481,\n                        columnNumber: 37\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-3315758188\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1483,\n                          columnNumber: 39\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1482,\n                        columnNumber: 37\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1480,\n                      columnNumber: 35\n                    }, _this), doc.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex h-20\",\n                      children: doc[\"default\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1488,\n                      columnNumber: 35\n                    }, _this)]\n                  }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                    className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                    children: doc[\"default\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1492,\n                    columnNumber: 31\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1425,\n                  columnNumber: 27\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n                  id: \"3315758188\",\n                  children: \".judulField.jsx-3315758188::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF1OUM2QixBQUdxRixZQUNGLFVBQ2QiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEocHJldiA9PiAoey4uLnByZXYsIG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSwgW3RyaWdnZXJtYW51Zl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke21vZGVsaWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSByZXMyLmRhdGEubW9kZWxfY29sdW1ucy5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgID8gZG9jLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vbW9kZWxfcGFydHNcbiAgICAgICAgY29uc3QgcmVjdXJzaXZlUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICAgICAgICB2YXIgdGVtcDExID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGVtcDEgPSB7fTtcbiAgICAgICAgICAgIHRlbXAxID0gaXRlbVtpXS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQgPT09IFwiXCIgfHwgZG9jLmRlZmF1bHQgPT09IFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGVtcDExLnB1c2goe1xuICAgICAgICAgICAgICAuLi5pdGVtW2ldLFxuICAgICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wMSxcbiAgICAgICAgICAgICAgbW9kZWxfcGFydHM6XG4gICAgICAgICAgICAgICAgaXRlbVtpXS5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZVBhcnRNb2RlbChpdGVtW2ldLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGVtcDExO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB5byA9IHJlY3Vyc2l2ZVBhcnRNb2RlbChyZXMyLmRhdGEubW9kZWxfcGFydHMpO1xuICAgICAgICBjb25zdCB0ZW1wMiA9IHtcbiAgICAgICAgICAuLi5yZXMyLmRhdGEsXG4gICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5hc3NldC5jb2RlLFxuICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAsXG4gICAgICAgICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgICAgICAgYWRkX21vZGVsczogW10sXG4gICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgIH07XG4gICAgICAgIHNldG5ld2RhdGEodGVtcDIpO1xuICAgICAgICBzZXRkZWZhdWx0ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRhc3NldCh0ZW1wKTtcbiAgICAgICAgc2V0ZGVmYXVsdG1vZGVsKHRlbXAyKTtcbiAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKHlvKTtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0YWRkZWRmaWVsZChhcnIpO1xuICAgICAgICBzZXRhc3NldHR5cGVjb2RlKHJlczIuZGF0YS5hc3NldF9pZCk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKG1vZGVsdHJpZ2dlcik7XG4gICAgICAgIG1vZGVsdHJpZ2dlciAhPT0gZmFsc2UgPyBzZXRlZGl0cGFydCh0cnVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgfSwgW21vZGVsdHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBhc3NldFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXJdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIHV0YW1hIHlhbmcgZmllbGQgYnVhdCBzZW5kaXJpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjEgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyMV1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7XG4gICAgICAuLi5uZXdkYXRhLFxuICAgICAgbW9kZWxfY29sdW1uczogZmllbGRkYXRhMi5jb25jYXQoZmllbGRkYXRhKSxcbiAgICB9KTtcbiAgfSwgW2NvbmNhdGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25jYXRhZGRjb2x1bW5zaWR4ICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjaGFuZ2Vhc3NldC5zb21lKFxuICAgICAgICAgIChkb2Nzb21lKSA9PiBkb2Nzb21lLmlkID09PSBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWRcbiAgICAgICAgKSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgKChmaWVsZGRhdGEyLmxlbmd0aCAtIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoKSA+PSBuZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkKSA9PiBkb2NhZGQubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goZmllbGRkYXRhMltmaWVsZGRhdGEyLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChjdXJyZW50ZmllbGQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHhhZGRjb2x1bW4gPSBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3ZGF0YS5hc3NldF9jb2x1bW5zLmxlbmd0aCtcIjpcIitjb25jYXRhZGRjb2x1bW5zaWR4K1wiO1wiK25ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY3VwKSA9PiBkb2N1cC5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeHVwY29sdW1uID0gbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3VycmVudGZpZWxkLmlkLFxuICAgICAgICAgICAgICAgIG1vZGVsX2lkOiBjdXJyZW50ZmllbGQubW9kZWxfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25jYXRhZGRjb2x1bW5zaWR4MSAhPT0gLTEpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY29uY2F0YWRkY29sdW1uc2lkeDEgPiBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCAtIDEgfHxcbiAgICAgICAgdHlwZW9mIGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTEuaWQgPT09IFwidW5kZWZpbmVkXCIgfHxcbiAgICAgICAgY2hhbmdlYXNzZXQgPT09IHRydWVcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGFbZmllbGRkYXRhLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChjdXJyZW50ZmllbGQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHhhZGRjb2x1bW4gPSBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3ZGF0YS5hc3NldF9jb2x1bW5zLmxlbmd0aCtcIjpcIitjb25jYXRhZGRjb2x1bW5zaWR4K1wiO1wiK25ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY3VwKSA9PiBkb2N1cC5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMucHVzaChmaWVsZGRhdGFbY29uY2F0YWRkY29sdW1uc2lkeDFdKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeHVwY29sdW1uID0gbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3VycmVudGZpZWxkLmlkLFxuICAgICAgICAgICAgICAgIG1vZGVsX2lkOiBjdXJyZW50ZmllbGQubW9kZWxfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4XSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgxICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDFdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4MV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MyAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgzXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjNdKTtcblxuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgYmFydSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjMgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGFhKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjNdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYnVhdCBzZW5kaXJpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEyKHtcbiAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYS5jb25jYXQoZmllbGRkYXRhYTIpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyMl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MiAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgyXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgyXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEgfSk7XG4gIH0sIFtuZXdkYXRhdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YWEgfSk7XG4gIH0sIFtuZXdkYXRhdHJpZ2dlcjJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciB0ZW1wID0gW107XG4gICAgaWYgKGNvbmNhdHBhcnR2YWx1ZSAhPT0gLTEpIHtcbiAgICAgIGlmIChjb25jYXRwYXJ0dmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9wYXJ0czogW10gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25jYXRwYXJ0dmFsdWUubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIHZhciBpZHh0ZW1wID0gdGVtcC5tYXAoKGRvYykgPT4gZG9jLmlkKS5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgaWYgKGlkeHRlbXAgIT09IC0xICYmIHRlbXBbaWR4dGVtcF1bXCJpZFwiXSA9PT0gZG9jLmlkKSB7XG4gICAgICAgICAgICB2YXIgaWR4b2YgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgIHRlbXBbaWR4b2ZdID0ge1xuICAgICAgICAgICAgICAuLi50ZW1wW2lkeG9mXSxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IHRlbXBbaWR4b2ZdLnF1YW50aXR5ICsgZG9jLnF1YW50aXR5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlkeHRlbXAgPT09IC0xKSB7XG4gICAgICAgICAgICB0ZW1wLnB1c2goe1xuICAgICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgICBxdWFudGl0eTogZG9jLnF1YW50aXR5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFkZF9tb2RlbHM6IHRlbXAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0cGFydHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDIuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMigocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkaWR4KSk7XG4gICAgfVxuICB9LCBbY2R0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkcGFydGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDJwYXJ0LmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RwYXJ0aWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QycGFydCgocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkcGFydGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkcGFydHRyaWdnZXJdKTtcbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0XG4gICAgICBzdD17c3R9XG4gICAgICB0b2s9e2luaXRQcm9wc31cbiAgICAgIHNpZGVtZW51PXtzaWRlbWVudX1cbiAgICAgIGRhdGFQcm9maWxlPXtkYXRhUHJvZmlsZX1cbiAgICAgIHBhdGhBcnI9e3BhdGhBcnJ9XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1hdXRvIGdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTRcIlxuICAgICAgICBpZD1cImNyZWF0ZUFzc2V0c1dyYXBwZXJcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgbWItOFwiPlxuICAgICAgICAgIDxTdGlja3kgY29udGFpbmVyU2VsZWN0b3JGb2N1cz1cIiNjcmVhdGVBZ2VudHNXcmFwcGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi00IGZsZXgganVzdGlmeS1iZXR3ZWVuIHAtMiBwdC00IGJvcmRlci10LTIgYm9yZGVyLWItMiBiZy13aGl0ZVwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBweS0yXCI+XG4gICAgICAgICAgICAgICAgRm9ybSBVYmFoIE1vZGVsIC0ge25ld2RhdGEubmFtZX1cbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvYWRtaW4vbW9kZWxzL2RldGFpbC8ke21vZGVsaWR9YH0+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIC8qb25DbGljaz17KCkgPT4geyBjb25zb2xlLmxvZyhuZXdkYXRhKTsgY29uc29sZS5sb2coZmllbGRkYXRhKTsgY29uc29sZS5sb2coZmllbGRkYXRhMik7IGNvbnNvbGUubG9nKGRlZmF1bHRkYXRhKTsgY29uc29sZS5sb2coZGVmYXVsdGFzc2V0KSB9fSovIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0uc3VibWl0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU3RpY2t5PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkluZm9ybWFzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIHtwcmFsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8U3Bpbj48L1NwaW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybX1cbiAgICAgICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e25ld2RhdGF9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiIGxhYmVsPVwiTWFudWZhY3R1cmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBwdC0yIG15LWF1dG8gaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsbWFudWYodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgTW9kZWwgQ29uc3VtYWJsZSBkZW5nYW4gc2F0dWFuIGp1bWxhaFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2xvYWRpbmdzcGVjID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YTIubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgIDxFbXB0eSBpbWFnZT17RW1wdHkuUFJFU0VOVEVEX0lNQUdFX1NJTVBMRX0+PC9FbXB0eT5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICBmaWVsZGRhdGEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAge2FkZGVkZmllbGRbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCAhPT0gZmllbGRkYXRhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhVcGRhdGVDb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NtYXApID0+IGRvY21hcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMuc3BsaWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeFVwZGF0ZUNvbHVtbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDFbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDFdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdC5pbmRleE9mKGlkaykgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttb21lbnQoZmllbGRkYXRhW2lkeF0uZGVmYXVsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGEyLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2RlZikgPT4gZG9jZGVmLmlkID09PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9jb2x1bW5faWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gdGVtcC5hZGRfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZW1wLmFkZF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlMShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tBZGRGaWVsZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge25ld2RhdGEuaXNfY29uc3VtYWJsZSA9PT0gZmFsc2UgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTggY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPktvbmZpZ3VyYXNpIFBhcnQgTW9kZWw8L2gxPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7bW9kZWxwYXJ0ZmllbGRkYXRhLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPENvbGxhcHNlIGFjY29yZGlvbj5cbiAgICAgICAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2BwYW5lbCR7aWR4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBkb2MubW9kZWxfY2hpbGQubGVuZ3RoID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdy02LzEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXItMlwiPntkb2MubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPFRvb2x0aXAgcGxhY2VtZW50PVwicmlnaHRcIiB0aXRsZT1cIk1vZGVsIHRpZGFrIG1lbWlsaWtpIHBhcnQgbW9kZWwhXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIDxFeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgYnJvd25gIH19PjwvRXhjbGFtYXRpb25DaXJjbGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcIi1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgTW9kZWwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZGFyaSBNb2RlbCBQYXJ0ICR7bmV3ZGF0YS5uYW1lfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkb2MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeHRlbXAgPSBtb2RlbHBhcnRmaWVsZGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YSA9IHRlbXAuYWRkX21vZGVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MyKSA9PiBkb2MyLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAuYWRkX21vZGVsc1tpZHhkYXRhXS5xdWFudGl0eSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMuc3BsaWNlKGlkeGRhdGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NwYXJ0cykgPT4gZG9jcGFydHMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhkb2MuaWQpID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9tb2RlbF9pZHMuaW5kZXhPZihkb2MuaWQpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgcmVkYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0IFR5cGV7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bGFzc2V0dHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYywgaWR4bWMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIG15LWF1dG8gcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy13aGl0ZSBib3JkZXIgdy0zLzEyIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy1ncmF5LTEwMCByb3VuZGVkIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGltZWxpbmUgc3R5bGU9e3sgbWFyZ2luVG9wOiBgMXJlbWAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UaW1lbGluZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsYXNzZXR0eXBlOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bHNuOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtlZGl0cGFydCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBteS0zIGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC01IHRleHQtbGcgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB4XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGlkbW9kZWx9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctMTEvMTIgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17Y3VycmVudGlkbW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRDb250ZW50PXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoaW5ncGFydCA/IDxTcGluIHNpemU9XCJzbWFsbFwiIC8+IDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS9nZXRNb2RlbHM/cm93cz0xMCZuYW1lPSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgIT09IFwiXCIgPyB2YWx1ZSA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRtb2RlbGRhdGEoW10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIGF0YXUgY2FyaSBuYW1hIG1vZHVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbj17KGlucHV0LCBvcHQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHQuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoaW5wdXQudG9Mb3dlckNhc2UoKSkgPj0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvblBvcHVwU2Nyb2xsPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGV2ZW50LnRhcmdldC5zY3JvbGxUb3AgKyBldmVudC50YXJnZXQub2Zmc2V0SGVpZ2h0ID09PSBldmVudC50YXJnZXQuc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBzZXRwYWdlKHByZXYgPT4gcHJldiArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzP3BhZ2U9JHtwYWdlfSZyb3dzPTEwYCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudGhlbihyZXMyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNjcm9sbFRvKDAsIGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJlczIuZGF0YS50byA+PSByZXMyLmRhdGEudG90YWwgPyBzZXRtb2RlbGRhdGEoWy4uLm1vZGVsZGF0YSwgcmVzMi5kYXRhLmRhdGFdKSA6IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YSwgPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz5dKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGVsZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2RvYy5pZH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nZ2V0bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHtjdXJyZW50aWRtb2RlbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMSA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzMi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibW9kZWxfY29sdW1uc1wiXSA9IHJlczIuZGF0YVtwcm9wXS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlbHBhcnRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLm1vZGVsX3BhcnRzLm1hcCgoZG9jMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcDMgPSBkb2MyLm1vZGVsX2NvbHVtbnMubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYzMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jMyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG1hcDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibW9kZWxfcGFydHNcIl0gPSBtb2RlbHBhcnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcImlkXCJdID0gcmVzMi5kYXRhLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm5hbWVcIl0gPSByZXMyLmRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcDEgPSBbLi4udGVtcDEsIHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR2YWx1ZShyZXMyLmRhdGEubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dHJpZ2dlcihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEyID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMykgPT4gZG9jMy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50aWRtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ZGF0YTIgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50aWRtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkeGRhdGEyICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5tYXAoKGRvYzEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2MxLmlkID09PSBjdXJyZW50aWRtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MxLnF1YW50aXR5ID0gZG9jMS5xdWFudGl0eSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGxvYWRpbmdnZXRtb2RlbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICsgVGFtYmFoIFBhcnQgTW9kZWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0yLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlbW9kZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbGNyZWF0ZW1vZGVsfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIG1iLThcIj5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtMn1cbiAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIkFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICBsYWJlbD1cIk1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk1hbnVmYWN0dXJlciB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Lyoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ3NwZWMyID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhW2lkeF0ucmVxdWlyZWQgPyA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPiA6IG51bGx9IDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPih7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIiA/IFwiU2luZ2xlIFRleHRib3hcIiA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LWZ1bGwnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctNyBmbGV4IGp1c3RpZnktY2VudGVyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl1bXCJkZWZhdWx0XCJdID0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19IGRlZmF1bHRWYWx1ZT17ZG9jY30gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH0gZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwicGFyYWdyYXBoXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhIHJvd3M9ezR9IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjaGVja2JveFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2kgZGliYXdhaCBpbmk8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2NjLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl1bXCJkZWZhdWx0XCJdLnB1c2goaWR4eClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz4ge2RvY2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlciBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGRhdGVTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgIH0gKi99XG4gICAgICAgICAge2xvYWRpbmdzcGVjMiA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGFhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAge2FkZGVkZmllbGQzW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMyh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGQyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2N4eCwgaWR4eCkgPT4gZG9jeHguaWQgIT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkMi5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIzKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgzKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMygocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtmaWVsZGRhdGFhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMltpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDJdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGFhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGFhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tBZGRGaWVsZDJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgVGFtYmFoIFNwZXNpZmlrYXNpIE1vZGVsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNYW51ZmFjdHVyZXI8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRtYW51Zn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRNYW51ZmFjdHVyZXJ9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ21hbnVmfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAgdmlzaWJsZT17bW9kYWxtYW51Zn1cbiAgICAgICAgZm9vdGVyPXtudWxsfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICB3aWR0aD17OTAwfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgIE5hbWEgTWFudWZhY3R1cmVyIDxzcGFuIGNsYXNzTmFtZT1cIm5hbWFtYW51XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHZhbHVlPXtkYXRhbWFudWYubmFtZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBOYW1hIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICA/IHNldGRpc2FibGVkbWFudWYodHJ1ZSlcbiAgICAgICAgICAgICAgICAgIDogc2V0ZGlzYWJsZWRtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0ZGF0YW1hbnVmKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5uYW1hbWFudTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKHsgcmVxLCByZXMsIHBhcmFtcyB9KSB7XG4gIGNvbnN0IG1vZGVsaWQgPSBwYXJhbXMubW9kZWxJZDtcbiAgdmFyIGluaXRQcm9wcyA9IHt9O1xuICBpZiAoIXJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCBjb29raWVzSlNPTjEgPSBodHRwY29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSk7XG4gIGlmICghY29va2llc0pTT04xLnRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGluaXRQcm9wcyA9IGNvb2tpZXNKU09OMS50b2tlbjtcbiAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2RldGFpbFByb2ZpbGVgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCByZXNqc29uID0gYXdhaXQgcmVzb3VyY2VzLmpzb24oKTtcbiAgY29uc3QgZGF0YVByb2ZpbGUgPSByZXNqc29uO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRQcm9wcyxcbiAgICAgIGRhdGFQcm9maWxlLFxuICAgICAgc2lkZW1lbnU6IFwiODJcIixcbiAgICAgIG1vZGVsaWQsXG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWxzVXBkYXRlMjtcbiJdfQ== */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n                }, void 0, false, void 0, _this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1363,\n                columnNumber: 25\n              }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n                  layout: \"vertical\",\n                  initialValues: currentfield,\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                      name: \"name\",\n                      label: \"Nama Spesifikasi\",\n                      rules: [{\n                        required: true,\n                        message: \"Nama Spesifikasi wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                        required: true,\n                        name: \"name\",\n                        onChange: function onChange(e) {\n                          setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                            name: e.target.value\n                          }));\n\n                          if (e.target.value === \"\") {\n                            setdisabledtambah(true);\n                          } else if (e.target.value !== \"\" && currentfield.data_type !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                            return doca !== \"\";\n                          })) {\n                            setdisabledtambah(false);\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1521,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1511,\n                      columnNumber: 31\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                      name: \"data_type\",\n                      label: \"Tipe Field\",\n                      rules: [{\n                        required: true,\n                        message: \"Tipe Field wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                        placeholder: \"Pilih Tipe Field\",\n                        onChange: function onChange(value) {\n                          setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                            data_type: value\n                          }));\n\n                          if (value === \"dropdown\" || value === \"checkbox\") {\n                            if (currentdropdown2.every(function (doca, idxa) {\n                              return doca !== \"\";\n                            })) {\n                              setdisabledtambah(false);\n                            } else {\n                              setdisabledtambah(true);\n                            }\n                          } else {\n                            setdisabledtambah(false);\n                          }\n\n                          if (value === \"dropdown\") {\n                            setcurrentcheckeddropdown2(\"\");\n                            setcurrentdropdown2([\"\", \"\"]);\n                            setdisabledtambah(true);\n                          }\n\n                          if (value === \"checkbox\") {\n                            setcurrentcheckeddropdown2([]);\n                            setcurrentdropdown2([\"\", \"\"]);\n                            setcd2([\"\", \"\"]);\n                            setdisabledtambah(true);\n                          }\n                        },\n                        name: \"data_type\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"dropdown\",\n                          children: \"Dropdown\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1590,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"number\",\n                          children: \"Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1593,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"paragraph\",\n                          children: \"Paragraph Text\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1596,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"checkbox\",\n                          children: \"Checkbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1599,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"single\",\n                          children: \"Single Textbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1602,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"date\",\n                          children: \"Date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1605,\n                          columnNumber: 35\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1553,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1543,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1510,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"default\",\n                    label: \"Default\",\n                    children: [currentfield.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                        children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1615,\n                        columnNumber: 35\n                      }, _this), currentdropdown2.map(function (doc, idxx) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"flex mb-3\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-7 flex items-center\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                              checked: currentcheckeddropdown2 === idxx ? true : false,\n                              onChange: function onChange(e) {\n                                if (e.target.checked === true) {\n                                  setcurrentcheckeddropdown2(idxx);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1622,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1621,\n                            columnNumber: 39\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-10/12 mr-5\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                              style: {\n                                marginRight: \"0.5rem\"\n                              },\n                              defaultValue: doc,\n                              placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                              onChange: function onChange(e) {\n                                setcurrentdropdown2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n                                setcd2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n\n                                if (e.target.value !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                                  return doca !== \"\";\n                                }) && currentfield.name !== \"\") {\n                                  setdisabledtambah(false);\n                                } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                  setdisabledtambah(true);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1636,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1635,\n                            columnNumber: 39\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-1/12 flex justify-around\",\n                            onClick: function onClick() {\n                              setcurrentdropdown2([]);\n                              setcdtrigger(function (prev) {\n                                return !prev;\n                              });\n                              setcdidx(idxx);\n                            },\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                              type: \"danger\",\n                              children: \"-\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1678,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1670,\n                            columnNumber: 39\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1620,\n                          columnNumber: 37\n                        }, _this);\n                      }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                          onClick: function onClick() {\n                            setcurrentdropdown2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdown2), [\"\"]));\n                            setcd2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2), [\"\"]));\n                            setdisabledtambah(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1683,\n                          columnNumber: 37\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1682,\n                        columnNumber: 35\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1614,\n                      columnNumber: 33\n                    }, _this) : null, currentfield.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                        children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1701,\n                        columnNumber: 35\n                      }, _this), currentdropdown2.map(function (doc, idxx) {\n                        var idxchecked = currentcheckeddropdown2.includes(idxx);\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"flex mb-3\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-7 flex items-center\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                              defaultChecked: idxchecked,\n                              onChange: function onChange(e) {\n                                if (e.target.checked === true) {\n                                  setcurrentcheckeddropdown2(function (prev) {\n                                    var temp = prev;\n                                    temp.push(idxx);\n                                    return temp;\n                                  });\n                                } else {\n                                  setcurrentcheckeddropdown2(function (prev) {\n                                    var temp = prev;\n                                    var index = temp.indexOf(idxx);\n                                    temp.splice(index, 1);\n                                    return temp;\n                                  });\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1711,\n                              columnNumber: 43\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1710,\n                            columnNumber: 41\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-10/12 mr-5\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                              style: {\n                                marginRight: \"0.5rem\"\n                              },\n                              defaultValue: doc,\n                              placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                              onChange: function onChange(e) {\n                                setcurrentdropdown2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n                                setcd2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n\n                                if (e.target.value !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                                  return doca !== \"\";\n                                }) && currentfield.name !== \"\") {\n                                  setdisabledtambah(false);\n                                } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                  setdisabledtambah(true);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1737,\n                              columnNumber: 43\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1736,\n                            columnNumber: 41\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-1/12 flex justify-around\",\n                            onClick: function onClick() {\n                              setcurrentdropdown2([]);\n                              setcdtrigger(function (prev) {\n                                return !prev;\n                              });\n                              setcdidx(idxx);\n                            },\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                              type: \"danger\",\n                              children: \"-\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1779,\n                              columnNumber: 43\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1771,\n                            columnNumber: 41\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1709,\n                          columnNumber: 39\n                        }, _this);\n                      }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                          onClick: function onClick() {\n                            setcurrentdropdown2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdown2), [\"\"]));\n                            setcd2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2), [\"\"]));\n                            setdisabledtambah(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1785,\n                          columnNumber: 37\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1784,\n                        columnNumber: 35\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1700,\n                      columnNumber: 33\n                    }, _this) : null, currentfield.data_type.toLowerCase() === \"number\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2___default.a, {\n                      style: {\n                        width: \"30%\"\n                      },\n                      defaultValue: fielddata2[idx][\"default\"],\n                      placeholder: \"Masukkan default \".concat(currentfield.name),\n                      onChange: function onChange(value) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          \"default\": \"\".concat(value)\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1802,\n                      columnNumber: 33\n                    }, _this), currentfield.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n                      rows: 4,\n                      placeholder: \"Masukkan default \".concat(currentfield.name),\n                      defaultValue: fielddata2[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1816,\n                      columnNumber: 33\n                    }, _this), currentfield.data_type.toLowerCase() === \"string\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      placeholder: \"Masukkan default \".concat(currentfield.name),\n                      defaultValue: fielddata2[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1830,\n                      columnNumber: 33\n                    }, _this), currentfield.data_type.toLowerCase() === \"single\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      placeholder: \"Masukkan default \".concat(currentfield.name),\n                      defaultValue: fielddata2[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1843,\n                      columnNumber: 33\n                    }, _this), currentfield.data_type.toLowerCase() === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default.a, {\n                      defaultValue: moment__WEBPACK_IMPORTED_MODULE_21___default()(fielddata2[idx][\"default\"]),\n                      style: {\n                        width: \"30%\"\n                      },\n                      placeholder: \"Masukkan default \".concat(currentfield.name),\n                      onChange: function onChange(value, dateString) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          \"default\": dateString\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1856,\n                      columnNumber: 33\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1611,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1869,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex mt-4 justify-end\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                      placement: \"bottom\",\n                      title: \"Apakah anda yakin ingin menghapus field \".concat(doc.name === \"\" ? \"ini\" : doc.name, \"?\"),\n                      okText: \"Ya\",\n                      cancelText: \"Tidak\",\n                      onConfirm: function onConfirm() {\n                        setfielddata2(function (prev) {\n                          return prev.filter(function (_, idxx) {\n                            return idxx !== idx;\n                          });\n                        });\n                        setnewdata(function (prev) {\n                          var temp = prev;\n                          temp.model_columns = temp.model_columns.filter(function (_, idxx) {\n                            return idxx !== fielddata.length + idx;\n                          });\n                          return temp;\n                        });\n\n                        if (defaultdata.model_columns.some(function (docdef) {\n                          return docdef.id === doc.id;\n                        })) {\n                          setnewdata(function (prev) {\n                            var temp = prev;\n                            temp.delete_column_ids.push(doc.id);\n                            var idxUpdateColumns = temp.update_columns.map(function (docmap) {\n                              return docmap.id;\n                            }).indexOf(doc.id);\n                            temp.update_columns.splice(idxUpdateColumns, 1);\n                            var idxtemp = defaultdata.model_columns.map(function (doctemp) {\n                              return doctemp.id;\n                            }).indexOf(doc.id);\n                            temp.model_columns.splice(idxtemp, 1);\n                            return temp;\n                          });\n                        } else {\n                          setnewdata(function (prev) {\n                            var temp = prev;\n                            var idxtemp = temp.add_columns.map(function (doctemp) {\n                              return doctemp.name;\n                            }).indexOf(doc.name);\n                            idxtemp !== -1 ? temp.add_columns.splice(idxtemp, 1) : null;\n                            return temp;\n                          });\n                        }\n\n                        setaddedfield(function (prev) {\n                          prev.splice(idx, 1);\n                          return prev;\n                        });\n                        setdisabledaddfield(false);\n                        setpointevent(\"\");\n                      },\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"DeleteOutlined\"], {\n                          style: {\n                            fontSize: \"1.25rem\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1934,\n                          columnNumber: 35\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1933,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1871,\n                      columnNumber: 31\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \" flex items-center mr-4\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                        checked: currentfield.required,\n                        style: {\n                          marginRight: \"0.5rem\"\n                        },\n                        onChange: function onChange(e) {\n                          setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                            required: e.target.checked\n                          }));\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1940,\n                        columnNumber: 33\n                      }, _this), \" \", \"Required\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1939,\n                      columnNumber: 31\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                      disabled: disabledtambah,\n                      type: \"primary\",\n                      onClick: function onClick() {\n                        if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n                          setidxdropdowntrigger(idx);\n                          setvaluedropdowntrigger(function (prev) {\n                            return !prev;\n                          });\n                        }\n\n                        setconcataddcolumnsidx(idx);\n                        setconcataddcolumnsvalue(doc);\n                        setconcataddcolumnstrigger(function (prev) {\n                          return !prev;\n                        });\n                        var temp = fielddata2;\n                        temp[idx] = currentfield;\n                        setfielddata2(temp);\n                        setaddedfieldidx(idx);\n                        setaddedfieldtrigger(function (prev) {\n                          return !prev;\n                        });\n                        setconcatfieldtrigger(function (prev) {\n                          return !prev;\n                        });\n                        setdisabledaddfield(false);\n                        setpointevent(\"\");\n                      },\n                      children: \"Tambah\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1952,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1870,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1509,\n                  columnNumber: 27\n                }, _this)\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1505,\n                columnNumber: 25\n              }, _this)\n            }, void 0, false);\n          })\n        }, void 0, false), fielddata.map(function (doc, idx) {\n          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n            children: addedfield1[idx] === true ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              onClick: function onClick() {\n                var temp = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(addedfield1);\n\n                temp[idx] = false;\n\n                for (var i = 0; i < temp.length; i++) {\n                  if (i !== idx) {\n                    temp[i] = true;\n                  }\n                }\n\n                setaddedfield1(temp);\n                setcurrentfield(fielddata[idx]);\n\n                if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                  setcurrentdropdown2(doc[\"default\"].opsi);\n                  setcurrentcheckeddropdown2(doc[\"default\"][\"default\"]);\n                }\n\n                if (fielddata[idx].data_type !== \"dropdown\" || fielddata[idx].data_type !== \"checkbox\") {\n                  setcd2(doc[\"default\"].opsi);\n\n                  if (fielddata[idx].name !== \"\" && fielddata[idx].data_type !== \"\") {\n                    setdisabledtambah(false);\n                  } else {\n                    setdisabledtambah(true);\n                  }\n                } else {\n                  if (doc[\"default\"].opsi.some(function (docopsi) {\n                    return docopsi === \"\";\n                  })) {\n                    setdisabledtambah(true);\n                  } else {\n                    setdisabledtambah(false);\n                  }\n                }\n\n                setdisabledaddfield(true);\n                setpointevent(\"pointer-events-none\");\n              },\n              className: \"jsx-618540288\" + \" \" + \"\".concat(pointevent, \" shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer\"),\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"jsx-618540288\" + \" \" + \"font-semibold mb-2\",\n                children: [doc.name, fielddata[idx].required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                  className: \"jsx-618540288\" + \" \" + \"judulField\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2041,\n                  columnNumber: 25\n                }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                  className: \"jsx-618540288\" + \" \" + \"text-gray-400 text-sm\",\n                  children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && \" Text\", \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2043,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2038,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"jsx-618540288\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"paragraph\" || doc.data_type === \"date\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                  children: [doc.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-618540288\" + \" \" + \"flex flex-col w-full\",\n                    children: doc[\"default\"].opsi.map(function (dok, idk) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-618540288\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                          disabled: true,\n                          checked: doc[\"default\"][\"default\"] === idk ? true : false,\n                          style: {\n                            marginRight: \"0.5rem\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2066,\n                          columnNumber: 37\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                          className: \"jsx-618540288\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2075,\n                          columnNumber: 37\n                        }, _this)]\n                      }, idk, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2062,\n                        columnNumber: 35\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2059,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-618540288\" + \" \" + \"flex flex-col w-full\",\n                    children: doc[\"default\"].opsi.map(function (dok, idk) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-618540288\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                          disabled: true,\n                          checked: doc[\"default\"][\"default\"].indexOf(idk) !== -1 ? true : false,\n                          style: {\n                            marginRight: \"0.5rem\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2089,\n                          columnNumber: 37\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                          className: \"jsx-618540288\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2098,\n                          columnNumber: 37\n                        }, _this)]\n                      }, idk, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2085,\n                        columnNumber: 35\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2082,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-618540288\" + \" \" + \"flex justify-between w-full px-3\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                      className: \"jsx-618540288\" + \" \" + \"mb-0\",\n                      children: doc[\"default\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2106,\n                      columnNumber: 31\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-618540288\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2108,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2107,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2105,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-618540288\" + \" \" + \"flex h-20\",\n                    children: doc[\"default\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2113,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                  className: \"jsx-618540288\" + \" \" + \"mb-0\",\n                  children: doc[\"default\"]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2117,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2052,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n                id: \"618540288\",\n                children: \".judulField.jsx-618540288::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF3a0V1QixBQUdxRSxZQUNGLFVBQ2QiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEocHJldiA9PiAoey4uLnByZXYsIG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSwgW3RyaWdnZXJtYW51Zl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke21vZGVsaWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSByZXMyLmRhdGEubW9kZWxfY29sdW1ucy5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgID8gZG9jLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vbW9kZWxfcGFydHNcbiAgICAgICAgY29uc3QgcmVjdXJzaXZlUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICAgICAgICB2YXIgdGVtcDExID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGVtcDEgPSB7fTtcbiAgICAgICAgICAgIHRlbXAxID0gaXRlbVtpXS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQgPT09IFwiXCIgfHwgZG9jLmRlZmF1bHQgPT09IFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGVtcDExLnB1c2goe1xuICAgICAgICAgICAgICAuLi5pdGVtW2ldLFxuICAgICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wMSxcbiAgICAgICAgICAgICAgbW9kZWxfcGFydHM6XG4gICAgICAgICAgICAgICAgaXRlbVtpXS5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZVBhcnRNb2RlbChpdGVtW2ldLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGVtcDExO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB5byA9IHJlY3Vyc2l2ZVBhcnRNb2RlbChyZXMyLmRhdGEubW9kZWxfcGFydHMpO1xuICAgICAgICBjb25zdCB0ZW1wMiA9IHtcbiAgICAgICAgICAuLi5yZXMyLmRhdGEsXG4gICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5hc3NldC5jb2RlLFxuICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAsXG4gICAgICAgICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgICAgICAgYWRkX21vZGVsczogW10sXG4gICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgIH07XG4gICAgICAgIHNldG5ld2RhdGEodGVtcDIpO1xuICAgICAgICBzZXRkZWZhdWx0ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRhc3NldCh0ZW1wKTtcbiAgICAgICAgc2V0ZGVmYXVsdG1vZGVsKHRlbXAyKTtcbiAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKHlvKTtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0YWRkZWRmaWVsZChhcnIpO1xuICAgICAgICBzZXRhc3NldHR5cGVjb2RlKHJlczIuZGF0YS5hc3NldF9pZCk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKG1vZGVsdHJpZ2dlcik7XG4gICAgICAgIG1vZGVsdHJpZ2dlciAhPT0gZmFsc2UgPyBzZXRlZGl0cGFydCh0cnVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgfSwgW21vZGVsdHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBhc3NldFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXJdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIHV0YW1hIHlhbmcgZmllbGQgYnVhdCBzZW5kaXJpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjEgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyMV1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7XG4gICAgICAuLi5uZXdkYXRhLFxuICAgICAgbW9kZWxfY29sdW1uczogZmllbGRkYXRhMi5jb25jYXQoZmllbGRkYXRhKSxcbiAgICB9KTtcbiAgfSwgW2NvbmNhdGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25jYXRhZGRjb2x1bW5zaWR4ICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjaGFuZ2Vhc3NldC5zb21lKFxuICAgICAgICAgIChkb2Nzb21lKSA9PiBkb2Nzb21lLmlkID09PSBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWRcbiAgICAgICAgKSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgKChmaWVsZGRhdGEyLmxlbmd0aCAtIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoKSA+PSBuZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkKSA9PiBkb2NhZGQubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goZmllbGRkYXRhMltmaWVsZGRhdGEyLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChjdXJyZW50ZmllbGQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHhhZGRjb2x1bW4gPSBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3ZGF0YS5hc3NldF9jb2x1bW5zLmxlbmd0aCtcIjpcIitjb25jYXRhZGRjb2x1bW5zaWR4K1wiO1wiK25ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY3VwKSA9PiBkb2N1cC5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeHVwY29sdW1uID0gbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3VycmVudGZpZWxkLmlkLFxuICAgICAgICAgICAgICAgIG1vZGVsX2lkOiBjdXJyZW50ZmllbGQubW9kZWxfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25jYXRhZGRjb2x1bW5zaWR4MSAhPT0gLTEpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY29uY2F0YWRkY29sdW1uc2lkeDEgPiBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCAtIDEgfHxcbiAgICAgICAgdHlwZW9mIGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTEuaWQgPT09IFwidW5kZWZpbmVkXCIgfHxcbiAgICAgICAgY2hhbmdlYXNzZXQgPT09IHRydWVcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGFbZmllbGRkYXRhLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChjdXJyZW50ZmllbGQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHhhZGRjb2x1bW4gPSBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3ZGF0YS5hc3NldF9jb2x1bW5zLmxlbmd0aCtcIjpcIitjb25jYXRhZGRjb2x1bW5zaWR4K1wiO1wiK25ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY3VwKSA9PiBkb2N1cC5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMucHVzaChmaWVsZGRhdGFbY29uY2F0YWRkY29sdW1uc2lkeDFdKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeHVwY29sdW1uID0gbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3VycmVudGZpZWxkLmlkLFxuICAgICAgICAgICAgICAgIG1vZGVsX2lkOiBjdXJyZW50ZmllbGQubW9kZWxfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4XSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgxICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDFdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4MV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MyAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgzXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjNdKTtcblxuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgYmFydSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjMgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGFhKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjNdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYnVhdCBzZW5kaXJpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEyKHtcbiAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYS5jb25jYXQoZmllbGRkYXRhYTIpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyMl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MiAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgyXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgyXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEgfSk7XG4gIH0sIFtuZXdkYXRhdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YWEgfSk7XG4gIH0sIFtuZXdkYXRhdHJpZ2dlcjJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciB0ZW1wID0gW107XG4gICAgaWYgKGNvbmNhdHBhcnR2YWx1ZSAhPT0gLTEpIHtcbiAgICAgIGlmIChjb25jYXRwYXJ0dmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9wYXJ0czogW10gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25jYXRwYXJ0dmFsdWUubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIHZhciBpZHh0ZW1wID0gdGVtcC5tYXAoKGRvYykgPT4gZG9jLmlkKS5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgaWYgKGlkeHRlbXAgIT09IC0xICYmIHRlbXBbaWR4dGVtcF1bXCJpZFwiXSA9PT0gZG9jLmlkKSB7XG4gICAgICAgICAgICB2YXIgaWR4b2YgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgIHRlbXBbaWR4b2ZdID0ge1xuICAgICAgICAgICAgICAuLi50ZW1wW2lkeG9mXSxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IHRlbXBbaWR4b2ZdLnF1YW50aXR5ICsgZG9jLnF1YW50aXR5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlkeHRlbXAgPT09IC0xKSB7XG4gICAgICAgICAgICB0ZW1wLnB1c2goe1xuICAgICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgICBxdWFudGl0eTogZG9jLnF1YW50aXR5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFkZF9tb2RlbHM6IHRlbXAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0cGFydHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDIuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMigocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkaWR4KSk7XG4gICAgfVxuICB9LCBbY2R0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkcGFydGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDJwYXJ0LmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RwYXJ0aWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QycGFydCgocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkcGFydGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkcGFydHRyaWdnZXJdKTtcbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0XG4gICAgICBzdD17c3R9XG4gICAgICB0b2s9e2luaXRQcm9wc31cbiAgICAgIHNpZGVtZW51PXtzaWRlbWVudX1cbiAgICAgIGRhdGFQcm9maWxlPXtkYXRhUHJvZmlsZX1cbiAgICAgIHBhdGhBcnI9e3BhdGhBcnJ9XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1hdXRvIGdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTRcIlxuICAgICAgICBpZD1cImNyZWF0ZUFzc2V0c1dyYXBwZXJcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgbWItOFwiPlxuICAgICAgICAgIDxTdGlja3kgY29udGFpbmVyU2VsZWN0b3JGb2N1cz1cIiNjcmVhdGVBZ2VudHNXcmFwcGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi00IGZsZXgganVzdGlmeS1iZXR3ZWVuIHAtMiBwdC00IGJvcmRlci10LTIgYm9yZGVyLWItMiBiZy13aGl0ZVwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBweS0yXCI+XG4gICAgICAgICAgICAgICAgRm9ybSBVYmFoIE1vZGVsIC0ge25ld2RhdGEubmFtZX1cbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvYWRtaW4vbW9kZWxzL2RldGFpbC8ke21vZGVsaWR9YH0+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIC8qb25DbGljaz17KCkgPT4geyBjb25zb2xlLmxvZyhuZXdkYXRhKTsgY29uc29sZS5sb2coZmllbGRkYXRhKTsgY29uc29sZS5sb2coZmllbGRkYXRhMik7IGNvbnNvbGUubG9nKGRlZmF1bHRkYXRhKTsgY29uc29sZS5sb2coZGVmYXVsdGFzc2V0KSB9fSovIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0uc3VibWl0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU3RpY2t5PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkluZm9ybWFzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIHtwcmFsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8U3Bpbj48L1NwaW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybX1cbiAgICAgICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e25ld2RhdGF9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiIGxhYmVsPVwiTWFudWZhY3R1cmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBwdC0yIG15LWF1dG8gaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsbWFudWYodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgTW9kZWwgQ29uc3VtYWJsZSBkZW5nYW4gc2F0dWFuIGp1bWxhaFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2xvYWRpbmdzcGVjID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YTIubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgIDxFbXB0eSBpbWFnZT17RW1wdHkuUFJFU0VOVEVEX0lNQUdFX1NJTVBMRX0+PC9FbXB0eT5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICBmaWVsZGRhdGEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAge2FkZGVkZmllbGRbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCAhPT0gZmllbGRkYXRhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhVcGRhdGVDb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NtYXApID0+IGRvY21hcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMuc3BsaWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeFVwZGF0ZUNvbHVtbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDFbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDFdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdC5pbmRleE9mKGlkaykgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttb21lbnQoZmllbGRkYXRhW2lkeF0uZGVmYXVsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGEyLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2RlZikgPT4gZG9jZGVmLmlkID09PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9jb2x1bW5faWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gdGVtcC5hZGRfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZW1wLmFkZF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlMShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tBZGRGaWVsZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge25ld2RhdGEuaXNfY29uc3VtYWJsZSA9PT0gZmFsc2UgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTggY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPktvbmZpZ3VyYXNpIFBhcnQgTW9kZWw8L2gxPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7bW9kZWxwYXJ0ZmllbGRkYXRhLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPENvbGxhcHNlIGFjY29yZGlvbj5cbiAgICAgICAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2BwYW5lbCR7aWR4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBkb2MubW9kZWxfY2hpbGQubGVuZ3RoID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdy02LzEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXItMlwiPntkb2MubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPFRvb2x0aXAgcGxhY2VtZW50PVwicmlnaHRcIiB0aXRsZT1cIk1vZGVsIHRpZGFrIG1lbWlsaWtpIHBhcnQgbW9kZWwhXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIDxFeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgYnJvd25gIH19PjwvRXhjbGFtYXRpb25DaXJjbGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcIi1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgTW9kZWwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZGFyaSBNb2RlbCBQYXJ0ICR7bmV3ZGF0YS5uYW1lfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkb2MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeHRlbXAgPSBtb2RlbHBhcnRmaWVsZGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YSA9IHRlbXAuYWRkX21vZGVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MyKSA9PiBkb2MyLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAuYWRkX21vZGVsc1tpZHhkYXRhXS5xdWFudGl0eSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMuc3BsaWNlKGlkeGRhdGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NwYXJ0cykgPT4gZG9jcGFydHMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhkb2MuaWQpID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9tb2RlbF9pZHMuaW5kZXhPZihkb2MuaWQpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgcmVkYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0IFR5cGV7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bGFzc2V0dHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYywgaWR4bWMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIG15LWF1dG8gcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy13aGl0ZSBib3JkZXIgdy0zLzEyIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy1ncmF5LTEwMCByb3VuZGVkIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGltZWxpbmUgc3R5bGU9e3sgbWFyZ2luVG9wOiBgMXJlbWAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UaW1lbGluZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsYXNzZXR0eXBlOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bHNuOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtlZGl0cGFydCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBteS0zIGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC01IHRleHQtbGcgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB4XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGlkbW9kZWx9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctMTEvMTIgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17Y3VycmVudGlkbW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRDb250ZW50PXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoaW5ncGFydCA/IDxTcGluIHNpemU9XCJzbWFsbFwiIC8+IDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS9nZXRNb2RlbHM/cm93cz0xMCZuYW1lPSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgIT09IFwiXCIgPyB2YWx1ZSA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRtb2RlbGRhdGEoW10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIGF0YXUgY2FyaSBuYW1hIG1vZHVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbj17KGlucHV0LCBvcHQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHQuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoaW5wdXQudG9Mb3dlckNhc2UoKSkgPj0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvblBvcHVwU2Nyb2xsPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGV2ZW50LnRhcmdldC5zY3JvbGxUb3AgKyBldmVudC50YXJnZXQub2Zmc2V0SGVpZ2h0ID09PSBldmVudC50YXJnZXQuc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBzZXRwYWdlKHByZXYgPT4gcHJldiArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzP3BhZ2U9JHtwYWdlfSZyb3dzPTEwYCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudGhlbihyZXMyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNjcm9sbFRvKDAsIGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJlczIuZGF0YS50byA+PSByZXMyLmRhdGEudG90YWwgPyBzZXRtb2RlbGRhdGEoWy4uLm1vZGVsZGF0YSwgcmVzMi5kYXRhLmRhdGFdKSA6IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YSwgPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz5dKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGVsZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2RvYy5pZH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nZ2V0bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHtjdXJyZW50aWRtb2RlbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMSA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzMi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibW9kZWxfY29sdW1uc1wiXSA9IHJlczIuZGF0YVtwcm9wXS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlbHBhcnRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLm1vZGVsX3BhcnRzLm1hcCgoZG9jMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcDMgPSBkb2MyLm1vZGVsX2NvbHVtbnMubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYzMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jMyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG1hcDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibW9kZWxfcGFydHNcIl0gPSBtb2RlbHBhcnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcImlkXCJdID0gcmVzMi5kYXRhLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm5hbWVcIl0gPSByZXMyLmRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcDEgPSBbLi4udGVtcDEsIHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR2YWx1ZShyZXMyLmRhdGEubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dHJpZ2dlcihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEyID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMykgPT4gZG9jMy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50aWRtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ZGF0YTIgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50aWRtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkeGRhdGEyICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5tYXAoKGRvYzEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2MxLmlkID09PSBjdXJyZW50aWRtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MxLnF1YW50aXR5ID0gZG9jMS5xdWFudGl0eSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGxvYWRpbmdnZXRtb2RlbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICsgVGFtYmFoIFBhcnQgTW9kZWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0yLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlbW9kZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbGNyZWF0ZW1vZGVsfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIG1iLThcIj5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtMn1cbiAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIkFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICBsYWJlbD1cIk1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk1hbnVmYWN0dXJlciB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Lyoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ3NwZWMyID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhW2lkeF0ucmVxdWlyZWQgPyA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPiA6IG51bGx9IDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPih7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIiA/IFwiU2luZ2xlIFRleHRib3hcIiA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LWZ1bGwnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctNyBmbGV4IGp1c3RpZnktY2VudGVyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl1bXCJkZWZhdWx0XCJdID0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19IGRlZmF1bHRWYWx1ZT17ZG9jY30gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH0gZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwicGFyYWdyYXBoXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhIHJvd3M9ezR9IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjaGVja2JveFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2kgZGliYXdhaCBpbmk8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2NjLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl1bXCJkZWZhdWx0XCJdLnB1c2goaWR4eClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz4ge2RvY2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlciBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGRhdGVTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgIH0gKi99XG4gICAgICAgICAge2xvYWRpbmdzcGVjMiA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGFhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAge2FkZGVkZmllbGQzW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMyh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGQyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2N4eCwgaWR4eCkgPT4gZG9jeHguaWQgIT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkMi5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIzKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgzKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMygocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtmaWVsZGRhdGFhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMltpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDJdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGFhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGFhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tBZGRGaWVsZDJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgVGFtYmFoIFNwZXNpZmlrYXNpIE1vZGVsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNYW51ZmFjdHVyZXI8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRtYW51Zn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRNYW51ZmFjdHVyZXJ9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ21hbnVmfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAgdmlzaWJsZT17bW9kYWxtYW51Zn1cbiAgICAgICAgZm9vdGVyPXtudWxsfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICB3aWR0aD17OTAwfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgIE5hbWEgTWFudWZhY3R1cmVyIDxzcGFuIGNsYXNzTmFtZT1cIm5hbWFtYW51XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHZhbHVlPXtkYXRhbWFudWYubmFtZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBOYW1hIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICA/IHNldGRpc2FibGVkbWFudWYodHJ1ZSlcbiAgICAgICAgICAgICAgICAgIDogc2V0ZGlzYWJsZWRtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0ZGF0YW1hbnVmKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5uYW1hbWFudTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKHsgcmVxLCByZXMsIHBhcmFtcyB9KSB7XG4gIGNvbnN0IG1vZGVsaWQgPSBwYXJhbXMubW9kZWxJZDtcbiAgdmFyIGluaXRQcm9wcyA9IHt9O1xuICBpZiAoIXJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCBjb29raWVzSlNPTjEgPSBodHRwY29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSk7XG4gIGlmICghY29va2llc0pTT04xLnRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGluaXRQcm9wcyA9IGNvb2tpZXNKU09OMS50b2tlbjtcbiAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2RldGFpbFByb2ZpbGVgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCByZXNqc29uID0gYXdhaXQgcmVzb3VyY2VzLmpzb24oKTtcbiAgY29uc3QgZGF0YVByb2ZpbGUgPSByZXNqc29uO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRQcm9wcyxcbiAgICAgIGRhdGFQcm9maWxlLFxuICAgICAgc2lkZW1lbnU6IFwiODJcIixcbiAgICAgIG1vZGVsaWQsXG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWxzVXBkYXRlMjtcbiJdfQ== */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n              }, void 0, false, void 0, _this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1992,\n              columnNumber: 19\n            }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n                layout: \"vertical\",\n                initialValues: currentfield,\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"name\",\n                    label: \"Nama Spesifikasi\",\n                    rules: [{\n                      required: true,\n                      message: \"Nama Spesifikasi wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      required: true,\n                      name: \"name\",\n                      onChange: function onChange(e) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          name: e.target.value\n                        }));\n\n                        if (e.target.value === \"\") {\n                          setdisabledtambah(true);\n                        } else if (e.target.value !== \"\" && currentfield.data_type !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                          return doca !== \"\";\n                        })) {\n                          setdisabledtambah(false);\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2146,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2136,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"data_type\",\n                    label: \"Tipe Field\",\n                    rules: [{\n                      required: true,\n                      message: \"Tipe Field wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                      placeholder: \"Pilih Tipe Field\",\n                      onChange: function onChange(value) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          data_type: value\n                        }));\n\n                        if (value === \"dropdown\" || value === \"checkbox\") {\n                          if (currentdropdown2.every(function (doca, idxa) {\n                            return doca !== \"\";\n                          })) {\n                            setdisabledtambah(false);\n                          } else {\n                            setdisabledtambah(true);\n                          }\n                        } else {\n                          setdisabledtambah(false);\n                        }\n\n                        if (value === \"dropdown\") {\n                          setcurrentcheckeddropdown2(\"\");\n                          setcurrentdropdown2([\"\", \"\"]);\n                          setcd2([\"\", \"\"]);\n                          setdisabledtambah(true);\n                        }\n\n                        if (value === \"checkbox\") {\n                          setcurrentcheckeddropdown2([]);\n                          setcurrentdropdown2([\"\", \"\"]);\n                          setcd2([\"\", \"\"]);\n                          setdisabledtambah(true);\n                        }\n                      },\n                      name: \"data_type\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"dropdown\",\n                        children: \"Dropdown\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2216,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"number\",\n                        children: \"Number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2219,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"paragraph\",\n                        children: \"Paragraph Text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2222,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"checkbox\",\n                        children: \"Checkbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2225,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"single\",\n                        children: \"Single Textbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2228,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"date\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2231,\n                        columnNumber: 29\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2178,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2168,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2135,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                  name: \"default\",\n                  label: \"Default\",\n                  children: [currentfield.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                      children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2238,\n                      columnNumber: 29\n                    }, _this), currentdropdown2.map(function (doc, idxx) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            checked: currentcheckeddropdown2 === idxx ? true : false,\n                            onChange: function onChange(e) {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdown2(idxx);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2245,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2244,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                            style: {\n                              marginRight: \"0.5rem\"\n                            },\n                            defaultValue: doc,\n                            placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                            onChange: function onChange(e) {\n                              setcurrentdropdown2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                                return doca !== \"\";\n                              }) && currentfield.name !== \"\") {\n                                setdisabledtambah(false);\n                              } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                setdisabledtambah(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2259,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2258,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: function onClick() {\n                            setcurrentdropdown2([]);\n                            setcdtrigger(function (prev) {\n                              return !prev;\n                            });\n                            setcdidx(idxx);\n                          },\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2299,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2291,\n                          columnNumber: 33\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2243,\n                        columnNumber: 31\n                      }, _this);\n                    }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                        onClick: function onClick() {\n                          setcurrentdropdown2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdown2), [\"\"]));\n                          setcd2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2), [\"\"]));\n                          setdisabledtambah(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2304,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2303,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2237,\n                    columnNumber: 27\n                  }, _this) : null, currentfield.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                      children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2321,\n                      columnNumber: 29\n                    }, _this), currentdropdown2.map(function (doc, idxx) {\n                      var idxchecked = currentcheckeddropdown2.includes(idxx);\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            defaultChecked: idxchecked,\n                            onChange: function onChange(e) {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdown2(function (prev) {\n                                  var temp = prev;\n                                  temp.push(idxx);\n                                  return temp;\n                                });\n                              } else {\n                                setcurrentcheckeddropdown2(function (prev) {\n                                  var temp = prev;\n                                  var index = temp.indexOf(idxx);\n                                  temp.splice(index, 1);\n                                  return temp;\n                                });\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2331,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2330,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                            style: {\n                              marginRight: \"0.5rem\"\n                            },\n                            defaultValue: doc,\n                            placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                            onChange: function onChange(e) {\n                              setcurrentdropdown2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                                return doca !== \"\";\n                              }) && currentfield.name !== \"\") {\n                                setdisabledtambah(false);\n                              } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                setdisabledtambah(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2352,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2351,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: function onClick() {\n                            setcurrentdropdown2([]);\n                            setcdtrigger(function (prev) {\n                              return !prev;\n                            });\n                            setcdidx(idxx);\n                          },\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2394,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2386,\n                          columnNumber: 35\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2329,\n                        columnNumber: 33\n                      }, _this);\n                    }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                        onClick: function onClick() {\n                          setcurrentdropdown2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdown2), [\"\"]));\n                          setcd2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2), [\"\"]));\n                          setdisabledtambah(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2400,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2399,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2320,\n                    columnNumber: 27\n                  }, _this) : null, currentfield.data_type.toLowerCase() === \"number\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2___default.a, {\n                    style: {\n                      width: \"30%\"\n                    },\n                    defaultValue: fielddata[idx][\"default\"],\n                    placeholder: \"Masukkan default \".concat(currentfield.name),\n                    onChange: function onChange(value) {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        \"default\": \"\".concat(value)\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2416,\n                    columnNumber: 27\n                  }, _this), currentfield.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n                    rows: 4,\n                    placeholder: \"Masukkan default \".concat(currentfield.name),\n                    defaultValue: fielddata[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2430,\n                    columnNumber: 27\n                  }, _this), currentfield.data_type.toLowerCase() === \"string\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    placeholder: \"Masukkan default \".concat(currentfield.name),\n                    defaultValue: fielddata[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2443,\n                    columnNumber: 27\n                  }, _this), currentfield.data_type.toLowerCase() === \"single\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    placeholder: \"Masukkan default \".concat(currentfield.name),\n                    defaultValue: fielddata[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2455,\n                    columnNumber: 27\n                  }, _this), currentfield.data_type.toLowerCase() === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default.a, {\n                    defaultValue: moment__WEBPACK_IMPORTED_MODULE_21___default()(fielddata[idx][\"default\"]),\n                    style: {\n                      width: \"30%\"\n                    },\n                    placeholder: \"Masukkan default \".concat(currentfield.name),\n                    onChange: function onChange(value, dateString) {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        \"default\": dateString\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2467,\n                    columnNumber: 27\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2235,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2480,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"flex mt-4 justify-end\",\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                    placement: \"bottom\",\n                    title: \"Apakah anda yakin ingin menghapus field \".concat(doc.name === \"\" ? \"ini\" : doc.name, \"?\"),\n                    okText: \"Ya\",\n                    cancelText: \"Tidak\",\n                    onConfirm: function onConfirm() {\n                      setfielddata(function (prev) {\n                        return prev.filter(function (_, idxx) {\n                          return idxx !== idx;\n                        });\n                      });\n                      setnewdata(function (prev) {\n                        var temp = prev;\n                        temp.model_columns = temp.model_columns.filter(function (_, idxx) {\n                          return idxx !== fielddata2.length + idx;\n                        });\n                        return temp;\n                      });\n\n                      if (defaultdata.model_columns.some(function (docdef) {\n                        return docdef.id === doc.id;\n                      })) {\n                        setnewdata(function (prev) {\n                          var temp = prev;\n                          temp.delete_column_ids.push(doc.id);\n                          var idxtemp = defaultdata.model_columns.map(function (doctemp) {\n                            return doctemp.id;\n                          }).indexOf(doc.id);\n                          temp.model_columns.splice(idxtemp, 1);\n                          return temp;\n                        });\n                      } else {\n                        setnewdata(function (prev) {\n                          var temp = prev;\n                          var idxtemp = temp.add_columns.map(function (doctemp) {\n                            return doctemp.name;\n                          }).indexOf(doc.name);\n                          idxtemp !== -1 ? temp.add_columns.splice(idxtemp, 1) : null;\n                          return temp;\n                        });\n                      }\n\n                      setaddedfield1(function (prev) {\n                        prev.splice(idx, 1);\n                        return prev;\n                      });\n                      setdisabledaddfield(false);\n                      setpointevent(\"\");\n                    },\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"DeleteOutlined\"], {\n                        style: {\n                          fontSize: \"1.25rem\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2535,\n                        columnNumber: 29\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2534,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2482,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \" flex items-center mr-4\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                      checked: currentfield.required,\n                      style: {\n                        marginRight: \"0.5rem\"\n                      },\n                      onChange: function onChange(e) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          required: e.target.checked\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2541,\n                      columnNumber: 27\n                    }, _this), \" \", \"Required\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2540,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                    disabled: disabledtambah,\n                    type: \"primary\",\n                    onClick: function onClick() {\n                      if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n                        setidxdropdowntrigger1(idx);\n                        setvaluedropdowntrigger1(function (prev) {\n                          return !prev;\n                        });\n                      }\n\n                      setconcataddcolumnsidx1(idx);\n                      setconcataddcolumnsvalue1(doc);\n                      setconcataddcolumnstrigger1(function (prev) {\n                        return !prev;\n                      });\n                      var temp = fielddata;\n                      temp[idx] = currentfield;\n                      setfielddata(temp);\n                      setaddedfieldidx1(idx);\n                      setaddedfieldtrigger1(function (prev) {\n                        return !prev;\n                      });\n                      setconcatfieldtrigger(function (prev) {\n                        return !prev;\n                      });\n                      setdisabledaddfield(false);\n                      setpointevent(\"\");\n                    },\n                    children: \"Tambah\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2553,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2481,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2134,\n                columnNumber: 21\n              }, _this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2130,\n              columnNumber: 19\n            }, _this)\n          }, void 0, false);\n        }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"w-full flex justify-center mt-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"dashed\",\n            disabled: disabledaddfield,\n            style: {\n              width: \"80%\",\n              height: \"4rem\"\n            },\n            onClick: onClickAddField,\n            children: \"+ Tambah Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2587,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2586,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1348,\n        columnNumber: 9\n      }, _this), newdata.is_consumable === false && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \" mb-8 col-span-1 md:col-span-4 px-5 flex flex-col\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Konfigurasi Part Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2600,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2599,\n          columnNumber: 13\n        }, _this), modelpartfielddata.length === 0 ? null : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15___default.a, {\n            accordion: true,\n            children: modelpartfielddata.map(function (doc, idx) {\n              return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(Panel, {\n                id: \"panel\".concat(idx),\n                header: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"strong\", {\n                  className: \"jsx-2733278964\",\n                  children: doc.name // ?\n                  // <>\n                  //     {\n                  //         doc.model_child.length === 0 ?\n                  //             <div className=\"flex items-center w-6/12\">\n                  //                 <span className=\"mr-2\">{doc.name}</span>\n                  //                 <Tooltip placement=\"right\" title=\"Model tidak memiliki part model!\">\n                  //                     <ExclamationCircleOutlined style={{ color: `brown` }}></ExclamationCircleOutlined>\n                  //                 </Tooltip>\n                  //             </div>\n                  //             :\n                  //             doc.name\n                  //     }\n                  // </>\n                  // :\n                  // \"-\"\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2611,\n                  columnNumber: 27\n                }, _this),\n                extra: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-2733278964\" + \" \" + \"absolute top-2 right-2\",\n                  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                    placement: \"bottom\",\n                    title: \"Apakah anda yakin ingin menghapus Model \".concat(doc.name === \"\" ? \"ini\" : doc.name, \" dari Model Part \").concat(newdata.name, \"?\"),\n                    okText: \"Ya\",\n                    cancelText: \"Tidak\",\n                    onConfirm: function onConfirm() {\n                      // console.log(doc)\n                      setnewdata(function (prev) {\n                        var temp = prev;\n                        var idxtemp = modelpartfielddata.map(function (doctemp) {\n                          return doctemp.id;\n                        }).indexOf(doc.id);\n\n                        if (defaultdata.model_parts.map(function (docparts) {\n                          return docparts.id;\n                        }).includes(doc.id) === false && idxtemp !== -1) {\n                          var idxdata = temp.add_models.map(function (doc2) {\n                            return doc2.id;\n                          }).indexOf(doc.id);\n\n                          if (temp.add_models[idxdata].quantity > 1) {\n                            temp.add_models[idxdata].quantity -= 1;\n                          } else {\n                            temp.add_models.splice(idxdata, 1);\n                          }\n                        }\n\n                        if (defaultdata.model_parts.map(function (docparts) {\n                          return docparts.id;\n                        }).includes(doc.id) === true && idxtemp !== -1) {\n                          if (temp.delete_model_ids.indexOf(doc.id) === -1) {\n                            temp.delete_model_ids.push(doc.id);\n                          }\n                        }\n\n                        return temp;\n                      });\n                      setmodelpartfielddata(function (prev) {\n                        return prev.filter(function (_, idxx) {\n                          return idxx !== idx;\n                        });\n                      });\n                    },\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CloseCircleOutlined\"], {\n                      style: {\n                        color: \"red\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2684,\n                      columnNumber: 31\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2635,\n                    columnNumber: 29\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2634,\n                  columnNumber: 27\n                }, _this),\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-2733278964\" + \" \" + \"flex flex-col p-3\",\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-2733278964\" + \" \" + \"flex flex-col mb-5\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                      className: \"jsx-2733278964\" + \" \" + \"font-semibold mb-1\",\n                      children: [\"Asset Type\", \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                        className: \"jsx-2733278964\" + \" \" + \"judulassettype\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2693,\n                        columnNumber: 31\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2691,\n                      columnNumber: 29\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"rounded bg-gray-200 w-full flex items-center my-auto h-12 px-2\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                        className: \"jsx-2733278964\" + \" \" + \"mb-0 text-sm\",\n                        children: doc.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2696,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2695,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2690,\n                    columnNumber: 27\n                  }, _this), doc.model_columns.map(function (docmc, idxmc) {\n                    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"flex flex-col mb-5\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                        className: \"jsx-2733278964\" + \" \" + \"font-semibold mb-1\",\n                        children: [docmc.name, \" \", docmc.required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                          className: \"jsx-2733278964\" + \" \" + \"judulsn\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2705,\n                          columnNumber: 37\n                        }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                          className: \"jsx-2733278964\" + \" \" + \"text-gray-400\",\n                          children: docmc.data_type ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                            children: [\"(\", docmc.data_type.charAt(0).toUpperCase() + docmc.data_type.slice(1), \")\"]\n                          }, void 0, true) : \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2707,\n                          columnNumber: 35\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2702,\n                        columnNumber: 33\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-2733278964\" + \" \" + \"w-full flex flex-col justify-center my-auto px-2 py-1\",\n                        children: docmc.data_type === \"dropdown\" || docmc.data_type === \"checkbox\" || docmc.data_type === \"paragraph\" || docmc.data_type === \"date\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                          children: [docmc.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                            children: docmc[\"default\"].opsi.map(function (docopsi, idxopsi) {\n                              return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                                className: \"jsx-2733278964\" + \" \" + \"rounded bg-white border w-3/12 flex items-center my-auto px-2 py-1 mb-1\",\n                                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                                  disabled: true,\n                                  checked: idxopsi === docmc[\"default\"][\"default\"],\n                                  style: {\n                                    marginRight: \"0.5rem\"\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2736,\n                                  columnNumber: 49\n                                }, _this), docopsi]\n                              }, idxopsi, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2732,\n                                columnNumber: 47\n                              }, _this);\n                            })\n                          }, void 0, false), docmc.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                            children: docmc[\"default\"].opsi.map(function (docopsi, idxopsi) {\n                              return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                                className: \"jsx-2733278964\" + \" \" + \"rounded w-full flex items-center my-auto px-2 py-1 mb-1\",\n                                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                                  disabled: true,\n                                  checked: idxopsi === docmc[\"default\"][\"default\"],\n                                  style: {\n                                    marginRight: \"0.5rem\"\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2760,\n                                  columnNumber: 49\n                                }, _this), docopsi]\n                              }, idxopsi, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2756,\n                                columnNumber: 47\n                              }, _this);\n                            })\n                          }, void 0, false), docmc.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"jsx-2733278964\" + \" \" + \"flex w-full items-center justify-between bg-gray-100 rounded h-10 px-3\",\n                            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                              className: \"jsx-2733278964\" + \" \" + \"mb-0\",\n                              children: docmc[\"default\"]\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2778,\n                              columnNumber: 43\n                            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                              className: \"jsx-2733278964\",\n                              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2782,\n                                columnNumber: 45\n                              }, _this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2781,\n                              columnNumber: 43\n                            }, _this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2777,\n                            columnNumber: 41\n                          }, _this), docmc.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"jsx-2733278964\" + \" \" + \"flex h-20 rounded border bg-gray-100 w-full px-3\",\n                            children: docmc[\"default\"]\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2787,\n                            columnNumber: 41\n                          }, _this)]\n                        }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-2733278964\" + \" \" + \"rounded border bg-gray-100 flex items-center w-full h-10 px-3\",\n                          children: docmc[\"default\"]\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2793,\n                          columnNumber: 37\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2722,\n                        columnNumber: 33\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2701,\n                      columnNumber: 31\n                    }, _this);\n                  }), doc.model_parts.length === 0 ? null : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_timeline__WEBPACK_IMPORTED_MODULE_11___default.a, {\n                      style: {\n                        marginTop: \"1rem\"\n                      },\n                      children: renderChildPartModel(doc.model_parts)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2803,\n                      columnNumber: 31\n                    }, _this)\n                  }, void 0, false)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2689,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n                  id: \"2733278964\",\n                  children: \".judulassettype.jsx-2733278964::before{content:'*';color:red;}.judulsn.jsx-2733278964::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5dkYyQixBQUd5RSxBQUlBLFlBSEYsQUFJQSxVQUhkLEFBSUEiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEocHJldiA9PiAoey4uLnByZXYsIG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSwgW3RyaWdnZXJtYW51Zl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke21vZGVsaWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSByZXMyLmRhdGEubW9kZWxfY29sdW1ucy5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgID8gZG9jLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vbW9kZWxfcGFydHNcbiAgICAgICAgY29uc3QgcmVjdXJzaXZlUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICAgICAgICB2YXIgdGVtcDExID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGVtcDEgPSB7fTtcbiAgICAgICAgICAgIHRlbXAxID0gaXRlbVtpXS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQgPT09IFwiXCIgfHwgZG9jLmRlZmF1bHQgPT09IFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGVtcDExLnB1c2goe1xuICAgICAgICAgICAgICAuLi5pdGVtW2ldLFxuICAgICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wMSxcbiAgICAgICAgICAgICAgbW9kZWxfcGFydHM6XG4gICAgICAgICAgICAgICAgaXRlbVtpXS5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZVBhcnRNb2RlbChpdGVtW2ldLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGVtcDExO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB5byA9IHJlY3Vyc2l2ZVBhcnRNb2RlbChyZXMyLmRhdGEubW9kZWxfcGFydHMpO1xuICAgICAgICBjb25zdCB0ZW1wMiA9IHtcbiAgICAgICAgICAuLi5yZXMyLmRhdGEsXG4gICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5hc3NldC5jb2RlLFxuICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAsXG4gICAgICAgICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgICAgICAgYWRkX21vZGVsczogW10sXG4gICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgIH07XG4gICAgICAgIHNldG5ld2RhdGEodGVtcDIpO1xuICAgICAgICBzZXRkZWZhdWx0ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRhc3NldCh0ZW1wKTtcbiAgICAgICAgc2V0ZGVmYXVsdG1vZGVsKHRlbXAyKTtcbiAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKHlvKTtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0YWRkZWRmaWVsZChhcnIpO1xuICAgICAgICBzZXRhc3NldHR5cGVjb2RlKHJlczIuZGF0YS5hc3NldF9pZCk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKG1vZGVsdHJpZ2dlcik7XG4gICAgICAgIG1vZGVsdHJpZ2dlciAhPT0gZmFsc2UgPyBzZXRlZGl0cGFydCh0cnVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgfSwgW21vZGVsdHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBhc3NldFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXJdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIHV0YW1hIHlhbmcgZmllbGQgYnVhdCBzZW5kaXJpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjEgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyMV1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7XG4gICAgICAuLi5uZXdkYXRhLFxuICAgICAgbW9kZWxfY29sdW1uczogZmllbGRkYXRhMi5jb25jYXQoZmllbGRkYXRhKSxcbiAgICB9KTtcbiAgfSwgW2NvbmNhdGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25jYXRhZGRjb2x1bW5zaWR4ICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjaGFuZ2Vhc3NldC5zb21lKFxuICAgICAgICAgIChkb2Nzb21lKSA9PiBkb2Nzb21lLmlkID09PSBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWRcbiAgICAgICAgKSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgKChmaWVsZGRhdGEyLmxlbmd0aCAtIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoKSA+PSBuZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkKSA9PiBkb2NhZGQubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goZmllbGRkYXRhMltmaWVsZGRhdGEyLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChjdXJyZW50ZmllbGQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHhhZGRjb2x1bW4gPSBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3ZGF0YS5hc3NldF9jb2x1bW5zLmxlbmd0aCtcIjpcIitjb25jYXRhZGRjb2x1bW5zaWR4K1wiO1wiK25ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY3VwKSA9PiBkb2N1cC5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeHVwY29sdW1uID0gbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3VycmVudGZpZWxkLmlkLFxuICAgICAgICAgICAgICAgIG1vZGVsX2lkOiBjdXJyZW50ZmllbGQubW9kZWxfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25jYXRhZGRjb2x1bW5zaWR4MSAhPT0gLTEpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY29uY2F0YWRkY29sdW1uc2lkeDEgPiBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCAtIDEgfHxcbiAgICAgICAgdHlwZW9mIGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTEuaWQgPT09IFwidW5kZWZpbmVkXCIgfHxcbiAgICAgICAgY2hhbmdlYXNzZXQgPT09IHRydWVcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGFbZmllbGRkYXRhLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChjdXJyZW50ZmllbGQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHhhZGRjb2x1bW4gPSBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3ZGF0YS5hc3NldF9jb2x1bW5zLmxlbmd0aCtcIjpcIitjb25jYXRhZGRjb2x1bW5zaWR4K1wiO1wiK25ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY3VwKSA9PiBkb2N1cC5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMucHVzaChmaWVsZGRhdGFbY29uY2F0YWRkY29sdW1uc2lkeDFdKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeHVwY29sdW1uID0gbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3VycmVudGZpZWxkLmlkLFxuICAgICAgICAgICAgICAgIG1vZGVsX2lkOiBjdXJyZW50ZmllbGQubW9kZWxfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4XSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgxICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDFdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4MV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MyAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgzXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjNdKTtcblxuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgYmFydSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjMgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGFhKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjNdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYnVhdCBzZW5kaXJpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEyKHtcbiAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYS5jb25jYXQoZmllbGRkYXRhYTIpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyMl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MiAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgyXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgyXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEgfSk7XG4gIH0sIFtuZXdkYXRhdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YWEgfSk7XG4gIH0sIFtuZXdkYXRhdHJpZ2dlcjJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciB0ZW1wID0gW107XG4gICAgaWYgKGNvbmNhdHBhcnR2YWx1ZSAhPT0gLTEpIHtcbiAgICAgIGlmIChjb25jYXRwYXJ0dmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9wYXJ0czogW10gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25jYXRwYXJ0dmFsdWUubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIHZhciBpZHh0ZW1wID0gdGVtcC5tYXAoKGRvYykgPT4gZG9jLmlkKS5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgaWYgKGlkeHRlbXAgIT09IC0xICYmIHRlbXBbaWR4dGVtcF1bXCJpZFwiXSA9PT0gZG9jLmlkKSB7XG4gICAgICAgICAgICB2YXIgaWR4b2YgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgIHRlbXBbaWR4b2ZdID0ge1xuICAgICAgICAgICAgICAuLi50ZW1wW2lkeG9mXSxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IHRlbXBbaWR4b2ZdLnF1YW50aXR5ICsgZG9jLnF1YW50aXR5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlkeHRlbXAgPT09IC0xKSB7XG4gICAgICAgICAgICB0ZW1wLnB1c2goe1xuICAgICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgICBxdWFudGl0eTogZG9jLnF1YW50aXR5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFkZF9tb2RlbHM6IHRlbXAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0cGFydHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDIuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMigocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkaWR4KSk7XG4gICAgfVxuICB9LCBbY2R0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkcGFydGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDJwYXJ0LmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RwYXJ0aWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QycGFydCgocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkcGFydGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkcGFydHRyaWdnZXJdKTtcbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0XG4gICAgICBzdD17c3R9XG4gICAgICB0b2s9e2luaXRQcm9wc31cbiAgICAgIHNpZGVtZW51PXtzaWRlbWVudX1cbiAgICAgIGRhdGFQcm9maWxlPXtkYXRhUHJvZmlsZX1cbiAgICAgIHBhdGhBcnI9e3BhdGhBcnJ9XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1hdXRvIGdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTRcIlxuICAgICAgICBpZD1cImNyZWF0ZUFzc2V0c1dyYXBwZXJcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgbWItOFwiPlxuICAgICAgICAgIDxTdGlja3kgY29udGFpbmVyU2VsZWN0b3JGb2N1cz1cIiNjcmVhdGVBZ2VudHNXcmFwcGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi00IGZsZXgganVzdGlmeS1iZXR3ZWVuIHAtMiBwdC00IGJvcmRlci10LTIgYm9yZGVyLWItMiBiZy13aGl0ZVwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBweS0yXCI+XG4gICAgICAgICAgICAgICAgRm9ybSBVYmFoIE1vZGVsIC0ge25ld2RhdGEubmFtZX1cbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvYWRtaW4vbW9kZWxzL2RldGFpbC8ke21vZGVsaWR9YH0+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIC8qb25DbGljaz17KCkgPT4geyBjb25zb2xlLmxvZyhuZXdkYXRhKTsgY29uc29sZS5sb2coZmllbGRkYXRhKTsgY29uc29sZS5sb2coZmllbGRkYXRhMik7IGNvbnNvbGUubG9nKGRlZmF1bHRkYXRhKTsgY29uc29sZS5sb2coZGVmYXVsdGFzc2V0KSB9fSovIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0uc3VibWl0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU3RpY2t5PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkluZm9ybWFzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIHtwcmFsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8U3Bpbj48L1NwaW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybX1cbiAgICAgICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e25ld2RhdGF9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiIGxhYmVsPVwiTWFudWZhY3R1cmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBwdC0yIG15LWF1dG8gaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsbWFudWYodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgTW9kZWwgQ29uc3VtYWJsZSBkZW5nYW4gc2F0dWFuIGp1bWxhaFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2xvYWRpbmdzcGVjID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YTIubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgIDxFbXB0eSBpbWFnZT17RW1wdHkuUFJFU0VOVEVEX0lNQUdFX1NJTVBMRX0+PC9FbXB0eT5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICBmaWVsZGRhdGEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAge2FkZGVkZmllbGRbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCAhPT0gZmllbGRkYXRhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhVcGRhdGVDb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NtYXApID0+IGRvY21hcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMuc3BsaWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeFVwZGF0ZUNvbHVtbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDFbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDFdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdC5pbmRleE9mKGlkaykgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttb21lbnQoZmllbGRkYXRhW2lkeF0uZGVmYXVsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGEyLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2RlZikgPT4gZG9jZGVmLmlkID09PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9jb2x1bW5faWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gdGVtcC5hZGRfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZW1wLmFkZF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlMShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tBZGRGaWVsZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge25ld2RhdGEuaXNfY29uc3VtYWJsZSA9PT0gZmFsc2UgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTggY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPktvbmZpZ3VyYXNpIFBhcnQgTW9kZWw8L2gxPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7bW9kZWxwYXJ0ZmllbGRkYXRhLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPENvbGxhcHNlIGFjY29yZGlvbj5cbiAgICAgICAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2BwYW5lbCR7aWR4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBkb2MubW9kZWxfY2hpbGQubGVuZ3RoID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdy02LzEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXItMlwiPntkb2MubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPFRvb2x0aXAgcGxhY2VtZW50PVwicmlnaHRcIiB0aXRsZT1cIk1vZGVsIHRpZGFrIG1lbWlsaWtpIHBhcnQgbW9kZWwhXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIDxFeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgYnJvd25gIH19PjwvRXhjbGFtYXRpb25DaXJjbGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcIi1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgTW9kZWwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZGFyaSBNb2RlbCBQYXJ0ICR7bmV3ZGF0YS5uYW1lfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkb2MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeHRlbXAgPSBtb2RlbHBhcnRmaWVsZGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YSA9IHRlbXAuYWRkX21vZGVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MyKSA9PiBkb2MyLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAuYWRkX21vZGVsc1tpZHhkYXRhXS5xdWFudGl0eSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMuc3BsaWNlKGlkeGRhdGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NwYXJ0cykgPT4gZG9jcGFydHMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhkb2MuaWQpID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9tb2RlbF9pZHMuaW5kZXhPZihkb2MuaWQpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgcmVkYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0IFR5cGV7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bGFzc2V0dHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYywgaWR4bWMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIG15LWF1dG8gcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy13aGl0ZSBib3JkZXIgdy0zLzEyIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy1ncmF5LTEwMCByb3VuZGVkIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGltZWxpbmUgc3R5bGU9e3sgbWFyZ2luVG9wOiBgMXJlbWAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UaW1lbGluZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsYXNzZXR0eXBlOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bHNuOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtlZGl0cGFydCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBteS0zIGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC01IHRleHQtbGcgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB4XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGlkbW9kZWx9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctMTEvMTIgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17Y3VycmVudGlkbW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRDb250ZW50PXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoaW5ncGFydCA/IDxTcGluIHNpemU9XCJzbWFsbFwiIC8+IDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS9nZXRNb2RlbHM/cm93cz0xMCZuYW1lPSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgIT09IFwiXCIgPyB2YWx1ZSA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRtb2RlbGRhdGEoW10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIGF0YXUgY2FyaSBuYW1hIG1vZHVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbj17KGlucHV0LCBvcHQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHQuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoaW5wdXQudG9Mb3dlckNhc2UoKSkgPj0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvblBvcHVwU2Nyb2xsPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGV2ZW50LnRhcmdldC5zY3JvbGxUb3AgKyBldmVudC50YXJnZXQub2Zmc2V0SGVpZ2h0ID09PSBldmVudC50YXJnZXQuc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBzZXRwYWdlKHByZXYgPT4gcHJldiArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzP3BhZ2U9JHtwYWdlfSZyb3dzPTEwYCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudGhlbihyZXMyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNjcm9sbFRvKDAsIGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJlczIuZGF0YS50byA+PSByZXMyLmRhdGEudG90YWwgPyBzZXRtb2RlbGRhdGEoWy4uLm1vZGVsZGF0YSwgcmVzMi5kYXRhLmRhdGFdKSA6IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YSwgPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz5dKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGVsZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2RvYy5pZH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nZ2V0bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHtjdXJyZW50aWRtb2RlbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMSA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzMi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibW9kZWxfY29sdW1uc1wiXSA9IHJlczIuZGF0YVtwcm9wXS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlbHBhcnRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLm1vZGVsX3BhcnRzLm1hcCgoZG9jMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcDMgPSBkb2MyLm1vZGVsX2NvbHVtbnMubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYzMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jMyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG1hcDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibW9kZWxfcGFydHNcIl0gPSBtb2RlbHBhcnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcImlkXCJdID0gcmVzMi5kYXRhLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm5hbWVcIl0gPSByZXMyLmRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcDEgPSBbLi4udGVtcDEsIHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR2YWx1ZShyZXMyLmRhdGEubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dHJpZ2dlcihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEyID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMykgPT4gZG9jMy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50aWRtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ZGF0YTIgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50aWRtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkeGRhdGEyICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5tYXAoKGRvYzEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2MxLmlkID09PSBjdXJyZW50aWRtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MxLnF1YW50aXR5ID0gZG9jMS5xdWFudGl0eSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGxvYWRpbmdnZXRtb2RlbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICsgVGFtYmFoIFBhcnQgTW9kZWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0yLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlbW9kZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbGNyZWF0ZW1vZGVsfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIG1iLThcIj5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtMn1cbiAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIkFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICBsYWJlbD1cIk1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk1hbnVmYWN0dXJlciB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Lyoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ3NwZWMyID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhW2lkeF0ucmVxdWlyZWQgPyA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPiA6IG51bGx9IDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPih7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIiA/IFwiU2luZ2xlIFRleHRib3hcIiA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LWZ1bGwnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctNyBmbGV4IGp1c3RpZnktY2VudGVyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl1bXCJkZWZhdWx0XCJdID0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19IGRlZmF1bHRWYWx1ZT17ZG9jY30gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH0gZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwicGFyYWdyYXBoXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhIHJvd3M9ezR9IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjaGVja2JveFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2kgZGliYXdhaCBpbmk8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2NjLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl1bXCJkZWZhdWx0XCJdLnB1c2goaWR4eClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz4ge2RvY2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlciBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGRhdGVTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgIH0gKi99XG4gICAgICAgICAge2xvYWRpbmdzcGVjMiA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGFhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAge2FkZGVkZmllbGQzW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMyh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGQyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2N4eCwgaWR4eCkgPT4gZG9jeHguaWQgIT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkMi5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIzKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgzKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMygocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtmaWVsZGRhdGFhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMltpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDJdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGFhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGFhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tBZGRGaWVsZDJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgVGFtYmFoIFNwZXNpZmlrYXNpIE1vZGVsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNYW51ZmFjdHVyZXI8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRtYW51Zn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRNYW51ZmFjdHVyZXJ9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ21hbnVmfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAgdmlzaWJsZT17bW9kYWxtYW51Zn1cbiAgICAgICAgZm9vdGVyPXtudWxsfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICB3aWR0aD17OTAwfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgIE5hbWEgTWFudWZhY3R1cmVyIDxzcGFuIGNsYXNzTmFtZT1cIm5hbWFtYW51XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHZhbHVlPXtkYXRhbWFudWYubmFtZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBOYW1hIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICA/IHNldGRpc2FibGVkbWFudWYodHJ1ZSlcbiAgICAgICAgICAgICAgICAgIDogc2V0ZGlzYWJsZWRtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0ZGF0YW1hbnVmKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5uYW1hbWFudTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKHsgcmVxLCByZXMsIHBhcmFtcyB9KSB7XG4gIGNvbnN0IG1vZGVsaWQgPSBwYXJhbXMubW9kZWxJZDtcbiAgdmFyIGluaXRQcm9wcyA9IHt9O1xuICBpZiAoIXJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCBjb29raWVzSlNPTjEgPSBodHRwY29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSk7XG4gIGlmICghY29va2llc0pTT04xLnRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGluaXRQcm9wcyA9IGNvb2tpZXNKU09OMS50b2tlbjtcbiAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2RldGFpbFByb2ZpbGVgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCByZXNqc29uID0gYXdhaXQgcmVzb3VyY2VzLmpzb24oKTtcbiAgY29uc3QgZGF0YVByb2ZpbGUgPSByZXNqc29uO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRQcm9wcyxcbiAgICAgIGRhdGFQcm9maWxlLFxuICAgICAgc2lkZW1lbnU6IFwiODJcIixcbiAgICAgIG1vZGVsaWQsXG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWxzVXBkYXRlMjtcbiJdfQ== */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n                }, void 0, false, void 0, _this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2607,\n                columnNumber: 23\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2604,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n          children: editpart ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n            className: \"shadow-md border p-8 mx-3 md:mx-8 my-3 flex flex-col rounded-md relative\",\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"absolute top-2 right-5 text-lg cursor-pointer\",\n              onClick: function onClick() {\n                seteditpart(false);\n              },\n              children: \"x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2830,\n              columnNumber: 19\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n              layout: \"vertical\",\n              initialValues: currentidmodel,\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"flex mb-2\",\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \" w-11/12 mr-3\",\n                  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"id\",\n                    label: \"Nama Model\",\n                    rules: [{\n                      required: true,\n                      message: \"Nama Model wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                      defaultValue: currentidmodel,\n                      notFoundContent: fetchingpart ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_6___default.a, {\n                        size: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2854,\n                        columnNumber: 46\n                      }, _this) : null,\n                      onSearch: function onSearch(value) {\n                        setfetchingpart(true);\n                        fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getModels?rows=10&name=\").concat(value !== \"\" ? value : \"\"), {\n                          method: \"GET\",\n                          headers: {\n                            Authorization: JSON.parse(initProps)\n                          }\n                        }).then(function (res) {\n                          return res.json();\n                        }).then(function (res2) {\n                          res2.data.length === 0 ? setmodeldata([]) : setmodeldata(res2.data.data);\n                          setfetchingpart(false);\n                        });\n                      },\n                      showSearch: true,\n                      optionFilterProp: \"children\",\n                      placeholder: \"Masukkan atau cari nama modul\",\n                      onChange: function onChange(value) {\n                        setcurrentidmodel(value);\n                      },\n                      name: \"id\",\n                      filterOption: function filterOption(input, opt) {\n                        return opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n                      } // onPopupScroll={(event) => {\n                      //     if (event.target.scrollTop + event.target.offsetHeight === event.target.scrollHeight) {\n                      //         setpage(prev => prev + 1)\n                      //         fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getModels?page=${page}&rows=10`, {\n                      //             method: `GET`,\n                      //             headers: {\n                      //                 'Authorization': JSON.parse(initProps),\n                      //             },\n                      //         })\n                      //             .then(res => res.json())\n                      //             .then(res2 => {\n                      //                 event.target.scrollTo(0, event.target.scrollHeight)\n                      //                 res2.data.to >= res2.data.total ? setmodeldata([...modeldata, res2.data.data]) : setmodeldata([...modeldata, res2.data.data, <Spin size=\"small\" />])\n                      //             })\n                      //     }\n                      // }}\n                      ,\n                      children: modeldata.map(function (doc, idx) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: doc.id,\n                          children: doc.name\n                        }, doc.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2910,\n                          columnNumber: 33\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2851,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2841,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2840,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"w-1/12 flex pt-2 my-auto items-center cursor-pointer\",\n                  onClick: function onClick() {\n                    setmodalcreatemodel(true);\n                  },\n                  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"PlusSquareTwoTone\"], {\n                    style: {\n                      fontSize: \"1.5rem\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2924,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2918,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2839,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2927,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"flex mt-4 justify-end\",\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                  onClick: function onClick() {\n                    seteditpart(false);\n                    setcurrentidmodel(\"\");\n                  },\n                  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"DeleteOutlined\"], {\n                    style: {\n                      fontSize: \"1.25rem\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2936,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2929,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                  loading: loadinggetmodel,\n                  type: \"primary\",\n                  onClick: function onClick() {\n                    seteditpart(false);\n                    setloadinggetmodel(true);\n                    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getModel?id=\").concat(currentidmodel), {\n                      method: \"GET\",\n                      headers: {\n                        Authorization: JSON.parse(initProps)\n                      }\n                    }).then(function (res) {\n                      return res.json();\n                    }).then(function (res2) {\n                      setmodelpartfielddata(function (prev) {\n                        var temp1 = prev;\n                        var t = {};\n\n                        for (var prop in res2.data) {\n                          if (prop === \"model_columns\") {\n                            t[\"model_columns\"] = res2.data[prop].map(function (doc, idx) {\n                              if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                                return _objectSpread(_objectSpread({}, doc), {}, {\n                                  \"default\": JSON.parse(doc[\"default\"])\n                                });\n                              } else {\n                                return _objectSpread({}, doc);\n                              }\n                            });\n                          } else {\n                            var modelparts = res2.data.model_parts.map(function (doc2) {\n                              var map3 = doc2.model_columns.map(function (doc3) {\n                                if (doc3.data_type === \"dropdown\" || doc3.data_type === \"checkbox\") {\n                                  return _objectSpread(_objectSpread({}, doc3), {}, {\n                                    \"default\": JSON.parse(doc3[\"default\"])\n                                  });\n                                } else {\n                                  return _objectSpread({}, doc3);\n                                }\n                              });\n                              return _objectSpread(_objectSpread({}, doc2), {}, {\n                                model_columns: map3\n                              });\n                            });\n                            t[\"model_parts\"] = modelparts;\n                            t[\"id\"] = res2.data.id;\n                            t[\"name\"] = res2.data.name;\n                          }\n                        }\n\n                        temp1 = [].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(temp1), [t]);\n                        return temp1;\n                      }); // setconcatpartvalue(res2.data.model_parts)\n                      // setconcatparttrigger(prev => !prev)\n\n                      setnewdata(function (prev) {\n                        var temp = prev;\n                        var idxdata2 = temp.add_models.map(function (doc3) {\n                          return doc3.id;\n                        }).indexOf(currentidmodel);\n\n                        if (temp.add_models.length === 0 || idxdata2 === -1) {\n                          temp.add_models.push({\n                            id: currentidmodel,\n                            quantity: 1\n                          });\n                        } else if (idxdata2 !== -1) {\n                          temp.add_models.map(function (doc1) {\n                            if (doc1.id === currentidmodel) {\n                              doc1.quantity = doc1.quantity + 1;\n                            }\n                          });\n                        }\n\n                        return temp;\n                      });\n                      setloadinggetmodel(false);\n                      setcurrentidmodel(\"\");\n                    });\n                  },\n                  children: \"Tambah\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2940,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2928,\n                columnNumber: 21\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2838,\n              columnNumber: 19\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2829,\n            columnNumber: 17\n          }, _this) : null\n        }, void 0, false), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"w-full flex justify-center mt-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"dashed\",\n            style: {\n              width: \"80%\",\n              height: \"4rem\"\n            },\n            onClick: function onClick() {\n              seteditpart(true);\n            },\n            children: \"+ Tambah Part Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3047,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3046,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2598,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1193,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_modal_Modal__WEBPACK_IMPORTED_MODULE_20___default.a, {\n      title: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: \"Form Tambah Model\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3063,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"default\",\n            onClick: function onClick() {\n              setmodalcreatemodel(false);\n            },\n            style: {\n              marginRight: \"1rem\"\n            },\n            children: \"Batal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3065,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"primary\",\n            disabled: disabledaddfield2,\n            onClick: instanceForm2.submit,\n            loading: loadingcreatemodel,\n            children: \"Simpan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3074,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3064,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3062,\n        columnNumber: 11\n      }, _this),\n      visible: modalcreatemodel,\n      footer: null,\n      onCancel: function onCancel() {\n        setmodalcreatemodel(false);\n      },\n      width: 900,\n      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \"shadow-md border p-8 flex flex-col rounded-md mb-8\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n          form: instanceForm2,\n          layout: \"vertical\",\n          onFinish: handleCreateModelinModel,\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n              name: \"asset_id\",\n              label: \"Asset Type\",\n              rules: [{\n                required: true,\n                message: \"Asset Type wajib diisi\"\n              }],\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_5___default.a, {\n                style: {\n                  marginRight: \"1rem\"\n                },\n                dropdownStyle: {\n                  maxHeight: 400,\n                  overflow: \"auto\"\n                },\n                treeData: assetdata,\n                placeholder: \"Pilih Asset Type\",\n                treeDefaultExpandAll: true,\n                onChange: function onChange(value, label, extra) {\n                  if (typeof value !== \"undefined\") {\n                    onClickSelectAsset2(extra.allCheckedNodes[0].node.props.id);\n                  } else {\n                    onClickSelectAsset2(0);\n                  }\n                },\n                allowClear: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3109,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3099,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n              name: \"name\",\n              label: \"Nama Model\",\n              rules: [{\n                required: true,\n                message: \"Nama Model wajib diisi\"\n              }],\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                name: \"name\",\n                onChange: function onChange(e) {\n                  setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                    name: e.target.value\n                  }));\n                },\n                allowClear: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3137,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3127,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3098,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n            name: \"manufacturer_id\",\n            label: \"Manufacturer\",\n            rules: [{\n              required: true,\n              message: \"Manufacturer wajib diisi\"\n            }],\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n              placeholder: \"Pilih Manufacturer\",\n              onChange: function onChange(value) {\n                setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                  manufacturer_id: value\n                }));\n              },\n              name: \"manufacturer_id\",\n              children: manufdata.map(function (doc, idx) {\n                return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                  value: doc.id,\n                  children: doc.name\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3165,\n                  columnNumber: 21\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3156,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3146,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n            name: \"description\",\n            label: \"Deskripsi\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n              rows: 4,\n              name: \"description\",\n              onChange: function onChange(e) {\n                setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                  description: e.target.value\n                }));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3173,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3172,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n              style: {\n                marginRight: \"0.5rem\"\n              },\n              onChange: function onChange(e) {\n                setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                  required_sn: e.target.checked\n                }));\n              },\n              checked: newdata2.required_sn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3182,\n              columnNumber: 15\n            }, _this), \" \", \"Serial Number wajib ada\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3181,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3093,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3092,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \" col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3195,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3194,\n          columnNumber: 11\n        }, _this), loadingspec2 ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_6___default.a, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3330,\n          columnNumber: 13\n        }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n          children: fielddataa.map(function (doc, idx) {\n            return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n              children: addedfield3[idx] === true ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                onClick: function onClick() {\n                  var temp = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(addedfield3);\n\n                  temp[idx] = false;\n\n                  for (var i = 0; i < temp.length; i++) {\n                    if (i !== idx) {\n                      temp[i] = true;\n                    }\n                  }\n\n                  setaddedfield3(temp);\n                  setcurrentfield2(fielddataa[idx]);\n\n                  if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                    setcurrentdropdownn2(doc[\"default\"].opsi);\n                    setcd2part(doc[\"default\"].opsi);\n                    setcurrentcheckeddropdownn2(doc[\"default\"][\"default\"]);\n                  }\n\n                  if (fielddataa[idx].data_type !== \"dropdown\" || fielddataa[idx].data_type !== \"checkbox\") {\n                    if (fielddataa[idx].name !== \"\" && fielddataa[idx].data_type !== \"\") {\n                      setdisabledtambah2(false);\n                    } else {\n                      setdisabledtambah2(true);\n                    }\n                  } else {\n                    if (doc[\"default\"].opsi.some(function (docopsi) {\n                      return docopsi === \"\";\n                    })) {\n                      setdisabledtambah2(true);\n                    } else {\n                      setdisabledtambah2(false);\n                    }\n                  }\n\n                  setdisabledaddfield2(true);\n                  setpointevent2(\"pointer-events-none\");\n                },\n                className: \"jsx-2751146913\" + \" \" + \"\".concat(pointevent2, \" shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer\"),\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-2751146913\" + \" \" + \"font-semibold mb-2\",\n                  children: [doc.name, fielddataa[idx].required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-2751146913\" + \" \" + \"judulField\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3386,\n                    columnNumber: 29\n                  }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-2751146913\" + \" \" + \"text-gray-400 text-sm\",\n                    children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && \" Text\", \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3388,\n                    columnNumber: 27\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3383,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-2751146913\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                  children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                    children: [doc.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex flex-col w-full\",\n                      children: doc[\"default\"].opsi.map(function (dok, idk) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-2751146913\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                            className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3411,\n                            columnNumber: 41\n                          }, _this)\n                        }, idk, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3407,\n                          columnNumber: 39\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3404,\n                      columnNumber: 33\n                    }, _this), doc.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex flex-col w-full\",\n                      children: doc[\"default\"].opsi.map(function (dok, idk) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-2751146913\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                            className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3425,\n                            columnNumber: 41\n                          }, _this)\n                        }, idk, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3421,\n                          columnNumber: 39\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3418,\n                      columnNumber: 33\n                    }, _this), doc.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex justify-between w-full px-3\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                        className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                        children: doc[\"default\"]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3433,\n                        columnNumber: 35\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-2751146913\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3435,\n                          columnNumber: 37\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3434,\n                        columnNumber: 35\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3432,\n                      columnNumber: 33\n                    }, _this), doc.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex h-20\",\n                      children: doc[\"default\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3440,\n                      columnNumber: 33\n                    }, _this)]\n                  }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                    className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                    children: doc[\"default\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3444,\n                    columnNumber: 29\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3397,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n                  id: \"2751146913\",\n                  children: \".judulField.jsx-2751146913::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF1M0cyQixBQUdpRSxZQUNGLFVBQ2QiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEocHJldiA9PiAoey4uLnByZXYsIG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSwgW3RyaWdnZXJtYW51Zl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke21vZGVsaWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSByZXMyLmRhdGEubW9kZWxfY29sdW1ucy5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgID8gZG9jLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vbW9kZWxfcGFydHNcbiAgICAgICAgY29uc3QgcmVjdXJzaXZlUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICAgICAgICB2YXIgdGVtcDExID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGVtcDEgPSB7fTtcbiAgICAgICAgICAgIHRlbXAxID0gaXRlbVtpXS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQgPT09IFwiXCIgfHwgZG9jLmRlZmF1bHQgPT09IFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGVtcDExLnB1c2goe1xuICAgICAgICAgICAgICAuLi5pdGVtW2ldLFxuICAgICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wMSxcbiAgICAgICAgICAgICAgbW9kZWxfcGFydHM6XG4gICAgICAgICAgICAgICAgaXRlbVtpXS5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZVBhcnRNb2RlbChpdGVtW2ldLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGVtcDExO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB5byA9IHJlY3Vyc2l2ZVBhcnRNb2RlbChyZXMyLmRhdGEubW9kZWxfcGFydHMpO1xuICAgICAgICBjb25zdCB0ZW1wMiA9IHtcbiAgICAgICAgICAuLi5yZXMyLmRhdGEsXG4gICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5hc3NldC5jb2RlLFxuICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAsXG4gICAgICAgICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgICAgICAgYWRkX21vZGVsczogW10sXG4gICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgIH07XG4gICAgICAgIHNldG5ld2RhdGEodGVtcDIpO1xuICAgICAgICBzZXRkZWZhdWx0ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRhc3NldCh0ZW1wKTtcbiAgICAgICAgc2V0ZGVmYXVsdG1vZGVsKHRlbXAyKTtcbiAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKHlvKTtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0YWRkZWRmaWVsZChhcnIpO1xuICAgICAgICBzZXRhc3NldHR5cGVjb2RlKHJlczIuZGF0YS5hc3NldF9pZCk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKG1vZGVsdHJpZ2dlcik7XG4gICAgICAgIG1vZGVsdHJpZ2dlciAhPT0gZmFsc2UgPyBzZXRlZGl0cGFydCh0cnVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgfSwgW21vZGVsdHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBhc3NldFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXJdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIHV0YW1hIHlhbmcgZmllbGQgYnVhdCBzZW5kaXJpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjEgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyMV1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7XG4gICAgICAuLi5uZXdkYXRhLFxuICAgICAgbW9kZWxfY29sdW1uczogZmllbGRkYXRhMi5jb25jYXQoZmllbGRkYXRhKSxcbiAgICB9KTtcbiAgfSwgW2NvbmNhdGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25jYXRhZGRjb2x1bW5zaWR4ICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjaGFuZ2Vhc3NldC5zb21lKFxuICAgICAgICAgIChkb2Nzb21lKSA9PiBkb2Nzb21lLmlkID09PSBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWRcbiAgICAgICAgKSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgKChmaWVsZGRhdGEyLmxlbmd0aCAtIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoKSA+PSBuZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkKSA9PiBkb2NhZGQubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goZmllbGRkYXRhMltmaWVsZGRhdGEyLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChjdXJyZW50ZmllbGQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHhhZGRjb2x1bW4gPSBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3ZGF0YS5hc3NldF9jb2x1bW5zLmxlbmd0aCtcIjpcIitjb25jYXRhZGRjb2x1bW5zaWR4K1wiO1wiK25ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY3VwKSA9PiBkb2N1cC5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeHVwY29sdW1uID0gbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3VycmVudGZpZWxkLmlkLFxuICAgICAgICAgICAgICAgIG1vZGVsX2lkOiBjdXJyZW50ZmllbGQubW9kZWxfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25jYXRhZGRjb2x1bW5zaWR4MSAhPT0gLTEpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY29uY2F0YWRkY29sdW1uc2lkeDEgPiBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCAtIDEgfHxcbiAgICAgICAgdHlwZW9mIGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTEuaWQgPT09IFwidW5kZWZpbmVkXCIgfHxcbiAgICAgICAgY2hhbmdlYXNzZXQgPT09IHRydWVcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGFbZmllbGRkYXRhLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChjdXJyZW50ZmllbGQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHhhZGRjb2x1bW4gPSBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3ZGF0YS5hc3NldF9jb2x1bW5zLmxlbmd0aCtcIjpcIitjb25jYXRhZGRjb2x1bW5zaWR4K1wiO1wiK25ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY3VwKSA9PiBkb2N1cC5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMucHVzaChmaWVsZGRhdGFbY29uY2F0YWRkY29sdW1uc2lkeDFdKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeHVwY29sdW1uID0gbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3VycmVudGZpZWxkLmlkLFxuICAgICAgICAgICAgICAgIG1vZGVsX2lkOiBjdXJyZW50ZmllbGQubW9kZWxfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4XSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgxICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDFdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4MV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MyAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgzXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjNdKTtcblxuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgYmFydSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjMgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGFhKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjNdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYnVhdCBzZW5kaXJpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEyKHtcbiAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYS5jb25jYXQoZmllbGRkYXRhYTIpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyMl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MiAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgyXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgyXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEgfSk7XG4gIH0sIFtuZXdkYXRhdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YWEgfSk7XG4gIH0sIFtuZXdkYXRhdHJpZ2dlcjJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciB0ZW1wID0gW107XG4gICAgaWYgKGNvbmNhdHBhcnR2YWx1ZSAhPT0gLTEpIHtcbiAgICAgIGlmIChjb25jYXRwYXJ0dmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9wYXJ0czogW10gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25jYXRwYXJ0dmFsdWUubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIHZhciBpZHh0ZW1wID0gdGVtcC5tYXAoKGRvYykgPT4gZG9jLmlkKS5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgaWYgKGlkeHRlbXAgIT09IC0xICYmIHRlbXBbaWR4dGVtcF1bXCJpZFwiXSA9PT0gZG9jLmlkKSB7XG4gICAgICAgICAgICB2YXIgaWR4b2YgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgIHRlbXBbaWR4b2ZdID0ge1xuICAgICAgICAgICAgICAuLi50ZW1wW2lkeG9mXSxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IHRlbXBbaWR4b2ZdLnF1YW50aXR5ICsgZG9jLnF1YW50aXR5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlkeHRlbXAgPT09IC0xKSB7XG4gICAgICAgICAgICB0ZW1wLnB1c2goe1xuICAgICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgICBxdWFudGl0eTogZG9jLnF1YW50aXR5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFkZF9tb2RlbHM6IHRlbXAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0cGFydHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDIuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMigocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkaWR4KSk7XG4gICAgfVxuICB9LCBbY2R0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkcGFydGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDJwYXJ0LmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RwYXJ0aWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QycGFydCgocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkcGFydGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkcGFydHRyaWdnZXJdKTtcbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0XG4gICAgICBzdD17c3R9XG4gICAgICB0b2s9e2luaXRQcm9wc31cbiAgICAgIHNpZGVtZW51PXtzaWRlbWVudX1cbiAgICAgIGRhdGFQcm9maWxlPXtkYXRhUHJvZmlsZX1cbiAgICAgIHBhdGhBcnI9e3BhdGhBcnJ9XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1hdXRvIGdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTRcIlxuICAgICAgICBpZD1cImNyZWF0ZUFzc2V0c1dyYXBwZXJcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgbWItOFwiPlxuICAgICAgICAgIDxTdGlja3kgY29udGFpbmVyU2VsZWN0b3JGb2N1cz1cIiNjcmVhdGVBZ2VudHNXcmFwcGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi00IGZsZXgganVzdGlmeS1iZXR3ZWVuIHAtMiBwdC00IGJvcmRlci10LTIgYm9yZGVyLWItMiBiZy13aGl0ZVwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBweS0yXCI+XG4gICAgICAgICAgICAgICAgRm9ybSBVYmFoIE1vZGVsIC0ge25ld2RhdGEubmFtZX1cbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvYWRtaW4vbW9kZWxzL2RldGFpbC8ke21vZGVsaWR9YH0+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIC8qb25DbGljaz17KCkgPT4geyBjb25zb2xlLmxvZyhuZXdkYXRhKTsgY29uc29sZS5sb2coZmllbGRkYXRhKTsgY29uc29sZS5sb2coZmllbGRkYXRhMik7IGNvbnNvbGUubG9nKGRlZmF1bHRkYXRhKTsgY29uc29sZS5sb2coZGVmYXVsdGFzc2V0KSB9fSovIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0uc3VibWl0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU3RpY2t5PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkluZm9ybWFzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIHtwcmFsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8U3Bpbj48L1NwaW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybX1cbiAgICAgICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e25ld2RhdGF9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiIGxhYmVsPVwiTWFudWZhY3R1cmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBwdC0yIG15LWF1dG8gaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsbWFudWYodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgTW9kZWwgQ29uc3VtYWJsZSBkZW5nYW4gc2F0dWFuIGp1bWxhaFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2xvYWRpbmdzcGVjID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YTIubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgIDxFbXB0eSBpbWFnZT17RW1wdHkuUFJFU0VOVEVEX0lNQUdFX1NJTVBMRX0+PC9FbXB0eT5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICBmaWVsZGRhdGEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAge2FkZGVkZmllbGRbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCAhPT0gZmllbGRkYXRhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhVcGRhdGVDb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NtYXApID0+IGRvY21hcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMuc3BsaWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeFVwZGF0ZUNvbHVtbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDFbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDFdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdC5pbmRleE9mKGlkaykgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttb21lbnQoZmllbGRkYXRhW2lkeF0uZGVmYXVsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGEyLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2RlZikgPT4gZG9jZGVmLmlkID09PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9jb2x1bW5faWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gdGVtcC5hZGRfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZW1wLmFkZF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlMShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tBZGRGaWVsZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge25ld2RhdGEuaXNfY29uc3VtYWJsZSA9PT0gZmFsc2UgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTggY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPktvbmZpZ3VyYXNpIFBhcnQgTW9kZWw8L2gxPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7bW9kZWxwYXJ0ZmllbGRkYXRhLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPENvbGxhcHNlIGFjY29yZGlvbj5cbiAgICAgICAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2BwYW5lbCR7aWR4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBkb2MubW9kZWxfY2hpbGQubGVuZ3RoID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdy02LzEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXItMlwiPntkb2MubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPFRvb2x0aXAgcGxhY2VtZW50PVwicmlnaHRcIiB0aXRsZT1cIk1vZGVsIHRpZGFrIG1lbWlsaWtpIHBhcnQgbW9kZWwhXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIDxFeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgYnJvd25gIH19PjwvRXhjbGFtYXRpb25DaXJjbGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcIi1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgTW9kZWwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZGFyaSBNb2RlbCBQYXJ0ICR7bmV3ZGF0YS5uYW1lfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkb2MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeHRlbXAgPSBtb2RlbHBhcnRmaWVsZGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YSA9IHRlbXAuYWRkX21vZGVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MyKSA9PiBkb2MyLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAuYWRkX21vZGVsc1tpZHhkYXRhXS5xdWFudGl0eSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMuc3BsaWNlKGlkeGRhdGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NwYXJ0cykgPT4gZG9jcGFydHMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhkb2MuaWQpID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9tb2RlbF9pZHMuaW5kZXhPZihkb2MuaWQpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgcmVkYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0IFR5cGV7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bGFzc2V0dHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYywgaWR4bWMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIG15LWF1dG8gcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy13aGl0ZSBib3JkZXIgdy0zLzEyIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy1ncmF5LTEwMCByb3VuZGVkIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGltZWxpbmUgc3R5bGU9e3sgbWFyZ2luVG9wOiBgMXJlbWAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UaW1lbGluZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsYXNzZXR0eXBlOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bHNuOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtlZGl0cGFydCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBteS0zIGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC01IHRleHQtbGcgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB4XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGlkbW9kZWx9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctMTEvMTIgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17Y3VycmVudGlkbW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRDb250ZW50PXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoaW5ncGFydCA/IDxTcGluIHNpemU9XCJzbWFsbFwiIC8+IDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS9nZXRNb2RlbHM/cm93cz0xMCZuYW1lPSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgIT09IFwiXCIgPyB2YWx1ZSA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRtb2RlbGRhdGEoW10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIGF0YXUgY2FyaSBuYW1hIG1vZHVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbj17KGlucHV0LCBvcHQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHQuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoaW5wdXQudG9Mb3dlckNhc2UoKSkgPj0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvblBvcHVwU2Nyb2xsPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGV2ZW50LnRhcmdldC5zY3JvbGxUb3AgKyBldmVudC50YXJnZXQub2Zmc2V0SGVpZ2h0ID09PSBldmVudC50YXJnZXQuc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBzZXRwYWdlKHByZXYgPT4gcHJldiArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzP3BhZ2U9JHtwYWdlfSZyb3dzPTEwYCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudGhlbihyZXMyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNjcm9sbFRvKDAsIGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJlczIuZGF0YS50byA+PSByZXMyLmRhdGEudG90YWwgPyBzZXRtb2RlbGRhdGEoWy4uLm1vZGVsZGF0YSwgcmVzMi5kYXRhLmRhdGFdKSA6IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YSwgPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz5dKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGVsZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2RvYy5pZH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nZ2V0bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHtjdXJyZW50aWRtb2RlbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMSA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzMi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibW9kZWxfY29sdW1uc1wiXSA9IHJlczIuZGF0YVtwcm9wXS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlbHBhcnRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLm1vZGVsX3BhcnRzLm1hcCgoZG9jMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcDMgPSBkb2MyLm1vZGVsX2NvbHVtbnMubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYzMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jMyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG1hcDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibW9kZWxfcGFydHNcIl0gPSBtb2RlbHBhcnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcImlkXCJdID0gcmVzMi5kYXRhLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm5hbWVcIl0gPSByZXMyLmRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcDEgPSBbLi4udGVtcDEsIHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR2YWx1ZShyZXMyLmRhdGEubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dHJpZ2dlcihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEyID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMykgPT4gZG9jMy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50aWRtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ZGF0YTIgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50aWRtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkeGRhdGEyICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5tYXAoKGRvYzEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2MxLmlkID09PSBjdXJyZW50aWRtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MxLnF1YW50aXR5ID0gZG9jMS5xdWFudGl0eSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGxvYWRpbmdnZXRtb2RlbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICsgVGFtYmFoIFBhcnQgTW9kZWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0yLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlbW9kZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbGNyZWF0ZW1vZGVsfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIG1iLThcIj5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtMn1cbiAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIkFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICBsYWJlbD1cIk1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk1hbnVmYWN0dXJlciB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Lyoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ3NwZWMyID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhW2lkeF0ucmVxdWlyZWQgPyA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPiA6IG51bGx9IDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPih7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIiA/IFwiU2luZ2xlIFRleHRib3hcIiA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LWZ1bGwnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctNyBmbGV4IGp1c3RpZnktY2VudGVyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl1bXCJkZWZhdWx0XCJdID0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19IGRlZmF1bHRWYWx1ZT17ZG9jY30gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH0gZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwicGFyYWdyYXBoXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhIHJvd3M9ezR9IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjaGVja2JveFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2kgZGliYXdhaCBpbmk8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2NjLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl1bXCJkZWZhdWx0XCJdLnB1c2goaWR4eClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz4ge2RvY2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlciBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGRhdGVTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgIH0gKi99XG4gICAgICAgICAge2xvYWRpbmdzcGVjMiA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGFhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAge2FkZGVkZmllbGQzW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMyh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGQyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2N4eCwgaWR4eCkgPT4gZG9jeHguaWQgIT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkMi5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIzKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgzKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMygocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtmaWVsZGRhdGFhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMltpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDJdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGFhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGFhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tBZGRGaWVsZDJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgVGFtYmFoIFNwZXNpZmlrYXNpIE1vZGVsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNYW51ZmFjdHVyZXI8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRtYW51Zn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRNYW51ZmFjdHVyZXJ9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ21hbnVmfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAgdmlzaWJsZT17bW9kYWxtYW51Zn1cbiAgICAgICAgZm9vdGVyPXtudWxsfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICB3aWR0aD17OTAwfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgIE5hbWEgTWFudWZhY3R1cmVyIDxzcGFuIGNsYXNzTmFtZT1cIm5hbWFtYW51XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHZhbHVlPXtkYXRhbWFudWYubmFtZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBOYW1hIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICA/IHNldGRpc2FibGVkbWFudWYodHJ1ZSlcbiAgICAgICAgICAgICAgICAgIDogc2V0ZGlzYWJsZWRtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0ZGF0YW1hbnVmKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5uYW1hbWFudTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKHsgcmVxLCByZXMsIHBhcmFtcyB9KSB7XG4gIGNvbnN0IG1vZGVsaWQgPSBwYXJhbXMubW9kZWxJZDtcbiAgdmFyIGluaXRQcm9wcyA9IHt9O1xuICBpZiAoIXJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCBjb29raWVzSlNPTjEgPSBodHRwY29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSk7XG4gIGlmICghY29va2llc0pTT04xLnRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGluaXRQcm9wcyA9IGNvb2tpZXNKU09OMS50b2tlbjtcbiAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2RldGFpbFByb2ZpbGVgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCByZXNqc29uID0gYXdhaXQgcmVzb3VyY2VzLmpzb24oKTtcbiAgY29uc3QgZGF0YVByb2ZpbGUgPSByZXNqc29uO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRQcm9wcyxcbiAgICAgIGRhdGFQcm9maWxlLFxuICAgICAgc2lkZW1lbnU6IFwiODJcIixcbiAgICAgIG1vZGVsaWQsXG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWxzVXBkYXRlMjtcbiJdfQ== */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n                }, void 0, false, void 0, _this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3337,\n                columnNumber: 23\n              }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n                  layout: \"vertical\",\n                  initialValues: currentfield2,\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                      name: \"name\",\n                      label: \"Nama Field\",\n                      rules: [{\n                        required: true,\n                        message: \"Nama Field wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                        required: true,\n                        name: \"name\",\n                        onChange: function onChange(e) {\n                          setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                            name: e.target.value\n                          }));\n\n                          if (e.target.value === \"\") {\n                            setdisabledtambah2(true);\n                          } else if (e.target.value !== \"\" && currentfield2.data_type !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                            return doca !== \"\";\n                          })) {\n                            setdisabledtambah2(false);\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3473,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3463,\n                      columnNumber: 29\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                      name: \"data_type\",\n                      label: \"Tipe Field\",\n                      rules: [{\n                        required: true,\n                        message: \"Tipe Field wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                        placeholder: \"Pilih Tipe Field\",\n                        onChange: function onChange(value) {\n                          setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                            data_type: value\n                          }));\n\n                          if (value === \"dropdown\" || value === \"checkbox\") {\n                            if (currentdropdownn2.every(function (doca, idxa) {\n                              return doca !== \"\";\n                            })) {\n                              setdisabledtambah2(false);\n                            } else {\n                              setdisabledtambah2(true);\n                            }\n                          } else {\n                            setdisabledtambah2(false);\n                          }\n\n                          if (value === \"dropdown\") {\n                            setcurrentcheckeddropdownn2(\"\");\n                            setcurrentdropdownn2([\"\", \"\"]);\n                            setcd2part([\"\", \"\"]);\n                            setdisabledtambah2(true);\n                          }\n\n                          if (value === \"checkbox\") {\n                            setcurrentcheckeddropdownn2([]);\n                            setcurrentdropdownn2([\"\", \"\"]);\n                            setcd2part([\"\", \"\"]);\n                            setdisabledtambah2(true);\n                          }\n                        },\n                        name: \"data_type\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"dropdown\",\n                          children: \"Dropdown\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3543,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"number\",\n                          children: \"Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3546,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"paragraph\",\n                          children: \"Paragraph Text\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3549,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"checkbox\",\n                          children: \"Checkbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3552,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"single\",\n                          children: \"Single Textbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3555,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"date\",\n                          children: \"Date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3558,\n                          columnNumber: 33\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3505,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3495,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3462,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"default\",\n                    label: \"Default\",\n                    children: [currentfield2.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                        children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3568,\n                        columnNumber: 33\n                      }, _this), currentdropdownn2.map(function (doc, idxx) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"flex mb-3\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-7 flex items-center\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                              checked: currentcheckeddropdownn2 === idxx ? true : false,\n                              onChange: function onChange(e) {\n                                if (e.target.checked === true) {\n                                  setcurrentcheckeddropdownn2(idxx);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3575,\n                              columnNumber: 39\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3574,\n                            columnNumber: 37\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-10/12 mr-5\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                              style: {\n                                marginRight: \"0.5rem\"\n                              },\n                              defaultValue: doc,\n                              placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                              onChange: function onChange(e) {\n                                setcurrentdropdownn2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n                                setcd2part(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n\n                                if (e.target.value !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                                  return doca !== \"\";\n                                }) && currentfield2.name !== \"\") {\n                                  setdisabledtambah2(false);\n                                } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                  setdisabledtambah2(true);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3589,\n                              columnNumber: 39\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3588,\n                            columnNumber: 37\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-1/12 flex justify-around\",\n                            onClick: function onClick() {\n                              setcurrentdropdownn2([]);\n                              setcdparttrigger(function (prev) {\n                                return !prev;\n                              });\n                              setcdpartidx(idxx);\n                            },\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                              type: \"danger\",\n                              children: \"-\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3631,\n                              columnNumber: 39\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3623,\n                            columnNumber: 37\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3573,\n                          columnNumber: 35\n                        }, _this);\n                      }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                          onClick: function onClick() {\n                            setcurrentdropdownn2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdownn2), [\"\"]));\n                            setcd2part([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2part), [\"\"]));\n                            setdisabledtambah2(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3636,\n                          columnNumber: 35\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3635,\n                        columnNumber: 33\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3567,\n                      columnNumber: 31\n                    }, _this) : null, currentfield2.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                        children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3654,\n                        columnNumber: 33\n                      }, _this), currentdropdownn2.map(function (doc, idxx) {\n                        var idxchecked = currentcheckeddropdownn2.includes(idxx);\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"flex mb-3\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-7 flex items-center\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                              defaultChecked: idxchecked,\n                              onChange: function onChange(e) {\n                                if (e.target.checked === true) {\n                                  setcurrentcheckeddropdownn2(function (prev) {\n                                    var temp = prev;\n                                    temp.push(idxx);\n                                    return temp;\n                                  });\n                                } else {\n                                  setcurrentcheckeddropdownn2(function (prev) {\n                                    var temp = prev;\n                                    var index = temp.indexOf(idxx);\n                                    temp.splice(index, 1);\n                                    return temp;\n                                  });\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3664,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3663,\n                            columnNumber: 39\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-10/12 mr-5\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                              style: {\n                                marginRight: \"0.5rem\"\n                              },\n                              defaultValue: doc,\n                              placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                              onChange: function onChange(e) {\n                                setcurrentdropdownn2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n                                setcd2part(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n\n                                if (e.target.value !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                                  return doca !== \"\";\n                                }) && currentfield2.name !== \"\") {\n                                  setdisabledtambah2(false);\n                                } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                  setdisabledtambah2(true);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3690,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3689,\n                            columnNumber: 39\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-1/12 flex justify-around\",\n                            onClick: function onClick() {\n                              setcurrentdropdownn2([]);\n                              setcdparttrigger(function (prev) {\n                                return !prev;\n                              });\n                              setcdpartidx(idxx);\n                            },\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                              type: \"danger\",\n                              children: \"-\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3732,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3724,\n                            columnNumber: 39\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3662,\n                          columnNumber: 37\n                        }, _this);\n                      }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                          onClick: function onClick() {\n                            setcurrentdropdownn2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdownn2), [\"\"]));\n                            setcd2part([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2part), [\"\"]));\n                            setdisabledtambah2(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3738,\n                          columnNumber: 35\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3737,\n                        columnNumber: 33\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3653,\n                      columnNumber: 31\n                    }, _this) : null, currentfield2.data_type.toLowerCase() === \"number\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2___default.a, {\n                      style: {\n                        width: \"30%\"\n                      },\n                      defaultValue: fielddataa[idx][\"default\"],\n                      placeholder: \"Masukkan default \".concat(currentfield2.name),\n                      onChange: function onChange(value) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          \"default\": \"\".concat(value)\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3755,\n                      columnNumber: 31\n                    }, _this), currentfield2.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n                      rows: 4,\n                      placeholder: \"Masukkan default \".concat(currentfield2.name),\n                      defaultValue: fielddataa[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3769,\n                      columnNumber: 31\n                    }, _this), currentfield2.data_type.toLowerCase() === \"string\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      placeholder: \"Masukkan default \".concat(currentfield2.name),\n                      defaultValue: fielddataa[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3783,\n                      columnNumber: 31\n                    }, _this), currentfield2.data_type.toLowerCase() === \"single\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      placeholder: \"Masukkan default \".concat(currentfield2.name),\n                      defaultValue: fielddataa[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3796,\n                      columnNumber: 31\n                    }, _this), currentfield2.data_type.toLowerCase() === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default.a, {\n                      defaultValue: fielddataa[idx][\"default\"],\n                      style: {\n                        width: \"30%\"\n                      },\n                      placeholder: \"Masukkan default \".concat(currentfield2.name),\n                      onChange: function onChange(value, dateString) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          \"default\": dateString\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3809,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3564,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3822,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex mt-4 justify-end\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                      placement: \"bottom\",\n                      title: \"Apakah anda yakin ingin menghapus field \".concat(doc.name === \"\" ? \"ini\" : doc.name, \"?\"),\n                      okText: \"Ya\",\n                      cancelText: \"Tidak\",\n                      onConfirm: function onConfirm() {\n                        setfielddataa(function (prev) {\n                          return prev.filter(function (_, idxx) {\n                            return idxx !== idx;\n                          });\n                        });\n                        setnewdata2(function (prev) {\n                          var temp = prev;\n                          temp.model_columns = temp.model_columns.filter(function (docxx, idxx) {\n                            return docxx.id !== doc.id;\n                          });\n                          return temp;\n                        });\n                        setaddedfield3(function (prev) {\n                          prev.splice(idx, 1);\n                          return prev;\n                        });\n                        setdisabledaddfield2(false);\n                        setpointevent2(\"\");\n                      },\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"DeleteOutlined\"], {\n                          style: {\n                            fontSize: \"1.25rem\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3852,\n                          columnNumber: 33\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3851,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3824,\n                      columnNumber: 29\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \" flex items-center mr-4\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                        checked: currentfield2.required,\n                        style: {\n                          marginRight: \"0.5rem\"\n                        },\n                        onChange: function onChange(e) {\n                          setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                            required: e.target.checked\n                          }));\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3858,\n                        columnNumber: 31\n                      }, _this), \" \", \"Required\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3857,\n                      columnNumber: 29\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                      disabled: disabledtambah2,\n                      type: \"primary\",\n                      onClick: function onClick() {\n                        if (currentfield2.data_type === \"dropdown\" || currentfield2.data_type === \"checkbox\") {\n                          setidxdropdowntrigger3(idx);\n                          setvaluedropdowntrigger3(function (prev) {\n                            return !prev;\n                          });\n                        }\n\n                        var temp = fielddataa;\n                        temp[idx] = currentfield2;\n                        setfielddataa(temp);\n                        setaddedfieldidx3(idx);\n                        setaddedfieldtrigger3(function (prev) {\n                          return !prev;\n                        });\n                        setconcatfieldtrigger2(function (prev) {\n                          return !prev;\n                        });\n                        setdisabledaddfield2(false);\n                        setpointevent2(\"\");\n                      },\n                      children: \"Tambah\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3870,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3823,\n                    columnNumber: 27\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3461,\n                  columnNumber: 25\n                }, _this)\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3457,\n                columnNumber: 23\n              }, _this)\n            }, void 0, false);\n          })\n        }, void 0, false), fielddataa2.map(function (doc, idx) {\n          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n            children: addedfield2[idx] === true ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              onClick: function onClick() {\n                var temp = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(addedfield2);\n\n                temp[idx] = false;\n\n                for (var i = 0; i < temp.length; i++) {\n                  if (i !== idx) {\n                    temp[i] = true;\n                  }\n                }\n\n                setaddedfield2(temp);\n                setcurrentfield2(fielddataa2[idx]);\n\n                if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                  setcurrentdropdownn2(doc[\"default\"].opsi);\n                  setcd2part(doc[\"default\"].opsi);\n                  setcurrentcheckeddropdownn2(doc[\"default\"][\"default\"]);\n                }\n\n                if (fielddataa2[idx].data_type !== \"dropdown\" || fielddataa2[idx].data_type !== \"checkbox\") {\n                  if (fielddataa2[idx].name !== \"\" && fielddataa2[idx].data_type !== \"\") {\n                    setdisabledtambah2(false);\n                  } else {\n                    setdisabledtambah2(true);\n                  }\n                } else {\n                  if (doc[\"default\"].opsi.some(function (docopsi) {\n                    return docopsi === \"\";\n                  })) {\n                    setdisabledtambah2(true);\n                  } else {\n                    setdisabledtambah2(false);\n                  }\n                }\n\n                setdisabledaddfield2(true);\n                setpointevent2(\"pointer-events-none\");\n              },\n              className: \"jsx-28588772\" + \" \" + \"\".concat(pointevent2, \" shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer\"),\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"font-semibold mb-2\",\n                children: [doc.name, fielddataa2[idx].required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                  className: \"jsx-28588772\" + \" \" + \"judulField\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3956,\n                  columnNumber: 25\n                }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                  className: \"jsx-28588772\" + \" \" + \"text-gray-400 text-sm\",\n                  children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && \" Text\", \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3958,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3953,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"paragraph\" || doc.data_type === \"date\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                  children: [doc.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex flex-col w-full\",\n                    children: doc[\"default\"].opsi.map(function (dok, idk) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-28588772\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                          className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3981,\n                          columnNumber: 37\n                        }, _this)\n                      }, idk, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3977,\n                        columnNumber: 35\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3974,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex flex-col w-full\",\n                    children: doc[\"default\"].opsi.map(function (dok, idk) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-28588772\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                          className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3995,\n                          columnNumber: 37\n                        }, _this)\n                      }, idk, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3991,\n                        columnNumber: 35\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3988,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex justify-between w-full px-3\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                      className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                      children: doc[\"default\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4003,\n                      columnNumber: 31\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-28588772\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4005,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4004,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4002,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex h-20\",\n                    children: doc[\"default\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4010,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                  className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                  children: doc[\"default\"]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4014,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3967,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n                id: \"28588772\",\n                children: \".judulField.jsx-28588772::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpN0h1QixBQUd5RSxZQUNGLFVBQ2QiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEocHJldiA9PiAoey4uLnByZXYsIG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSwgW3RyaWdnZXJtYW51Zl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke21vZGVsaWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSByZXMyLmRhdGEubW9kZWxfY29sdW1ucy5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgID8gZG9jLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vbW9kZWxfcGFydHNcbiAgICAgICAgY29uc3QgcmVjdXJzaXZlUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICAgICAgICB2YXIgdGVtcDExID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGVtcDEgPSB7fTtcbiAgICAgICAgICAgIHRlbXAxID0gaXRlbVtpXS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQgPT09IFwiXCIgfHwgZG9jLmRlZmF1bHQgPT09IFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGVtcDExLnB1c2goe1xuICAgICAgICAgICAgICAuLi5pdGVtW2ldLFxuICAgICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wMSxcbiAgICAgICAgICAgICAgbW9kZWxfcGFydHM6XG4gICAgICAgICAgICAgICAgaXRlbVtpXS5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZVBhcnRNb2RlbChpdGVtW2ldLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGVtcDExO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB5byA9IHJlY3Vyc2l2ZVBhcnRNb2RlbChyZXMyLmRhdGEubW9kZWxfcGFydHMpO1xuICAgICAgICBjb25zdCB0ZW1wMiA9IHtcbiAgICAgICAgICAuLi5yZXMyLmRhdGEsXG4gICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5hc3NldC5jb2RlLFxuICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAsXG4gICAgICAgICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgICAgICAgYWRkX21vZGVsczogW10sXG4gICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgIH07XG4gICAgICAgIHNldG5ld2RhdGEodGVtcDIpO1xuICAgICAgICBzZXRkZWZhdWx0ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRhc3NldCh0ZW1wKTtcbiAgICAgICAgc2V0ZGVmYXVsdG1vZGVsKHRlbXAyKTtcbiAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKHlvKTtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0YWRkZWRmaWVsZChhcnIpO1xuICAgICAgICBzZXRhc3NldHR5cGVjb2RlKHJlczIuZGF0YS5hc3NldF9pZCk7XG4gICAgICAgIHNldHByYWxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKG1vZGVsdHJpZ2dlcik7XG4gICAgICAgIG1vZGVsdHJpZ2dlciAhPT0gZmFsc2UgPyBzZXRlZGl0cGFydCh0cnVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgfSwgW21vZGVsdHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBhc3NldFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXJdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIHV0YW1hIHlhbmcgZmllbGQgYnVhdCBzZW5kaXJpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjEgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyMV1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7XG4gICAgICAuLi5uZXdkYXRhLFxuICAgICAgbW9kZWxfY29sdW1uczogZmllbGRkYXRhMi5jb25jYXQoZmllbGRkYXRhKSxcbiAgICB9KTtcbiAgfSwgW2NvbmNhdGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25jYXRhZGRjb2x1bW5zaWR4ICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjaGFuZ2Vhc3NldC5zb21lKFxuICAgICAgICAgIChkb2Nzb21lKSA9PiBkb2Nzb21lLmlkID09PSBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWRcbiAgICAgICAgKSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgKChmaWVsZGRhdGEyLmxlbmd0aCAtIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoKSA+PSBuZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkKSA9PiBkb2NhZGQubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goZmllbGRkYXRhMltmaWVsZGRhdGEyLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChjdXJyZW50ZmllbGQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHhhZGRjb2x1bW4gPSBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3ZGF0YS5hc3NldF9jb2x1bW5zLmxlbmd0aCtcIjpcIitjb25jYXRhZGRjb2x1bW5zaWR4K1wiO1wiK25ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY3VwKSA9PiBkb2N1cC5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeHVwY29sdW1uID0gbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3VycmVudGZpZWxkLmlkLFxuICAgICAgICAgICAgICAgIG1vZGVsX2lkOiBjdXJyZW50ZmllbGQubW9kZWxfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25jYXRhZGRjb2x1bW5zaWR4MSAhPT0gLTEpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY29uY2F0YWRkY29sdW1uc2lkeDEgPiBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCAtIDEgfHxcbiAgICAgICAgdHlwZW9mIGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTEuaWQgPT09IFwidW5kZWZpbmVkXCIgfHxcbiAgICAgICAgY2hhbmdlYXNzZXQgPT09IHRydWVcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGFbZmllbGRkYXRhLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChjdXJyZW50ZmllbGQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHhhZGRjb2x1bW4gPSBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3ZGF0YS5hc3NldF9jb2x1bW5zLmxlbmd0aCtcIjpcIitjb25jYXRhZGRjb2x1bW5zaWR4K1wiO1wiK25ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1uc1tpZHhhZGRjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY3VwKSA9PiBkb2N1cC5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMucHVzaChmaWVsZGRhdGFbY29uY2F0YWRkY29sdW1uc2lkeDFdKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeHVwY29sdW1uID0gbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5pZClcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5pZCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3VycmVudGZpZWxkLmlkLFxuICAgICAgICAgICAgICAgIG1vZGVsX2lkOiBjdXJyZW50ZmllbGQubW9kZWxfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zW2lkeHVwY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4XSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgxICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDFdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4MV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MyAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgzXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjNdKTtcblxuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgYmFydSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjMgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGFhKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjNdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYnVhdCBzZW5kaXJpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlcjIgIT09IC0xKSB7XG4gICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEyKHtcbiAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYS5jb25jYXQoZmllbGRkYXRhYTIpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyMl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MiAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgyXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgyXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEgfSk7XG4gIH0sIFtuZXdkYXRhdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YWEgfSk7XG4gIH0sIFtuZXdkYXRhdHJpZ2dlcjJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciB0ZW1wID0gW107XG4gICAgaWYgKGNvbmNhdHBhcnR2YWx1ZSAhPT0gLTEpIHtcbiAgICAgIGlmIChjb25jYXRwYXJ0dmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtb2RlbF9wYXJ0czogW10gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25jYXRwYXJ0dmFsdWUubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIHZhciBpZHh0ZW1wID0gdGVtcC5tYXAoKGRvYykgPT4gZG9jLmlkKS5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgaWYgKGlkeHRlbXAgIT09IC0xICYmIHRlbXBbaWR4dGVtcF1bXCJpZFwiXSA9PT0gZG9jLmlkKSB7XG4gICAgICAgICAgICB2YXIgaWR4b2YgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgIHRlbXBbaWR4b2ZdID0ge1xuICAgICAgICAgICAgICAuLi50ZW1wW2lkeG9mXSxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IHRlbXBbaWR4b2ZdLnF1YW50aXR5ICsgZG9jLnF1YW50aXR5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlkeHRlbXAgPT09IC0xKSB7XG4gICAgICAgICAgICB0ZW1wLnB1c2goe1xuICAgICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgICBxdWFudGl0eTogZG9jLnF1YW50aXR5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFkZF9tb2RlbHM6IHRlbXAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0cGFydHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDIuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMigocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkaWR4KSk7XG4gICAgfVxuICB9LCBbY2R0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkcGFydGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgIHJldHVybiBjZDJwYXJ0LmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RwYXJ0aWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QycGFydCgocHJldikgPT4gcHJldi5maWx0ZXIoKGRvYzExLCBpZHgxMSkgPT4gaWR4MTEgIT09IGNkcGFydGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkcGFydHRyaWdnZXJdKTtcbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0XG4gICAgICBzdD17c3R9XG4gICAgICB0b2s9e2luaXRQcm9wc31cbiAgICAgIHNpZGVtZW51PXtzaWRlbWVudX1cbiAgICAgIGRhdGFQcm9maWxlPXtkYXRhUHJvZmlsZX1cbiAgICAgIHBhdGhBcnI9e3BhdGhBcnJ9XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1hdXRvIGdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTRcIlxuICAgICAgICBpZD1cImNyZWF0ZUFzc2V0c1dyYXBwZXJcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgbWItOFwiPlxuICAgICAgICAgIDxTdGlja3kgY29udGFpbmVyU2VsZWN0b3JGb2N1cz1cIiNjcmVhdGVBZ2VudHNXcmFwcGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi00IGZsZXgganVzdGlmeS1iZXR3ZWVuIHAtMiBwdC00IGJvcmRlci10LTIgYm9yZGVyLWItMiBiZy13aGl0ZVwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBweS0yXCI+XG4gICAgICAgICAgICAgICAgRm9ybSBVYmFoIE1vZGVsIC0ge25ld2RhdGEubmFtZX1cbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvYWRtaW4vbW9kZWxzL2RldGFpbC8ke21vZGVsaWR9YH0+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIC8qb25DbGljaz17KCkgPT4geyBjb25zb2xlLmxvZyhuZXdkYXRhKTsgY29uc29sZS5sb2coZmllbGRkYXRhKTsgY29uc29sZS5sb2coZmllbGRkYXRhMik7IGNvbnNvbGUubG9nKGRlZmF1bHRkYXRhKTsgY29uc29sZS5sb2coZGVmYXVsdGFzc2V0KSB9fSovIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0uc3VibWl0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU3RpY2t5PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkluZm9ybWFzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIHtwcmFsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8U3Bpbj48L1NwaW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybX1cbiAgICAgICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e25ld2RhdGF9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiIGxhYmVsPVwiTWFudWZhY3R1cmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBwdC0yIG15LWF1dG8gaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsbWFudWYodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItNVwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEuaXNfY29uc3VtYWJsZX1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgTW9kZWwgQ29uc3VtYWJsZSBkZW5nYW4gc2F0dWFuIGp1bWxhaFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2xvYWRpbmdzcGVjID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YTIubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgIDxFbXB0eSBpbWFnZT17RW1wdHkuUFJFU0VOVEVEX0lNQUdFX1NJTVBMRX0+PC9FbXB0eT5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICBmaWVsZGRhdGEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAge2FkZGVkZmllbGRbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCAhPT0gZmllbGRkYXRhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhVcGRhdGVDb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NtYXApID0+IGRvY21hcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnMuc3BsaWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeFVwZGF0ZUNvbHVtbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDFbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudH0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDFdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdC5pbmRleE9mKGlkaykgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBTcGVzaWZpa2FzaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgU3Blc2lmaWthc2kgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttb21lbnQoZmllbGRkYXRhW2lkeF0uZGVmYXVsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGEyLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2RlZikgPT4gZG9jZGVmLmlkID09PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9jb2x1bW5faWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gdGVtcC5hZGRfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZW1wLmFkZF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlMShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tBZGRGaWVsZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge25ld2RhdGEuaXNfY29uc3VtYWJsZSA9PT0gZmFsc2UgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIG1iLTggY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPktvbmZpZ3VyYXNpIFBhcnQgTW9kZWw8L2gxPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7bW9kZWxwYXJ0ZmllbGRkYXRhLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPENvbGxhcHNlIGFjY29yZGlvbj5cbiAgICAgICAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2BwYW5lbCR7aWR4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBkb2MubW9kZWxfY2hpbGQubGVuZ3RoID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdy02LzEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXItMlwiPntkb2MubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPFRvb2x0aXAgcGxhY2VtZW50PVwicmlnaHRcIiB0aXRsZT1cIk1vZGVsIHRpZGFrIG1lbWlsaWtpIHBhcnQgbW9kZWwhXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIDxFeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgYnJvd25gIH19PjwvRXhjbGFtYXRpb25DaXJjbGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcIi1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgTW9kZWwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZGFyaSBNb2RlbCBQYXJ0ICR7bmV3ZGF0YS5uYW1lfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkb2MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeHRlbXAgPSBtb2RlbHBhcnRmaWVsZGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YSA9IHRlbXAuYWRkX21vZGVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MyKSA9PiBkb2MyLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAuYWRkX21vZGVsc1tpZHhkYXRhXS5xdWFudGl0eSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMuc3BsaWNlKGlkeGRhdGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NwYXJ0cykgPT4gZG9jcGFydHMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhkb2MuaWQpID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9tb2RlbF9pZHMuaW5kZXhPZihkb2MuaWQpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUNpcmNsZU91dGxpbmVkIHN0eWxlPXt7IGNvbG9yOiBgcmVkYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0IFR5cGV7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bGFzc2V0dHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYywgaWR4bWMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIG15LWF1dG8gcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy13aGl0ZSBib3JkZXIgdy0zLzEyIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy1ncmF5LTEwMCByb3VuZGVkIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGltZWxpbmUgc3R5bGU9e3sgbWFyZ2luVG9wOiBgMXJlbWAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UaW1lbGluZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsYXNzZXR0eXBlOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bHNuOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtlZGl0cGFydCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBteS0zIGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC01IHRleHQtbGcgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB4XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGlkbW9kZWx9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctMTEvMTIgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17Y3VycmVudGlkbW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRDb250ZW50PXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoaW5ncGFydCA/IDxTcGluIHNpemU9XCJzbWFsbFwiIC8+IDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS9nZXRNb2RlbHM/cm93cz0xMCZuYW1lPSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgIT09IFwiXCIgPyB2YWx1ZSA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXRtb2RlbGRhdGEoW10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldG1vZGVsZGF0YShyZXMyLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIGF0YXUgY2FyaSBuYW1hIG1vZHVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbj17KGlucHV0LCBvcHQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHQuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoaW5wdXQudG9Mb3dlckNhc2UoKSkgPj0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvblBvcHVwU2Nyb2xsPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGV2ZW50LnRhcmdldC5zY3JvbGxUb3AgKyBldmVudC50YXJnZXQub2Zmc2V0SGVpZ2h0ID09PSBldmVudC50YXJnZXQuc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBzZXRwYWdlKHByZXYgPT4gcHJldiArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWxzP3BhZ2U9JHtwYWdlfSZyb3dzPTEwYCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudGhlbihyZXMyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNjcm9sbFRvKDAsIGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJlczIuZGF0YS50byA+PSByZXMyLmRhdGEudG90YWwgPyBzZXRtb2RlbGRhdGEoWy4uLm1vZGVsZGF0YSwgcmVzMi5kYXRhLmRhdGFdKSA6IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YSwgPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz5dKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGVsZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2RvYy5pZH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nZ2V0bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHtjdXJyZW50aWRtb2RlbH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMSA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzMi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibW9kZWxfY29sdW1uc1wiXSA9IHJlczIuZGF0YVtwcm9wXS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlbHBhcnRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLm1vZGVsX3BhcnRzLm1hcCgoZG9jMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcDMgPSBkb2MyLm1vZGVsX2NvbHVtbnMubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYzMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jMyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG1hcDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibW9kZWxfcGFydHNcIl0gPSBtb2RlbHBhcnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcImlkXCJdID0gcmVzMi5kYXRhLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm5hbWVcIl0gPSByZXMyLmRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcDEgPSBbLi4udGVtcDEsIHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR2YWx1ZShyZXMyLmRhdGEubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dHJpZ2dlcihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEyID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMykgPT4gZG9jMy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50aWRtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ZGF0YTIgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50aWRtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkeGRhdGEyICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5tYXAoKGRvYzEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2MxLmlkID09PSBjdXJyZW50aWRtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MxLnF1YW50aXR5ID0gZG9jMS5xdWFudGl0eSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGxvYWRpbmdnZXRtb2RlbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICsgVGFtYmFoIFBhcnQgTW9kZWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbnN0YW5jZUZvcm0yLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nY3JlYXRlbW9kZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbGNyZWF0ZW1vZGVsfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIG1iLThcIj5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtMn1cbiAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIkFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFzc2V0IFR5cGUgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7IG1heEhlaWdodDogNDAwLCBvdmVyZmxvdzogXCJhdXRvXCIgfX1cbiAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmFsbENoZWNrZWROb2Rlc1swXS5ub2RlLnByb3BzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICBsYWJlbD1cIk1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk1hbnVmYWN0dXJlciB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbWFudWZhY3R1cmVyX2lkOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge21hbnVmZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgcmVxdWlyZWRfc246IGUudGFyZ2V0LmNoZWNrZWQgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhMi5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgIFNlcmlhbCBOdW1iZXIgd2FqaWIgYWRhXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Lyoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ3NwZWMyID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhW2lkeF0ucmVxdWlyZWQgPyA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPiA6IG51bGx9IDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPih7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIiA/IFwiU2luZ2xlIFRleHRib3hcIiA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LWZ1bGwnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRyb3Bkb3duXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctNyBmbGV4IGp1c3RpZnktY2VudGVyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl1bXCJkZWZhdWx0XCJdID0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19IGRlZmF1bHRWYWx1ZT17ZG9jY30gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH0gZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwicGFyYWdyYXBoXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhIHJvd3M9ezR9IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjaGVja2JveFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2kgZGliYXdhaCBpbmk8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2NjLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl1bXCJkZWZhdWx0XCJdLnB1c2goaWR4eClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz4ge2RvY2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlciBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGRhdGVTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgIH0gKi99XG4gICAgICAgICAge2xvYWRpbmdzcGVjMiA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGFhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAge2FkZGVkZmllbGQzW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMyh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGQyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2N4eCwgaWR4eCkgPT4gZG9jeHguaWQgIT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkMi5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIzKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgzKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMygocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtmaWVsZGRhdGFhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMltpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDJdO1xuICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMihmaWVsZGRhdGFhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+RGF0ZTwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtpZHhjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRhdGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EYXRlUGlja2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9IHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfLCBpZHh4KSA9PiBpZHh4ICE9PSBmaWVsZGRhdGFhLmxlbmd0aCArIGlkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGFhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDRyZW1gIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tBZGRGaWVsZDJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgVGFtYmFoIFNwZXNpZmlrYXNpIE1vZGVsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgICAgPE1vZGFsXG4gICAgICAgIHRpdGxlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHAtNSBtdC01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Gb3JtIFRhbWJhaCBNYW51ZmFjdHVyZXI8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRtYW51Zn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRNYW51ZmFjdHVyZXJ9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ21hbnVmfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAgdmlzaWJsZT17bW9kYWxtYW51Zn1cbiAgICAgICAgZm9vdGVyPXtudWxsfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICB3aWR0aD17OTAwfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgIE5hbWEgTWFudWZhY3R1cmVyIDxzcGFuIGNsYXNzTmFtZT1cIm5hbWFtYW51XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHZhbHVlPXtkYXRhbWFudWYubmFtZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBOYW1hIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICA/IHNldGRpc2FibGVkbWFudWYodHJ1ZSlcbiAgICAgICAgICAgICAgICAgIDogc2V0ZGlzYWJsZWRtYW51ZihmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0ZGF0YW1hbnVmKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5uYW1hbWFudTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKHsgcmVxLCByZXMsIHBhcmFtcyB9KSB7XG4gIGNvbnN0IG1vZGVsaWQgPSBwYXJhbXMubW9kZWxJZDtcbiAgdmFyIGluaXRQcm9wcyA9IHt9O1xuICBpZiAoIXJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCBjb29raWVzSlNPTjEgPSBodHRwY29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSk7XG4gIGlmICghY29va2llc0pTT04xLnRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGluaXRQcm9wcyA9IGNvb2tpZXNKU09OMS50b2tlbjtcbiAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2RldGFpbFByb2ZpbGVgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuICBjb25zdCByZXNqc29uID0gYXdhaXQgcmVzb3VyY2VzLmpzb24oKTtcbiAgY29uc3QgZGF0YVByb2ZpbGUgPSByZXNqc29uO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRQcm9wcyxcbiAgICAgIGRhdGFQcm9maWxlLFxuICAgICAgc2lkZW1lbnU6IFwiODJcIixcbiAgICAgIG1vZGVsaWQsXG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWxzVXBkYXRlMjtcbiJdfQ== */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n              }, void 0, false, void 0, _this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3907,\n              columnNumber: 19\n            }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n                layout: \"vertical\",\n                initialValues: currentfield2,\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"name\",\n                    label: \"Nama Field\",\n                    rules: [{\n                      required: true,\n                      message: \"Nama Field wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      required: true,\n                      name: \"name\",\n                      onChange: function onChange(e) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          name: e.target.value\n                        }));\n\n                        if (e.target.value === \"\") {\n                          setdisabledtambah2(true);\n                        } else if (e.target.value !== \"\" && currentfield2.data_type !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                          return doca !== \"\";\n                        })) {\n                          setdisabledtambah2(false);\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4043,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4033,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"data_type\",\n                    label: \"Tipe Field\",\n                    rules: [{\n                      required: true,\n                      message: \"Tipe Field wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                      placeholder: \"Pilih Tipe Field\",\n                      onChange: function onChange(value) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          data_type: value\n                        }));\n\n                        if (value === \"dropdown\" || value === \"checkbox\") {\n                          if (currentdropdownn2.every(function (doca, idxa) {\n                            return doca !== \"\";\n                          })) {\n                            setdisabledtambah2(false);\n                          } else {\n                            setdisabledtambah2(true);\n                          }\n                        } else {\n                          setdisabledtambah2(false);\n                        }\n\n                        if (value === \"dropdown\") {\n                          setcurrentcheckeddropdownn2(\"\");\n                          setcurrentdropdownn2([\"\", \"\"]);\n                          setcd2part([\"\", \"\"]);\n                          setdisabledtambah2(true);\n                        }\n\n                        if (value === \"checkbox\") {\n                          setcurrentcheckeddropdownn2([]);\n                          setcurrentdropdownn2([\"\", \"\"]);\n                          setcd2part([\"\", \"\"]);\n                          setdisabledtambah2(true);\n                        }\n                      },\n                      name: \"data_type\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"dropdown\",\n                        children: \"Dropdown\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4113,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"number\",\n                        children: \"Number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4116,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"paragraph\",\n                        children: \"Paragraph Text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4119,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"checkbox\",\n                        children: \"Checkbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4122,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"single\",\n                        children: \"Single Textbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4125,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"date\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4128,\n                        columnNumber: 29\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4075,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4065,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4032,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                  name: \"default\",\n                  label: \"Default\",\n                  children: [currentfield2.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                      children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4136,\n                      columnNumber: 29\n                    }, _this), currentdropdownn2.map(function (doc, idxx) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            checked: currentcheckeddropdownn2 === idxx ? true : false,\n                            onChange: function onChange(e) {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdownn2(idxx);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4143,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4142,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                            style: {\n                              marginRight: \"0.5rem\"\n                            },\n                            defaultValue: doc,\n                            placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                            onChange: function onChange(e) {\n                              setcurrentdropdownn2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2part(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                                return doca !== \"\";\n                              }) && currentfield2.name !== \"\") {\n                                setdisabledtambah2(false);\n                              } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                setdisabledtambah2(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4157,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4156,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: function onClick() {\n                            setcurrentdropdownn2([]);\n                            setcdparttrigger(function (prev) {\n                              return !prev;\n                            });\n                            setcdpartidx(idxx);\n                          },\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4197,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4189,\n                          columnNumber: 33\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4141,\n                        columnNumber: 31\n                      }, _this);\n                    }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                        onClick: function onClick() {\n                          setcurrentdropdownn2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdownn2), [\"\"]));\n                          setcd2part([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2part), [\"\"]));\n                          setdisabledtambah2(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4202,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4201,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4135,\n                    columnNumber: 27\n                  }, _this) : null, currentfield2.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                      children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4220,\n                      columnNumber: 29\n                    }, _this), currentdropdownn2.map(function (doc, idxx) {\n                      var idxchecked = currentcheckeddropdownn2.includes(idxx);\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            defaultChecked: idxchecked,\n                            onChange: function onChange(e) {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdownn2(function (prev) {\n                                  var temp = prev;\n                                  temp.push(idxx);\n                                  return temp;\n                                });\n                              } else {\n                                setcurrentcheckeddropdownn2(function (prev) {\n                                  var temp = prev;\n                                  var index = temp.indexOf(idxx);\n                                  temp.splice(index, 1);\n                                  return temp;\n                                });\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4230,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4229,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                            style: {\n                              marginRight: \"0.5rem\"\n                            },\n                            defaultValue: doc,\n                            placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                            onChange: function onChange(e) {\n                              setcurrentdropdownn2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2part(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                                return doca !== \"\";\n                              }) && currentfield2.name !== \"\") {\n                                setdisabledtambah2(false);\n                              } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                setdisabledtambah2(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4255,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4254,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: function onClick() {\n                            setcurrentdropdownn2([]);\n                            setcdparttrigger(function (prev) {\n                              return !prev;\n                            });\n                            setcdpartidx(idxx);\n                          },\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4297,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4289,\n                          columnNumber: 35\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4228,\n                        columnNumber: 33\n                      }, _this);\n                    }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                        onClick: function onClick() {\n                          setcurrentdropdownn2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdownn2), [\"\"]));\n                          setcd2part([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2part), [\"\"]));\n                          setdisabledtambah2(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4303,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4302,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4219,\n                    columnNumber: 27\n                  }, _this) : null, currentfield2.data_type.toLowerCase() === \"number\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2___default.a, {\n                    style: {\n                      width: \"30%\"\n                    },\n                    defaultValue: fielddataa2[idx][\"default\"],\n                    placeholder: \"Masukkan default \".concat(currentfield2.name),\n                    onChange: function onChange(value) {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        \"default\": \"\".concat(value)\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4319,\n                    columnNumber: 27\n                  }, _this), currentfield2.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n                    rows: 4,\n                    placeholder: \"Masukkan default \".concat(currentfield2.name),\n                    defaultValue: fielddataa2[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4333,\n                    columnNumber: 27\n                  }, _this), currentfield2.data_type.toLowerCase() === \"string\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    placeholder: \"Masukkan default \".concat(currentfield2.name),\n                    defaultValue: fielddataa2[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4346,\n                    columnNumber: 27\n                  }, _this), currentfield2.data_type.toLowerCase() === \"single\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    placeholder: \"Masukkan default \".concat(currentfield2.name),\n                    defaultValue: fielddataa2[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4358,\n                    columnNumber: 27\n                  }, _this), currentfield2.data_type.toLowerCase() === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default.a, {\n                    style: {\n                      width: \"30%\"\n                    },\n                    placeholder: \"Masukkan default \".concat(currentfield2.name),\n                    onChange: function onChange(value, dateString) {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        \"default\": dateString\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4370,\n                    columnNumber: 27\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4132,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4382,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"flex mt-4 justify-end\",\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                    placement: \"bottom\",\n                    title: \"Apakah anda yakin ingin menghapus field \".concat(doc.name === \"\" ? \"ini\" : doc.name, \"?\"),\n                    okText: \"Ya\",\n                    cancelText: \"Tidak\",\n                    onConfirm: function onConfirm() {\n                      setfielddataa2(function (prev) {\n                        return prev.filter(function (_, idxx) {\n                          return idxx !== idx;\n                        });\n                      });\n                      setnewdata2(function (prev) {\n                        var temp = prev;\n                        temp.model_columns = temp.model_columns.filter(function (_, idxx) {\n                          return idxx !== fielddataa.length + idx;\n                        });\n                        return temp;\n                      });\n                      setaddedfield2(function (prev) {\n                        prev.splice(idx, 1);\n                        return prev;\n                      });\n                      setdisabledaddfield2(false);\n                      setpointevent2(\"\");\n                    },\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"DeleteOutlined\"], {\n                        style: {\n                          fontSize: \"1.25rem\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4411,\n                        columnNumber: 29\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4410,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4384,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \" flex items-center mr-4\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                      checked: currentfield2.required,\n                      style: {\n                        marginRight: \"0.5rem\"\n                      },\n                      onChange: function onChange(e) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          required: e.target.checked\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4417,\n                      columnNumber: 27\n                    }, _this), \" \", \"Required\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4416,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                    type: \"primary\",\n                    disabled: disabledtambah2,\n                    onClick: function onClick() {\n                      if (currentfield2.data_type === \"dropdown\" || currentfield2.data_type === \"checkbox\") {\n                        setidxdropdowntrigger2(idx);\n                        setvaluedropdowntrigger2(function (prev) {\n                          return !prev;\n                        });\n                      }\n\n                      var temp = fielddataa2;\n                      temp[idx] = currentfield2;\n                      setfielddataa2(temp);\n                      setaddedfieldidx2(idx);\n                      setaddedfieldtrigger2(function (prev) {\n                        return !prev;\n                      });\n                      setconcatfieldtrigger2(function (prev) {\n                        return !prev;\n                      });\n                      setdisabledaddfield2(false);\n                      setpointevent2(\"\");\n                    },\n                    children: \"Tambah\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4429,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4383,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4031,\n                columnNumber: 21\n              }, _this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4027,\n              columnNumber: 19\n            }, _this)\n          }, void 0, false);\n        }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"w-full flex justify-center mt-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"dashed\",\n            disabled: disabledaddfield2,\n            style: {\n              width: \"80%\",\n              height: \"4rem\"\n            },\n            onClick: onClickAddField2,\n            children: \"+ Tambah Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4460,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4459,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3193,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3060,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_modal_Modal__WEBPACK_IMPORTED_MODULE_20___default.a, {\n      title: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: \"Form Tambah Manufacturer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4474,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"default\",\n            onClick: function onClick() {\n              setmodalmanuf(false);\n            },\n            style: {\n              marginRight: \"1rem\"\n            },\n            children: \"Batal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4476,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"primary\",\n            disabled: disabledmanuf,\n            onClick: handleAddManufacturer,\n            loading: loadingmanuf,\n            children: \"Simpan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4485,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4475,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4473,\n        columnNumber: 11\n      }, _this),\n      visible: modalmanuf,\n      footer: null,\n      onCancel: function onCancel() {\n        setmodalmanuf(false);\n      },\n      width: 900,\n      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \"flex flex-col mb-3\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"jsx-842967156\" + \" \" + \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n            className: \"jsx-842967156\" + \" \" + \"mb-0\",\n            children: [\"Nama Manufacturer \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n              className: \"jsx-842967156\" + \" \" + \"namamanu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4506,\n              columnNumber: 33\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4505,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n            value: datamanuf.name,\n            placeholder: \"Masukkan Nama Manufacturer\",\n            onChange: function onChange(e) {\n              e.target.value === \"\" ? setdisabledmanuf(true) : setdisabledmanuf(false);\n              setdatamanuf({\n                name: e.target.value\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4508,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n            id: \"842967156\",\n            children: \".namamanu.jsx-842967156::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFzNkllLEFBR2lELFlBQ0YsVUFDZCIsImZpbGUiOiIvaG9tZS9ram9ra2VuL21pZy9jb2RlL2Zyb250ZW5kL2ltcy1mZS1zc2gtZGV2L3NyYy9wYWdlcy9hZG1pbi9tb2RlbHMvdXBkYXRlMi9bbW9kZWxJZF0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWxldGVPdXRsaW5lZCB9IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQ2FsZW5kYXJPdXRsaW5lZCxcbiAgQ2xvc2VDaXJjbGVPdXRsaW5lZCxcbiAgUGx1c1NxdWFyZVR3b1RvbmUsXG59IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBDaGVja2JveCxcbiAgQ29sbGFwc2UsXG4gIERhdGVQaWNrZXIsXG4gIEVtcHR5LFxuICBGb3JtLFxuICBJbnB1dCxcbiAgSW5wdXROdW1iZXIsXG4gIFBvcGNvbmZpcm0sXG4gIFNlbGVjdCxcbiAgU3BpbixcbiAgVGltZWxpbmUsXG4gIFRyZWVTZWxlY3QsXG4gIG5vdGlmaWNhdGlvbixcbn0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBNb2RhbCBmcm9tIFwiYW50ZC9saWIvbW9kYWwvTW9kYWxcIjtcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgU3RpY2t5IGZyb20gXCJ3aWwtcmVhY3Qtc3RpY2t5XCI7XG5cbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0LWRhc2hib2FyZFwiO1xuaW1wb3J0IHN0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmQubW9kdWxlLmNzc1wiO1xuaW1wb3J0IGh0dHBjb29raWUgZnJvbSBcImNvb2tpZVwiO1xuXG5jb25zdCBNb2RlbHNVcGRhdGUyID0gKHsgc2lkZW1lbnUsIGRhdGFQcm9maWxlLCBpbml0UHJvcHMsIG1vZGVsaWQgfSkgPT4ge1xuICAvLzEuSW5pdFxuICBjb25zdCBydCA9IHVzZVJvdXRlcigpO1xuICB2YXIgcGF0aEFyciA9IHJ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcbiAgcGF0aEFyci5zcGxpY2UoMywgMSk7XG4gIHBhdGhBcnJbcGF0aEFyci5sZW5ndGggLSAxXSA9IFwiVWJhaCBNb2RlbFwiO1xuICBjb25zdCBbaW5zdGFuY2VGb3JtXSA9IEZvcm0udXNlRm9ybSgpO1xuICBjb25zdCBbaW5zdGFuY2VGb3JtMl0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgeyBQYW5lbCB9ID0gQ29sbGFwc2U7XG5cbiAgLy8yLkhlbHBlciBmdW5jdGlvbnNcbiAgY29uc3QgcmVuZGVyQ2hpbGRQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgIHJldHVybiBpdGVtLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgIHJldHVybiA8Q2hpbGRyZW4gZG9jPXtkb2N9PjwvQ2hpbGRyZW4+O1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IENoaWxkcmVuID0gKHsgZG9jIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRpbWVsaW5lLkl0ZW0+XG4gICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAge1xuICAgICAgICAgICAgPFBhbmVsIGhlYWRlcj17ZG9jLm5hbWV9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+UXVhbnRpdHkgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj48L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MucXVhbnRpdHl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYzIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gdmFyIGRlZmF1bHQyID0ge31cbiAgICAgICAgICAgICAgICAgIC8vIGlmIChkb2NtYzIuZGF0YV90eXBlID09PSAnZHJvcGRvd24nIHx8IGRvY21jMi5kYXRhX3R5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgICAgICAgIC8vICAgICBkZWZhdWx0MiA9IEpTT04ucGFyc2UoZG9jbWMyLmRlZmF1bHQpXG4gICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIubmFtZX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvY21jMi5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAxMDAlYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGByZ2JhKDIyOSwgMjMxLCAyMzUsMSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0Lm9wc2kubWFwKChkb2MyLCBpZHgyKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gZGlzYWJsZWQgdmFsdWU9e2lkeDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMywgaWR4MykgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jM308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQgYmctZ3JheS0xMDAgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jbWMyLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgIHJlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgIDwvVGltZWxpbmUuSXRlbT5cbiAgICApO1xuICB9O1xuXG4gIC8vMi51c2VTdGF0ZVxuICBjb25zdCBbbmV3ZGF0YSwgc2V0bmV3ZGF0YV0gPSB1c2VTdGF0ZSh7XG4gICAgaWQ6IFwiXCIsXG4gICAgYXNzZXRfaWQ6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICBtYW51ZmFjdHVyZXJfaWQ6IG51bGwsXG4gICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgICBhZGRfY29sdW1uczogW10sXG4gICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgfSk7XG4gIGNvbnN0IFtuZXdkYXRhMiwgc2V0bmV3ZGF0YTJdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbZGVmYXVsdGRhdGEsIHNldGRlZmF1bHRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2Fzc2V0ZGF0YSwgc2V0YXNzZXRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21hbnVmZGF0YSwgc2V0bWFudWZkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVsZGF0YSwgc2V0bW9kZWxkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YSwgc2V0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YTIsIHNldGZpZWxkZGF0YTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYSwgc2V0ZmllbGRkYXRhYV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhMiwgc2V0ZmllbGRkYXRhYTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxwYXJ0ZmllbGRkYXRhLCBzZXRtb2RlbHBhcnRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudGZpZWxkLCBzZXRjdXJyZW50ZmllbGRdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZDIsIHNldGN1cnJlbnRmaWVsZDJdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRpZG1vZGVsLCBzZXRjdXJyZW50aWRtb2RlbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FkZGVkZmllbGQsIHNldGFkZGVkZmllbGRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDEsIHNldGFkZGVkZmllbGQxXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQyLCBzZXRhZGRlZGZpZWxkMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMywgc2V0YWRkZWRmaWVsZDNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeCwgc2V0YWRkZWRmaWVsZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlciwgc2V0YWRkZWRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDEsIHNldGFkZGVkZmllbGRpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMSwgc2V0YWRkZWRmaWVsZHRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgyLCBzZXRhZGRlZGZpZWxkaWR4Ml0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjIsIHNldGFkZGVkZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Mywgc2V0YWRkZWRmaWVsZGlkeDNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIzLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZSwgc2V0bG9hZGluZ2NyZWF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlbW9kZWwsIHNldGxvYWRpbmdjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nZ2V0bW9kZWwsIHNldGxvYWRpbmdnZXRtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmFsb2FkaW5nLCBzZXRwcmFsb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMsIHNldGxvYWRpbmdzcGVjXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjMiwgc2V0bG9hZGluZ3NwZWMyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bjIsIHNldGN1cnJlbnRkcm9wZG93bjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bm4yLCBzZXRjdXJyZW50ZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlciwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMSwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjMsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIsIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnNpZHgsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3ZhbHVlLCBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWVdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIxLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjFdID1cbiAgICB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4MSwgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3ZhbHVlMSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjb25jYXRmaWVsZHRyaWdnZXIyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VkaXRwYXJ0LCBzZXRlZGl0cGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RhbGNyZWF0ZW1vZGVsLCBzZXRtb2RhbGNyZWF0ZW1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld2RhdGF0cmlnZ2VyLCBzZXRuZXdkYXRhdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlcjIsIHNldG5ld2RhdGF0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RlbHRyaWdnZXIsIHNldG1vZGVsdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRwYXJ0dHJpZ2dlciwgc2V0Y29uY2F0cGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHZhbHVlLCBzZXRjb25jYXRwYXJ0dmFsdWVdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYXNzZXR0eXBlY29kZSwgc2V0YXNzZXR0eXBlY29kZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUyLCBzZXRhc3NldHR5cGVjb2RlMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2RlZmF1bHRtb2RlbCwgc2V0ZGVmYXVsdG1vZGVsXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW2Rpc2FibGVkdGFtYmFoLCBzZXRkaXNhYmxlZHRhbWJhaF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaDIsIHNldGRpc2FibGVkdGFtYmFoMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkLCBzZXRkaXNhYmxlZGFkZGZpZWxkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkZmllbGQyLCBzZXRkaXNhYmxlZGFkZGZpZWxkMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwb2ludGV2ZW50LCBzZXRwb2ludGV2ZW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcG9pbnRldmVudDIsIHNldHBvaW50ZXZlbnQyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY2QyLCBzZXRjZDJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2NkaWR4LCBzZXRjZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjZHRyaWdnZXIsIHNldGNkdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjZDJwYXJ0LCBzZXRjZDJwYXJ0XSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZHBhcnRpZHgsIHNldGNkcGFydGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjZHBhcnR0cmlnZ2VyLCBzZXRjZHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NoYW5nZWFzc2V0LCBzZXRjaGFuZ2Vhc3NldF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtkZWZhdWx0YXNzZXQsIHNldGRlZmF1bHRhc3NldF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmZXRjaGluZ3BhcnQsIHNldGZldGNoaW5ncGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwYWdlLCBzZXRwYWdlXSA9IHVzZVN0YXRlKDEpO1xuICAvL2NyZWF0ZSBtYW51ZmFjdHVyZXJcbiAgY29uc3QgW21vZGFsbWFudWYsIHNldG1vZGFsbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ21hbnVmLCBzZXRsb2FkaW5nbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRtYW51Ziwgc2V0ZGlzYWJsZWRtYW51Zl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyaWdnZXJtYW51Ziwgc2V0dHJpZ2dlcm1hbnVmXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2RhdGFtYW51Ziwgc2V0ZGF0YW1hbnVmXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICB9KTtcblxuICAvLzMub25DaGFuZ2VcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkID0gKCkgPT4ge1xuICAgIHNldGZpZWxkZGF0YShbXG4gICAgICAuLi5maWVsZGRhdGEsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgc2V0YWRkZWRmaWVsZDEoWy4uLmFkZGVkZmllbGQxLCBmYWxzZV0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkMiA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGFhMihbXG4gICAgICAuLi5maWVsZGRhdGFhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQgPSAoaWQpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYXNzZXRfaWQ6IE51bWJlcihpZCkgfSk7XG4gICAgc2V0bG9hZGluZ3NwZWModHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0YXNzZXRpZCA9IGRlZmF1bHRhc3NldC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKTtcbiAgICAgICAgICBjb25zdCBuZXdhc3NldGZpZWxkZGF0YTIgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgIC5maWx0ZXIoKGRvY2ZpbHRlcikgPT4gZGVmYXVsdGFzc2V0aWQuaW5jbHVkZXMoZG9jZmlsdGVyLmlkKSlcbiAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wbyA9IHByZXY7XG4gICAgICAgICAgICB0ZW1wbyA9IHRlbXBvXG4gICAgICAgICAgICAgIC5maWx0ZXIoKGRvY2ZpbHRlcikgPT4gZGVmYXVsdGFzc2V0aWQuaW5jbHVkZXMoZG9jZmlsdGVyLmlkKSlcbiAgICAgICAgICAgICAgLmNvbmNhdCh0ZW1wKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wbztcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbmV3YXNzZXRmaWVsZGRhdGEyLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICBhZGRfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRkZWZhdWx0ZGF0YSh7XG4gICAgICAgICAgICAuLi5kZWZhdWx0ZGF0YSxcbiAgICAgICAgICAgIGlkOiBkZWZhdWx0bW9kZWwuaWQsXG4gICAgICAgICAgICBuYW1lOiBkZWZhdWx0bW9kZWwubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZWZhdWx0bW9kZWwuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXJfaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXJfaWQsXG4gICAgICAgICAgICBjb3VudDogZGVmYXVsdG1vZGVsLmNvdW50LFxuICAgICAgICAgICAgYXNzZXQ6IHtcbiAgICAgICAgICAgICAgaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICAgICAgbmFtZTogcmVzMi5kYXRhLm5hbWUsXG4gICAgICAgICAgICAgIGNvZGU6IHJlczIuZGF0YS5jb2RlLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzMi5kYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcjoge1xuICAgICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLm1hbnVmYWN0dXJlci5pZCxcbiAgICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm1hbnVmYWN0dXJlci5uYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiBOdW1iZXIoaWQpLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogZGVmYXVsdGFzc2V0LFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgICAgICAgICAgYWRkX21vZGVsczogW10sXG4gICAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3YXNzZXRmaWVsZGRhdGEyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0Y2hhbmdlYXNzZXQodGVtcCk7XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZChhcnIpO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJpbmZvXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQW5kYSBUZWxhaCBNZW5ndWJhaCBBc3NldCBUeXBlXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgICAgXCJIYWwgaW5pIG1lbWJ1YXQgZmllbGQgZGFyaSBhc3NldCB0eXBlIHRlcmthaXQgdGVyYmVudHVrIGRpIGZvcm0gaW5pIVwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IFtdO1xuICAgICAgICAgIC8vIHNldGZpZWxkZGF0YTIodGVtcClcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tTZWxlY3RBc3NldDIgPSAoaWQpID0+IHtcbiAgICBzZXRsb2FkaW5nc3BlYzIodHJ1ZSk7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgYXNzZXRfaWQ6IE51bWJlcihpZCkgfSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgYm9vbCA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9vbC5wdXNoKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRhZGRlZGZpZWxkMyhib29sKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YTIubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5jb2RlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGFzc2V0dHlwZWNvZGUyKHJlczIuZGF0YS5pZCk7XG4gICAgICAgICAgLy8gc2V0bmV3ZGF0YXRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMyKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IFtdO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YTIubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICAuLi5uZXdkYXRhMixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vNC5oYW5kbGVcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTW9kZWwgPSAoKSA9PiB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wIGluIG5ld2RhdGEpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJ1cGRhdGVfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFkZF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIHNldGxvYWRpbmdjcmVhdGUodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L3VwZGF0ZU1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHQpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ2NyZWF0ZShmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTW9kZWwgYmVyaGFzaWwgZGl1YmFoXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgcnQucHVzaChgL2FkbWluL21vZGVscy9kZXRhaWwvJHttb2RlbGlkfWApO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTW9kZWxpbk1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhMikge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhc3NldF9pZFwiKSBbKHRbcHJvcF0gPSBOdW1iZXIoYXNzZXR0eXBlY29kZTIpKV07XG4gICAgICBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGEyW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTW9kZWwgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgc2V0bW9kZWx0cmlnZ2VyKHJlczIuaWQpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUFkZE1hbnVmYWN0dXJlciA9ICgpID0+IHtcbiAgICBzZXRsb2FkaW5nbWFudWYodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1hbnVmYWN0dXJlcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YW1hbnVmKSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdtYW51ZihmYWxzZSk7XG4gICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1hbnVmYWN0dXJlciBiZXJoYXNpbCBkaXRhbWJhaGthblwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGF0YW1hbnVmKHtcbiAgICAgICAgICAgIC4uLmRhdGFtYW51ZixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0dHJpZ2dlcm1hbnVmKChwcmV2KSA9PiBwcmV2ICsgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzUudXNlRWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0c2AsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRhc3NldGRhdGEocmVzMi5kYXRhKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1hbnVmYWN0dXJlcnNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlczIuZGF0YTtcblxuICAgICAgICBzZXRtYW51ZmRhdGEoZGF0YSk7XG5cbiAgICAgICAgLyoqIFNldCBuZXcgaW5zZXJ0ZWQgbWFudWZhY3R1cmVyIGFzIGRlZmF1bHQgc2VsZWN0ZWQgb3B0aW9uIGluIHRoZSBcIk1hbnVmYWN0dXJlclwiIGRyb3Bkb3duICovXG4gICAgICAgIGlmICh0cmlnZ2VybWFudWYgPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IG5ld01hbnVmYWN0dXJlcklkID0gbGF0ZXN0SW5zZXJ0ZWRNYW51ZmFjdHVyZXIuaWQ7XG5cbiAgICAgICAgICAvKiogRm9ybSBjb250cm9sIHZhbHVlICovXG4gICAgICAgICAgaW5zdGFuY2VGb3JtLnNldEZpZWxkc1ZhbHVlKHsgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCB9KTtcblxuICAgICAgICAgIC8qKiBJdCdzIG5lY2Vzc2FyeSB0byB1cGRhdGUgdGhpcyBzdGF0ZS4gVGhpcyBzdGF0ZSB3aWxsIGJlIHVzZWQgYXMgYSBwYXlsb2FkIHRvIHRoZSBiYWNrZW5kICovXG4gICAgICAgICAgc2V0bmV3ZGF0YShwcmV2ID0+ICh7Li4ucHJldiwgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9LCBbdHJpZ2dlcm1hbnVmXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7bW9kZWxpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9tb2RlbF9wYXJ0c1xuICAgICAgICBjb25zdCByZWN1cnNpdmVQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgICAgIHZhciB0ZW1wMTEgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZW1wMSA9IHt9O1xuICAgICAgICAgICAgdGVtcDEgPSBpdGVtW2ldLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0ZW1wMTEucHVzaCh7XG4gICAgICAgICAgICAgIC4uLml0ZW1baV0sXG4gICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAxLFxuICAgICAgICAgICAgICBtb2RlbF9wYXJ0czpcbiAgICAgICAgICAgICAgICBpdGVtW2ldLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gcmVjdXJzaXZlUGFydE1vZGVsKGl0ZW1baV0ubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZW1wMTE7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHlvID0gcmVjdXJzaXZlUGFydE1vZGVsKHJlczIuZGF0YS5tb2RlbF9wYXJ0cyk7XG4gICAgICAgIGNvbnN0IHRlbXAyID0ge1xuICAgICAgICAgIC4uLnJlczIuZGF0YSxcbiAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmFzc2V0LmNvZGUsXG4gICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcCxcbiAgICAgICAgICBhZGRfY29sdW1uczogW10sXG4gICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0bmV3ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGFzc2V0KHRlbXApO1xuICAgICAgICBzZXRkZWZhdWx0bW9kZWwodGVtcDIpO1xuICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoeW8pO1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRhZGRlZGZpZWxkKGFycik7XG4gICAgICAgIHNldGFzc2V0dHlwZWNvZGUocmVzMi5kYXRhLmFzc2V0X2lkKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwobW9kZWx0cmlnZ2VyKTtcbiAgICAgICAgbW9kZWx0cmlnZ2VyICE9PSBmYWxzZSA/IHNldGVkaXRwYXJ0KHRydWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICB9LCBbbW9kZWx0cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlciAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEyLmNvbmNhdChmaWVsZGRhdGEpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHggIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNoYW5nZWFzc2V0LnNvbWUoXG4gICAgICAgICAgKGRvY3NvbWUpID0+IGRvY3NvbWUuaWQgPT09IGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZFxuICAgICAgICApIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2ZpZWxkZGF0YTIubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHgxICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjb25jYXRhZGRjb2x1bW5zaWR4MSA+IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoIC0gMSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlMS5pZCA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICBjaGFuZ2Vhc3NldCA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtmaWVsZGRhdGEubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtjb25jYXRhZGRjb2x1bW5zaWR4MV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4XSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHhdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDEgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4MV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4MV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgzICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDNdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4M10gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyM10pO1xuXG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYWRkX21vZGVsczogdGVtcCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRwYXJ0dHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMi5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkaWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RwYXJ0aWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMnBhcnQuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZHBhcnRpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RwYXJ0aWR4KSk7XG4gICAgfVxuICB9LCBbY2RwYXJ0dHJpZ2dlcl0pO1xuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5cbiAgICAgICAgICAgICAgICBGb3JtIFViYWggTW9kZWwgLSB7bmV3ZGF0YS5uYW1lfVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gfT5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgLypvbkNsaWNrPXsoKSA9PiB7IGNvbnNvbGUubG9nKG5ld2RhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2coZGVmYXVsdGRhdGEpOyBjb25zb2xlLmxvZyhkZWZhdWx0YXNzZXQpIH19Ki8gdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybS5zdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9TdGlja3k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+SW5mb3JtYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAge3ByYWxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxTcGluPjwvU3Bpbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtfVxuICAgICAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWx9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17bmV3ZGF0YX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51Zih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5pc19jb25zdW1hYmxlfVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBNb2RlbCBDb25zdW1hYmxlIGRlbmdhbiBzYXR1YW4ganVtbGFoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7bG9hZGluZ3NwZWMgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhMi5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPEVtcHR5IGltYWdlPXtFbXB0eS5QUkVTRU5URURfSU1BR0VfU0lNUExFfT48L0VtcHR5PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGZpZWxkZGF0YTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZFtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICE9PSBmaWVsZGRhdGEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeFVwZGF0ZUNvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5zcGxpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4VXBkYXRlQ29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2ZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMVtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGFbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YTIubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvYy5tb2RlbF9jaGlsZC5sZW5ndGggPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB3LTYvMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0yXCI+e2RvYy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJyaWdodFwiIHRpdGxlPVwiTW9kZWwgdGlkYWsgbWVtaWxpa2kgcGFydCBtb2RlbCFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgPEV4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGBicm93bmAgfX0+PC9FeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBNb2RlbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBkYXJpIE1vZGVsIFBhcnQgJHtuZXdkYXRhLm5hbWV9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4dGVtcCA9IG1vZGVscGFydGZpZWxkZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzIpID0+IGRvYzIuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5zcGxpY2UoaWR4ZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5pbmRleE9mKGRvYy5pZCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGByZWRgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXQgVHlwZXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsYXNzZXR0eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jLCBpZHhtYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgbXktYXV0byBweC0yIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXdoaXRlIGJvcmRlciB3LTMvMTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGJnLWdyYXktMTAwIHJvdW5kZWQgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIGZsZXggaXRlbXMtY2VudGVyIHctZnVsbCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUaW1lbGluZSBzdHlsZT17eyBtYXJnaW5Ub3A6IGAxcmVtYCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RpbWVsaW5lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2VkaXRwYXJ0ID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG15LTMgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTUgdGV4dC1sZyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50aWRtb2RlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtjdXJyZW50aWRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hpbmdwYXJ0ID8gPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9L2dldE1vZGVscz9yb3dzPTEwJm5hbWU9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gXCJcIiA/IHZhbHVlIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldG1vZGVsZGF0YShbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gYXRhdSBjYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uUG9wdXBTY3JvbGw9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZXZlbnQudGFyZ2V0LnNjcm9sbFRvcCArIGV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQgPT09IGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldHBhZ2UocHJldiA9PiBwcmV2ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHM/cGFnZT0ke3BhZ2V9JnJvd3M9MTBgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlczIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2Nyb2xsVG8oMCwgZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLnRvID49IHJlczIuZGF0YS50b3RhbCA/IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YV0pIDogc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhLCA8U3BpbiBzaXplPVwic21hbGxcIiAvPl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kZWxkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17ZG9jLmlkfSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdnZXRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke2N1cnJlbnRpZG1vZGVsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAxID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiByZXMyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9jb2x1bW5zXCJdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVscGFydHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubW9kZWxfcGFydHMubWFwKChkb2MyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwMyA9IGRvYzIubW9kZWxfY29sdW1ucy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jMykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MzIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbWFwMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9wYXJ0c1wiXSA9IG1vZGVscGFydHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wiaWRcIl0gPSByZXMyLmRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibmFtZVwiXSA9IHJlczIuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMSA9IFsuLi50ZW1wMSwgdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHZhbHVlKHJlczIuZGF0YS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR0cmlnZ2VyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YTIgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhkYXRhMiA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRpZG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWR4ZGF0YTIgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgKyBUYW1iYWggUGFydCBNb2RlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybTIuc3VibWl0fVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGVtb2RlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsY3JlYXRlbW9kZWx9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgbWItOFwiPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm0yfVxuICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEyLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge2ZpZWxkZGF0YWEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQyW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMl07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YWEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZG1hbnVmfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZE1hbnVmYWN0dXJlcn1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbG1hbnVmfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgTmFtYSBNYW51ZmFjdHVyZXIgPHNwYW4gY2xhc3NOYW1lPVwibmFtYW1hbnVcIj48L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdmFsdWU9e2RhdGFtYW51Zi5uYW1lfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIE5hbWEgTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgID8gc2V0ZGlzYWJsZWRtYW51Zih0cnVlKVxuICAgICAgICAgICAgICAgICAgOiBzZXRkaXNhYmxlZG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRkYXRhbWFudWYoeyBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hbWFtYW51OjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoeyByZXEsIHJlcywgcGFyYW1zIH0pIHtcbiAgY29uc3QgbW9kZWxpZCA9IHBhcmFtcy5tb2RlbElkO1xuICB2YXIgaW5pdFByb3BzID0ge307XG4gIGlmICghcmVxLmhlYWRlcnMuY29va2llKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvb2tpZXNKU09OMSA9IGh0dHBjb29raWUucGFyc2UocmVxLmhlYWRlcnMuY29va2llKTtcbiAgaWYgKCFjb29raWVzSlNPTjEudG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaW5pdFByb3BzID0gY29va2llc0pTT04xLnRva2VuO1xuICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZGV0YWlsUHJvZmlsZWAsXG4gICAge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IHJlc2pzb24gPSBhd2FpdCByZXNvdXJjZXMuanNvbigpO1xuICBjb25zdCBkYXRhUHJvZmlsZSA9IHJlc2pzb247XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgaW5pdFByb3BzLFxuICAgICAgZGF0YVByb2ZpbGUsXG4gICAgICBzaWRlbWVudTogXCI4MlwiLFxuICAgICAgbW9kZWxpZCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNVcGRhdGUyO1xuIl19 */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n          }, void 0, false, void 0, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4504,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4503,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4471,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1186,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ModelsUpdate2, \"nF2fyCtVweQLz3nLA6tV083rvh8=\", false, function () {\n  return [next_router__WEBPACK_IMPORTED_MODULE_23__[\"useRouter\"], antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.useForm, antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.useForm];\n});\n\n_c = ModelsUpdate2;\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ModelsUpdate2);\n\nvar _c;\n\n$RefreshReg$(_c, \"ModelsUpdate2\");\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/next/dist/compiled/webpack/harmony-module.js */ \"./node_modules/next/dist/compiled/webpack/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcz85ZDUyIl0sIm5hbWVzIjpbIk1vZGVsc1VwZGF0ZTIiLCJzaWRlbWVudSIsImRhdGFQcm9maWxlIiwiaW5pdFByb3BzIiwibW9kZWxpZCIsInJ0IiwidXNlUm91dGVyIiwicGF0aEFyciIsInBhdGhuYW1lIiwic3BsaXQiLCJzbGljZSIsInNwbGljZSIsImxlbmd0aCIsInVzZUZvcm0iLCJpbnN0YW5jZUZvcm0iLCJpbnN0YW5jZUZvcm0yIiwiUGFuZWwiLCJyZW5kZXJDaGlsZFBhcnRNb2RlbCIsIml0ZW0iLCJtYXAiLCJkb2MiLCJpZHgiLCJDaGlsZHJlbiIsIm5hbWUiLCJtb2RlbF9jb2x1bW5zIiwiZG9jbWMyIiwicmVxdWlyZWQiLCJkYXRhX3R5cGUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsIndpZHRoIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJvcHNpIiwiZG9jMiIsImlkeDIiLCJkb2MzIiwiaWR4MyIsIm1hcmdpblJpZ2h0IiwibW9kZWxfcGFydHMiLCJ1c2VTdGF0ZSIsImlkIiwiYXNzZXRfaWQiLCJkZXNjcmlwdGlvbiIsIm1hbnVmYWN0dXJlcl9pZCIsInJlcXVpcmVkX3NuIiwiaXNfY29uc3VtYWJsZSIsImFkZF9jb2x1bW5zIiwiZGVsZXRlX2NvbHVtbl9pZHMiLCJ1cGRhdGVfY29sdW1ucyIsImFkZF9tb2RlbHMiLCJkZWxldGVfbW9kZWxfaWRzIiwibmV3ZGF0YSIsInNldG5ld2RhdGEiLCJuZXdkYXRhMiIsInNldG5ld2RhdGEyIiwiZGVmYXVsdGRhdGEiLCJzZXRkZWZhdWx0ZGF0YSIsImFzc2V0ZGF0YSIsInNldGFzc2V0ZGF0YSIsIm1hbnVmZGF0YSIsInNldG1hbnVmZGF0YSIsIm1vZGVsZGF0YSIsInNldG1vZGVsZGF0YSIsImZpZWxkZGF0YSIsInNldGZpZWxkZGF0YSIsImZpZWxkZGF0YTIiLCJzZXRmaWVsZGRhdGEyIiwiZmllbGRkYXRhYSIsInNldGZpZWxkZGF0YWEiLCJmaWVsZGRhdGFhMiIsInNldGZpZWxkZGF0YWEyIiwibW9kZWxwYXJ0ZmllbGRkYXRhIiwic2V0bW9kZWxwYXJ0ZmllbGRkYXRhIiwiY3VycmVudGZpZWxkIiwic2V0Y3VycmVudGZpZWxkIiwiY3VycmVudGZpZWxkMiIsInNldGN1cnJlbnRmaWVsZDIiLCJjdXJyZW50aWRtb2RlbCIsInNldGN1cnJlbnRpZG1vZGVsIiwiYWRkZWRmaWVsZCIsInNldGFkZGVkZmllbGQiLCJhZGRlZGZpZWxkMSIsInNldGFkZGVkZmllbGQxIiwiYWRkZWRmaWVsZDIiLCJzZXRhZGRlZGZpZWxkMiIsImFkZGVkZmllbGQzIiwic2V0YWRkZWRmaWVsZDMiLCJhZGRlZGZpZWxkaWR4Iiwic2V0YWRkZWRmaWVsZGlkeCIsImFkZGVkZmllbGR0cmlnZ2VyIiwic2V0YWRkZWRmaWVsZHRyaWdnZXIiLCJhZGRlZGZpZWxkaWR4MSIsInNldGFkZGVkZmllbGRpZHgxIiwiYWRkZWRmaWVsZHRyaWdnZXIxIiwic2V0YWRkZWRmaWVsZHRyaWdnZXIxIiwiYWRkZWRmaWVsZGlkeDIiLCJzZXRhZGRlZGZpZWxkaWR4MiIsImFkZGVkZmllbGR0cmlnZ2VyMiIsInNldGFkZGVkZmllbGR0cmlnZ2VyMiIsImFkZGVkZmllbGRpZHgzIiwic2V0YWRkZWRmaWVsZGlkeDMiLCJhZGRlZGZpZWxkdHJpZ2dlcjMiLCJzZXRhZGRlZGZpZWxkdHJpZ2dlcjMiLCJsb2FkaW5nY3JlYXRlIiwic2V0bG9hZGluZ2NyZWF0ZSIsImxvYWRpbmdjcmVhdGVtb2RlbCIsInNldGxvYWRpbmdjcmVhdGVtb2RlbCIsImxvYWRpbmdnZXRtb2RlbCIsInNldGxvYWRpbmdnZXRtb2RlbCIsInByYWxvYWRpbmciLCJzZXRwcmFsb2FkaW5nIiwibG9hZGluZ3NwZWMiLCJzZXRsb2FkaW5nc3BlYyIsImxvYWRpbmdzcGVjMiIsInNldGxvYWRpbmdzcGVjMiIsImN1cnJlbnRkcm9wZG93bjIiLCJzZXRjdXJyZW50ZHJvcGRvd24yIiwiY3VycmVudGRyb3Bkb3dubjIiLCJzZXRjdXJyZW50ZHJvcGRvd25uMiIsImN1cnJlbnRjaGVja2VkZHJvcGRvd24yIiwic2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIiLCJjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIiLCJzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIiLCJ2YWx1ZWRyb3Bkb3dudHJpZ2dlciIsInNldHZhbHVlZHJvcGRvd250cmlnZ2VyIiwidmFsdWVkcm9wZG93bnRyaWdnZXIxIiwic2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxIiwidmFsdWVkcm9wZG93bnRyaWdnZXIyIiwic2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyIiwidmFsdWVkcm9wZG93bnRyaWdnZXIzIiwic2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzIiwiaWR4ZHJvcGRvd250cmlnZ2VyIiwic2V0aWR4ZHJvcGRvd250cmlnZ2VyIiwiaWR4ZHJvcGRvd250cmlnZ2VyMSIsInNldGlkeGRyb3Bkb3dudHJpZ2dlcjEiLCJpZHhkcm9wZG93bnRyaWdnZXIyIiwic2V0aWR4ZHJvcGRvd250cmlnZ2VyMiIsImlkeGRyb3Bkb3dudHJpZ2dlcjMiLCJzZXRpZHhkcm9wZG93bnRyaWdnZXIzIiwiY29uY2F0ZmllbGR0cmlnZ2VyIiwic2V0Y29uY2F0ZmllbGR0cmlnZ2VyIiwiY29uY2F0YWRkY29sdW1uc3RyaWdnZXIiLCJzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlciIsImNvbmNhdGFkZGNvbHVtbnNpZHgiLCJzZXRjb25jYXRhZGRjb2x1bW5zaWR4IiwiY29uY2F0YWRkY29sdW1uc3ZhbHVlIiwic2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlIiwiY29uY2F0YWRkY29sdW1uc3RyaWdnZXIxIiwic2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxIiwiY29uY2F0YWRkY29sdW1uc2lkeDEiLCJzZXRjb25jYXRhZGRjb2x1bW5zaWR4MSIsImNvbmNhdGFkZGNvbHVtbnN2YWx1ZTEiLCJzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxIiwiY29uY2F0ZmllbGR0cmlnZ2VyMiIsInNldGNvbmNhdGZpZWxkdHJpZ2dlcjIiLCJlZGl0cGFydCIsInNldGVkaXRwYXJ0IiwibW9kYWxjcmVhdGVtb2RlbCIsInNldG1vZGFsY3JlYXRlbW9kZWwiLCJuZXdkYXRhdHJpZ2dlciIsInNldG5ld2RhdGF0cmlnZ2VyIiwibmV3ZGF0YXRyaWdnZXIyIiwic2V0bmV3ZGF0YXRyaWdnZXIyIiwibW9kZWx0cmlnZ2VyIiwic2V0bW9kZWx0cmlnZ2VyIiwiY29uY2F0cGFydHRyaWdnZXIiLCJzZXRjb25jYXRwYXJ0dHJpZ2dlciIsImNvbmNhdHBhcnR2YWx1ZSIsInNldGNvbmNhdHBhcnR2YWx1ZSIsImFzc2V0dHlwZWNvZGUiLCJzZXRhc3NldHR5cGVjb2RlIiwiYXNzZXR0eXBlY29kZTIiLCJzZXRhc3NldHR5cGVjb2RlMiIsImRlZmF1bHRtb2RlbCIsInNldGRlZmF1bHRtb2RlbCIsImRpc2FibGVkdGFtYmFoIiwic2V0ZGlzYWJsZWR0YW1iYWgiLCJkaXNhYmxlZHRhbWJhaDIiLCJzZXRkaXNhYmxlZHRhbWJhaDIiLCJkaXNhYmxlZGFkZGZpZWxkIiwic2V0ZGlzYWJsZWRhZGRmaWVsZCIsImRpc2FibGVkYWRkZmllbGQyIiwic2V0ZGlzYWJsZWRhZGRmaWVsZDIiLCJwb2ludGV2ZW50Iiwic2V0cG9pbnRldmVudCIsInBvaW50ZXZlbnQyIiwic2V0cG9pbnRldmVudDIiLCJjZDIiLCJzZXRjZDIiLCJjZGlkeCIsInNldGNkaWR4IiwiY2R0cmlnZ2VyIiwic2V0Y2R0cmlnZ2VyIiwiY2QycGFydCIsInNldGNkMnBhcnQiLCJjZHBhcnRpZHgiLCJzZXRjZHBhcnRpZHgiLCJjZHBhcnR0cmlnZ2VyIiwic2V0Y2RwYXJ0dHJpZ2dlciIsImNoYW5nZWFzc2V0Iiwic2V0Y2hhbmdlYXNzZXQiLCJkZWZhdWx0YXNzZXQiLCJzZXRkZWZhdWx0YXNzZXQiLCJmZXRjaGluZ3BhcnQiLCJzZXRmZXRjaGluZ3BhcnQiLCJwYWdlIiwic2V0cGFnZSIsIm1vZGFsbWFudWYiLCJzZXRtb2RhbG1hbnVmIiwibG9hZGluZ21hbnVmIiwic2V0bG9hZGluZ21hbnVmIiwiZGlzYWJsZWRtYW51ZiIsInNldGRpc2FibGVkbWFudWYiLCJ0cmlnZ2VybWFudWYiLCJzZXR0cmlnZ2VybWFudWYiLCJkYXRhbWFudWYiLCJzZXRkYXRhbWFudWYiLCJvbkNsaWNrQWRkRmllbGQiLCJvbkNsaWNrQWRkRmllbGQyIiwib25DbGlja1NlbGVjdEFzc2V0IiwiTnVtYmVyIiwiZmV0Y2giLCJwcm9jZXNzIiwibWV0aG9kIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJKU09OIiwicGFyc2UiLCJ0aGVuIiwicmVzIiwianNvbiIsInJlczIiLCJ0ZW1wIiwic3VjY2VzcyIsImRhdGEiLCJhc3NldF9jb2x1bW5zIiwiZGVmYXVsdGFzc2V0aWQiLCJkb2NtYXAiLCJuZXdhc3NldGZpZWxkZGF0YTIiLCJmaWx0ZXIiLCJkb2NmaWx0ZXIiLCJpbmNsdWRlcyIsImNvbmNhdCIsIm5ld2ZpZWxkbWFwIiwiZG9jbmV3ZmllbGQiLCJwcmV2IiwidGVtcG8iLCJjb3VudCIsImFzc2V0IiwiY29kZSIsIm1hbnVmYWN0dXJlciIsImFyciIsImkiLCJwdXNoIiwibWVzc2FnZSIsImR1cmF0aW9uIiwib25DbGlja1NlbGVjdEFzc2V0MiIsImJvb2wiLCJoYW5kbGVDcmVhdGVNb2RlbCIsInQiLCJwcm9wIiwic3RyaW5naWZ5IiwiYm9keSIsInNldFRpbWVvdXQiLCJoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWwiLCJoYW5kbGVBZGRNYW51ZmFjdHVyZXIiLCJ1c2VFZmZlY3QiLCJsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciIsIm5ld01hbnVmYWN0dXJlcklkIiwic2V0RmllbGRzVmFsdWUiLCJyZWN1cnNpdmVQYXJ0TW9kZWwiLCJ0ZW1wMTEiLCJ0ZW1wMSIsInlvIiwidGVtcDIiLCJzb21lIiwiZG9jc29tZSIsImRvY2FkZCIsImluZGV4T2YiLCJpZHhhZGRjb2x1bW4iLCJkb2NhZGQyIiwiZG9jdXAiLCJpZHh1cGNvbHVtbiIsIm1vZGVsX2lkIiwiaWR4dGVtcCIsImlkeG9mIiwicXVhbnRpdHkiLCJkb2MxMCIsImlkeDEwIiwiZG9jMTEiLCJpZHgxMSIsInN0Iiwic3VibWl0IiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3ciLCJ2YWx1ZSIsImxhYmVsIiwiZXh0cmEiLCJhbGxDaGVja2VkTm9kZXMiLCJub2RlIiwicHJvcHMiLCJlIiwidGFyZ2V0IiwiZm9udFNpemUiLCJjaGVja2VkIiwiUFJFU0VOVEVEX0lNQUdFX1NJTVBMRSIsImRvY29wc2kiLCJkb2siLCJpZGsiLCJldmVyeSIsImRvY2EiLCJpZHhhIiwidG9Mb3dlckNhc2UiLCJpZHh4IiwiaWR4Y2hlY2tlZCIsImluZGV4IiwibW9tZW50IiwiZGF0ZVN0cmluZyIsIl8iLCJkb2NkZWYiLCJpZHhVcGRhdGVDb2x1bW5zIiwiZG9jdGVtcCIsImhlaWdodCIsImRvY3BhcnRzIiwiaWR4ZGF0YSIsImRvY21jIiwiaWR4bWMiLCJpZHhvcHNpIiwibWFyZ2luVG9wIiwiaW5wdXQiLCJvcHQiLCJjaGlsZHJlbiIsIm1vZGVscGFydHMiLCJtYXAzIiwiaWR4ZGF0YTIiLCJkb2MxIiwiZG9jeHgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBR0EsSUFBTUEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixPQUFtRDtBQUFBOztBQUFBLE1BQWhEQyxRQUFnRCxRQUFoREEsUUFBZ0Q7QUFBQSxNQUF0Q0MsV0FBc0MsUUFBdENBLFdBQXNDO0FBQUEsTUFBekJDLFNBQXlCLFFBQXpCQSxTQUF5QjtBQUFBLE1BQWRDLE9BQWMsUUFBZEEsT0FBYztBQUN2RTtBQUNBLE1BQU1DLEVBQUUsR0FBR0MsOERBQVMsRUFBcEI7QUFDQSxN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Q0FBQyxLQUFELENBQWI7QUFDRCxPQTdCSDtBQThCRSxXQUFLLEVBQUUsR0E5QlQ7QUFBQSw2QkFnQ0U7QUFBSyxpQkFBUyxFQUFDLG9CQUFmO0FBQUEsK0JBQ0U7QUFBQSw2Q0FBZSxvQkFBZjtBQUFBLGtDQUNFO0FBQUEsK0NBQWEsTUFBYjtBQUFBLDBEQUNvQjtBQUFBLGlEQUFnQjtBQUFoQjtBQUFBO0FBQUE7QUFBQTtBQUFBLHFCQURwQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsbUJBREYsZUFJRTtBQUNFLGlCQUFLLEVBQUVPLFNBQVMsQ0FBQ2pNLElBRG5CO0FBRUUsdUJBQVcsRUFBQyw0QkFGZDtBQUdFLG9CQUFRLEVBQUUsa0JBQUN1UixDQUFELEVBQU87QUFDZkEsZUFBQyxDQUFDQyxNQUFGLENBQVNQLEtBQVQsS0FBbUIsRUFBbkIsR0FDSW5GLGdCQUFnQixDQUFDLElBQUQsQ0FEcEIsR0FFSUEsZ0JBQWdCLENBQUMsS0FBRCxDQUZwQjtBQUdBSSwwQkFBWSxDQUFDO0FBQUVsTSxvQkFBSSxFQUFFdVIsQ0FBQyxDQUFDQyxNQUFGLENBQVNQO0FBQWpCLGVBQUQsQ0FBWjtBQUNEO0FBUkg7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQkFKRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFERjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBaENGO0FBQUE7QUFBQTtBQUFBO0FBQUEsYUFydEdGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxXQURGO0FBa3hHRCxDQWo1SUQ7O0dBQU14UyxhO1VBRU9NLHNELEVBSVksc0RBQUtPLE8sRUFDSixzREFBS0EsTzs7O0tBUHpCYixhOztBQTg3SVNBLDRFQUFmIiwiZmlsZSI6Ii4vc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlbGV0ZU91dGxpbmVkIH0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQge1xuICBDYWxlbmRhck91dGxpbmVkLFxuICBDbG9zZUNpcmNsZU91dGxpbmVkLFxuICBQbHVzU3F1YXJlVHdvVG9uZSxcbn0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQge1xuICBCdXR0b24sXG4gIENoZWNrYm94LFxuICBDb2xsYXBzZSxcbiAgRGF0ZVBpY2tlcixcbiAgRW1wdHksXG4gIEZvcm0sXG4gIElucHV0LFxuICBJbnB1dE51bWJlcixcbiAgUG9wY29uZmlybSxcbiAgU2VsZWN0LFxuICBTcGluLFxuICBUaW1lbGluZSxcbiAgVHJlZVNlbGVjdCxcbiAgbm90aWZpY2F0aW9uLFxufSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IE1vZGFsIGZyb20gXCJhbnRkL2xpYi9tb2RhbC9Nb2RhbFwiO1xuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBTdGlja3kgZnJvbSBcIndpbC1yZWFjdC1zdGlja3lcIjtcblxuaW1wb3J0IExheW91dCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkXCI7XG5pbXBvcnQgc3QgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0LWRhc2hib2FyZC5tb2R1bGUuY3NzXCI7XG5pbXBvcnQgaHR0cGNvb2tpZSBmcm9tIFwiY29va2llXCI7XG5cbmNvbnN0IE1vZGVsc1VwZGF0ZTIgPSAoeyBzaWRlbWVudSwgZGF0YVByb2ZpbGUsIGluaXRQcm9wcywgbW9kZWxpZCB9KSA9PiB7XG4gIC8vMS5Jbml0XG4gIGNvbnN0IHJ0ID0gdXNlUm91dGVyKCk7XG4gIHZhciBwYXRoQXJyID0gcnQucGF0aG5hbWUuc3BsaXQoXCIvXCIpLnNsaWNlKDEpO1xuICBwYXRoQXJyLnNwbGljZSgzLCAxKTtcbiAgcGF0aEFycltwYXRoQXJyLmxlbmd0aCAtIDFdID0gXCJVYmFoIE1vZGVsXCI7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm1dID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IFtpbnN0YW5jZUZvcm0yXSA9IEZvcm0udXNlRm9ybSgpO1xuICBjb25zdCB7IFBhbmVsIH0gPSBDb2xsYXBzZTtcblxuICAvLzIuSGVscGVyIGZ1bmN0aW9uc1xuICBjb25zdCByZW5kZXJDaGlsZFBhcnRNb2RlbCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuIGl0ZW0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgcmV0dXJuIDxDaGlsZHJlbiBkb2M9e2RvY30+PC9DaGlsZHJlbj47XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgQ2hpbGRyZW4gPSAoeyBkb2MgfSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8VGltZWxpbmUuSXRlbT5cbiAgICAgICAgPENvbGxhcHNlIGFjY29yZGlvbj5cbiAgICAgICAgICB7XG4gICAgICAgICAgICA8UGFuZWwgaGVhZGVyPXtkb2MubmFtZX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBwLTNcIj5cbiAgICAgICAgICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5RdWFudGl0eSA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPjwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYmctZ3JheS0yMDAgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gaC0xMiBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5xdWFudGl0eX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICovfVxuICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jMiwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAvLyB2YXIgZGVmYXVsdDIgPSB7fVxuICAgICAgICAgICAgICAgICAgLy8gaWYgKGRvY21jMi5kYXRhX3R5cGUgPT09ICdkcm9wZG93bicgfHwgZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgICAgICAgICAgLy8gICAgIGRlZmF1bHQyID0gSlNPTi5wYXJzZShkb2NtYzIuZGVmYXVsdClcbiAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5uYW1lfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jbWMyLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImRhdGVcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYDEwMCVgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGByZ2JhKDIyOSwgMjMxLCAyMzUsMSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzIsIGlkeDIpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBkaXNhYmxlZCB2YWx1ZT17aWR4Mn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0Lm9wc2kubWFwKChkb2MzLCBpZHgzKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MzfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZCBiZy1ncmF5LTEwMCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2NtYzIuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjAgcm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIGZsZXggaXRlbXMtY2VudGVyIHctZnVsbCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfcGFydHMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgcmVuZGVyQ2hpbGRQYXJ0TW9kZWwoZG9jLm1vZGVsX3BhcnRzKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsYXNzZXR0eXBlOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bHNuOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgIDwvUGFuZWw+XG4gICAgICAgICAgfVxuICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgPC9UaW1lbGluZS5JdGVtPlxuICAgICk7XG4gIH07XG5cbiAgLy8yLnVzZVN0YXRlXG4gIGNvbnN0IFtuZXdkYXRhLCBzZXRuZXdkYXRhXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogbnVsbCxcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW25ld2RhdGEyLCBzZXRuZXdkYXRhMl0gPSB1c2VTdGF0ZSh7XG4gICAgaWQ6IFwiXCIsXG4gICAgYXNzZXRfaWQ6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICBtYW51ZmFjdHVyZXJfaWQ6IFwiXCIsXG4gICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgICBhZGRfY29sdW1uczogW10sXG4gICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgfSk7XG4gIGNvbnN0IFtkZWZhdWx0ZGF0YSwgc2V0ZGVmYXVsdGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYXNzZXRkYXRhLCBzZXRhc3NldGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbWFudWZkYXRhLCBzZXRtYW51ZmRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxkYXRhLCBzZXRtb2RlbGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhLCBzZXRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhMiwgc2V0ZmllbGRkYXRhMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhLCBzZXRmaWVsZGRhdGFhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEyLCBzZXRmaWVsZGRhdGFhMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbHBhcnRmaWVsZGRhdGEsIHNldG1vZGVscGFydGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQsIHNldGN1cnJlbnRmaWVsZF0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgZGVmYXVsdDogXCJzaW5nbGVcIixcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pO1xuICBjb25zdCBbY3VycmVudGZpZWxkMiwgc2V0Y3VycmVudGZpZWxkMl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgZGVmYXVsdDogXCJzaW5nbGVcIixcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pO1xuICBjb25zdCBbY3VycmVudGlkbW9kZWwsIHNldGN1cnJlbnRpZG1vZGVsXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYWRkZWRmaWVsZCwgc2V0YWRkZWRmaWVsZF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMSwgc2V0YWRkZWRmaWVsZDFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDIsIHNldGFkZGVkZmllbGQyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQzLCBzZXRhZGRlZGZpZWxkM10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4LCBzZXRhZGRlZGZpZWxkaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4MSwgc2V0YWRkZWRmaWVsZGlkeDFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIxLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDIsIHNldGFkZGVkZmllbGRpZHgyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMiwgc2V0YWRkZWRmaWVsZHRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgzLCBzZXRhZGRlZGZpZWxkaWR4M10gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjMsIHNldGFkZGVkZmllbGR0cmlnZ2VyM10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlLCBzZXRsb2FkaW5nY3JlYXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGVtb2RlbCwgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdnZXRtb2RlbCwgc2V0bG9hZGluZ2dldG1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ByYWxvYWRpbmcsIHNldHByYWxvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYywgc2V0bG9hZGluZ3NwZWNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMyLCBzZXRsb2FkaW5nc3BlYzJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VycmVudGRyb3Bkb3duMiwgc2V0Y3VycmVudGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGRyb3Bkb3dubjIsIHNldGN1cnJlbnRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyM10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIxLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjIsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMywgc2V0aWR4ZHJvcGRvd250cmlnZ2VyM10gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjb25jYXRmaWVsZHRyaWdnZXIsIHNldGNvbmNhdGZpZWxkdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlciwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeCwgc2V0Y29uY2F0YWRkY29sdW1uc2lkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zdmFsdWUsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjEsIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMV0gPVxuICAgIHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnNpZHgxLCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zdmFsdWUxLCBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlcjIsIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZWRpdHBhcnQsIHNldGVkaXRwYXJ0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21vZGFsY3JlYXRlbW9kZWwsIHNldG1vZGFsY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIsIHNldG5ld2RhdGF0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld2RhdGF0cmlnZ2VyMiwgc2V0bmV3ZGF0YXRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21vZGVsdHJpZ2dlciwgc2V0bW9kZWx0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR0cmlnZ2VyLCBzZXRjb25jYXRwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRwYXJ0dmFsdWUsIHNldGNvbmNhdHBhcnR2YWx1ZV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlLCBzZXRhc3NldHR5cGVjb2RlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYXNzZXR0eXBlY29kZTIsIHNldGFzc2V0dHlwZWNvZGUyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZGVmYXVsdG1vZGVsLCBzZXRkZWZhdWx0bW9kZWxdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgsIHNldGRpc2FibGVkdGFtYmFoXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkdGFtYmFoMiwgc2V0ZGlzYWJsZWR0YW1iYWgyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkZmllbGQsIHNldGRpc2FibGVkYWRkZmllbGRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZDIsIHNldGRpc2FibGVkYWRkZmllbGQyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQsIHNldHBvaW50ZXZlbnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwb2ludGV2ZW50Miwgc2V0cG9pbnRldmVudDJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjZDIsIHNldGNkMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RpZHgsIHNldGNkaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkdHJpZ2dlciwgc2V0Y2R0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NkMnBhcnQsIHNldGNkMnBhcnRdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2NkcGFydGlkeCwgc2V0Y2RwYXJ0aWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NkcGFydHRyaWdnZXIsIHNldGNkcGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2hhbmdlYXNzZXQsIHNldGNoYW5nZWFzc2V0XSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2RlZmF1bHRhc3NldCwgc2V0ZGVmYXVsdGFzc2V0XSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZldGNoaW5ncGFydCwgc2V0ZmV0Y2hpbmdwYXJ0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3BhZ2UsIHNldHBhZ2VdID0gdXNlU3RhdGUoMSk7XG4gIC8vY3JlYXRlIG1hbnVmYWN0dXJlclxuICBjb25zdCBbbW9kYWxtYW51Ziwgc2V0bW9kYWxtYW51Zl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nbWFudWYsIHNldGxvYWRpbmdtYW51Zl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZG1hbnVmLCBzZXRkaXNhYmxlZG1hbnVmXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbdHJpZ2dlcm1hbnVmLCBzZXR0cmlnZ2VybWFudWZdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbZGF0YW1hbnVmLCBzZXRkYXRhbWFudWZdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gIH0pO1xuXG4gIC8vMy5vbkNoYW5nZVxuICBjb25zdCBvbkNsaWNrQWRkRmllbGQgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhKFtcbiAgICAgIC4uLmZpZWxkZGF0YSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICB9KTtcbiAgICBzZXRhZGRlZGZpZWxkMShbLi4uYWRkZWRmaWVsZDEsIGZhbHNlXSk7XG4gICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICB9O1xuICBjb25zdCBvbkNsaWNrQWRkRmllbGQyID0gKCkgPT4ge1xuICAgIHNldGZpZWxkZGF0YWEyKFtcbiAgICAgIC4uLmZpZWxkZGF0YWEyLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICB9KTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tTZWxlY3RBc3NldCA9IChpZCkgPT4ge1xuICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBhc3NldF9pZDogTnVtYmVyKGlkKSB9KTtcbiAgICBzZXRsb2FkaW5nc3BlYyh0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0QXNzZXQ/aWQ9JHtpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgdmFyIHRlbXAgPSBbXTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIHRlbXAgPSByZXMyLmRhdGEuYXNzZXRfY29sdW1ucy5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQgPT09IFwiXCIgfHwgZG9jLmRlZmF1bHQgPT09IFwiLVwiXG4gICAgICAgICAgICAgICAgICAgID8gZG9jLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRhc3NldGlkID0gZGVmYXVsdGFzc2V0Lm1hcCgoZG9jbWFwKSA9PiBkb2NtYXAuaWQpO1xuICAgICAgICAgIGNvbnN0IG5ld2Fzc2V0ZmllbGRkYXRhMiA9IG5ld2RhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgLmZpbHRlcigoZG9jZmlsdGVyKSA9PiBkZWZhdWx0YXNzZXRpZC5pbmNsdWRlcyhkb2NmaWx0ZXIuaWQpKVxuICAgICAgICAgICAgLmNvbmNhdCh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXBvID0gcHJldjtcbiAgICAgICAgICAgIHRlbXBvID0gdGVtcG9cbiAgICAgICAgICAgICAgLmZpbHRlcigoZG9jZmlsdGVyKSA9PiBkZWZhdWx0YXNzZXRpZC5pbmNsdWRlcyhkb2NmaWx0ZXIuaWQpKVxuICAgICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXBvO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIGlkOiBkZWZhdWx0bW9kZWwuaWQsXG4gICAgICAgICAgICBuYW1lOiBkZWZhdWx0bW9kZWwubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZWZhdWx0bW9kZWwuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiBuZXdhc3NldGZpZWxkZGF0YTIuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRlZmF1bHRkYXRhKHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogZGVmYXVsdG1vZGVsLm1hbnVmYWN0dXJlcl9pZCxcbiAgICAgICAgICAgIGNvdW50OiBkZWZhdWx0bW9kZWwuY291bnQsXG4gICAgICAgICAgICBhc3NldDoge1xuICAgICAgICAgICAgICBpZDogcmVzMi5kYXRhLmlkLFxuICAgICAgICAgICAgICBuYW1lOiByZXMyLmRhdGEubmFtZSxcbiAgICAgICAgICAgICAgY29kZTogcmVzMi5kYXRhLmNvZGUsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXMyLmRhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyOiB7XG4gICAgICAgICAgICAgIGlkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyLmlkLFxuICAgICAgICAgICAgICBuYW1lOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyLm5hbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXNzZXRfaWQ6IE51bWJlcihpZCksXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiBkZWZhdWx0YXNzZXQsXG4gICAgICAgICAgICBhZGRfY29sdW1uczogW10sXG4gICAgICAgICAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgICAgICAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgICAgICAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdhc3NldGZpZWxkZGF0YTIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyci5wdXNoKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRjaGFuZ2Vhc3NldCh0ZW1wKTtcbiAgICAgICAgICBzZXRhZGRlZGZpZWxkKGFycik7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImluZm9cIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJBbmRhIFRlbGFoIE1lbmd1YmFoIEFzc2V0IFR5cGVcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgICBcIkhhbCBpbmkgbWVtYnVhdCBmaWVsZCBkYXJpIGFzc2V0IHR5cGUgdGVya2FpdCB0ZXJiZW50dWsgZGkgZm9ybSBpbmkhXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgLy8gc2V0ZmllbGRkYXRhMih0ZW1wKVxuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0MiA9IChpZCkgPT4ge1xuICAgIHNldGxvYWRpbmdzcGVjMih0cnVlKTtcbiAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBhc3NldF9pZDogTnVtYmVyKGlkKSB9KTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0QXNzZXQ/aWQ9JHtpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgdmFyIHRlbXAgPSBbXTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIHRlbXAgPSByZXMyLmRhdGEuYXNzZXRfY29sdW1ucy5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBib29sID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib29sLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGFkZGVkZmllbGQzKGJvb2wpO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhMi5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICAuLi5uZXdkYXRhMixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmNvZGUsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0YXNzZXR0eXBlY29kZTIocmVzMi5kYXRhLmlkKTtcbiAgICAgICAgICAvLyBzZXRuZXdkYXRhdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wID0gW107XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhMi5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy80LmhhbmRsZVxuICBjb25zdCBoYW5kbGVDcmVhdGVNb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YSkge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcInVwZGF0ZV9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYWRkX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhc3NldF9pZFwiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBOdW1iZXIoYXNzZXR0eXBlY29kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZSh0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vdXBkYXRlTW9kZWxgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNb2RlbCBiZXJoYXNpbCBkaXViYWhcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgICBydC5wdXNoKGAvYWRtaW4vbW9kZWxzL2RldGFpbC8ke21vZGVsaWR9YCk7XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWwgPSAoKSA9PiB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wIGluIG5ld2RhdGEyKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGEyW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIFsodFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlMikpXTtcbiAgICAgIGVsc2Uge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIHNldGxvYWRpbmdjcmVhdGVtb2RlbCh0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vYWRkTW9kZWxgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHQpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNb2RlbCBiZXJoYXNpbCBkaXRhbWJhaGthblwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgYXNzZXRfaWQ6IFwiXCIsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXJfaWQ6IFwiXCIsXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgbW9kZWxfcGFydHM6IFtdLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICBzZXRtb2RlbHRyaWdnZXIocmVzMi5pZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQWRkTWFudWZhY3R1cmVyID0gKCkgPT4ge1xuICAgIHNldGxvYWRpbmdtYW51Zih0cnVlKTtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vYWRkTWFudWZhY3R1cmVyYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhbWFudWYpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ21hbnVmKGZhbHNlKTtcbiAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRkYXRhbWFudWYoe1xuICAgICAgICAgICAgLi4uZGF0YW1hbnVmLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXR0cmlnZ2VybWFudWYoKHByZXYpID0+IHByZXYgKyAxKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vNS51c2VFZmZlY3RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0QXNzZXRzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGFzc2V0ZGF0YShyZXMyLmRhdGEpO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TWFudWZhY3R1cmVyc2AsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gcmVzMi5kYXRhO1xuXG4gICAgICAgIHNldG1hbnVmZGF0YShkYXRhKTtcblxuICAgICAgICAvKiogU2V0IG5ldyBpbnNlcnRlZCBtYW51ZmFjdHVyZXIgYXMgZGVmYXVsdCBzZWxlY3RlZCBvcHRpb24gaW4gdGhlIFwiTWFudWZhY3R1cmVyXCIgZHJvcGRvd24gKi9cbiAgICAgICAgaWYgKHRyaWdnZXJtYW51ZiA+IC0xKSB7XG4gICAgICAgICAgY29uc3QgbGF0ZXN0SW5zZXJ0ZWRNYW51ZmFjdHVyZXIgPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgICAgY29uc3QgbmV3TWFudWZhY3R1cmVySWQgPSBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlci5pZDtcblxuICAgICAgICAgIC8qKiBGb3JtIGNvbnRyb2wgdmFsdWUgKi9cbiAgICAgICAgICBpbnN0YW5jZUZvcm0uc2V0RmllbGRzVmFsdWUoeyBtYW51ZmFjdHVyZXJfaWQ6IG5ld01hbnVmYWN0dXJlcklkIH0pO1xuXG4gICAgICAgICAgLyoqIEl0J3MgbmVjZXNzYXJ5IHRvIHVwZGF0ZSB0aGlzIHN0YXRlLiBUaGlzIHN0YXRlIHdpbGwgYmUgdXNlZCBhcyBhIHBheWxvYWQgdG8gdGhlIGJhY2tlbmQgKi9cbiAgICAgICAgICBzZXRuZXdkYXRhKHByZXYgPT4gKHsuLi5wcmV2LCBtYW51ZmFjdHVyZXJfaWQ6IG5ld01hbnVmYWN0dXJlcklkIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0sIFt0cmlnZ2VybWFudWZdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHttb2RlbGlkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQgPT09IFwiXCIgfHwgZG9jLmRlZmF1bHQgPT09IFwiLVwiXG4gICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvL21vZGVsX3BhcnRzXG4gICAgICAgIGNvbnN0IHJlY3Vyc2l2ZVBhcnRNb2RlbCA9IChpdGVtKSA9PiB7XG4gICAgICAgICAgdmFyIHRlbXAxMSA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRlbXAxID0ge307XG4gICAgICAgICAgICB0ZW1wMSA9IGl0ZW1baV0ubW9kZWxfY29sdW1ucy5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgICAgID8gZG9jLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRlbXAxMS5wdXNoKHtcbiAgICAgICAgICAgICAgLi4uaXRlbVtpXSxcbiAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcDEsXG4gICAgICAgICAgICAgIG1vZGVsX3BhcnRzOlxuICAgICAgICAgICAgICAgIGl0ZW1baV0ubW9kZWxfcGFydHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgPyByZWN1cnNpdmVQYXJ0TW9kZWwoaXRlbVtpXS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRlbXAxMTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeW8gPSByZWN1cnNpdmVQYXJ0TW9kZWwocmVzMi5kYXRhLm1vZGVsX3BhcnRzKTtcbiAgICAgICAgY29uc3QgdGVtcDIgPSB7XG4gICAgICAgICAgLi4ucmVzMi5kYXRhLFxuICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuYXNzZXQuY29kZSxcbiAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLFxuICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgICAgICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBzZXRuZXdkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGRhdGEodGVtcDIpO1xuICAgICAgICBzZXRkZWZhdWx0YXNzZXQodGVtcCk7XG4gICAgICAgIHNldGRlZmF1bHRtb2RlbCh0ZW1wMik7XG4gICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSh5byk7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMyLmRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyci5wdXNoKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgc2V0YXNzZXR0eXBlY29kZShyZXMyLmRhdGEuYXNzZXRfaWQpO1xuICAgICAgICBzZXRwcmFsb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsc2AsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChtb2RlbHRyaWdnZXIpO1xuICAgICAgICBtb2RlbHRyaWdnZXIgIT09IGZhbHNlID8gc2V0ZWRpdHBhcnQodHJ1ZSkgOiBudWxsO1xuICAgICAgfSk7XG4gIH0sIFttb2RlbHRyaWdnZXJdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIHV0YW1hIHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGJ1YXQgc2VuZGlyaVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIxICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjFdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEoe1xuICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YTIuY29uY2F0KGZpZWxkZGF0YSksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29uY2F0YWRkY29sdW1uc2lkeCAhPT0gLTEpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY2hhbmdlYXNzZXQuc29tZShcbiAgICAgICAgICAoZG9jc29tZSkgPT4gZG9jc29tZS5pZCA9PT0gY29uY2F0YWRkY29sdW1uc3ZhbHVlLmlkXG4gICAgICAgICkgfHxcbiAgICAgICAgdHlwZW9mIGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbZmllbGRkYXRhMi5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goY3VycmVudGZpZWxkKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4YWRkY29sdW1uID0gbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5ld2RhdGEuYXNzZXRfY29sdW1ucy5sZW5ndGgrXCI6XCIrY29uY2F0YWRkY29sdW1uc2lkeCtcIjtcIituZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pXG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2N1cCkgPT4gZG9jdXAuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zLnB1c2goZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHh1cGNvbHVtbiA9IG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRmaWVsZC5pZCxcbiAgICAgICAgICAgICAgICBtb2RlbF9pZDogY3VycmVudGZpZWxkLm1vZGVsX2lkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29uY2F0YWRkY29sdW1uc2lkeDEgIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNvbmNhdGFkZGNvbHVtbnNpZHgxID4gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGggLSAxIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUxLmlkID09PSBcInVuZGVmaW5lZFwiIHx8XG4gICAgICAgIGNoYW5nZWFzc2V0ID09PSB0cnVlXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgKChmaWVsZGRhdGEyLmxlbmd0aCAtIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoKSA+PSBuZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkKSA9PiBkb2NhZGQubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goZmllbGRkYXRhW2ZpZWxkZGF0YS5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goY3VycmVudGZpZWxkKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4YWRkY29sdW1uID0gbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5ld2RhdGEuYXNzZXRfY29sdW1ucy5sZW5ndGgrXCI6XCIrY29uY2F0YWRkY29sdW1uc2lkeCtcIjtcIituZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pXG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2N1cCkgPT4gZG9jdXAuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zLnB1c2goZmllbGRkYXRhW2NvbmNhdGFkZGNvbHVtbnNpZHgxXSk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHh1cGNvbHVtbiA9IG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRmaWVsZC5pZCxcbiAgICAgICAgICAgICAgICBtb2RlbF9pZDogY3VycmVudGZpZWxkLm1vZGVsX2lkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHggIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHhdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeF0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MSAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgxXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDMgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4M10gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4M10gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIzXSk7XG5cbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBhc3NldFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIzICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIzXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyM10pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgYmFydSB5YW5nIGZpZWxkIGJ1YXQgc2VuZGlyaVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIyICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyMl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhMih7XG4gICAgICAuLi5uZXdkYXRhMixcbiAgICAgIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YWEuY29uY2F0KGZpZWxkZGF0YWEyKSxcbiAgICB9KTtcbiAgfSwgW2NvbmNhdGZpZWxkdHJpZ2dlcjJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDIgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMigocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4Ml0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgyXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhIH0pO1xuICB9LCBbbmV3ZGF0YXRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhIH0pO1xuICB9LCBbbmV3ZGF0YXRyaWdnZXIyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgdGVtcCA9IFtdO1xuICAgIGlmIChjb25jYXRwYXJ0dmFsdWUgIT09IC0xKSB7XG4gICAgICBpZiAoY29uY2F0cGFydHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfcGFydHM6IFtdIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uY2F0cGFydHZhbHVlLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICB2YXIgaWR4dGVtcCA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgIGlmIChpZHh0ZW1wICE9PSAtMSAmJiB0ZW1wW2lkeHRlbXBdW1wiaWRcIl0gPT09IGRvYy5pZCkge1xuICAgICAgICAgICAgdmFyIGlkeG9mID0gdGVtcC5tYXAoKGRvYykgPT4gZG9jLmlkKS5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICB0ZW1wW2lkeG9mXSA9IHtcbiAgICAgICAgICAgICAgLi4udGVtcFtpZHhvZl0sXG4gICAgICAgICAgICAgIHF1YW50aXR5OiB0ZW1wW2lkeG9mXS5xdWFudGl0eSArIGRvYy5xdWFudGl0eSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIGlmIChpZHh0ZW1wID09PSAtMSkge1xuICAgICAgICAgICAgdGVtcC5wdXNoKHtcbiAgICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IGRvYy5xdWFudGl0eSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBhZGRfbW9kZWxzOiB0ZW1wIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdHBhcnR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICByZXR1cm4gY2QyLmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDIoKHByZXYpID0+IHByZXYuZmlsdGVyKChkb2MxMSwgaWR4MTEpID0+IGlkeDExICE9PSBjZGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZHBhcnRpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICByZXR1cm4gY2QycGFydC5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkcGFydGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHByZXYuZmlsdGVyKChkb2MxMSwgaWR4MTEpID0+IGlkeDExICE9PSBjZHBhcnRpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHBhcnR0cmlnZ2VyXSk7XG4gIHJldHVybiAoXG4gICAgPExheW91dFxuICAgICAgc3Q9e3N0fVxuICAgICAgdG9rPXtpbml0UHJvcHN9XG4gICAgICBzaWRlbWVudT17c2lkZW1lbnV9XG4gICAgICBkYXRhUHJvZmlsZT17ZGF0YVByb2ZpbGV9XG4gICAgICBwYXRoQXJyPXtwYXRoQXJyfVxuICAgID5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtYXV0byBncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy00XCJcbiAgICAgICAgaWQ9XCJjcmVhdGVBc3NldHNXcmFwcGVyXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IG1iLThcIj5cbiAgICAgICAgICA8U3RpY2t5IGNvbnRhaW5lclNlbGVjdG9yRm9jdXM9XCIjY3JlYXRlQWdlbnRzV3JhcHBlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tNCBmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTIgcHQtNCBib3JkZXItdC0yIGJvcmRlci1iLTIgYmctd2hpdGVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgcHktMlwiPlxuICAgICAgICAgICAgICAgIEZvcm0gVWJhaCBNb2RlbCAtIHtuZXdkYXRhLm5hbWV9XG4gICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL2FkbWluL21vZGVscy9kZXRhaWwvJHttb2RlbGlkfWB9PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAvKm9uQ2xpY2s9eygpID0+IHsgY29uc29sZS5sb2cobmV3ZGF0YSk7IGNvbnNvbGUubG9nKGZpZWxkZGF0YSk7IGNvbnNvbGUubG9nKGZpZWxkZGF0YTIpOyBjb25zb2xlLmxvZyhkZWZhdWx0ZGF0YSk7IGNvbnNvbGUubG9nKGRlZmF1bHRhc3NldCkgfX0qLyB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2NyZWF0ZX1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aW5zdGFuY2VGb3JtLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1N0aWNreT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5JbmZvcm1hc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICB7cHJhbG9hZGluZyA/IChcbiAgICAgICAgICAgICAgPFNwaW4+PC9TcGluPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPEZvcm1cbiAgICAgICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm19XG4gICAgICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbH1cbiAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWVzPXtuZXdkYXRhfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBc3NldCBUeXBlIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25TdHlsZT17eyBtYXhIZWlnaHQ6IDQwMCwgb3ZlcmZsb3c6IFwiYXV0b1wiIH19XG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEZWZhdWx0RXhwYW5kQWxsXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYS5hbGxDaGVja2VkTm9kZXNbMF0ubm9kZS5wcm9wcy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctMTEvMTIgbXItMlwiPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIiBsYWJlbD1cIk1hbnVmYWN0dXJlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLmlzX2NvbnN1bWFibGV9XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtsb2FkaW5nc3BlYyA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGEyLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8RW1wdHkgaW1hZ2U9e0VtcHR5LlBSRVNFTlRFRF9JTUFHRV9TSU1QTEV9PjwvRW1wdHk+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgZmllbGRkYXRhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdC5pbmRleE9mKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttb21lbnQoZmllbGRkYXRhMltpZHhdLmRlZmF1bHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggIT09IGZpZWxkZGF0YS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2RlZikgPT4gZG9jZGVmLmlkID09PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9jb2x1bW5faWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4VXBkYXRlQ29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jbWFwKSA9PiBkb2NtYXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhVcGRhdGVDb2x1bW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gdGVtcC5hZGRfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZW1wLmFkZF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUoZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7ZmllbGRkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQxW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQxXTtcbiAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQxKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihpZGspICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YVtpZHhdLmRlZmF1bHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPSB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT4gaWR4eCAhPT0gZmllbGRkYXRhMi5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4MShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTEoZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkRmllbGR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgVGFtYmFoIFNwZXNpZmlrYXNpIE1vZGVsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtuZXdkYXRhLmlzX2NvbnN1bWFibGUgPT09IGZhbHNlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi04IGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Lb25maWd1cmFzaSBQYXJ0IE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAgICAgICAgICB7bW9kZWxwYXJ0ZmllbGRkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgcGFuZWwke2lkeH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZG9jLm1vZGVsX2NoaWxkLmxlbmd0aCA9PT0gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHctNi8xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1yLTJcIj57ZG9jLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxUb29sdGlwIHBsYWNlbWVudD1cInJpZ2h0XCIgdGl0bGU9XCJNb2RlbCB0aWRhayBtZW1pbGlraSBwYXJ0IG1vZGVsIVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICA8RXhjbGFtYXRpb25DaXJjbGVPdXRsaW5lZCBzdHlsZT17eyBjb2xvcjogYGJyb3duYCB9fT48L0V4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIE1vZGVsICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGRhcmkgTW9kZWwgUGFydCAke25ld2RhdGEubmFtZX0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZG9jKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHh0ZW1wID0gbW9kZWxwYXJ0ZmllbGRkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NwYXJ0cykgPT4gZG9jcGFydHMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhkb2MuaWQpID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMikgPT4gZG9jMi5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVsc1tpZHhkYXRhXS5xdWFudGl0eSAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnNwbGljZShpZHhkYXRhLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLmluZGV4T2YoZG9jLmlkKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9tb2RlbF9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VDaXJjbGVPdXRsaW5lZCBzdHlsZT17eyBjb2xvcjogYHJlZGAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBc3NldCBUeXBle1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxhc3NldHR5cGVcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYmctZ3JheS0yMDAgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gaC0xMiBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMsIGlkeG1jKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMubmFtZX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoYXJBdCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBteS1hdXRvIHB4LTIgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctd2hpdGUgYm9yZGVyIHctMy8xMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gYmctZ3JheS0xMDAgcm91bmRlZCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjAgcm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfcGFydHMubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVsaW5lIHN0eWxlPXt7IG1hcmdpblRvcDogYDFyZW1gIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyQ2hpbGRQYXJ0TW9kZWwoZG9jLm1vZGVsX3BhcnRzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGltZWxpbmU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZWRpdHBhcnQgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbXktMyBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtNSB0ZXh0LWxnIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRpZG1vZGVsfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2N1cnJlbnRpZG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaGluZ3BhcnQgPyA8U3BpbiBzaXplPVwic21hbGxcIiAvPiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vZ2V0TW9kZWxzP3Jvd3M9MTAmbmFtZT0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICE9PSBcIlwiID8gdmFsdWUgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0bW9kZWxkYXRhKFtdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3A9XCJjaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBhdGF1IGNhcmkgbmFtYSBtb2R1bFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb249eyhpbnB1dCwgb3B0KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25Qb3B1cFNjcm9sbD17KGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmIChldmVudC50YXJnZXQuc2Nyb2xsVG9wICsgZXZlbnQudGFyZ2V0Lm9mZnNldEhlaWdodCA9PT0gZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2V0cGFnZShwcmV2ID0+IHByZXYgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVscz9wYWdlPSR7cGFnZX0mcm93cz0xMGAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLnRoZW4ocmVzMiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5zY3JvbGxUbygwLCBldmVudC50YXJnZXQuc2Nyb2xsSGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICByZXMyLmRhdGEudG8gPj0gcmVzMi5kYXRhLnRvdGFsID8gc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhXSkgOiBzZXRtb2RlbGRhdGEoWy4uLm1vZGVsZGF0YSwgcmVzMi5kYXRhLmRhdGEsIDxTcGluIHNpemU9XCJzbWFsbFwiIC8+XSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttb2RlbGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtkb2MuaWR9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBwdC0yIG15LWF1dG8gaXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2dldG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGxvYWRpbmdnZXRtb2RlbCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7Y3VycmVudGlkbW9kZWx9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcDEgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHJlczIuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm1vZGVsX2NvbHVtbnNcIl0gPSByZXMyLmRhdGFbcHJvcF0ubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWxwYXJ0cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5tb2RlbF9wYXJ0cy5tYXAoKGRvYzIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXAzID0gZG9jMi5tb2RlbF9jb2x1bW5zLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYzMgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiBtYXAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm1vZGVsX3BhcnRzXCJdID0gbW9kZWxwYXJ0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJpZFwiXSA9IHJlczIuZGF0YS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJuYW1lXCJdID0gcmVzMi5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAxID0gWy4uLnRlbXAxLCB0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dmFsdWUocmVzMi5kYXRhLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhMiA9IHRlbXAuYWRkX21vZGVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzMpID0+IGRvYzMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGlkbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeGRhdGEyID09PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY3VycmVudGlkbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZHhkYXRhMiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMubWFwKChkb2MxKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jMS5pZCA9PT0gY3VycmVudGlkbW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMS5xdWFudGl0eSA9IGRvYzEucXVhbnRpdHkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICArIFRhbWJhaCBQYXJ0IE1vZGVsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTW9kZWw8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aW5zdGFuY2VGb3JtMi5zdWJtaXR9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2NyZWF0ZW1vZGVsfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAgdmlzaWJsZT17bW9kYWxjcmVhdGVtb2RlbH1cbiAgICAgICAgZm9vdGVyPXtudWxsfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICB3aWR0aD17OTAwfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBtYi04XCI+XG4gICAgICAgICAgPEZvcm1cbiAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybTJ9XG4gICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWxpbk1vZGVsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBc3NldCBUeXBlIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgZHJvcGRvd25TdHlsZT17eyBtYXhIZWlnaHQ6IDQwMCwgb3ZlcmZsb3c6IFwiYXV0b1wiIH19XG4gICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgIHRyZWVEZWZhdWx0RXhwYW5kQWxsXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYS5hbGxDaGVja2VkTm9kZXNbMF0ubm9kZS5wcm9wcy5pZFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MigwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Gb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgey8qIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdzcGVjMiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYVtpZHhdLnJlcXVpcmVkID8gPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj4gOiBudWxsfSA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj4oe2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCIgPyBcIlNpbmdsZSBUZXh0Ym94XCIgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX0pPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy1mdWxsJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2kgZGliYXdhaCBpbmk8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2NjLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTcgZmxleCBqdXN0aWZ5LWNlbnRlciBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdW1wiZGVmYXVsdFwiXSA9IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fSBkZWZhdWx0VmFsdWU9e2RvY2N9IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9IGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlciBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInBhcmFncmFwaFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYSByb3dzPXs0fSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdW1wiZGVmYXVsdFwiXS5wdXNoKGlkeHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+IHtkb2NjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXIgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBkYXRlU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICB9ICovfVxuICAgICAgICAgIHtsb2FkaW5nc3BlYzIgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhYS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkM1tpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDModGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoZmllbGRkYXRhYVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jeHgsIGlkeHgpID0+IGRvY3h4LmlkICE9PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMyhpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMygocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGFhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MyhpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7ZmllbGRkYXRhYTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDJbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQyXTtcbiAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoZmllbGRkYXRhYTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGQyfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPSB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT4gaWR4eCAhPT0gZmllbGRkYXRhYS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkMi5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkRmllbGQyfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTWFudWZhY3R1cmVyPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkbWFudWZ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTWFudWZhY3R1cmVyfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdtYW51Zn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsbWFudWZ9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICBOYW1hIE1hbnVmYWN0dXJlciA8c3BhbiBjbGFzc05hbWU9XCJuYW1hbWFudVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17ZGF0YW1hbnVmLm5hbWV9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gTmFtYSBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgPyBzZXRkaXNhYmxlZG1hbnVmKHRydWUpXG4gICAgICAgICAgICAgICAgICA6IHNldGRpc2FibGVkbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldGRhdGFtYW51Zih7IG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmFtYW1hbnU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzLCBwYXJhbXMgfSkge1xuICBjb25zdCBtb2RlbGlkID0gcGFyYW1zLm1vZGVsSWQ7XG4gIHZhciBpbml0UHJvcHMgPSB7fTtcbiAgaWYgKCFyZXEuaGVhZGVycy5jb29raWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgY29uc3QgY29va2llc0pTT04xID0gaHR0cGNvb2tpZS5wYXJzZShyZXEuaGVhZGVycy5jb29raWUpO1xuICBpZiAoIWNvb2tpZXNKU09OMS50b2tlbikge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpbml0UHJvcHMgPSBjb29raWVzSlNPTjEudG9rZW47XG4gIGNvbnN0IHJlc291cmNlcyA9IGF3YWl0IGZldGNoKFxuICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9kZXRhaWxQcm9maWxlYCxcbiAgICB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH1cbiAgKTtcbiAgY29uc3QgcmVzanNvbiA9IGF3YWl0IHJlc291cmNlcy5qc29uKCk7XG4gIGNvbnN0IGRhdGFQcm9maWxlID0gcmVzanNvbjtcblxuICByZXR1cm4ge1xuICAgIHByb3BzOiB7XG4gICAgICBpbml0UHJvcHMsXG4gICAgICBkYXRhUHJvZmlsZSxcbiAgICAgIHNpZGVtZW51OiBcIjgyXCIsXG4gICAgICBtb2RlbGlkLFxuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGVsc1VwZGF0ZTI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/admin/models/update2/[modelId].js\n");

/***/ })

})