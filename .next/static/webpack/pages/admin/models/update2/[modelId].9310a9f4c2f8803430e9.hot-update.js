webpackHotUpdate_N_E("pages/admin/models/update2/[modelId]",{

/***/ "./src/pages/admin/models/update2/[modelId].js":
/*!*****************************************************!*\
  !*** ./src/pages/admin/models/update2/[modelId].js ***!
  \*****************************************************/
/*! exports provided: __N_SSP, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/lib/popconfirm */ \"./node_modules/antd/lib/popconfirm/index.js\");\n/* harmony import */ var antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/lib/date-picker */ \"./node_modules/antd/lib/date-picker/index.js\");\n/* harmony import */ var antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/lib/input-number */ \"./node_modules/antd/lib/input-number/index.js\");\n/* harmony import */ var antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var antd_lib_empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/lib/empty */ \"./node_modules/antd/lib/empty/index.js\");\n/* harmony import */ var antd_lib_empty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(antd_lib_empty__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd/lib/input */ \"./node_modules/antd/lib/input/index.js\");\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/lib/tree-select */ \"./node_modules/antd/lib/tree-select/index.js\");\n/* harmony import */ var antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var antd_lib_spin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/lib/spin */ \"./node_modules/antd/lib/spin/index.js\");\n/* harmony import */ var antd_lib_spin__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(antd_lib_spin__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var antd_lib_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd/lib/button */ \"./node_modules/antd/lib/button/index.js\");\n/* harmony import */ var antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var antd_lib_notification__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! antd/lib/notification */ \"./node_modules/antd/lib/notification/index.js\");\n/* harmony import */ var antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(antd_lib_notification__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty */ \"./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray */ \"./node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var antd_lib_timeline__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! antd/lib/timeline */ \"./node_modules/antd/lib/timeline/index.js\");\n/* harmony import */ var antd_lib_timeline__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(antd_lib_timeline__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! antd/lib/checkbox */ \"./node_modules/antd/lib/checkbox/index.js\");\n/* harmony import */ var antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! antd/lib/select */ \"./node_modules/antd/lib/select/index.js\");\n/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! antd/lib/collapse */ \"./node_modules/antd/lib/collapse/index.js\");\n/* harmony import */ var antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! antd/lib/form */ \"./node_modules/antd/lib/form/index.js\");\n/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(antd_lib_form__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! styled-jsx/style */ \"./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ant-design/icons */ \"./node_modules/@ant-design/icons/es/index.js\");\n/* harmony import */ var antd_lib_modal_Modal__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! antd/lib/modal/Modal */ \"./node_modules/antd/lib/modal/Modal.js\");\n/* harmony import */ var antd_lib_modal_Modal__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(antd_lib_modal_Modal__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! moment */ \"./node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var wil_react_sticky__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! wil-react-sticky */ \"./node_modules/wil-react-sticky/dist/index.es.js\");\n/* harmony import */ var _components_layout_dashboard__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../components/layout-dashboard */ \"./src/components/layout-dashboard.js\");\n/* harmony import */ var _components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../components/layout-dashboard.module.css */ \"./src/components/layout-dashboard.module.css\");\n/* harmony import */ var _components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_27__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _jsxFileName = \"/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js\",\n    _this = undefined,\n    _s = $RefreshSig$();\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar ModelsUpdate2 = function ModelsUpdate2(_ref) {\n  _s();\n\n  var sidemenu = _ref.sidemenu,\n      dataProfile = _ref.dataProfile,\n      initProps = _ref.initProps,\n      modelid = _ref.modelid;\n  //1.Init\n  var rt = Object(next_router__WEBPACK_IMPORTED_MODULE_23__[\"useRouter\"])();\n  var pathArr = rt.pathname.split(\"/\").slice(1);\n  pathArr.splice(3, 1);\n  pathArr[pathArr.length - 1] = \"Ubah Model\";\n\n  var _Form$useForm = antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.useForm(),\n      _Form$useForm2 = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(_Form$useForm, 1),\n      instanceForm = _Form$useForm2[0];\n\n  var _Form$useForm3 = antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.useForm(),\n      _Form$useForm4 = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(_Form$useForm3, 1),\n      instanceForm2 = _Form$useForm4[0];\n\n  var Panel = antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15___default.a.Panel; //2.Helper functions\n\n  var renderChildPartModel = function renderChildPartModel(item) {\n    return item.map(function (doc, idx) {\n      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(Children, {\n        doc: doc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 14\n      }, _this);\n    });\n  };\n\n  var Children = function Children(_ref2) {\n    var doc = _ref2.doc;\n    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_timeline__WEBPACK_IMPORTED_MODULE_11___default.a.Item, {\n      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15___default.a, {\n        accordion: true,\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(Panel, {\n          header: doc.name,\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n            className: \"jsx-2733278964\" + \" \" + \"flex flex-col p-3\",\n            children: [doc.model_columns.map(function (docmc2, idx) {\n              // var default2 = {}\n              // if (docmc2.data_type === 'dropdown' || docmc2.data_type === 'checkbox') {\n              //     default2 = JSON.parse(docmc2.default)\n              // }\n              return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"jsx-2733278964\" + \" \" + \"flex flex-col mb-5\",\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                  className: \"jsx-2733278964\" + \" \" + \"font-semibold mb-1\",\n                  children: [docmc2.name, \" \", docmc2.required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-2733278964\" + \" \" + \"judulsn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 27\n                  }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-2733278964\" + \" \" + \"text-gray-400\",\n                    children: [\"(\", docmc2.data_type === \"single\" ? \"Single Textbox\" : docmc2.data_type.charAt(0).toUpperCase() + docmc2.data_type.slice(1), docmc2.data_type === \"paragraph\" && \" Text\", \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-2733278964\" + \" \" + \"w-full flex items-center my-auto px-2\",\n                  children: docmc2.data_type === \"dropdown\" || docmc2.data_type === \"checkbox\" || docmc2.data_type === \"date\" || docmc2.data_type === \"paragraph\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                    children: [docmc2.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                      disabled: true,\n                      style: {\n                        width: \"100%\",\n                        backgroundColor: \"rgba(229, 231, 235,1)\",\n                        color: \"rgba(229, 231, 235,1)\"\n                      },\n                      children: docmc2[\"default\"].opsi.map(function (doc2, idx2) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          disabled: true,\n                          value: idx2,\n                          children: doc2\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 101,\n                          columnNumber: 35\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 31\n                    }, _this), docmc2.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"w-full flex flex-col\",\n                      children: docmc2[\"default\"].opsi.map(function (doc3, idx3) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-2733278964\" + \" \" + \"flex mb-1\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            disabled: true,\n                            style: {\n                              marginRight: \"0.5rem\"\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 111,\n                            columnNumber: 37\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                            className: \"jsx-2733278964\" + \" \" + \"mb-0\",\n                            children: doc3\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 115,\n                            columnNumber: 37\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 110,\n                          columnNumber: 35\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 31\n                    }, _this), docmc2.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"flex w-full items-center justify-between rounded bg-gray-100 h-10 px-3\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                        className: \"jsx-2733278964\" + \" \" + \"mb-0\",\n                        children: docmc2[\"default\"]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 33\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-2733278964\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 124,\n                          columnNumber: 35\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 33\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 31\n                    }, _this), docmc2.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"flex h-20 rounded border bg-gray-100 w-full px-3\",\n                      children: docmc2[\"default\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-2733278964\" + \" \" + \"rounded border bg-gray-100 flex items-center w-full h-10 px-3\",\n                    children: docmc2[\"default\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 27\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, _this);\n            }), doc.model_parts.length > 0 && renderChildPartModel(doc.model_parts)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n            id: \"2733278964\",\n            children: \".judulassettype.jsx-2733278964::before{content:'*';color:red;}.judulsn.jsx-2733278964::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrSmlCLEFBR3lFLEFBSUEsWUFIRixBQUlBLFVBSGQsQUFJQSIsImZpbGUiOiIvaG9tZS9ram9ra2VuL21pZy9jb2RlL2Zyb250ZW5kL2ltcy1mZS1zc2gtZGV2L3NyYy9wYWdlcy9hZG1pbi9tb2RlbHMvdXBkYXRlMi9bbW9kZWxJZF0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWxldGVPdXRsaW5lZCB9IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQ2FsZW5kYXJPdXRsaW5lZCxcbiAgQ2xvc2VDaXJjbGVPdXRsaW5lZCxcbiAgUGx1c1NxdWFyZVR3b1RvbmUsXG59IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBDaGVja2JveCxcbiAgQ29sbGFwc2UsXG4gIERhdGVQaWNrZXIsXG4gIEVtcHR5LFxuICBGb3JtLFxuICBJbnB1dCxcbiAgSW5wdXROdW1iZXIsXG4gIFBvcGNvbmZpcm0sXG4gIFNlbGVjdCxcbiAgU3BpbixcbiAgVGltZWxpbmUsXG4gIFRyZWVTZWxlY3QsXG4gIG5vdGlmaWNhdGlvbixcbn0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBNb2RhbCBmcm9tIFwiYW50ZC9saWIvbW9kYWwvTW9kYWxcIjtcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgU3RpY2t5IGZyb20gXCJ3aWwtcmVhY3Qtc3RpY2t5XCI7XG5cbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0LWRhc2hib2FyZFwiO1xuaW1wb3J0IHN0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmQubW9kdWxlLmNzc1wiO1xuaW1wb3J0IGh0dHBjb29raWUgZnJvbSBcImNvb2tpZVwiO1xuXG5jb25zdCBNb2RlbHNVcGRhdGUyID0gKHsgc2lkZW1lbnUsIGRhdGFQcm9maWxlLCBpbml0UHJvcHMsIG1vZGVsaWQgfSkgPT4ge1xuICAvLzEuSW5pdFxuICBjb25zdCBydCA9IHVzZVJvdXRlcigpO1xuICB2YXIgcGF0aEFyciA9IHJ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcbiAgcGF0aEFyci5zcGxpY2UoMywgMSk7XG4gIHBhdGhBcnJbcGF0aEFyci5sZW5ndGggLSAxXSA9IFwiVWJhaCBNb2RlbFwiO1xuICBjb25zdCBbaW5zdGFuY2VGb3JtXSA9IEZvcm0udXNlRm9ybSgpO1xuICBjb25zdCBbaW5zdGFuY2VGb3JtMl0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgeyBQYW5lbCB9ID0gQ29sbGFwc2U7XG5cbiAgLy8yLkhlbHBlciBmdW5jdGlvbnNcbiAgY29uc3QgcmVuZGVyQ2hpbGRQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgIHJldHVybiBpdGVtLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgIHJldHVybiA8Q2hpbGRyZW4gZG9jPXtkb2N9PjwvQ2hpbGRyZW4+O1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IENoaWxkcmVuID0gKHsgZG9jIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRpbWVsaW5lLkl0ZW0+XG4gICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAge1xuICAgICAgICAgICAgPFBhbmVsIGhlYWRlcj17ZG9jLm5hbWV9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+UXVhbnRpdHkgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj48L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MucXVhbnRpdHl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYzIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gdmFyIGRlZmF1bHQyID0ge31cbiAgICAgICAgICAgICAgICAgIC8vIGlmIChkb2NtYzIuZGF0YV90eXBlID09PSAnZHJvcGRvd24nIHx8IGRvY21jMi5kYXRhX3R5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgICAgICAgIC8vICAgICBkZWZhdWx0MiA9IEpTT04ucGFyc2UoZG9jbWMyLmRlZmF1bHQpXG4gICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIubmFtZX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvY21jMi5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAxMDAlYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGByZ2JhKDIyOSwgMjMxLCAyMzUsMSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0Lm9wc2kubWFwKChkb2MyLCBpZHgyKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gZGlzYWJsZWQgdmFsdWU9e2lkeDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMywgaWR4MykgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jM308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQgYmctZ3JheS0xMDAgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jbWMyLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgIHJlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgIDwvVGltZWxpbmUuSXRlbT5cbiAgICApO1xuICB9O1xuXG4gIC8vMi51c2VTdGF0ZVxuICBjb25zdCBbbmV3ZGF0YSwgc2V0bmV3ZGF0YV0gPSB1c2VTdGF0ZSh7XG4gICAgaWQ6IFwiXCIsXG4gICAgYXNzZXRfaWQ6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICBtYW51ZmFjdHVyZXJfaWQ6IG51bGwsXG4gICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgICBhZGRfY29sdW1uczogW10sXG4gICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgfSk7XG4gIGNvbnN0IFtuZXdkYXRhMiwgc2V0bmV3ZGF0YTJdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbZGVmYXVsdGRhdGEsIHNldGRlZmF1bHRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2Fzc2V0ZGF0YSwgc2V0YXNzZXRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21hbnVmZGF0YSwgc2V0bWFudWZkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVsZGF0YSwgc2V0bW9kZWxkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YSwgc2V0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YTIsIHNldGZpZWxkZGF0YTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYSwgc2V0ZmllbGRkYXRhYV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhMiwgc2V0ZmllbGRkYXRhYTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxwYXJ0ZmllbGRkYXRhLCBzZXRtb2RlbHBhcnRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudGZpZWxkLCBzZXRjdXJyZW50ZmllbGRdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZDIsIHNldGN1cnJlbnRmaWVsZDJdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRpZG1vZGVsLCBzZXRjdXJyZW50aWRtb2RlbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FkZGVkZmllbGQsIHNldGFkZGVkZmllbGRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDEsIHNldGFkZGVkZmllbGQxXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQyLCBzZXRhZGRlZGZpZWxkMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMywgc2V0YWRkZWRmaWVsZDNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeCwgc2V0YWRkZWRmaWVsZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlciwgc2V0YWRkZWRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDEsIHNldGFkZGVkZmllbGRpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMSwgc2V0YWRkZWRmaWVsZHRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgyLCBzZXRhZGRlZGZpZWxkaWR4Ml0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjIsIHNldGFkZGVkZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Mywgc2V0YWRkZWRmaWVsZGlkeDNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIzLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZSwgc2V0bG9hZGluZ2NyZWF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlbW9kZWwsIHNldGxvYWRpbmdjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nZ2V0bW9kZWwsIHNldGxvYWRpbmdnZXRtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmFsb2FkaW5nLCBzZXRwcmFsb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMsIHNldGxvYWRpbmdzcGVjXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjMiwgc2V0bG9hZGluZ3NwZWMyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bjIsIHNldGN1cnJlbnRkcm9wZG93bjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bm4yLCBzZXRjdXJyZW50ZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlciwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMSwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjMsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIsIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnNpZHgsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3ZhbHVlLCBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWVdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIxLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjFdID1cbiAgICB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4MSwgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3ZhbHVlMSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjb25jYXRmaWVsZHRyaWdnZXIyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VkaXRwYXJ0LCBzZXRlZGl0cGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RhbGNyZWF0ZW1vZGVsLCBzZXRtb2RhbGNyZWF0ZW1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld2RhdGF0cmlnZ2VyLCBzZXRuZXdkYXRhdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlcjIsIHNldG5ld2RhdGF0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RlbHRyaWdnZXIsIHNldG1vZGVsdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRwYXJ0dHJpZ2dlciwgc2V0Y29uY2F0cGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHZhbHVlLCBzZXRjb25jYXRwYXJ0dmFsdWVdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYXNzZXR0eXBlY29kZSwgc2V0YXNzZXR0eXBlY29kZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUyLCBzZXRhc3NldHR5cGVjb2RlMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2RlZmF1bHRtb2RlbCwgc2V0ZGVmYXVsdG1vZGVsXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW2Rpc2FibGVkdGFtYmFoLCBzZXRkaXNhYmxlZHRhbWJhaF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaDIsIHNldGRpc2FibGVkdGFtYmFoMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkLCBzZXRkaXNhYmxlZGFkZGZpZWxkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkZmllbGQyLCBzZXRkaXNhYmxlZGFkZGZpZWxkMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwb2ludGV2ZW50LCBzZXRwb2ludGV2ZW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcG9pbnRldmVudDIsIHNldHBvaW50ZXZlbnQyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY2QyLCBzZXRjZDJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2NkaWR4LCBzZXRjZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjZHRyaWdnZXIsIHNldGNkdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjZDJwYXJ0LCBzZXRjZDJwYXJ0XSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZHBhcnRpZHgsIHNldGNkcGFydGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjZHBhcnR0cmlnZ2VyLCBzZXRjZHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NoYW5nZWFzc2V0LCBzZXRjaGFuZ2Vhc3NldF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtkZWZhdWx0YXNzZXQsIHNldGRlZmF1bHRhc3NldF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmZXRjaGluZ3BhcnQsIHNldGZldGNoaW5ncGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwYWdlLCBzZXRwYWdlXSA9IHVzZVN0YXRlKDEpO1xuICAvL2NyZWF0ZSBtYW51ZmFjdHVyZXJcbiAgY29uc3QgW21vZGFsbWFudWYsIHNldG1vZGFsbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ21hbnVmLCBzZXRsb2FkaW5nbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRtYW51Ziwgc2V0ZGlzYWJsZWRtYW51Zl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyaWdnZXJtYW51Ziwgc2V0dHJpZ2dlcm1hbnVmXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2RhdGFtYW51Ziwgc2V0ZGF0YW1hbnVmXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICB9KTtcblxuICAvLzMub25DaGFuZ2VcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkID0gKCkgPT4ge1xuICAgIHNldGZpZWxkZGF0YShbXG4gICAgICAuLi5maWVsZGRhdGEsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgc2V0YWRkZWRmaWVsZDEoWy4uLmFkZGVkZmllbGQxLCBmYWxzZV0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkMiA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGFhMihbXG4gICAgICAuLi5maWVsZGRhdGFhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQgPSAoaWQpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYXNzZXRfaWQ6IE51bWJlcihpZCkgfSk7XG4gICAgc2V0bG9hZGluZ3NwZWModHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0YXNzZXRpZCA9IGRlZmF1bHRhc3NldC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKTtcbiAgICAgICAgICBjb25zdCBuZXdhc3NldGZpZWxkZGF0YTIgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgIC5maWx0ZXIoKGRvY2ZpbHRlcikgPT4gZGVmYXVsdGFzc2V0aWQuaW5jbHVkZXMoZG9jZmlsdGVyLmlkKSlcbiAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wbyA9IHByZXY7XG4gICAgICAgICAgICB0ZW1wbyA9IHRlbXBvXG4gICAgICAgICAgICAgIC5maWx0ZXIoKGRvY2ZpbHRlcikgPT4gZGVmYXVsdGFzc2V0aWQuaW5jbHVkZXMoZG9jZmlsdGVyLmlkKSlcbiAgICAgICAgICAgICAgLmNvbmNhdCh0ZW1wKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wbztcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbmV3YXNzZXRmaWVsZGRhdGEyLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICBhZGRfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRkZWZhdWx0ZGF0YSh7XG4gICAgICAgICAgICAuLi5kZWZhdWx0ZGF0YSxcbiAgICAgICAgICAgIGlkOiBkZWZhdWx0bW9kZWwuaWQsXG4gICAgICAgICAgICBuYW1lOiBkZWZhdWx0bW9kZWwubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZWZhdWx0bW9kZWwuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXJfaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXJfaWQsXG4gICAgICAgICAgICBjb3VudDogZGVmYXVsdG1vZGVsLmNvdW50LFxuICAgICAgICAgICAgYXNzZXQ6IHtcbiAgICAgICAgICAgICAgaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICAgICAgbmFtZTogcmVzMi5kYXRhLm5hbWUsXG4gICAgICAgICAgICAgIGNvZGU6IHJlczIuZGF0YS5jb2RlLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzMi5kYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcjoge1xuICAgICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLm1hbnVmYWN0dXJlci5pZCxcbiAgICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm1hbnVmYWN0dXJlci5uYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiBOdW1iZXIoaWQpLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogZGVmYXVsdGFzc2V0LFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgICAgICAgICAgYWRkX21vZGVsczogW10sXG4gICAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3YXNzZXRmaWVsZGRhdGEyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0Y2hhbmdlYXNzZXQodGVtcCk7XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZChhcnIpO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJpbmZvXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQW5kYSBUZWxhaCBNZW5ndWJhaCBBc3NldCBUeXBlXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgICAgXCJIYWwgaW5pIG1lbWJ1YXQgZmllbGQgZGFyaSBhc3NldCB0eXBlIHRlcmthaXQgdGVyYmVudHVrIGRpIGZvcm0gaW5pIVwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IFtdO1xuICAgICAgICAgIC8vIHNldGZpZWxkZGF0YTIodGVtcClcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tTZWxlY3RBc3NldDIgPSAoaWQpID0+IHtcbiAgICBzZXRsb2FkaW5nc3BlYzIodHJ1ZSk7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgYXNzZXRfaWQ6IE51bWJlcihpZCkgfSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgYm9vbCA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9vbC5wdXNoKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRhZGRlZGZpZWxkMyhib29sKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YTIubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5jb2RlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGFzc2V0dHlwZWNvZGUyKHJlczIuZGF0YS5pZCk7XG4gICAgICAgICAgLy8gc2V0bmV3ZGF0YXRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMyKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IFtdO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YTIubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICAuLi5uZXdkYXRhMixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vNC5oYW5kbGVcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTW9kZWwgPSAoKSA9PiB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wIGluIG5ld2RhdGEpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJ1cGRhdGVfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFkZF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIHNldGxvYWRpbmdjcmVhdGUodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L3VwZGF0ZU1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHQpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ2NyZWF0ZShmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTW9kZWwgYmVyaGFzaWwgZGl1YmFoXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgcnQucHVzaChgL2FkbWluL21vZGVscy9kZXRhaWwvJHttb2RlbGlkfWApO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTW9kZWxpbk1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhMikge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhc3NldF9pZFwiKSBbKHRbcHJvcF0gPSBOdW1iZXIoYXNzZXR0eXBlY29kZTIpKV07XG4gICAgICBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGEyW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTW9kZWwgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgc2V0bW9kZWx0cmlnZ2VyKHJlczIuaWQpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUFkZE1hbnVmYWN0dXJlciA9ICgpID0+IHtcbiAgICBzZXRsb2FkaW5nbWFudWYodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1hbnVmYWN0dXJlcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YW1hbnVmKSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdtYW51ZihmYWxzZSk7XG4gICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1hbnVmYWN0dXJlciBiZXJoYXNpbCBkaXRhbWJhaGthblwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGF0YW1hbnVmKHtcbiAgICAgICAgICAgIC4uLmRhdGFtYW51ZixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0dHJpZ2dlcm1hbnVmKChwcmV2KSA9PiBwcmV2ICsgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzUudXNlRWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0c2AsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRhc3NldGRhdGEocmVzMi5kYXRhKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1hbnVmYWN0dXJlcnNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlczIuZGF0YTtcblxuICAgICAgICBzZXRtYW51ZmRhdGEoZGF0YSk7XG5cbiAgICAgICAgLyoqIFNldCBuZXcgaW5zZXJ0ZWQgbWFudWZhY3R1cmVyIGFzIGRlZmF1bHQgc2VsZWN0ZWQgb3B0aW9uIGluIHRoZSBcIk1hbnVmYWN0dXJlclwiIGRyb3Bkb3duICovXG4gICAgICAgIGlmICh0cmlnZ2VybWFudWYgPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IG5ld01hbnVmYWN0dXJlcklkID0gbGF0ZXN0SW5zZXJ0ZWRNYW51ZmFjdHVyZXIuaWQ7XG5cbiAgICAgICAgICAvKiogRm9ybSBjb250cm9sIHZhbHVlICovXG4gICAgICAgICAgaW5zdGFuY2VGb3JtLnNldEZpZWxkc1ZhbHVlKHsgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCB9KTtcblxuICAgICAgICAgIC8qKiBJdCdzIG5lY2Vzc2FyeSB0byB1cGRhdGUgdGhpcyBzdGF0ZS4gVGhpcyBzdGF0ZSB3aWxsIGJlIHVzZWQgYXMgYSBwYXlsb2FkIHRvIHRoZSBiYWNrZW5kICovXG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4gKHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXJfaWQ6IG5ld01hbnVmYWN0dXJlcklkLFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0sIFt0cmlnZ2VybWFudWZdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHttb2RlbGlkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQgPT09IFwiXCIgfHwgZG9jLmRlZmF1bHQgPT09IFwiLVwiXG4gICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvL21vZGVsX3BhcnRzXG4gICAgICAgIGNvbnN0IHJlY3Vyc2l2ZVBhcnRNb2RlbCA9IChpdGVtKSA9PiB7XG4gICAgICAgICAgdmFyIHRlbXAxMSA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRlbXAxID0ge307XG4gICAgICAgICAgICB0ZW1wMSA9IGl0ZW1baV0ubW9kZWxfY29sdW1ucy5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgICAgID8gZG9jLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRlbXAxMS5wdXNoKHtcbiAgICAgICAgICAgICAgLi4uaXRlbVtpXSxcbiAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcDEsXG4gICAgICAgICAgICAgIG1vZGVsX3BhcnRzOlxuICAgICAgICAgICAgICAgIGl0ZW1baV0ubW9kZWxfcGFydHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgPyByZWN1cnNpdmVQYXJ0TW9kZWwoaXRlbVtpXS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRlbXAxMTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeW8gPSByZWN1cnNpdmVQYXJ0TW9kZWwocmVzMi5kYXRhLm1vZGVsX3BhcnRzKTtcbiAgICAgICAgY29uc3QgdGVtcDIgPSB7XG4gICAgICAgICAgLi4ucmVzMi5kYXRhLFxuICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuYXNzZXQuY29kZSxcbiAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLFxuICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgICAgICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBzZXRuZXdkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGRhdGEodGVtcDIpO1xuICAgICAgICBzZXRkZWZhdWx0YXNzZXQodGVtcCk7XG4gICAgICAgIHNldGRlZmF1bHRtb2RlbCh0ZW1wMik7XG4gICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSh5byk7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMyLmRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyci5wdXNoKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgc2V0YXNzZXR0eXBlY29kZShyZXMyLmRhdGEuYXNzZXRfaWQpO1xuICAgICAgICBzZXRwcmFsb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsc2AsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChtb2RlbHRyaWdnZXIpO1xuICAgICAgICBtb2RlbHRyaWdnZXIgIT09IGZhbHNlID8gc2V0ZWRpdHBhcnQodHJ1ZSkgOiBudWxsO1xuICAgICAgfSk7XG4gIH0sIFttb2RlbHRyaWdnZXJdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIHV0YW1hIHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGJ1YXQgc2VuZGlyaVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIxICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjFdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEoe1xuICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YTIuY29uY2F0KGZpZWxkZGF0YSksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29uY2F0YWRkY29sdW1uc2lkeCAhPT0gLTEpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY2hhbmdlYXNzZXQuc29tZShcbiAgICAgICAgICAoZG9jc29tZSkgPT4gZG9jc29tZS5pZCA9PT0gY29uY2F0YWRkY29sdW1uc3ZhbHVlLmlkXG4gICAgICAgICkgfHxcbiAgICAgICAgdHlwZW9mIGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbZmllbGRkYXRhMi5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goY3VycmVudGZpZWxkKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4YWRkY29sdW1uID0gbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5ld2RhdGEuYXNzZXRfY29sdW1ucy5sZW5ndGgrXCI6XCIrY29uY2F0YWRkY29sdW1uc2lkeCtcIjtcIituZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pXG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2N1cCkgPT4gZG9jdXAuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zLnB1c2goZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHh1cGNvbHVtbiA9IG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRmaWVsZC5pZCxcbiAgICAgICAgICAgICAgICBtb2RlbF9pZDogY3VycmVudGZpZWxkLm1vZGVsX2lkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29uY2F0YWRkY29sdW1uc2lkeDEgIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNvbmNhdGFkZGNvbHVtbnNpZHgxID4gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGggLSAxIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUxLmlkID09PSBcInVuZGVmaW5lZFwiIHx8XG4gICAgICAgIGNoYW5nZWFzc2V0ID09PSB0cnVlXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgKChmaWVsZGRhdGEyLmxlbmd0aCAtIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoKSA+PSBuZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkKSA9PiBkb2NhZGQubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goZmllbGRkYXRhW2ZpZWxkZGF0YS5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goY3VycmVudGZpZWxkKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4YWRkY29sdW1uID0gbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5ld2RhdGEuYXNzZXRfY29sdW1ucy5sZW5ndGgrXCI6XCIrY29uY2F0YWRkY29sdW1uc2lkeCtcIjtcIituZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pXG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2N1cCkgPT4gZG9jdXAuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zLnB1c2goZmllbGRkYXRhW2NvbmNhdGFkZGNvbHVtbnNpZHgxXSk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHh1cGNvbHVtbiA9IG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRmaWVsZC5pZCxcbiAgICAgICAgICAgICAgICBtb2RlbF9pZDogY3VycmVudGZpZWxkLm1vZGVsX2lkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHggIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHhdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeF0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MSAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgxXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDMgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4M10gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4M10gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIzXSk7XG5cbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBhc3NldFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIzICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIzXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyM10pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgYmFydSB5YW5nIGZpZWxkIGJ1YXQgc2VuZGlyaVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIyICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyMl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhMih7XG4gICAgICAuLi5uZXdkYXRhMixcbiAgICAgIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YWEuY29uY2F0KGZpZWxkZGF0YWEyKSxcbiAgICB9KTtcbiAgfSwgW2NvbmNhdGZpZWxkdHJpZ2dlcjJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDIgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMigocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4Ml0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgyXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhIH0pO1xuICB9LCBbbmV3ZGF0YXRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhIH0pO1xuICB9LCBbbmV3ZGF0YXRyaWdnZXIyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgdGVtcCA9IFtdO1xuICAgIGlmIChjb25jYXRwYXJ0dmFsdWUgIT09IC0xKSB7XG4gICAgICBpZiAoY29uY2F0cGFydHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfcGFydHM6IFtdIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uY2F0cGFydHZhbHVlLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICB2YXIgaWR4dGVtcCA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgIGlmIChpZHh0ZW1wICE9PSAtMSAmJiB0ZW1wW2lkeHRlbXBdW1wiaWRcIl0gPT09IGRvYy5pZCkge1xuICAgICAgICAgICAgdmFyIGlkeG9mID0gdGVtcC5tYXAoKGRvYykgPT4gZG9jLmlkKS5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICB0ZW1wW2lkeG9mXSA9IHtcbiAgICAgICAgICAgICAgLi4udGVtcFtpZHhvZl0sXG4gICAgICAgICAgICAgIHF1YW50aXR5OiB0ZW1wW2lkeG9mXS5xdWFudGl0eSArIGRvYy5xdWFudGl0eSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIGlmIChpZHh0ZW1wID09PSAtMSkge1xuICAgICAgICAgICAgdGVtcC5wdXNoKHtcbiAgICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IGRvYy5xdWFudGl0eSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBhZGRfbW9kZWxzOiB0ZW1wIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdHBhcnR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICByZXR1cm4gY2QyLmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDIoKHByZXYpID0+IHByZXYuZmlsdGVyKChkb2MxMSwgaWR4MTEpID0+IGlkeDExICE9PSBjZGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZHBhcnRpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICByZXR1cm4gY2QycGFydC5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkcGFydGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHByZXYuZmlsdGVyKChkb2MxMSwgaWR4MTEpID0+IGlkeDExICE9PSBjZHBhcnRpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHBhcnR0cmlnZ2VyXSk7XG4gIHJldHVybiAoXG4gICAgPExheW91dFxuICAgICAgc3Q9e3N0fVxuICAgICAgdG9rPXtpbml0UHJvcHN9XG4gICAgICBzaWRlbWVudT17c2lkZW1lbnV9XG4gICAgICBkYXRhUHJvZmlsZT17ZGF0YVByb2ZpbGV9XG4gICAgICBwYXRoQXJyPXtwYXRoQXJyfVxuICAgID5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtYXV0byBncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy00XCJcbiAgICAgICAgaWQ9XCJjcmVhdGVBc3NldHNXcmFwcGVyXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IG1iLThcIj5cbiAgICAgICAgICA8U3RpY2t5IGNvbnRhaW5lclNlbGVjdG9yRm9jdXM9XCIjY3JlYXRlQWdlbnRzV3JhcHBlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tNCBmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTIgcHQtNCBib3JkZXItdC0yIGJvcmRlci1iLTIgYmctd2hpdGVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgcHktMlwiPlxuICAgICAgICAgICAgICAgIEZvcm0gVWJhaCBNb2RlbCAtIHtuZXdkYXRhLm5hbWV9XG4gICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL2FkbWluL21vZGVscy9kZXRhaWwvJHttb2RlbGlkfWB9PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAvKm9uQ2xpY2s9eygpID0+IHsgY29uc29sZS5sb2cobmV3ZGF0YSk7IGNvbnNvbGUubG9nKGZpZWxkZGF0YSk7IGNvbnNvbGUubG9nKGZpZWxkZGF0YTIpOyBjb25zb2xlLmxvZyhkZWZhdWx0ZGF0YSk7IGNvbnNvbGUubG9nKGRlZmF1bHRhc3NldCkgfX0qLyB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2NyZWF0ZX1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aW5zdGFuY2VGb3JtLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1N0aWNreT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5JbmZvcm1hc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICB7cHJhbG9hZGluZyA/IChcbiAgICAgICAgICAgICAgPFNwaW4+PC9TcGluPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPEZvcm1cbiAgICAgICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm19XG4gICAgICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbH1cbiAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWVzPXtuZXdkYXRhfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBc3NldCBUeXBlIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25TdHlsZT17eyBtYXhIZWlnaHQ6IDQwMCwgb3ZlcmZsb3c6IFwiYXV0b1wiIH19XG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEZWZhdWx0RXhwYW5kQWxsXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYS5hbGxDaGVja2VkTm9kZXNbMF0ubm9kZS5wcm9wcy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctMTEvMTIgbXItMlwiPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIiBsYWJlbD1cIk1hbnVmYWN0dXJlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLmlzX2NvbnN1bWFibGV9XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtsb2FkaW5nc3BlYyA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGEyLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8RW1wdHkgaW1hZ2U9e0VtcHR5LlBSRVNFTlRFRF9JTUFHRV9TSU1QTEV9PjwvRW1wdHk+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgZmllbGRkYXRhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdC5pbmRleE9mKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttb21lbnQoZmllbGRkYXRhMltpZHhdLmRlZmF1bHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggIT09IGZpZWxkZGF0YS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2RlZikgPT4gZG9jZGVmLmlkID09PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9jb2x1bW5faWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4VXBkYXRlQ29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jbWFwKSA9PiBkb2NtYXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhVcGRhdGVDb2x1bW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gdGVtcC5hZGRfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZW1wLmFkZF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUoZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7ZmllbGRkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQxW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQxXTtcbiAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQxKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihpZGspICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YVtpZHhdLmRlZmF1bHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPSB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT4gaWR4eCAhPT0gZmllbGRkYXRhMi5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4MShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTEoZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkRmllbGR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgVGFtYmFoIFNwZXNpZmlrYXNpIE1vZGVsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtuZXdkYXRhLmlzX2NvbnN1bWFibGUgPT09IGZhbHNlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi04IGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Lb25maWd1cmFzaSBQYXJ0IE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAgICAgICAgICB7bW9kZWxwYXJ0ZmllbGRkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgcGFuZWwke2lkeH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZG9jLm1vZGVsX2NoaWxkLmxlbmd0aCA9PT0gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHctNi8xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1yLTJcIj57ZG9jLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxUb29sdGlwIHBsYWNlbWVudD1cInJpZ2h0XCIgdGl0bGU9XCJNb2RlbCB0aWRhayBtZW1pbGlraSBwYXJ0IG1vZGVsIVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICA8RXhjbGFtYXRpb25DaXJjbGVPdXRsaW5lZCBzdHlsZT17eyBjb2xvcjogYGJyb3duYCB9fT48L0V4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIE1vZGVsICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGRhcmkgTW9kZWwgUGFydCAke25ld2RhdGEubmFtZX0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZG9jKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHh0ZW1wID0gbW9kZWxwYXJ0ZmllbGRkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NwYXJ0cykgPT4gZG9jcGFydHMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhkb2MuaWQpID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMikgPT4gZG9jMi5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVsc1tpZHhkYXRhXS5xdWFudGl0eSAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnNwbGljZShpZHhkYXRhLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLmluZGV4T2YoZG9jLmlkKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9tb2RlbF9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VDaXJjbGVPdXRsaW5lZCBzdHlsZT17eyBjb2xvcjogYHJlZGAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBc3NldCBUeXBle1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxhc3NldHR5cGVcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYmctZ3JheS0yMDAgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gaC0xMiBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMsIGlkeG1jKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMubmFtZX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoYXJBdCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBteS1hdXRvIHB4LTIgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctd2hpdGUgYm9yZGVyIHctMy8xMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gYmctZ3JheS0xMDAgcm91bmRlZCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjAgcm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfcGFydHMubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVsaW5lIHN0eWxlPXt7IG1hcmdpblRvcDogYDFyZW1gIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyQ2hpbGRQYXJ0TW9kZWwoZG9jLm1vZGVsX3BhcnRzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGltZWxpbmU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZWRpdHBhcnQgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbXktMyBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtNSB0ZXh0LWxnIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRpZG1vZGVsfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2N1cnJlbnRpZG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaGluZ3BhcnQgPyA8U3BpbiBzaXplPVwic21hbGxcIiAvPiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vZ2V0TW9kZWxzP3Jvd3M9MTAmbmFtZT0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICE9PSBcIlwiID8gdmFsdWUgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0bW9kZWxkYXRhKFtdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3A9XCJjaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBhdGF1IGNhcmkgbmFtYSBtb2R1bFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb249eyhpbnB1dCwgb3B0KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25Qb3B1cFNjcm9sbD17KGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmIChldmVudC50YXJnZXQuc2Nyb2xsVG9wICsgZXZlbnQudGFyZ2V0Lm9mZnNldEhlaWdodCA9PT0gZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2V0cGFnZShwcmV2ID0+IHByZXYgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVscz9wYWdlPSR7cGFnZX0mcm93cz0xMGAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLnRoZW4ocmVzMiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5zY3JvbGxUbygwLCBldmVudC50YXJnZXQuc2Nyb2xsSGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICByZXMyLmRhdGEudG8gPj0gcmVzMi5kYXRhLnRvdGFsID8gc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhXSkgOiBzZXRtb2RlbGRhdGEoWy4uLm1vZGVsZGF0YSwgcmVzMi5kYXRhLmRhdGEsIDxTcGluIHNpemU9XCJzbWFsbFwiIC8+XSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttb2RlbGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtkb2MuaWR9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBwdC0yIG15LWF1dG8gaXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2dldG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGxvYWRpbmdnZXRtb2RlbCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7Y3VycmVudGlkbW9kZWx9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcDEgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHJlczIuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm1vZGVsX2NvbHVtbnNcIl0gPSByZXMyLmRhdGFbcHJvcF0ubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWxwYXJ0cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5tb2RlbF9wYXJ0cy5tYXAoKGRvYzIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXAzID0gZG9jMi5tb2RlbF9jb2x1bW5zLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYzMgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiBtYXAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm1vZGVsX3BhcnRzXCJdID0gbW9kZWxwYXJ0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJpZFwiXSA9IHJlczIuZGF0YS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJuYW1lXCJdID0gcmVzMi5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAxID0gWy4uLnRlbXAxLCB0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dmFsdWUocmVzMi5kYXRhLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhMiA9IHRlbXAuYWRkX21vZGVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzMpID0+IGRvYzMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGlkbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeGRhdGEyID09PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY3VycmVudGlkbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZHhkYXRhMiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMubWFwKChkb2MxKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jMS5pZCA9PT0gY3VycmVudGlkbW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMS5xdWFudGl0eSA9IGRvYzEucXVhbnRpdHkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICArIFRhbWJhaCBQYXJ0IE1vZGVsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTW9kZWw8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aW5zdGFuY2VGb3JtMi5zdWJtaXR9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2NyZWF0ZW1vZGVsfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAgdmlzaWJsZT17bW9kYWxjcmVhdGVtb2RlbH1cbiAgICAgICAgZm9vdGVyPXtudWxsfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICB3aWR0aD17OTAwfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBtYi04XCI+XG4gICAgICAgICAgPEZvcm1cbiAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybTJ9XG4gICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWxpbk1vZGVsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBc3NldCBUeXBlIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgZHJvcGRvd25TdHlsZT17eyBtYXhIZWlnaHQ6IDQwMCwgb3ZlcmZsb3c6IFwiYXV0b1wiIH19XG4gICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgIHRyZWVEZWZhdWx0RXhwYW5kQWxsXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYS5hbGxDaGVja2VkTm9kZXNbMF0ubm9kZS5wcm9wcy5pZFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MigwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Gb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgey8qIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdzcGVjMiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYVtpZHhdLnJlcXVpcmVkID8gPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj4gOiBudWxsfSA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj4oe2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCIgPyBcIlNpbmdsZSBUZXh0Ym94XCIgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX0pPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy1mdWxsJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2kgZGliYXdhaCBpbmk8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2NjLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTcgZmxleCBqdXN0aWZ5LWNlbnRlciBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdW1wiZGVmYXVsdFwiXSA9IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fSBkZWZhdWx0VmFsdWU9e2RvY2N9IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9IGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlciBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInBhcmFncmFwaFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYSByb3dzPXs0fSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdW1wiZGVmYXVsdFwiXS5wdXNoKGlkeHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+IHtkb2NjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXIgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBkYXRlU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICB9ICovfVxuICAgICAgICAgIHtsb2FkaW5nc3BlYzIgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhYS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkM1tpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDModGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoZmllbGRkYXRhYVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jeHgsIGlkeHgpID0+IGRvY3h4LmlkICE9PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMyhpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMygocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGFhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MyhpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7ZmllbGRkYXRhYTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDJbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQyXTtcbiAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoZmllbGRkYXRhYTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGQyfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPSB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT4gaWR4eCAhPT0gZmllbGRkYXRhYS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkMi5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkRmllbGQyfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTWFudWZhY3R1cmVyPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkbWFudWZ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTWFudWZhY3R1cmVyfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdtYW51Zn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsbWFudWZ9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICBOYW1hIE1hbnVmYWN0dXJlciA8c3BhbiBjbGFzc05hbWU9XCJuYW1hbWFudVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17ZGF0YW1hbnVmLm5hbWV9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gTmFtYSBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgPyBzZXRkaXNhYmxlZG1hbnVmKHRydWUpXG4gICAgICAgICAgICAgICAgICA6IHNldGRpc2FibGVkbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldGRhdGFtYW51Zih7IG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmFtYW1hbnU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzLCBwYXJhbXMgfSkge1xuICBjb25zdCBtb2RlbGlkID0gcGFyYW1zLm1vZGVsSWQ7XG4gIHZhciBpbml0UHJvcHMgPSB7fTtcbiAgaWYgKCFyZXEuaGVhZGVycy5jb29raWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgY29uc3QgY29va2llc0pTT04xID0gaHR0cGNvb2tpZS5wYXJzZShyZXEuaGVhZGVycy5jb29raWUpO1xuICBpZiAoIWNvb2tpZXNKU09OMS50b2tlbikge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpbml0UHJvcHMgPSBjb29raWVzSlNPTjEudG9rZW47XG4gIGNvbnN0IHJlc291cmNlcyA9IGF3YWl0IGZldGNoKFxuICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9kZXRhaWxQcm9maWxlYCxcbiAgICB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH1cbiAgKTtcbiAgY29uc3QgcmVzanNvbiA9IGF3YWl0IHJlc291cmNlcy5qc29uKCk7XG4gIGNvbnN0IGRhdGFQcm9maWxlID0gcmVzanNvbjtcblxuICByZXR1cm4ge1xuICAgIHByb3BzOiB7XG4gICAgICBpbml0UHJvcHMsXG4gICAgICBkYXRhUHJvZmlsZSxcbiAgICAgIHNpZGVtZW51OiBcIjgyXCIsXG4gICAgICBtb2RlbGlkLFxuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGVsc1VwZGF0ZTI7XG4iXX0= */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n          }, void 0, false, void 0, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, _this);\n  }; //2.useState\n\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({\n    id: \"\",\n    asset_id: \"\",\n    name: \"\",\n    description: \"\",\n    manufacturer_id: null,\n    required_sn: false,\n    is_consumable: false,\n    model_columns: [],\n    model_parts: [],\n    add_columns: [],\n    delete_column_ids: [],\n    update_columns: [],\n    add_models: [],\n    delete_model_ids: []\n  }),\n      newdata = _useState[0],\n      setnewdata = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({\n    id: \"\",\n    asset_id: \"\",\n    name: \"\",\n    description: \"\",\n    manufacturer_id: \"\",\n    required_sn: false,\n    is_consumable: false,\n    model_columns: [],\n    model_parts: [],\n    add_columns: [],\n    delete_column_ids: [],\n    update_columns: [],\n    add_models: [],\n    delete_model_ids: []\n  }),\n      newdata2 = _useState2[0],\n      setnewdata2 = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      defaultdata = _useState3[0],\n      setdefaultdata = _useState3[1];\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      assetdata = _useState4[0],\n      setassetdata = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      manufdata = _useState5[0],\n      setmanufdata = _useState5[1];\n\n  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      modeldata = _useState6[0],\n      setmodeldata = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      fielddata = _useState7[0],\n      setfielddata = _useState7[1];\n\n  var _useState8 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      fielddata2 = _useState8[0],\n      setfielddata2 = _useState8[1];\n\n  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      fielddataa = _useState9[0],\n      setfielddataa = _useState9[1];\n\n  var _useState10 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      fielddataa2 = _useState10[0],\n      setfielddataa2 = _useState10[1];\n\n  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      modelpartfielddata = _useState11[0],\n      setmodelpartfielddata = _useState11[1];\n\n  var _useState12 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({\n    name: \"\",\n    data_type: \"\",\n    \"default\": \"single\",\n    required: false\n  }),\n      currentfield = _useState12[0],\n      setcurrentfield = _useState12[1];\n\n  var _useState13 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({\n    name: \"\",\n    data_type: \"\",\n    \"default\": \"single\",\n    required: false\n  }),\n      currentfield2 = _useState13[0],\n      setcurrentfield2 = _useState13[1];\n\n  var _useState14 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      currentidmodel = _useState14[0],\n      setcurrentidmodel = _useState14[1];\n\n  var _useState15 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      addedfield = _useState15[0],\n      setaddedfield = _useState15[1];\n\n  var _useState16 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      addedfield1 = _useState16[0],\n      setaddedfield1 = _useState16[1];\n\n  var _useState17 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      addedfield2 = _useState17[0],\n      setaddedfield2 = _useState17[1];\n\n  var _useState18 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      addedfield3 = _useState18[0],\n      setaddedfield3 = _useState18[1];\n\n  var _useState19 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      addedfieldidx = _useState19[0],\n      setaddedfieldidx = _useState19[1];\n\n  var _useState20 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      addedfieldtrigger = _useState20[0],\n      setaddedfieldtrigger = _useState20[1];\n\n  var _useState21 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      addedfieldidx1 = _useState21[0],\n      setaddedfieldidx1 = _useState21[1];\n\n  var _useState22 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      addedfieldtrigger1 = _useState22[0],\n      setaddedfieldtrigger1 = _useState22[1];\n\n  var _useState23 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      addedfieldidx2 = _useState23[0],\n      setaddedfieldidx2 = _useState23[1];\n\n  var _useState24 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      addedfieldtrigger2 = _useState24[0],\n      setaddedfieldtrigger2 = _useState24[1];\n\n  var _useState25 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      addedfieldidx3 = _useState25[0],\n      setaddedfieldidx3 = _useState25[1];\n\n  var _useState26 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      addedfieldtrigger3 = _useState26[0],\n      setaddedfieldtrigger3 = _useState26[1];\n\n  var _useState27 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadingcreate = _useState27[0],\n      setloadingcreate = _useState27[1];\n\n  var _useState28 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadingcreatemodel = _useState28[0],\n      setloadingcreatemodel = _useState28[1];\n\n  var _useState29 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadinggetmodel = _useState29[0],\n      setloadinggetmodel = _useState29[1];\n\n  var _useState30 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(true),\n      praloading = _useState30[0],\n      setpraloading = _useState30[1];\n\n  var _useState31 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadingspec = _useState31[0],\n      setloadingspec = _useState31[1];\n\n  var _useState32 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadingspec2 = _useState32[0],\n      setloadingspec2 = _useState32[1];\n\n  var _useState33 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([\"\", \"\"]),\n      currentdropdown2 = _useState33[0],\n      setcurrentdropdown2 = _useState33[1];\n\n  var _useState34 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([\"\", \"\"]),\n      currentdropdownn2 = _useState34[0],\n      setcurrentdropdownn2 = _useState34[1];\n\n  var _useState35 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      currentcheckeddropdown2 = _useState35[0],\n      setcurrentcheckeddropdown2 = _useState35[1];\n\n  var _useState36 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      currentcheckeddropdownn2 = _useState36[0],\n      setcurrentcheckeddropdownn2 = _useState36[1];\n\n  var _useState37 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      valuedropdowntrigger = _useState37[0],\n      setvaluedropdowntrigger = _useState37[1];\n\n  var _useState38 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      valuedropdowntrigger1 = _useState38[0],\n      setvaluedropdowntrigger1 = _useState38[1];\n\n  var _useState39 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      valuedropdowntrigger2 = _useState39[0],\n      setvaluedropdowntrigger2 = _useState39[1];\n\n  var _useState40 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      valuedropdowntrigger3 = _useState40[0],\n      setvaluedropdowntrigger3 = _useState40[1];\n\n  var _useState41 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      idxdropdowntrigger = _useState41[0],\n      setidxdropdowntrigger = _useState41[1];\n\n  var _useState42 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      idxdropdowntrigger1 = _useState42[0],\n      setidxdropdowntrigger1 = _useState42[1];\n\n  var _useState43 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      idxdropdowntrigger2 = _useState43[0],\n      setidxdropdowntrigger2 = _useState43[1];\n\n  var _useState44 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      idxdropdowntrigger3 = _useState44[0],\n      setidxdropdowntrigger3 = _useState44[1];\n\n  var _useState45 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      concatfieldtrigger = _useState45[0],\n      setconcatfieldtrigger = _useState45[1];\n\n  var _useState46 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      concataddcolumnstrigger = _useState46[0],\n      setconcataddcolumnstrigger = _useState46[1];\n\n  var _useState47 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      concataddcolumnsidx = _useState47[0],\n      setconcataddcolumnsidx = _useState47[1];\n\n  var _useState48 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      concataddcolumnsvalue = _useState48[0],\n      setconcataddcolumnsvalue = _useState48[1];\n\n  var _useState49 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      concataddcolumnstrigger1 = _useState49[0],\n      setconcataddcolumnstrigger1 = _useState49[1];\n\n  var _useState50 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      concataddcolumnsidx1 = _useState50[0],\n      setconcataddcolumnsidx1 = _useState50[1];\n\n  var _useState51 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      concataddcolumnsvalue1 = _useState51[0],\n      setconcataddcolumnsvalue1 = _useState51[1];\n\n  var _useState52 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      concatfieldtrigger2 = _useState52[0],\n      setconcatfieldtrigger2 = _useState52[1];\n\n  var _useState53 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      editpart = _useState53[0],\n      seteditpart = _useState53[1];\n\n  var _useState54 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      modalcreatemodel = _useState54[0],\n      setmodalcreatemodel = _useState54[1];\n\n  var _useState55 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      newdatatrigger = _useState55[0],\n      setnewdatatrigger = _useState55[1];\n\n  var _useState56 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      newdatatrigger2 = _useState56[0],\n      setnewdatatrigger2 = _useState56[1];\n\n  var _useState57 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      modeltrigger = _useState57[0],\n      setmodeltrigger = _useState57[1];\n\n  var _useState58 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      concatparttrigger = _useState58[0],\n      setconcatparttrigger = _useState58[1];\n\n  var _useState59 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      concatpartvalue = _useState59[0],\n      setconcatpartvalue = _useState59[1];\n\n  var _useState60 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      assettypecode = _useState60[0],\n      setassettypecode = _useState60[1];\n\n  var _useState61 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      assettypecode2 = _useState61[0],\n      setassettypecode2 = _useState61[1];\n\n  var _useState62 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({}),\n      defaultmodel = _useState62[0],\n      setdefaultmodel = _useState62[1];\n\n  var _useState63 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      disabledtambah = _useState63[0],\n      setdisabledtambah = _useState63[1];\n\n  var _useState64 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      disabledtambah2 = _useState64[0],\n      setdisabledtambah2 = _useState64[1];\n\n  var _useState65 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      disabledaddfield = _useState65[0],\n      setdisabledaddfield = _useState65[1];\n\n  var _useState66 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      disabledaddfield2 = _useState66[0],\n      setdisabledaddfield2 = _useState66[1];\n\n  var _useState67 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      pointevent = _useState67[0],\n      setpointevent = _useState67[1];\n\n  var _useState68 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(\"\"),\n      pointevent2 = _useState68[0],\n      setpointevent2 = _useState68[1];\n\n  var _useState69 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([\"\", \"\"]),\n      cd2 = _useState69[0],\n      setcd2 = _useState69[1];\n\n  var _useState70 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      cdidx = _useState70[0],\n      setcdidx = _useState70[1];\n\n  var _useState71 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      cdtrigger = _useState71[0],\n      setcdtrigger = _useState71[1];\n\n  var _useState72 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([\"\", \"\"]),\n      cd2part = _useState72[0],\n      setcd2part = _useState72[1];\n\n  var _useState73 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      cdpartidx = _useState73[0],\n      setcdpartidx = _useState73[1];\n\n  var _useState74 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      cdparttrigger = _useState74[0],\n      setcdparttrigger = _useState74[1];\n\n  var _useState75 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      changeasset = _useState75[0],\n      setchangeasset = _useState75[1];\n\n  var _useState76 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])([]),\n      defaultasset = _useState76[0],\n      setdefaultasset = _useState76[1];\n\n  var _useState77 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      fetchingpart = _useState77[0],\n      setfetchingpart = _useState77[1];\n\n  var _useState78 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(1),\n      page = _useState78[0],\n      setpage = _useState78[1]; //create manufacturer\n\n\n  var _useState79 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      modalmanuf = _useState79[0],\n      setmodalmanuf = _useState79[1];\n\n  var _useState80 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(false),\n      loadingmanuf = _useState80[0],\n      setloadingmanuf = _useState80[1];\n\n  var _useState81 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(true),\n      disabledmanuf = _useState81[0],\n      setdisabledmanuf = _useState81[1];\n\n  var _useState82 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])(-1),\n      triggermanuf = _useState82[0],\n      settriggermanuf = _useState82[1];\n\n  var _useState83 = Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useState\"])({\n    name: \"\"\n  }),\n      datamanuf = _useState83[0],\n      setdatamanuf = _useState83[1]; //3.onChange\n\n\n  var onClickAddField = function onClickAddField() {\n    setfielddata([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(fielddata), [{\n      name: \"\",\n      data_type: \"\",\n      \"default\": \"\",\n      required: false\n    }]));\n    setcurrentfield({\n      name: \"\",\n      data_type: \"\",\n      \"default\": \"\",\n      required: false\n    });\n    setaddedfield1([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(addedfield1), [false]));\n    setcurrentdropdown2([\"\", \"\"]);\n    setcd2([\"\", \"\"]);\n    setcurrentcheckeddropdown2([]);\n    setdisabledaddfield(true);\n    setdisabledtambah(true);\n    setpointevent(\"pointer-events-none\");\n  };\n\n  var onClickAddField2 = function onClickAddField2() {\n    setfielddataa2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(fielddataa2), [{\n      name: \"\",\n      data_type: \"\",\n      \"default\": \"\",\n      required: false\n    }]));\n    setcurrentfield2({\n      name: \"\",\n      data_type: \"\",\n      \"default\": \"\",\n      required: false\n    });\n    setcurrentdropdownn2([\"\", \"\"]);\n    setcd2part([\"\", \"\"]);\n    setcurrentcheckeddropdownn2([]);\n    setdisabledaddfield2(true);\n    setdisabledtambah2(true);\n    setpointevent2(\"pointer-events-none\");\n  };\n\n  var onClickSelectAsset = function onClickSelectAsset(id) {\n    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n      asset_id: Number(id)\n    }));\n    setloadingspec(true);\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getAsset?id=\").concat(id), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      var temp = [];\n\n      if (res2.success) {\n        temp = res2.data.asset_columns.map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": doc[\"default\"] === \"\" || doc[\"default\"] === \"-\" ? doc[\"default\"] : JSON.parse(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n        var defaultassetid = defaultasset.map(function (docmap) {\n          return docmap.id;\n        });\n        var newassetfielddata2 = newdata.model_columns.filter(function (docfilter) {\n          return defaultassetid.includes(docfilter.id);\n        }).concat(temp);\n        var newfieldmap = newdata.model_columns.filter(function (docnewfield) {\n          return typeof docnewfield.id === \"undefined\";\n        });\n        setfielddata2(function (prev) {\n          var tempo = prev;\n          tempo = tempo.filter(function (docfilter) {\n            return defaultassetid.includes(docfilter.id);\n          }).concat(temp);\n          return tempo;\n        });\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          id: defaultmodel.id,\n          name: defaultmodel.name,\n          description: defaultmodel.description,\n          model_columns: newassetfielddata2.concat(newfieldmap),\n          add_columns: temp.concat(newfieldmap),\n          required_sn: res2.data.required_sn\n        }));\n        setdefaultdata(_objectSpread(_objectSpread({}, defaultdata), {}, {\n          id: defaultmodel.id,\n          name: defaultmodel.name,\n          description: defaultmodel.description,\n          manufacturer_id: defaultmodel.manufacturer_id,\n          count: defaultmodel.count,\n          asset: {\n            id: res2.data.id,\n            name: res2.data.name,\n            code: res2.data.code,\n            description: res2.data.description\n          },\n          manufacturer: {\n            id: defaultmodel.manufacturer.id,\n            name: defaultmodel.manufacturer.name\n          },\n          asset_id: Number(id),\n          model_columns: defaultasset,\n          add_columns: [],\n          update_columns: [],\n          delete_column_ids: [],\n          add_models: [],\n          delete_model_ids: [],\n          required_sn: res2.data.required_sn\n        }));\n        var arr = [];\n\n        for (var i = 0; i < newassetfielddata2.length; i++) {\n          arr.push(true);\n        }\n\n        setchangeasset(temp);\n        setaddedfield(arr);\n        setloadingspec(false);\n        setdisabledaddfield(false);\n\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"info\"]({\n          message: \"Anda Telah Mengubah Asset Type\",\n          description: \"Hal ini membuat field dari asset type terkait terbentuk di form ini!\",\n          duration: 0\n        });\n      } else {\n        temp = []; // setfielddata2(temp)\n\n        var _newfieldmap = newdata.model_columns.filter(function (docnewfield) {\n          return typeof docnewfield.id === \"undefined\";\n        });\n\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          model_columns: newdata.model_columns.concat(_newfieldmap),\n          required_sn: false,\n          asset_id: 0\n        }));\n        setloadingspec(false);\n        setdisabledaddfield(true);\n      }\n    });\n  };\n\n  var onClickSelectAsset2 = function onClickSelectAsset2(id) {\n    setloadingspec2(true);\n    setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n      asset_id: Number(id)\n    }));\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getAsset?id=\").concat(id), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      var temp = [];\n\n      if (res2.success) {\n        temp = res2.data.asset_columns.map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": JSON.parse(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n        var bool = [];\n\n        for (var i = 0; i < temp.length; i++) {\n          bool.push(true);\n        }\n\n        setaddedfield3(bool);\n        setfielddataa(temp);\n        var newfieldmap = newdata2.model_columns.filter(function (docnewfield) {\n          return typeof docnewfield.id === \"undefined\";\n        });\n        setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n          required_sn: res2.data.required_sn,\n          asset_id: res2.data.code,\n          model_columns: temp.concat(newfieldmap)\n        }));\n        setassettypecode2(res2.data.id); // setnewdatatrigger2(prev => !prev)\n\n        setloadingspec2(false);\n        setdisabledaddfield2(false);\n      } else {\n        temp = [];\n\n        var _newfieldmap2 = newdata2.model_columns.filter(function (docnewfield) {\n          return typeof docnewfield.id === \"undefined\";\n        });\n\n        setfielddataa(temp);\n        setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n          model_columns: temp.concat(_newfieldmap2),\n          required_sn: false,\n          asset_id: 0\n        }));\n        setloadingspec2(false);\n      }\n    });\n  }; //4.handle\n\n\n  var handleCreateModel = function handleCreateModel() {\n    var t = {};\n\n    for (var prop in newdata) {\n      if (prop === \"model_columns\") {\n        t[prop] = newdata[prop].map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": JSON.stringify(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n      } else if (prop === \"update_columns\") {\n        t[prop] = newdata[prop].map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": JSON.stringify(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n      } else if (prop === \"add_columns\") {\n        t[prop] = newdata[prop].map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": JSON.stringify(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n      } else if (prop === \"asset_id\") {\n        t[prop] = Number(assettypecode);\n      } else {\n        t[prop] = newdata[prop];\n      }\n    }\n\n    setloadingcreate(true);\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/updateModel\"), {\n      method: \"PUT\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(t)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setloadingcreate(false);\n\n      if (res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"success\"]({\n          message: \"Model berhasil diubah\",\n          duration: 3\n        });\n\n        setTimeout(function () {\n          setmodalcreatemodel(false);\n          rt.push(\"/admin/models/detail/\".concat(modelid));\n        }, 500);\n      } else if (!res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  var handleCreateModelinModel = function handleCreateModelinModel() {\n    var t = {};\n\n    for (var prop in newdata2) {\n      if (prop === \"model_columns\") {\n        t[prop] = newdata2[prop].map(function (doc, idx) {\n          if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n            return _objectSpread(_objectSpread({}, doc), {}, {\n              \"default\": JSON.stringify(doc[\"default\"])\n            });\n          } else {\n            return _objectSpread({}, doc);\n          }\n        });\n      } else if (prop === \"asset_id\") [t[prop] = Number(assettypecode2)];else {\n        t[prop] = newdata2[prop];\n      }\n    }\n\n    setloadingcreatemodel(true);\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/addModel\"), {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(t)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setloadingcreatemodel(false);\n\n      if (res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"success\"]({\n          message: \"Model berhasil ditambahkan\",\n          duration: 3\n        });\n\n        setnewdata2({\n          asset_id: \"\",\n          name: \"\",\n          description: \"\",\n          manufacturer_id: \"\",\n          required_sn: false,\n          is_consumable: false,\n          model_columns: [],\n          model_parts: []\n        });\n        setmodalcreatemodel(false);\n        seteditpart(false);\n        setmodeltrigger(res2.id);\n      } else if (!res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  };\n\n  var handleAddManufacturer = function handleAddManufacturer() {\n    setloadingmanuf(true);\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/addManufacturer\"), {\n      method: \"POST\",\n      headers: {\n        Authorization: JSON.parse(initProps),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(datamanuf)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setloadingmanuf(false);\n      setmodalmanuf(false);\n\n      if (res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"success\"]({\n          message: \"Manufacturer berhasil ditambahkan\",\n          duration: 2\n        });\n\n        setdatamanuf(_objectSpread(_objectSpread({}, datamanuf), {}, {\n          name: \"\"\n        }));\n        settriggermanuf(function (prev) {\n          return prev + 1;\n        });\n      } else if (!res2.success) {\n        antd_lib_notification__WEBPACK_IMPORTED_MODULE_8___default.a[\"error\"]({\n          message: res2.message,\n          duration: 3\n        });\n      }\n    });\n  }; //5.useEffect\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getAssets\"), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setassetdata(res2.data);\n    });\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getManufacturers\"), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      var data = res2.data;\n      setmanufdata(data);\n      /** Set new inserted manufacturer as default selected option in the \"Manufacturer\" dropdown */\n\n      if (triggermanuf > -1) {\n        var latestInsertedManufacturer = data[data.length - 1];\n        var newManufacturerId = latestInsertedManufacturer.id;\n        /** Form control value */\n\n        instanceForm.setFieldsValue({\n          manufacturer_id: newManufacturerId\n        });\n        /** It's necessary to update this state. This state will be used as a payload to the backend */\n\n        setnewdata(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            manufacturer_id: newManufacturerId\n          });\n        });\n      }\n    });\n  }, [triggermanuf]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getModel?id=\").concat(modelid), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      var temp = res2.data.model_columns.map(function (doc, idx) {\n        if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n          return _objectSpread(_objectSpread({}, doc), {}, {\n            \"default\": doc[\"default\"] === \"\" || doc[\"default\"] === \"-\" ? doc[\"default\"] : JSON.parse(doc[\"default\"])\n          });\n        } else {\n          return _objectSpread({}, doc);\n        }\n      }); //model_parts\n\n      var recursivePartModel = function recursivePartModel(item) {\n        var temp11 = [];\n\n        for (var i = 0; i < item.length; i++) {\n          var temp1 = {};\n          temp1 = item[i].model_columns.map(function (doc, idx) {\n            if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n              return _objectSpread(_objectSpread({}, doc), {}, {\n                \"default\": doc[\"default\"] === \"\" || doc[\"default\"] === \"-\" ? doc[\"default\"] : JSON.parse(doc[\"default\"])\n              });\n            } else {\n              return _objectSpread({}, doc);\n            }\n          });\n          temp11.push(_objectSpread(_objectSpread({}, item[i]), {}, {\n            model_columns: temp1,\n            model_parts: item[i].model_parts.length > 0 ? recursivePartModel(item[i].model_parts) : []\n          }));\n        }\n\n        return temp11;\n      };\n\n      var yo = recursivePartModel(res2.data.model_parts);\n\n      var temp2 = _objectSpread(_objectSpread({}, res2.data), {}, {\n        asset_id: res2.data.asset.code,\n        model_columns: temp,\n        add_columns: [],\n        update_columns: [],\n        delete_column_ids: [],\n        add_models: [],\n        delete_model_ids: []\n      });\n\n      setnewdata(temp2);\n      setdefaultdata(temp2);\n      setdefaultasset(temp);\n      setdefaultmodel(temp2);\n      setfielddata2(temp);\n      setmodelpartfielddata(yo);\n      var arr = [];\n\n      for (var i = 0; i < res2.data.model_columns.length; i++) {\n        arr.push(true);\n      }\n\n      setaddedfield(arr);\n      setassettypecode(res2.data.asset_id);\n      setpraloading(false);\n    });\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getModels\"), {\n      method: \"GET\",\n      headers: {\n        Authorization: JSON.parse(initProps)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res2) {\n      setmodeldata(res2.data.data);\n      setcurrentidmodel(modeltrigger);\n      modeltrigger !== false ? seteditpart(true) : null;\n    });\n  }, [modeltrigger]); //checkbox dropdown dari model utama yang field asset\n\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (idxdropdowntrigger !== -1) {\n      setfielddata2(function (prev) {\n        var temp = prev;\n        temp[idxdropdowntrigger][\"default\"] = {\n          \"default\": currentcheckeddropdown2,\n          opsi: currentdropdown2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger]); //checkbox dropdown dari model utama yang field buat sendiri\n\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (idxdropdowntrigger1 !== -1) {\n      setfielddata(function (prev) {\n        var temp = prev; // temp[idxdropdowntrigger][\"default\"] = `${valuedropdowntrigger}`\n\n        temp[idxdropdowntrigger1][\"default\"] = {\n          \"default\": currentcheckeddropdown2,\n          opsi: currentdropdown2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger1]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n      model_columns: fielddata2.concat(fielddata)\n    }));\n  }, [concatfieldtrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (concataddcolumnsidx !== -1) {\n      if (changeasset.some(function (docsome) {\n        return docsome.id === concataddcolumnsvalue.id;\n      }) || typeof concataddcolumnsvalue.id === \"undefined\") {\n        // if ((fielddata2.length - defaultdata.model_columns.length) >= newdata.add_columns.length) {\n        if (newdata.add_columns.map(function (docadd) {\n          return docadd.name;\n        }).indexOf(currentfield.name) === -1) {\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns.push(fielddata2[fielddata2.length - 1]);\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns.push(currentfield);\n              return temp;\n            });\n          }\n        } else {\n          var idxaddcolumn = newdata.add_columns.map(function (docadd2) {\n            return docadd2.name;\n          }).indexOf(currentfield.name); // console.log(newdata.asset_columns.length+\":\"+concataddcolumnsidx+\";\"+newdata.add_columns.length)\n\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns[idxaddcolumn] = {\n                name: currentfield.name,\n                data_type: currentfield.data_type,\n                \"default\": {\n                  \"default\": currentcheckeddropdown2,\n                  opsi: currentdropdown2\n                },\n                required: currentfield.required\n              };\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns[idxaddcolumn] = currentfield;\n              return temp;\n            });\n          }\n        }\n      } else {\n        // console.log(fielddata2[concataddcolumnsidx])\n        if (newdata.update_columns.map(function (docup) {\n          return docup.id;\n        }).indexOf(currentfield.id) === -1) {\n          setnewdata(function (prev) {\n            var temp = prev;\n            temp.update_columns.push(fielddata2[concataddcolumnsidx]);\n            return temp;\n          });\n        } else {\n          var idxupcolumn = newdata.update_columns.map(function (docadd2) {\n            return docadd2.id;\n          }).indexOf(currentfield.id);\n\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.update_columns[idxupcolumn] = {\n                id: currentfield.id,\n                model_id: currentfield.model_id,\n                name: currentfield.name,\n                data_type: currentfield.data_type,\n                \"default\": {\n                  \"default\": currentcheckeddropdown2,\n                  opsi: currentdropdown2\n                },\n                required: currentfield.required\n              };\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.update_columns[idxupcolumn] = currentfield;\n              return temp;\n            });\n          }\n        }\n      }\n    }\n  }, [concataddcolumnstrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (concataddcolumnsidx1 !== -1) {\n      if (concataddcolumnsidx1 > defaultdata.model_columns.length - 1 || typeof concataddcolumnsvalue1.id === \"undefined\" || changeasset === true) {\n        // if ((fielddata2.length - defaultdata.model_columns.length) >= newdata.add_columns.length) {\n        if (newdata.add_columns.map(function (docadd) {\n          return docadd.name;\n        }).indexOf(currentfield.name) === -1) {\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns.push(fielddata[fielddata.length - 1]);\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns.push(currentfield);\n              return temp;\n            });\n          }\n        } else {\n          var idxaddcolumn = newdata.add_columns.map(function (docadd2) {\n            return docadd2.name;\n          }).indexOf(currentfield.name); // console.log(newdata.asset_columns.length+\":\"+concataddcolumnsidx+\";\"+newdata.add_columns.length)\n\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns[idxaddcolumn] = {\n                name: currentfield.name,\n                data_type: currentfield.data_type,\n                \"default\": {\n                  \"default\": currentcheckeddropdown2,\n                  opsi: currentdropdown2\n                },\n                required: currentfield.required\n              };\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.add_columns[idxaddcolumn] = currentfield;\n              return temp;\n            });\n          }\n        }\n      } else {\n        // console.log(fielddata2[concataddcolumnsidx])\n        if (newdata.update_columns.map(function (docup) {\n          return docup.id;\n        }).indexOf(currentfield.id) === -1) {\n          setnewdata(function (prev) {\n            var temp = prev;\n            temp.update_columns.push(fielddata[concataddcolumnsidx1]);\n            return temp;\n          });\n        } else {\n          var idxupcolumn = newdata.update_columns.map(function (docadd2) {\n            return docadd2.id;\n          }).indexOf(currentfield.id);\n\n          if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.update_columns[idxupcolumn] = {\n                id: currentfield.id,\n                model_id: currentfield.model_id,\n                name: currentfield.name,\n                data_type: currentfield.data_type,\n                \"default\": {\n                  \"default\": currentcheckeddropdown2,\n                  opsi: currentdropdown2\n                },\n                required: currentfield.required\n              };\n              return temp;\n            });\n          } else {\n            setnewdata(function (prev) {\n              var temp = prev;\n              temp.update_columns[idxupcolumn] = currentfield;\n              return temp;\n            });\n          }\n        }\n      }\n    }\n  }, [concataddcolumnstrigger1]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (addedfieldidx !== -1) {\n      setaddedfield(function (prev) {\n        if (prev[addedfieldidx] === false) {\n          prev[addedfieldidx] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx] === \"undefined\") {\n          var temp2 = [].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(prev), [true]);\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (addedfieldidx1 !== -1) {\n      setaddedfield1(function (prev) {\n        if (prev[addedfieldidx1] === false) {\n          prev[addedfieldidx1] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx1] === \"undefined\") {\n          var temp2 = [].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(prev), [true]);\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger1]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (addedfieldidx3 !== -1) {\n      setaddedfield3(function (prev) {\n        if (prev[addedfieldidx3] === false) {\n          prev[addedfieldidx3] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx3] === \"undefined\") {\n          var temp2 = [].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(prev), [true]);\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger3]); //checkbox dropdown dari model baru yang field asset\n\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (idxdropdowntrigger3 !== -1) {\n      setfielddataa(function (prev) {\n        var temp = prev; // temp[idxdropdowntrigger][\"default\"] = `${valuedropdowntrigger}`\n\n        temp[idxdropdowntrigger3][\"default\"] = {\n          \"default\": currentcheckeddropdownn2,\n          opsi: currentdropdownn2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger3]); //checkbox dropdown dari model baru yang field buat sendiri\n\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (idxdropdowntrigger2 !== -1) {\n      setfielddataa2(function (prev) {\n        var temp = prev;\n        temp[idxdropdowntrigger2][\"default\"] = {\n          \"default\": currentcheckeddropdownn2,\n          opsi: currentdropdownn2\n        };\n        return temp;\n      });\n    }\n  }, [valuedropdowntrigger2]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n      model_columns: fielddataa.concat(fielddataa2)\n    }));\n  }, [concatfieldtrigger2]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (addedfieldidx2 !== -1) {\n      setaddedfield2(function (prev) {\n        if (prev[addedfieldidx2] === false) {\n          prev[addedfieldidx2] = true;\n          return prev;\n        } else if (typeof prev[addedfieldidx2] === \"undefined\") {\n          var temp2 = [].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(prev), [true]);\n          return temp2;\n        }\n      });\n    }\n  }, [addedfieldtrigger2]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n      model_columns: fielddata\n    }));\n  }, [newdatatrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n      model_columns: fielddataa\n    }));\n  }, [newdatatrigger2]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    var temp = [];\n\n    if (concatpartvalue !== -1) {\n      if (concatpartvalue.length === 0) {\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          model_parts: []\n        }));\n      } else {\n        concatpartvalue.map(function (doc, idx) {\n          var idxtemp = temp.map(function (doc) {\n            return doc.id;\n          }).indexOf(doc.id);\n\n          if (idxtemp !== -1 && temp[idxtemp][\"id\"] === doc.id) {\n            var idxof = temp.map(function (doc) {\n              return doc.id;\n            }).indexOf(doc.id);\n            temp[idxof] = _objectSpread(_objectSpread({}, temp[idxof]), {}, {\n              quantity: temp[idxof].quantity + doc.quantity\n            });\n          } else if (idxtemp === -1) {\n            temp.push({\n              id: doc.id,\n              quantity: doc.quantity\n            });\n          }\n        });\n        setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n          add_models: temp\n        }));\n      }\n    }\n  }, [concatparttrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (cdidx !== -1) {\n      setcurrentdropdown2(function (prev) {\n        return cd2.filter(function (doc10, idx10) {\n          return idx10 !== cdidx;\n        });\n      });\n      setcd2(function (prev) {\n        return prev.filter(function (doc11, idx11) {\n          return idx11 !== cdidx;\n        });\n      });\n    }\n  }, [cdtrigger]);\n  Object(react__WEBPACK_IMPORTED_MODULE_24__[\"useEffect\"])(function () {\n    if (cdpartidx !== -1) {\n      setcurrentdropdownn2(function (prev) {\n        return cd2part.filter(function (doc10, idx10) {\n          return idx10 !== cdpartidx;\n        });\n      });\n      setcd2part(function (prev) {\n        return prev.filter(function (doc11, idx11) {\n          return idx11 !== cdpartidx;\n        });\n      });\n    }\n  }, [cdparttrigger]);\n  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_components_layout_dashboard__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    st: _components_layout_dashboard_module_css__WEBPACK_IMPORTED_MODULE_27___default.a,\n    tok: initProps,\n    sidemenu: sidemenu,\n    dataProfile: dataProfile,\n    pathArr: pathArr,\n    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n      className: \"w-full h-auto grid grid-cols-1 md:grid-cols-4\",\n      id: \"createAssetsWrapper\",\n      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \" col-span-1 md:col-span-4 mb-8\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(wil_react_sticky__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n          containerSelectorFocus: \"#createAgentsWrapper\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n            className: \" col-span-4 flex justify-between p-2 pt-4 border-t-2 border-b-2 bg-white\",\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n              className: \"font-semibold py-2\",\n              children: [\"Form Ubah Model - \", newdata.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1203,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(next_link__WEBPACK_IMPORTED_MODULE_22___default.a, {\n                href: \"/admin/models/detail/\".concat(modelid),\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                  /*onClick={() => { console.log(newdata); console.log(fielddata); console.log(fielddata2); console.log(defaultdata); console.log(defaultasset) }}*/\n                  type: \"default\",\n                  children: \"Batal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1208,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1207,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                type: \"primary\",\n                loading: loadingcreate,\n                disabled: disabledaddfield,\n                onClick: instanceForm.submit,\n                children: \"Simpan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1214,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1206,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1202,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1201,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1200,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \"col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Informasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1228,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1227,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"shadow-md border p-8 flex flex-col rounded-md\",\n          children: praloading ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_6___default.a, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1232,\n            columnNumber: 15\n          }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n            form: instanceForm,\n            layout: \"vertical\",\n            onFinish: handleCreateModel,\n            initialValues: newdata,\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                name: \"asset_id\",\n                label: \"Asset Type\",\n                rules: [{\n                  required: true,\n                  message: \"Asset Type wajib diisi\"\n                }],\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_5___default.a, {\n                  style: {\n                    marginRight: \"1rem\"\n                  },\n                  dropdownStyle: {\n                    maxHeight: 400,\n                    overflow: \"auto\"\n                  },\n                  treeData: assetdata,\n                  placeholder: \"Pilih Asset Type\",\n                  treeDefaultExpandAll: true,\n                  onChange: function onChange(value, label, extra) {\n                    if (typeof value !== \"undefined\") {\n                      onClickSelectAsset(extra.allCheckedNodes[0].node.props.id);\n                    } else {\n                      onClickSelectAsset(0);\n                    }\n                  },\n                  allowClear: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1251,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1241,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                name: \"name\",\n                label: \"Nama Model\",\n                rules: [{\n                  required: true,\n                  message: \"Nama Model wajib diisi\"\n                }],\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                  name: \"name\",\n                  onChange: function onChange(e) {\n                    setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                      name: e.target.value\n                    }));\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1279,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1269,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1240,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"flex mb-2\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \" w-11/12 mr-2\",\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                  name: \"manufacturer_id\",\n                  label: \"Manufacturer\",\n                  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                    placeholder: \"Pilih Manufacturer\",\n                    onChange: function onChange(value) {\n                      setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                        manufacturer_id: value\n                      }));\n                    },\n                    children: manufdata.map(function (doc, idx) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: doc.id,\n                        children: doc.name\n                      }, idx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1298,\n                        columnNumber: 29\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1290,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1289,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1288,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"w-1/12 flex pt-2 my-auto items-center justify-center cursor-pointer\",\n                onClick: function onClick() {\n                  setmodalmanuf(true);\n                },\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"PlusSquareTwoTone\"], {\n                  style: {\n                    fontSize: \"1.5rem\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1312,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1306,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1287,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n              name: \"description\",\n              label: \"Deskripsi\",\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n                rows: 4,\n                name: \"description\",\n                onChange: function onChange(e) {\n                  setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                    description: e.target.value\n                  }));\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1316,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1315,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"flex mb-5\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                style: {\n                  marginRight: \"0.5rem\"\n                },\n                onChange: function onChange(e) {\n                  setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                    required_sn: e.target.checked\n                  }));\n                },\n                checked: newdata.required_sn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1325,\n                columnNumber: 19\n              }, _this), \" \", \"Serial Number wajib ada\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1324,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"flex\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                style: {\n                  marginRight: \"0.5rem\"\n                },\n                onChange: function onChange(e) {\n                  setnewdata(_objectSpread(_objectSpread({}, newdata), {}, {\n                    is_consumable: e.target.checked\n                  }));\n                },\n                checked: newdata.is_consumable\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1335,\n                columnNumber: 19\n              }, _this), \" \", \"Model Consumable dengan satuan jumlah\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1334,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1234,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1230,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1226,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \" col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1353,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1352,\n          columnNumber: 11\n        }, _this), loadingspec ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_6___default.a, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1356,\n          columnNumber: 13\n        }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n          children: fielddata2.length === 0 ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_empty__WEBPACK_IMPORTED_MODULE_3___default.a, {\n            image: antd_lib_empty__WEBPACK_IMPORTED_MODULE_3___default.a.PRESENTED_IMAGE_SIMPLE\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1360,\n            columnNumber: 17\n          }, _this) : fielddata2.map(function (doc, idx) {\n            return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n              children: addedfield[idx] === true ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                onClick: function onClick() {\n                  var temp = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(addedfield);\n\n                  temp[idx] = false;\n\n                  for (var i = 0; i < temp.length; i++) {\n                    if (i !== idx) {\n                      temp[i] = true;\n                    }\n                  }\n\n                  setaddedfield(temp);\n                  setcurrentfield(fielddata2[idx]);\n\n                  if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                    setcurrentdropdown2(doc[\"default\"].opsi);\n                    setcurrentcheckeddropdown2(doc[\"default\"][\"default\"]);\n                  }\n\n                  if (fielddata2[idx].data_type !== \"dropdown\" || fielddata2[idx].data_type !== \"checkbox\") {\n                    setcd2(doc[\"default\"].opsi);\n\n                    if (fielddata2[idx].name !== \"\" && fielddata2[idx].data_type !== \"\") {\n                      setdisabledtambah(false);\n                    } else {\n                      setdisabledtambah(true);\n                    }\n                  } else {\n                    if (doc[\"default\"].opsi.some(function (docopsi) {\n                      return docopsi === \"\";\n                    })) {\n                      setdisabledtambah(true);\n                    } else {\n                      setdisabledtambah(false);\n                    }\n                  }\n\n                  setdisabledaddfield(true);\n                  setpointevent(\"pointer-events-none\");\n                },\n                className: \"jsx-3315758188\" + \" \" + \"\".concat(pointevent, \" shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer\"),\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-3315758188\" + \" \" + \"font-semibold mb-2\",\n                  children: [doc.name, fielddata2[idx].required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-3315758188\" + \" \" + \"judulField\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1417,\n                    columnNumber: 31\n                  }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-3315758188\" + \" \" + \"text-gray-400 text-sm\",\n                    children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && \" Text\", \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1419,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1414,\n                  columnNumber: 27\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-3315758188\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                  children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"paragraph\" || doc.data_type === \"date\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                    children: [doc.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex flex-col w-full\",\n                      children: doc[\"default\"].opsi.map(function (dok, idk) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-3315758188\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            disabled: true,\n                            checked: doc[\"default\"][\"default\"] === idk ? true : false,\n                            style: {\n                              marginRight: \"0.5rem\"\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1442,\n                            columnNumber: 43\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                            className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1451,\n                            columnNumber: 43\n                          }, _this)]\n                        }, idk, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1438,\n                          columnNumber: 41\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1435,\n                      columnNumber: 35\n                    }, _this), doc.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex flex-col w-full\",\n                      children: doc[\"default\"].opsi.map(function (dok, idk) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-3315758188\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            disabled: true,\n                            checked: doc[\"default\"][\"default\"].indexOf(idk) !== -1 ? true : false,\n                            style: {\n                              marginRight: \"0.5rem\"\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1465,\n                            columnNumber: 43\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                            className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1476,\n                            columnNumber: 43\n                          }, _this)]\n                        }, idk, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1461,\n                          columnNumber: 41\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1458,\n                      columnNumber: 35\n                    }, _this), doc.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex justify-between w-full px-3\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                        className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                        children: doc[\"default\"]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1484,\n                        columnNumber: 37\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-3315758188\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1486,\n                          columnNumber: 39\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1485,\n                        columnNumber: 37\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1483,\n                      columnNumber: 35\n                    }, _this), doc.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-3315758188\" + \" \" + \"flex h-20\",\n                      children: doc[\"default\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1491,\n                      columnNumber: 35\n                    }, _this)]\n                  }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                    className: \"jsx-3315758188\" + \" \" + \"mb-0\",\n                    children: doc[\"default\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1495,\n                    columnNumber: 31\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1428,\n                  columnNumber: 27\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n                  id: \"3315758188\",\n                  children: \".judulField.jsx-3315758188::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEwOUM2QixBQUdxRixZQUNGLFVBQ2QiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9LCBbdHJpZ2dlcm1hbnVmXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7bW9kZWxpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9tb2RlbF9wYXJ0c1xuICAgICAgICBjb25zdCByZWN1cnNpdmVQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgICAgIHZhciB0ZW1wMTEgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZW1wMSA9IHt9O1xuICAgICAgICAgICAgdGVtcDEgPSBpdGVtW2ldLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0ZW1wMTEucHVzaCh7XG4gICAgICAgICAgICAgIC4uLml0ZW1baV0sXG4gICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAxLFxuICAgICAgICAgICAgICBtb2RlbF9wYXJ0czpcbiAgICAgICAgICAgICAgICBpdGVtW2ldLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gcmVjdXJzaXZlUGFydE1vZGVsKGl0ZW1baV0ubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZW1wMTE7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHlvID0gcmVjdXJzaXZlUGFydE1vZGVsKHJlczIuZGF0YS5tb2RlbF9wYXJ0cyk7XG4gICAgICAgIGNvbnN0IHRlbXAyID0ge1xuICAgICAgICAgIC4uLnJlczIuZGF0YSxcbiAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmFzc2V0LmNvZGUsXG4gICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcCxcbiAgICAgICAgICBhZGRfY29sdW1uczogW10sXG4gICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0bmV3ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGFzc2V0KHRlbXApO1xuICAgICAgICBzZXRkZWZhdWx0bW9kZWwodGVtcDIpO1xuICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoeW8pO1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRhZGRlZGZpZWxkKGFycik7XG4gICAgICAgIHNldGFzc2V0dHlwZWNvZGUocmVzMi5kYXRhLmFzc2V0X2lkKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwobW9kZWx0cmlnZ2VyKTtcbiAgICAgICAgbW9kZWx0cmlnZ2VyICE9PSBmYWxzZSA/IHNldGVkaXRwYXJ0KHRydWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICB9LCBbbW9kZWx0cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlciAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEyLmNvbmNhdChmaWVsZGRhdGEpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHggIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNoYW5nZWFzc2V0LnNvbWUoXG4gICAgICAgICAgKGRvY3NvbWUpID0+IGRvY3NvbWUuaWQgPT09IGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZFxuICAgICAgICApIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2ZpZWxkZGF0YTIubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHgxICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjb25jYXRhZGRjb2x1bW5zaWR4MSA+IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoIC0gMSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlMS5pZCA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICBjaGFuZ2Vhc3NldCA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtmaWVsZGRhdGEubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtjb25jYXRhZGRjb2x1bW5zaWR4MV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4XSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHhdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDEgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4MV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4MV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgzICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDNdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4M10gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyM10pO1xuXG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYWRkX21vZGVsczogdGVtcCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRwYXJ0dHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMi5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkaWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RwYXJ0aWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMnBhcnQuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZHBhcnRpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RwYXJ0aWR4KSk7XG4gICAgfVxuICB9LCBbY2RwYXJ0dHJpZ2dlcl0pO1xuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5cbiAgICAgICAgICAgICAgICBGb3JtIFViYWggTW9kZWwgLSB7bmV3ZGF0YS5uYW1lfVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gfT5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgLypvbkNsaWNrPXsoKSA9PiB7IGNvbnNvbGUubG9nKG5ld2RhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2coZGVmYXVsdGRhdGEpOyBjb25zb2xlLmxvZyhkZWZhdWx0YXNzZXQpIH19Ki8gdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybS5zdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9TdGlja3k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+SW5mb3JtYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAge3ByYWxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxTcGluPjwvU3Bpbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtfVxuICAgICAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWx9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17bmV3ZGF0YX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51Zih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5pc19jb25zdW1hYmxlfVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBNb2RlbCBDb25zdW1hYmxlIGRlbmdhbiBzYXR1YW4ganVtbGFoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7bG9hZGluZ3NwZWMgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhMi5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPEVtcHR5IGltYWdlPXtFbXB0eS5QUkVTRU5URURfSU1BR0VfU0lNUExFfT48L0VtcHR5PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGZpZWxkZGF0YTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZFtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICE9PSBmaWVsZGRhdGEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeFVwZGF0ZUNvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5zcGxpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4VXBkYXRlQ29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2ZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMVtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGFbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YTIubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvYy5tb2RlbF9jaGlsZC5sZW5ndGggPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB3LTYvMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0yXCI+e2RvYy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJyaWdodFwiIHRpdGxlPVwiTW9kZWwgdGlkYWsgbWVtaWxpa2kgcGFydCBtb2RlbCFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgPEV4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGBicm93bmAgfX0+PC9FeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBNb2RlbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBkYXJpIE1vZGVsIFBhcnQgJHtuZXdkYXRhLm5hbWV9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4dGVtcCA9IG1vZGVscGFydGZpZWxkZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzIpID0+IGRvYzIuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5zcGxpY2UoaWR4ZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5pbmRleE9mKGRvYy5pZCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGByZWRgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXQgVHlwZXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsYXNzZXR0eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jLCBpZHhtYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgbXktYXV0byBweC0yIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXdoaXRlIGJvcmRlciB3LTMvMTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGJnLWdyYXktMTAwIHJvdW5kZWQgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIGZsZXggaXRlbXMtY2VudGVyIHctZnVsbCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUaW1lbGluZSBzdHlsZT17eyBtYXJnaW5Ub3A6IGAxcmVtYCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RpbWVsaW5lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2VkaXRwYXJ0ID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG15LTMgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTUgdGV4dC1sZyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50aWRtb2RlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtjdXJyZW50aWRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hpbmdwYXJ0ID8gPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9L2dldE1vZGVscz9yb3dzPTEwJm5hbWU9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gXCJcIiA/IHZhbHVlIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldG1vZGVsZGF0YShbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gYXRhdSBjYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uUG9wdXBTY3JvbGw9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZXZlbnQudGFyZ2V0LnNjcm9sbFRvcCArIGV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQgPT09IGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldHBhZ2UocHJldiA9PiBwcmV2ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHM/cGFnZT0ke3BhZ2V9JnJvd3M9MTBgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlczIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2Nyb2xsVG8oMCwgZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLnRvID49IHJlczIuZGF0YS50b3RhbCA/IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YV0pIDogc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhLCA8U3BpbiBzaXplPVwic21hbGxcIiAvPl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kZWxkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17ZG9jLmlkfSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdnZXRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke2N1cnJlbnRpZG1vZGVsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAxID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiByZXMyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9jb2x1bW5zXCJdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVscGFydHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubW9kZWxfcGFydHMubWFwKChkb2MyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwMyA9IGRvYzIubW9kZWxfY29sdW1ucy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jMykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MzIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbWFwMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9wYXJ0c1wiXSA9IG1vZGVscGFydHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wiaWRcIl0gPSByZXMyLmRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibmFtZVwiXSA9IHJlczIuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMSA9IFsuLi50ZW1wMSwgdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHZhbHVlKHJlczIuZGF0YS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR0cmlnZ2VyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YTIgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhkYXRhMiA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRpZG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWR4ZGF0YTIgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgKyBUYW1iYWggUGFydCBNb2RlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybTIuc3VibWl0fVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGVtb2RlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsY3JlYXRlbW9kZWx9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgbWItOFwiPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm0yfVxuICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEyLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge2ZpZWxkZGF0YWEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQyW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMl07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YWEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZG1hbnVmfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZE1hbnVmYWN0dXJlcn1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbG1hbnVmfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgTmFtYSBNYW51ZmFjdHVyZXIgPHNwYW4gY2xhc3NOYW1lPVwibmFtYW1hbnVcIj48L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdmFsdWU9e2RhdGFtYW51Zi5uYW1lfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIE5hbWEgTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgID8gc2V0ZGlzYWJsZWRtYW51Zih0cnVlKVxuICAgICAgICAgICAgICAgICAgOiBzZXRkaXNhYmxlZG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRkYXRhbWFudWYoeyBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hbWFtYW51OjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoeyByZXEsIHJlcywgcGFyYW1zIH0pIHtcbiAgY29uc3QgbW9kZWxpZCA9IHBhcmFtcy5tb2RlbElkO1xuICB2YXIgaW5pdFByb3BzID0ge307XG4gIGlmICghcmVxLmhlYWRlcnMuY29va2llKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvb2tpZXNKU09OMSA9IGh0dHBjb29raWUucGFyc2UocmVxLmhlYWRlcnMuY29va2llKTtcbiAgaWYgKCFjb29raWVzSlNPTjEudG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaW5pdFByb3BzID0gY29va2llc0pTT04xLnRva2VuO1xuICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZGV0YWlsUHJvZmlsZWAsXG4gICAge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IHJlc2pzb24gPSBhd2FpdCByZXNvdXJjZXMuanNvbigpO1xuICBjb25zdCBkYXRhUHJvZmlsZSA9IHJlc2pzb247XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgaW5pdFByb3BzLFxuICAgICAgZGF0YVByb2ZpbGUsXG4gICAgICBzaWRlbWVudTogXCI4MlwiLFxuICAgICAgbW9kZWxpZCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNVcGRhdGUyO1xuIl19 */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n                }, void 0, false, void 0, _this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1366,\n                columnNumber: 25\n              }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n                  layout: \"vertical\",\n                  initialValues: currentfield,\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                      name: \"name\",\n                      label: \"Nama Spesifikasi\",\n                      rules: [{\n                        required: true,\n                        message: \"Nama Spesifikasi wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                        required: true,\n                        name: \"name\",\n                        onChange: function onChange(e) {\n                          setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                            name: e.target.value\n                          }));\n\n                          if (e.target.value === \"\") {\n                            setdisabledtambah(true);\n                          } else if (e.target.value !== \"\" && currentfield.data_type !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                            return doca !== \"\";\n                          })) {\n                            setdisabledtambah(false);\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1524,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1514,\n                      columnNumber: 31\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                      name: \"data_type\",\n                      label: \"Tipe Field\",\n                      rules: [{\n                        required: true,\n                        message: \"Tipe Field wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                        placeholder: \"Pilih Tipe Field\",\n                        onChange: function onChange(value) {\n                          setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                            data_type: value\n                          }));\n\n                          if (value === \"dropdown\" || value === \"checkbox\") {\n                            if (currentdropdown2.every(function (doca, idxa) {\n                              return doca !== \"\";\n                            })) {\n                              setdisabledtambah(false);\n                            } else {\n                              setdisabledtambah(true);\n                            }\n                          } else {\n                            setdisabledtambah(false);\n                          }\n\n                          if (value === \"dropdown\") {\n                            setcurrentcheckeddropdown2(\"\");\n                            setcurrentdropdown2([\"\", \"\"]);\n                            setdisabledtambah(true);\n                          }\n\n                          if (value === \"checkbox\") {\n                            setcurrentcheckeddropdown2([]);\n                            setcurrentdropdown2([\"\", \"\"]);\n                            setcd2([\"\", \"\"]);\n                            setdisabledtambah(true);\n                          }\n                        },\n                        name: \"data_type\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"dropdown\",\n                          children: \"Dropdown\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1593,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"number\",\n                          children: \"Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1596,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"paragraph\",\n                          children: \"Paragraph Text\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1599,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"checkbox\",\n                          children: \"Checkbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1602,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"single\",\n                          children: \"Single Textbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1605,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"date\",\n                          children: \"Date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1608,\n                          columnNumber: 35\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1556,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1546,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1513,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"default\",\n                    label: \"Default\",\n                    children: [currentfield.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                        children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1618,\n                        columnNumber: 35\n                      }, _this), currentdropdown2.map(function (doc, idxx) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"flex mb-3\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-7 flex items-center\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                              checked: currentcheckeddropdown2 === idxx ? true : false,\n                              onChange: function onChange(e) {\n                                if (e.target.checked === true) {\n                                  setcurrentcheckeddropdown2(idxx);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1625,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1624,\n                            columnNumber: 39\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-10/12 mr-5\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                              style: {\n                                marginRight: \"0.5rem\"\n                              },\n                              defaultValue: doc,\n                              placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                              onChange: function onChange(e) {\n                                setcurrentdropdown2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n                                setcd2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n\n                                if (e.target.value !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                                  return doca !== \"\";\n                                }) && currentfield.name !== \"\") {\n                                  setdisabledtambah(false);\n                                } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                  setdisabledtambah(true);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1639,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1638,\n                            columnNumber: 39\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-1/12 flex justify-around\",\n                            onClick: function onClick() {\n                              setcurrentdropdown2([]);\n                              setcdtrigger(function (prev) {\n                                return !prev;\n                              });\n                              setcdidx(idxx);\n                            },\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                              type: \"danger\",\n                              children: \"-\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1681,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1673,\n                            columnNumber: 39\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1623,\n                          columnNumber: 37\n                        }, _this);\n                      }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                          onClick: function onClick() {\n                            setcurrentdropdown2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdown2), [\"\"]));\n                            setcd2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2), [\"\"]));\n                            setdisabledtambah(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1686,\n                          columnNumber: 37\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1685,\n                        columnNumber: 35\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1617,\n                      columnNumber: 33\n                    }, _this) : null, currentfield.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                        children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1704,\n                        columnNumber: 35\n                      }, _this), currentdropdown2.map(function (doc, idxx) {\n                        var idxchecked = currentcheckeddropdown2.includes(idxx);\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"flex mb-3\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-7 flex items-center\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                              defaultChecked: idxchecked,\n                              onChange: function onChange(e) {\n                                if (e.target.checked === true) {\n                                  setcurrentcheckeddropdown2(function (prev) {\n                                    var temp = prev;\n                                    temp.push(idxx);\n                                    return temp;\n                                  });\n                                } else {\n                                  setcurrentcheckeddropdown2(function (prev) {\n                                    var temp = prev;\n                                    var index = temp.indexOf(idxx);\n                                    temp.splice(index, 1);\n                                    return temp;\n                                  });\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1714,\n                              columnNumber: 43\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1713,\n                            columnNumber: 41\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-10/12 mr-5\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                              style: {\n                                marginRight: \"0.5rem\"\n                              },\n                              defaultValue: doc,\n                              placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                              onChange: function onChange(e) {\n                                setcurrentdropdown2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n                                setcd2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n\n                                if (e.target.value !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                                  return doca !== \"\";\n                                }) && currentfield.name !== \"\") {\n                                  setdisabledtambah(false);\n                                } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                  setdisabledtambah(true);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1740,\n                              columnNumber: 43\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1739,\n                            columnNumber: 41\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-1/12 flex justify-around\",\n                            onClick: function onClick() {\n                              setcurrentdropdown2([]);\n                              setcdtrigger(function (prev) {\n                                return !prev;\n                              });\n                              setcdidx(idxx);\n                            },\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                              type: \"danger\",\n                              children: \"-\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1782,\n                              columnNumber: 43\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1774,\n                            columnNumber: 41\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1712,\n                          columnNumber: 39\n                        }, _this);\n                      }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                          onClick: function onClick() {\n                            setcurrentdropdown2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdown2), [\"\"]));\n                            setcd2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2), [\"\"]));\n                            setdisabledtambah(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1788,\n                          columnNumber: 37\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1787,\n                        columnNumber: 35\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1703,\n                      columnNumber: 33\n                    }, _this) : null, currentfield.data_type.toLowerCase() === \"number\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2___default.a, {\n                      style: {\n                        width: \"30%\"\n                      },\n                      defaultValue: fielddata2[idx][\"default\"],\n                      placeholder: \"Masukkan default \".concat(currentfield.name),\n                      onChange: function onChange(value) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          \"default\": \"\".concat(value)\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1805,\n                      columnNumber: 33\n                    }, _this), currentfield.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n                      rows: 4,\n                      placeholder: \"Masukkan default \".concat(currentfield.name),\n                      defaultValue: fielddata2[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1819,\n                      columnNumber: 33\n                    }, _this), currentfield.data_type.toLowerCase() === \"string\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      placeholder: \"Masukkan default \".concat(currentfield.name),\n                      defaultValue: fielddata2[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1833,\n                      columnNumber: 33\n                    }, _this), currentfield.data_type.toLowerCase() === \"single\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      placeholder: \"Masukkan default \".concat(currentfield.name),\n                      defaultValue: fielddata2[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1846,\n                      columnNumber: 33\n                    }, _this), currentfield.data_type.toLowerCase() === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default.a, {\n                      defaultValue: moment__WEBPACK_IMPORTED_MODULE_21___default()(fielddata2[idx][\"default\"]),\n                      style: {\n                        width: \"30%\"\n                      },\n                      placeholder: \"Masukkan default \".concat(currentfield.name),\n                      onChange: function onChange(value, dateString) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          \"default\": dateString\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1859,\n                      columnNumber: 33\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1614,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1872,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex mt-4 justify-end\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                      placement: \"bottom\",\n                      title: \"Apakah anda yakin ingin menghapus field \".concat(doc.name === \"\" ? \"ini\" : doc.name, \"?\"),\n                      okText: \"Ya\",\n                      cancelText: \"Tidak\",\n                      onConfirm: function onConfirm() {\n                        setfielddata2(function (prev) {\n                          return prev.filter(function (_, idxx) {\n                            return idxx !== idx;\n                          });\n                        });\n                        setnewdata(function (prev) {\n                          var temp = prev;\n                          temp.model_columns = temp.model_columns.filter(function (_, idxx) {\n                            return idxx !== fielddata.length + idx;\n                          });\n                          return temp;\n                        });\n\n                        if (defaultdata.model_columns.some(function (docdef) {\n                          return docdef.id === doc.id;\n                        })) {\n                          setnewdata(function (prev) {\n                            var temp = prev;\n                            temp.delete_column_ids.push(doc.id);\n                            var idxUpdateColumns = temp.update_columns.map(function (docmap) {\n                              return docmap.id;\n                            }).indexOf(doc.id);\n                            temp.update_columns.splice(idxUpdateColumns, 1);\n                            var idxtemp = defaultdata.model_columns.map(function (doctemp) {\n                              return doctemp.id;\n                            }).indexOf(doc.id);\n                            temp.model_columns.splice(idxtemp, 1);\n                            return temp;\n                          });\n                        } else {\n                          setnewdata(function (prev) {\n                            var temp = prev;\n                            var idxtemp = temp.add_columns.map(function (doctemp) {\n                              return doctemp.name;\n                            }).indexOf(doc.name);\n                            idxtemp !== -1 ? temp.add_columns.splice(idxtemp, 1) : null;\n                            return temp;\n                          });\n                        }\n\n                        setaddedfield(function (prev) {\n                          prev.splice(idx, 1);\n                          return prev;\n                        });\n                        setdisabledaddfield(false);\n                        setpointevent(\"\");\n                      },\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"DeleteOutlined\"], {\n                          style: {\n                            fontSize: \"1.25rem\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1937,\n                          columnNumber: 35\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1936,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1874,\n                      columnNumber: 31\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \" flex items-center mr-4\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                        checked: currentfield.required,\n                        style: {\n                          marginRight: \"0.5rem\"\n                        },\n                        onChange: function onChange(e) {\n                          setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                            required: e.target.checked\n                          }));\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1943,\n                        columnNumber: 33\n                      }, _this), \" \", \"Required\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1942,\n                      columnNumber: 31\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                      disabled: disabledtambah,\n                      type: \"primary\",\n                      onClick: function onClick() {\n                        if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n                          setidxdropdowntrigger(idx);\n                          setvaluedropdowntrigger(function (prev) {\n                            return !prev;\n                          });\n                        }\n\n                        setconcataddcolumnsidx(idx);\n                        setconcataddcolumnsvalue(doc);\n                        setconcataddcolumnstrigger(function (prev) {\n                          return !prev;\n                        });\n                        var temp = fielddata2;\n                        temp[idx] = currentfield;\n                        setfielddata2(temp);\n                        setaddedfieldidx(idx);\n                        setaddedfieldtrigger(function (prev) {\n                          return !prev;\n                        });\n                        setconcatfieldtrigger(function (prev) {\n                          return !prev;\n                        });\n                        setdisabledaddfield(false);\n                        setpointevent(\"\");\n                      },\n                      children: \"Tambah\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1955,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1873,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1512,\n                  columnNumber: 27\n                }, _this)\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1508,\n                columnNumber: 25\n              }, _this)\n            }, void 0, false);\n          })\n        }, void 0, false), fielddata.map(function (doc, idx) {\n          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n            children: addedfield1[idx] === true ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              onClick: function onClick() {\n                var temp = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(addedfield1);\n\n                temp[idx] = false;\n\n                for (var i = 0; i < temp.length; i++) {\n                  if (i !== idx) {\n                    temp[i] = true;\n                  }\n                }\n\n                setaddedfield1(temp);\n                setcurrentfield(fielddata[idx]);\n\n                if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                  setcurrentdropdown2(doc[\"default\"].opsi);\n                  setcurrentcheckeddropdown2(doc[\"default\"][\"default\"]);\n                }\n\n                if (fielddata[idx].data_type !== \"dropdown\" || fielddata[idx].data_type !== \"checkbox\") {\n                  setcd2(doc[\"default\"].opsi);\n\n                  if (fielddata[idx].name !== \"\" && fielddata[idx].data_type !== \"\") {\n                    setdisabledtambah(false);\n                  } else {\n                    setdisabledtambah(true);\n                  }\n                } else {\n                  if (doc[\"default\"].opsi.some(function (docopsi) {\n                    return docopsi === \"\";\n                  })) {\n                    setdisabledtambah(true);\n                  } else {\n                    setdisabledtambah(false);\n                  }\n                }\n\n                setdisabledaddfield(true);\n                setpointevent(\"pointer-events-none\");\n              },\n              className: \"jsx-618540288\" + \" \" + \"\".concat(pointevent, \" shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer\"),\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"jsx-618540288\" + \" \" + \"font-semibold mb-2\",\n                children: [doc.name, fielddata[idx].required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                  className: \"jsx-618540288\" + \" \" + \"judulField\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2044,\n                  columnNumber: 25\n                }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                  className: \"jsx-618540288\" + \" \" + \"text-gray-400 text-sm\",\n                  children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && \" Text\", \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2046,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2041,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"jsx-618540288\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"paragraph\" || doc.data_type === \"date\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                  children: [doc.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-618540288\" + \" \" + \"flex flex-col w-full\",\n                    children: doc[\"default\"].opsi.map(function (dok, idk) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-618540288\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                          disabled: true,\n                          checked: doc[\"default\"][\"default\"] === idk ? true : false,\n                          style: {\n                            marginRight: \"0.5rem\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2069,\n                          columnNumber: 37\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                          className: \"jsx-618540288\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2078,\n                          columnNumber: 37\n                        }, _this)]\n                      }, idk, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2065,\n                        columnNumber: 35\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2062,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-618540288\" + \" \" + \"flex flex-col w-full\",\n                    children: doc[\"default\"].opsi.map(function (dok, idk) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-618540288\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                          disabled: true,\n                          checked: doc[\"default\"][\"default\"].indexOf(idk) !== -1 ? true : false,\n                          style: {\n                            marginRight: \"0.5rem\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2092,\n                          columnNumber: 37\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                          className: \"jsx-618540288\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2101,\n                          columnNumber: 37\n                        }, _this)]\n                      }, idk, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2088,\n                        columnNumber: 35\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2085,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-618540288\" + \" \" + \"flex justify-between w-full px-3\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                      className: \"jsx-618540288\" + \" \" + \"mb-0\",\n                      children: doc[\"default\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2109,\n                      columnNumber: 31\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-618540288\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2111,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2110,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2108,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-618540288\" + \" \" + \"flex h-20\",\n                    children: doc[\"default\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2116,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                  className: \"jsx-618540288\" + \" \" + \"mb-0\",\n                  children: doc[\"default\"]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2120,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2055,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n                id: \"618540288\",\n                children: \".judulField.jsx-618540288::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEya0V1QixBQUdxRSxZQUNGLFVBQ2QiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9LCBbdHJpZ2dlcm1hbnVmXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7bW9kZWxpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9tb2RlbF9wYXJ0c1xuICAgICAgICBjb25zdCByZWN1cnNpdmVQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgICAgIHZhciB0ZW1wMTEgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZW1wMSA9IHt9O1xuICAgICAgICAgICAgdGVtcDEgPSBpdGVtW2ldLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0ZW1wMTEucHVzaCh7XG4gICAgICAgICAgICAgIC4uLml0ZW1baV0sXG4gICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAxLFxuICAgICAgICAgICAgICBtb2RlbF9wYXJ0czpcbiAgICAgICAgICAgICAgICBpdGVtW2ldLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gcmVjdXJzaXZlUGFydE1vZGVsKGl0ZW1baV0ubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZW1wMTE7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHlvID0gcmVjdXJzaXZlUGFydE1vZGVsKHJlczIuZGF0YS5tb2RlbF9wYXJ0cyk7XG4gICAgICAgIGNvbnN0IHRlbXAyID0ge1xuICAgICAgICAgIC4uLnJlczIuZGF0YSxcbiAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmFzc2V0LmNvZGUsXG4gICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcCxcbiAgICAgICAgICBhZGRfY29sdW1uczogW10sXG4gICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0bmV3ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGFzc2V0KHRlbXApO1xuICAgICAgICBzZXRkZWZhdWx0bW9kZWwodGVtcDIpO1xuICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoeW8pO1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRhZGRlZGZpZWxkKGFycik7XG4gICAgICAgIHNldGFzc2V0dHlwZWNvZGUocmVzMi5kYXRhLmFzc2V0X2lkKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwobW9kZWx0cmlnZ2VyKTtcbiAgICAgICAgbW9kZWx0cmlnZ2VyICE9PSBmYWxzZSA/IHNldGVkaXRwYXJ0KHRydWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICB9LCBbbW9kZWx0cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlciAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEyLmNvbmNhdChmaWVsZGRhdGEpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHggIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNoYW5nZWFzc2V0LnNvbWUoXG4gICAgICAgICAgKGRvY3NvbWUpID0+IGRvY3NvbWUuaWQgPT09IGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZFxuICAgICAgICApIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2ZpZWxkZGF0YTIubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHgxICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjb25jYXRhZGRjb2x1bW5zaWR4MSA+IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoIC0gMSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlMS5pZCA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICBjaGFuZ2Vhc3NldCA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtmaWVsZGRhdGEubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtjb25jYXRhZGRjb2x1bW5zaWR4MV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4XSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHhdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDEgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4MV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4MV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgzICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDNdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4M10gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyM10pO1xuXG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYWRkX21vZGVsczogdGVtcCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRwYXJ0dHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMi5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkaWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RwYXJ0aWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMnBhcnQuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZHBhcnRpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RwYXJ0aWR4KSk7XG4gICAgfVxuICB9LCBbY2RwYXJ0dHJpZ2dlcl0pO1xuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5cbiAgICAgICAgICAgICAgICBGb3JtIFViYWggTW9kZWwgLSB7bmV3ZGF0YS5uYW1lfVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gfT5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgLypvbkNsaWNrPXsoKSA9PiB7IGNvbnNvbGUubG9nKG5ld2RhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2coZGVmYXVsdGRhdGEpOyBjb25zb2xlLmxvZyhkZWZhdWx0YXNzZXQpIH19Ki8gdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybS5zdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9TdGlja3k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+SW5mb3JtYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAge3ByYWxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxTcGluPjwvU3Bpbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtfVxuICAgICAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWx9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17bmV3ZGF0YX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51Zih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5pc19jb25zdW1hYmxlfVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBNb2RlbCBDb25zdW1hYmxlIGRlbmdhbiBzYXR1YW4ganVtbGFoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7bG9hZGluZ3NwZWMgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhMi5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPEVtcHR5IGltYWdlPXtFbXB0eS5QUkVTRU5URURfSU1BR0VfU0lNUExFfT48L0VtcHR5PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGZpZWxkZGF0YTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZFtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICE9PSBmaWVsZGRhdGEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeFVwZGF0ZUNvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5zcGxpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4VXBkYXRlQ29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2ZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMVtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGFbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YTIubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvYy5tb2RlbF9jaGlsZC5sZW5ndGggPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB3LTYvMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0yXCI+e2RvYy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJyaWdodFwiIHRpdGxlPVwiTW9kZWwgdGlkYWsgbWVtaWxpa2kgcGFydCBtb2RlbCFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgPEV4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGBicm93bmAgfX0+PC9FeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBNb2RlbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBkYXJpIE1vZGVsIFBhcnQgJHtuZXdkYXRhLm5hbWV9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4dGVtcCA9IG1vZGVscGFydGZpZWxkZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzIpID0+IGRvYzIuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5zcGxpY2UoaWR4ZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5pbmRleE9mKGRvYy5pZCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGByZWRgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXQgVHlwZXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsYXNzZXR0eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jLCBpZHhtYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgbXktYXV0byBweC0yIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXdoaXRlIGJvcmRlciB3LTMvMTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGJnLWdyYXktMTAwIHJvdW5kZWQgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIGZsZXggaXRlbXMtY2VudGVyIHctZnVsbCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUaW1lbGluZSBzdHlsZT17eyBtYXJnaW5Ub3A6IGAxcmVtYCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RpbWVsaW5lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2VkaXRwYXJ0ID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG15LTMgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTUgdGV4dC1sZyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50aWRtb2RlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtjdXJyZW50aWRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hpbmdwYXJ0ID8gPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9L2dldE1vZGVscz9yb3dzPTEwJm5hbWU9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gXCJcIiA/IHZhbHVlIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldG1vZGVsZGF0YShbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gYXRhdSBjYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uUG9wdXBTY3JvbGw9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZXZlbnQudGFyZ2V0LnNjcm9sbFRvcCArIGV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQgPT09IGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldHBhZ2UocHJldiA9PiBwcmV2ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHM/cGFnZT0ke3BhZ2V9JnJvd3M9MTBgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlczIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2Nyb2xsVG8oMCwgZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLnRvID49IHJlczIuZGF0YS50b3RhbCA/IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YV0pIDogc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhLCA8U3BpbiBzaXplPVwic21hbGxcIiAvPl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kZWxkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17ZG9jLmlkfSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdnZXRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke2N1cnJlbnRpZG1vZGVsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAxID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiByZXMyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9jb2x1bW5zXCJdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVscGFydHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubW9kZWxfcGFydHMubWFwKChkb2MyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwMyA9IGRvYzIubW9kZWxfY29sdW1ucy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jMykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MzIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbWFwMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9wYXJ0c1wiXSA9IG1vZGVscGFydHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wiaWRcIl0gPSByZXMyLmRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibmFtZVwiXSA9IHJlczIuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMSA9IFsuLi50ZW1wMSwgdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHZhbHVlKHJlczIuZGF0YS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR0cmlnZ2VyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YTIgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhkYXRhMiA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRpZG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWR4ZGF0YTIgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgKyBUYW1iYWggUGFydCBNb2RlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybTIuc3VibWl0fVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGVtb2RlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsY3JlYXRlbW9kZWx9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgbWItOFwiPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm0yfVxuICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEyLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge2ZpZWxkZGF0YWEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQyW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMl07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YWEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZG1hbnVmfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZE1hbnVmYWN0dXJlcn1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbG1hbnVmfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgTmFtYSBNYW51ZmFjdHVyZXIgPHNwYW4gY2xhc3NOYW1lPVwibmFtYW1hbnVcIj48L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdmFsdWU9e2RhdGFtYW51Zi5uYW1lfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIE5hbWEgTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgID8gc2V0ZGlzYWJsZWRtYW51Zih0cnVlKVxuICAgICAgICAgICAgICAgICAgOiBzZXRkaXNhYmxlZG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRkYXRhbWFudWYoeyBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hbWFtYW51OjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoeyByZXEsIHJlcywgcGFyYW1zIH0pIHtcbiAgY29uc3QgbW9kZWxpZCA9IHBhcmFtcy5tb2RlbElkO1xuICB2YXIgaW5pdFByb3BzID0ge307XG4gIGlmICghcmVxLmhlYWRlcnMuY29va2llKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvb2tpZXNKU09OMSA9IGh0dHBjb29raWUucGFyc2UocmVxLmhlYWRlcnMuY29va2llKTtcbiAgaWYgKCFjb29raWVzSlNPTjEudG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaW5pdFByb3BzID0gY29va2llc0pTT04xLnRva2VuO1xuICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZGV0YWlsUHJvZmlsZWAsXG4gICAge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IHJlc2pzb24gPSBhd2FpdCByZXNvdXJjZXMuanNvbigpO1xuICBjb25zdCBkYXRhUHJvZmlsZSA9IHJlc2pzb247XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgaW5pdFByb3BzLFxuICAgICAgZGF0YVByb2ZpbGUsXG4gICAgICBzaWRlbWVudTogXCI4MlwiLFxuICAgICAgbW9kZWxpZCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNVcGRhdGUyO1xuIl19 */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n              }, void 0, false, void 0, _this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1995,\n              columnNumber: 19\n            }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n                layout: \"vertical\",\n                initialValues: currentfield,\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"name\",\n                    label: \"Nama Spesifikasi\",\n                    rules: [{\n                      required: true,\n                      message: \"Nama Spesifikasi wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      required: true,\n                      name: \"name\",\n                      onChange: function onChange(e) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          name: e.target.value\n                        }));\n\n                        if (e.target.value === \"\") {\n                          setdisabledtambah(true);\n                        } else if (e.target.value !== \"\" && currentfield.data_type !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                          return doca !== \"\";\n                        })) {\n                          setdisabledtambah(false);\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2149,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2139,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"data_type\",\n                    label: \"Tipe Field\",\n                    rules: [{\n                      required: true,\n                      message: \"Tipe Field wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                      placeholder: \"Pilih Tipe Field\",\n                      onChange: function onChange(value) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          data_type: value\n                        }));\n\n                        if (value === \"dropdown\" || value === \"checkbox\") {\n                          if (currentdropdown2.every(function (doca, idxa) {\n                            return doca !== \"\";\n                          })) {\n                            setdisabledtambah(false);\n                          } else {\n                            setdisabledtambah(true);\n                          }\n                        } else {\n                          setdisabledtambah(false);\n                        }\n\n                        if (value === \"dropdown\") {\n                          setcurrentcheckeddropdown2(\"\");\n                          setcurrentdropdown2([\"\", \"\"]);\n                          setcd2([\"\", \"\"]);\n                          setdisabledtambah(true);\n                        }\n\n                        if (value === \"checkbox\") {\n                          setcurrentcheckeddropdown2([]);\n                          setcurrentdropdown2([\"\", \"\"]);\n                          setcd2([\"\", \"\"]);\n                          setdisabledtambah(true);\n                        }\n                      },\n                      name: \"data_type\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"dropdown\",\n                        children: \"Dropdown\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2219,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"number\",\n                        children: \"Number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2222,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"paragraph\",\n                        children: \"Paragraph Text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2225,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"checkbox\",\n                        children: \"Checkbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2228,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"single\",\n                        children: \"Single Textbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2231,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"date\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2234,\n                        columnNumber: 29\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2181,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2171,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2138,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                  name: \"default\",\n                  label: \"Default\",\n                  children: [currentfield.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                      children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2241,\n                      columnNumber: 29\n                    }, _this), currentdropdown2.map(function (doc, idxx) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            checked: currentcheckeddropdown2 === idxx ? true : false,\n                            onChange: function onChange(e) {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdown2(idxx);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2248,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2247,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                            style: {\n                              marginRight: \"0.5rem\"\n                            },\n                            defaultValue: doc,\n                            placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                            onChange: function onChange(e) {\n                              setcurrentdropdown2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                                return doca !== \"\";\n                              }) && currentfield.name !== \"\") {\n                                setdisabledtambah(false);\n                              } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                setdisabledtambah(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2262,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2261,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: function onClick() {\n                            setcurrentdropdown2([]);\n                            setcdtrigger(function (prev) {\n                              return !prev;\n                            });\n                            setcdidx(idxx);\n                          },\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2302,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2294,\n                          columnNumber: 33\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2246,\n                        columnNumber: 31\n                      }, _this);\n                    }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                        onClick: function onClick() {\n                          setcurrentdropdown2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdown2), [\"\"]));\n                          setcd2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2), [\"\"]));\n                          setdisabledtambah(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2307,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2306,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2240,\n                    columnNumber: 27\n                  }, _this) : null, currentfield.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                      children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2324,\n                      columnNumber: 29\n                    }, _this), currentdropdown2.map(function (doc, idxx) {\n                      var idxchecked = currentcheckeddropdown2.includes(idxx);\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            defaultChecked: idxchecked,\n                            onChange: function onChange(e) {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdown2(function (prev) {\n                                  var temp = prev;\n                                  temp.push(idxx);\n                                  return temp;\n                                });\n                              } else {\n                                setcurrentcheckeddropdown2(function (prev) {\n                                  var temp = prev;\n                                  var index = temp.indexOf(idxx);\n                                  temp.splice(index, 1);\n                                  return temp;\n                                });\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2334,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2333,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                            style: {\n                              marginRight: \"0.5rem\"\n                            },\n                            defaultValue: doc,\n                            placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                            onChange: function onChange(e) {\n                              setcurrentdropdown2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdown2.every(function (doca, idxa) {\n                                return doca !== \"\";\n                              }) && currentfield.name !== \"\") {\n                                setdisabledtambah(false);\n                              } else if (e.target.value === \"\" || currentfield.name === \"\") {\n                                setdisabledtambah(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2355,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2354,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: function onClick() {\n                            setcurrentdropdown2([]);\n                            setcdtrigger(function (prev) {\n                              return !prev;\n                            });\n                            setcdidx(idxx);\n                          },\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2397,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2389,\n                          columnNumber: 35\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2332,\n                        columnNumber: 33\n                      }, _this);\n                    }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                        onClick: function onClick() {\n                          setcurrentdropdown2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdown2), [\"\"]));\n                          setcd2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2), [\"\"]));\n                          setdisabledtambah(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2403,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2402,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2323,\n                    columnNumber: 27\n                  }, _this) : null, currentfield.data_type.toLowerCase() === \"number\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2___default.a, {\n                    style: {\n                      width: \"30%\"\n                    },\n                    defaultValue: fielddata[idx][\"default\"],\n                    placeholder: \"Masukkan default \".concat(currentfield.name),\n                    onChange: function onChange(value) {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        \"default\": \"\".concat(value)\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2419,\n                    columnNumber: 27\n                  }, _this), currentfield.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n                    rows: 4,\n                    placeholder: \"Masukkan default \".concat(currentfield.name),\n                    defaultValue: fielddata[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2433,\n                    columnNumber: 27\n                  }, _this), currentfield.data_type.toLowerCase() === \"string\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    placeholder: \"Masukkan default \".concat(currentfield.name),\n                    defaultValue: fielddata[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2446,\n                    columnNumber: 27\n                  }, _this), currentfield.data_type.toLowerCase() === \"single\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    placeholder: \"Masukkan default \".concat(currentfield.name),\n                    defaultValue: fielddata[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2458,\n                    columnNumber: 27\n                  }, _this), currentfield.data_type.toLowerCase() === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default.a, {\n                    defaultValue: moment__WEBPACK_IMPORTED_MODULE_21___default()(fielddata[idx][\"default\"]),\n                    style: {\n                      width: \"30%\"\n                    },\n                    placeholder: \"Masukkan default \".concat(currentfield.name),\n                    onChange: function onChange(value, dateString) {\n                      setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                        \"default\": dateString\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2470,\n                    columnNumber: 27\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2238,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2483,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"flex mt-4 justify-end\",\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                    placement: \"bottom\",\n                    title: \"Apakah anda yakin ingin menghapus field \".concat(doc.name === \"\" ? \"ini\" : doc.name, \"?\"),\n                    okText: \"Ya\",\n                    cancelText: \"Tidak\",\n                    onConfirm: function onConfirm() {\n                      setfielddata(function (prev) {\n                        return prev.filter(function (_, idxx) {\n                          return idxx !== idx;\n                        });\n                      });\n                      setnewdata(function (prev) {\n                        var temp = prev;\n                        temp.model_columns = temp.model_columns.filter(function (_, idxx) {\n                          return idxx !== fielddata2.length + idx;\n                        });\n                        return temp;\n                      });\n\n                      if (defaultdata.model_columns.some(function (docdef) {\n                        return docdef.id === doc.id;\n                      })) {\n                        setnewdata(function (prev) {\n                          var temp = prev;\n                          temp.delete_column_ids.push(doc.id);\n                          var idxtemp = defaultdata.model_columns.map(function (doctemp) {\n                            return doctemp.id;\n                          }).indexOf(doc.id);\n                          temp.model_columns.splice(idxtemp, 1);\n                          return temp;\n                        });\n                      } else {\n                        setnewdata(function (prev) {\n                          var temp = prev;\n                          var idxtemp = temp.add_columns.map(function (doctemp) {\n                            return doctemp.name;\n                          }).indexOf(doc.name);\n                          idxtemp !== -1 ? temp.add_columns.splice(idxtemp, 1) : null;\n                          return temp;\n                        });\n                      }\n\n                      setaddedfield1(function (prev) {\n                        prev.splice(idx, 1);\n                        return prev;\n                      });\n                      setdisabledaddfield(false);\n                      setpointevent(\"\");\n                    },\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"DeleteOutlined\"], {\n                        style: {\n                          fontSize: \"1.25rem\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2538,\n                        columnNumber: 29\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2537,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2485,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \" flex items-center mr-4\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                      checked: currentfield.required,\n                      style: {\n                        marginRight: \"0.5rem\"\n                      },\n                      onChange: function onChange(e) {\n                        setcurrentfield(_objectSpread(_objectSpread({}, currentfield), {}, {\n                          required: e.target.checked\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2544,\n                      columnNumber: 27\n                    }, _this), \" \", \"Required\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2543,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                    disabled: disabledtambah,\n                    type: \"primary\",\n                    onClick: function onClick() {\n                      if (currentfield.data_type === \"dropdown\" || currentfield.data_type === \"checkbox\") {\n                        setidxdropdowntrigger1(idx);\n                        setvaluedropdowntrigger1(function (prev) {\n                          return !prev;\n                        });\n                      }\n\n                      setconcataddcolumnsidx1(idx);\n                      setconcataddcolumnsvalue1(doc);\n                      setconcataddcolumnstrigger1(function (prev) {\n                        return !prev;\n                      });\n                      var temp = fielddata;\n                      temp[idx] = currentfield;\n                      setfielddata(temp);\n                      setaddedfieldidx1(idx);\n                      setaddedfieldtrigger1(function (prev) {\n                        return !prev;\n                      });\n                      setconcatfieldtrigger(function (prev) {\n                        return !prev;\n                      });\n                      setdisabledaddfield(false);\n                      setpointevent(\"\");\n                    },\n                    children: \"Tambah\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2556,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2484,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2137,\n                columnNumber: 21\n              }, _this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2133,\n              columnNumber: 19\n            }, _this)\n          }, void 0, false);\n        }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"w-full flex justify-center mt-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"dashed\",\n            disabled: disabledaddfield,\n            style: {\n              width: \"80%\",\n              height: \"4rem\"\n            },\n            onClick: onClickAddField,\n            children: \"+ Tambah Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2590,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2589,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1351,\n        columnNumber: 9\n      }, _this), newdata.is_consumable === false && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \" mb-8 col-span-1 md:col-span-4 px-5 flex flex-col\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Konfigurasi Part Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2603,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2602,\n          columnNumber: 13\n        }, _this), modelpartfielddata.length === 0 ? null : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_15___default.a, {\n            accordion: true,\n            children: modelpartfielddata.map(function (doc, idx) {\n              return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(Panel, {\n                id: \"panel\".concat(idx),\n                header: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"strong\", {\n                  className: \"jsx-2733278964\",\n                  children: doc.name // ?\n                  // <>\n                  //     {\n                  //         doc.model_child.length === 0 ?\n                  //             <div className=\"flex items-center w-6/12\">\n                  //                 <span className=\"mr-2\">{doc.name}</span>\n                  //                 <Tooltip placement=\"right\" title=\"Model tidak memiliki part model!\">\n                  //                     <ExclamationCircleOutlined style={{ color: `brown` }}></ExclamationCircleOutlined>\n                  //                 </Tooltip>\n                  //             </div>\n                  //             :\n                  //             doc.name\n                  //     }\n                  // </>\n                  // :\n                  // \"-\"\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2614,\n                  columnNumber: 27\n                }, _this),\n                extra: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-2733278964\" + \" \" + \"absolute top-2 right-2\",\n                  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                    placement: \"bottom\",\n                    title: \"Apakah anda yakin ingin menghapus Model \".concat(doc.name === \"\" ? \"ini\" : doc.name, \" dari Model Part \").concat(newdata.name, \"?\"),\n                    okText: \"Ya\",\n                    cancelText: \"Tidak\",\n                    onConfirm: function onConfirm() {\n                      // console.log(doc)\n                      setnewdata(function (prev) {\n                        var temp = prev;\n                        var idxtemp = modelpartfielddata.map(function (doctemp) {\n                          return doctemp.id;\n                        }).indexOf(doc.id);\n\n                        if (defaultdata.model_parts.map(function (docparts) {\n                          return docparts.id;\n                        }).includes(doc.id) === false && idxtemp !== -1) {\n                          var idxdata = temp.add_models.map(function (doc2) {\n                            return doc2.id;\n                          }).indexOf(doc.id);\n\n                          if (temp.add_models[idxdata].quantity > 1) {\n                            temp.add_models[idxdata].quantity -= 1;\n                          } else {\n                            temp.add_models.splice(idxdata, 1);\n                          }\n                        }\n\n                        if (defaultdata.model_parts.map(function (docparts) {\n                          return docparts.id;\n                        }).includes(doc.id) === true && idxtemp !== -1) {\n                          if (temp.delete_model_ids.indexOf(doc.id) === -1) {\n                            temp.delete_model_ids.push(doc.id);\n                          }\n                        }\n\n                        return temp;\n                      });\n                      setmodelpartfielddata(function (prev) {\n                        return prev.filter(function (_, idxx) {\n                          return idxx !== idx;\n                        });\n                      });\n                    },\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CloseCircleOutlined\"], {\n                      style: {\n                        color: \"red\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2687,\n                      columnNumber: 31\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2638,\n                    columnNumber: 29\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2637,\n                  columnNumber: 27\n                }, _this),\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-2733278964\" + \" \" + \"flex flex-col p-3\",\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-2733278964\" + \" \" + \"flex flex-col mb-5\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                      className: \"jsx-2733278964\" + \" \" + \"font-semibold mb-1\",\n                      children: [\"Asset Type\", \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                        className: \"jsx-2733278964\" + \" \" + \"judulassettype\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2696,\n                        columnNumber: 31\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2694,\n                      columnNumber: 29\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"rounded bg-gray-200 w-full flex items-center my-auto h-12 px-2\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                        className: \"jsx-2733278964\" + \" \" + \"mb-0 text-sm\",\n                        children: doc.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2699,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2698,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2693,\n                    columnNumber: 27\n                  }, _this), doc.model_columns.map(function (docmc, idxmc) {\n                    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2733278964\" + \" \" + \"flex flex-col mb-5\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                        className: \"jsx-2733278964\" + \" \" + \"font-semibold mb-1\",\n                        children: [docmc.name, \" \", docmc.required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                          className: \"jsx-2733278964\" + \" \" + \"judulsn\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2708,\n                          columnNumber: 37\n                        }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                          className: \"jsx-2733278964\" + \" \" + \"text-gray-400\",\n                          children: docmc.data_type ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                            children: [\"(\", docmc.data_type.charAt(0).toUpperCase() + docmc.data_type.slice(1), \")\"]\n                          }, void 0, true) : \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2710,\n                          columnNumber: 35\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2705,\n                        columnNumber: 33\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-2733278964\" + \" \" + \"w-full flex flex-col justify-center my-auto px-2 py-1\",\n                        children: docmc.data_type === \"dropdown\" || docmc.data_type === \"checkbox\" || docmc.data_type === \"paragraph\" || docmc.data_type === \"date\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                          children: [docmc.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                            children: docmc[\"default\"].opsi.map(function (docopsi, idxopsi) {\n                              return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                                className: \"jsx-2733278964\" + \" \" + \"rounded bg-white border w-3/12 flex items-center my-auto px-2 py-1 mb-1\",\n                                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                                  disabled: true,\n                                  checked: idxopsi === docmc[\"default\"][\"default\"],\n                                  style: {\n                                    marginRight: \"0.5rem\"\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2739,\n                                  columnNumber: 49\n                                }, _this), docopsi]\n                              }, idxopsi, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2735,\n                                columnNumber: 47\n                              }, _this);\n                            })\n                          }, void 0, false), docmc.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                            children: docmc[\"default\"].opsi.map(function (docopsi, idxopsi) {\n                              return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                                className: \"jsx-2733278964\" + \" \" + \"rounded w-full flex items-center my-auto px-2 py-1 mb-1\",\n                                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                                  disabled: true,\n                                  checked: idxopsi === docmc[\"default\"][\"default\"],\n                                  style: {\n                                    marginRight: \"0.5rem\"\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 2763,\n                                  columnNumber: 49\n                                }, _this), docopsi]\n                              }, idxopsi, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2759,\n                                columnNumber: 47\n                              }, _this);\n                            })\n                          }, void 0, false), docmc.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"jsx-2733278964\" + \" \" + \"flex w-full items-center justify-between bg-gray-100 rounded h-10 px-3\",\n                            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                              className: \"jsx-2733278964\" + \" \" + \"mb-0\",\n                              children: docmc[\"default\"]\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2781,\n                              columnNumber: 43\n                            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                              className: \"jsx-2733278964\",\n                              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 2785,\n                                columnNumber: 45\n                              }, _this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2784,\n                              columnNumber: 43\n                            }, _this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2780,\n                            columnNumber: 41\n                          }, _this), docmc.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"jsx-2733278964\" + \" \" + \"flex h-20 rounded border bg-gray-100 w-full px-3\",\n                            children: docmc[\"default\"]\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2790,\n                            columnNumber: 41\n                          }, _this)]\n                        }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-2733278964\" + \" \" + \"rounded border bg-gray-100 flex items-center w-full h-10 px-3\",\n                          children: docmc[\"default\"]\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2796,\n                          columnNumber: 37\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2725,\n                        columnNumber: 33\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2704,\n                      columnNumber: 31\n                    }, _this);\n                  }), doc.model_parts.length === 0 ? null : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_timeline__WEBPACK_IMPORTED_MODULE_11___default.a, {\n                      style: {\n                        marginTop: \"1rem\"\n                      },\n                      children: renderChildPartModel(doc.model_parts)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2806,\n                      columnNumber: 31\n                    }, _this)\n                  }, void 0, false)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2692,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n                  id: \"2733278964\",\n                  children: \".judulassettype.jsx-2733278964::before{content:'*';color:red;}.judulsn.jsx-2733278964::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0dkYyQixBQUd5RSxBQUlBLFlBSEYsQUFJQSxVQUhkLEFBSUEiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9LCBbdHJpZ2dlcm1hbnVmXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7bW9kZWxpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9tb2RlbF9wYXJ0c1xuICAgICAgICBjb25zdCByZWN1cnNpdmVQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgICAgIHZhciB0ZW1wMTEgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZW1wMSA9IHt9O1xuICAgICAgICAgICAgdGVtcDEgPSBpdGVtW2ldLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0ZW1wMTEucHVzaCh7XG4gICAgICAgICAgICAgIC4uLml0ZW1baV0sXG4gICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAxLFxuICAgICAgICAgICAgICBtb2RlbF9wYXJ0czpcbiAgICAgICAgICAgICAgICBpdGVtW2ldLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gcmVjdXJzaXZlUGFydE1vZGVsKGl0ZW1baV0ubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZW1wMTE7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHlvID0gcmVjdXJzaXZlUGFydE1vZGVsKHJlczIuZGF0YS5tb2RlbF9wYXJ0cyk7XG4gICAgICAgIGNvbnN0IHRlbXAyID0ge1xuICAgICAgICAgIC4uLnJlczIuZGF0YSxcbiAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmFzc2V0LmNvZGUsXG4gICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcCxcbiAgICAgICAgICBhZGRfY29sdW1uczogW10sXG4gICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0bmV3ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGFzc2V0KHRlbXApO1xuICAgICAgICBzZXRkZWZhdWx0bW9kZWwodGVtcDIpO1xuICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoeW8pO1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRhZGRlZGZpZWxkKGFycik7XG4gICAgICAgIHNldGFzc2V0dHlwZWNvZGUocmVzMi5kYXRhLmFzc2V0X2lkKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwobW9kZWx0cmlnZ2VyKTtcbiAgICAgICAgbW9kZWx0cmlnZ2VyICE9PSBmYWxzZSA/IHNldGVkaXRwYXJ0KHRydWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICB9LCBbbW9kZWx0cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlciAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEyLmNvbmNhdChmaWVsZGRhdGEpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHggIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNoYW5nZWFzc2V0LnNvbWUoXG4gICAgICAgICAgKGRvY3NvbWUpID0+IGRvY3NvbWUuaWQgPT09IGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZFxuICAgICAgICApIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2ZpZWxkZGF0YTIubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHgxICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjb25jYXRhZGRjb2x1bW5zaWR4MSA+IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoIC0gMSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlMS5pZCA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICBjaGFuZ2Vhc3NldCA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtmaWVsZGRhdGEubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtjb25jYXRhZGRjb2x1bW5zaWR4MV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4XSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHhdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDEgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4MV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4MV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgzICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDNdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4M10gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyM10pO1xuXG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYWRkX21vZGVsczogdGVtcCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRwYXJ0dHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMi5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkaWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RwYXJ0aWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMnBhcnQuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZHBhcnRpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RwYXJ0aWR4KSk7XG4gICAgfVxuICB9LCBbY2RwYXJ0dHJpZ2dlcl0pO1xuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5cbiAgICAgICAgICAgICAgICBGb3JtIFViYWggTW9kZWwgLSB7bmV3ZGF0YS5uYW1lfVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gfT5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgLypvbkNsaWNrPXsoKSA9PiB7IGNvbnNvbGUubG9nKG5ld2RhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2coZGVmYXVsdGRhdGEpOyBjb25zb2xlLmxvZyhkZWZhdWx0YXNzZXQpIH19Ki8gdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybS5zdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9TdGlja3k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+SW5mb3JtYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAge3ByYWxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxTcGluPjwvU3Bpbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtfVxuICAgICAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWx9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17bmV3ZGF0YX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51Zih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5pc19jb25zdW1hYmxlfVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBNb2RlbCBDb25zdW1hYmxlIGRlbmdhbiBzYXR1YW4ganVtbGFoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7bG9hZGluZ3NwZWMgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhMi5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPEVtcHR5IGltYWdlPXtFbXB0eS5QUkVTRU5URURfSU1BR0VfU0lNUExFfT48L0VtcHR5PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGZpZWxkZGF0YTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZFtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICE9PSBmaWVsZGRhdGEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeFVwZGF0ZUNvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5zcGxpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4VXBkYXRlQ29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2ZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMVtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGFbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YTIubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvYy5tb2RlbF9jaGlsZC5sZW5ndGggPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB3LTYvMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0yXCI+e2RvYy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJyaWdodFwiIHRpdGxlPVwiTW9kZWwgdGlkYWsgbWVtaWxpa2kgcGFydCBtb2RlbCFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgPEV4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGBicm93bmAgfX0+PC9FeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBNb2RlbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBkYXJpIE1vZGVsIFBhcnQgJHtuZXdkYXRhLm5hbWV9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4dGVtcCA9IG1vZGVscGFydGZpZWxkZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzIpID0+IGRvYzIuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5zcGxpY2UoaWR4ZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5pbmRleE9mKGRvYy5pZCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGByZWRgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXQgVHlwZXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsYXNzZXR0eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jLCBpZHhtYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgbXktYXV0byBweC0yIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXdoaXRlIGJvcmRlciB3LTMvMTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGJnLWdyYXktMTAwIHJvdW5kZWQgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIGZsZXggaXRlbXMtY2VudGVyIHctZnVsbCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUaW1lbGluZSBzdHlsZT17eyBtYXJnaW5Ub3A6IGAxcmVtYCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RpbWVsaW5lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2VkaXRwYXJ0ID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG15LTMgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTUgdGV4dC1sZyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50aWRtb2RlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtjdXJyZW50aWRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hpbmdwYXJ0ID8gPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9L2dldE1vZGVscz9yb3dzPTEwJm5hbWU9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gXCJcIiA/IHZhbHVlIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldG1vZGVsZGF0YShbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gYXRhdSBjYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uUG9wdXBTY3JvbGw9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZXZlbnQudGFyZ2V0LnNjcm9sbFRvcCArIGV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQgPT09IGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldHBhZ2UocHJldiA9PiBwcmV2ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHM/cGFnZT0ke3BhZ2V9JnJvd3M9MTBgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlczIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2Nyb2xsVG8oMCwgZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLnRvID49IHJlczIuZGF0YS50b3RhbCA/IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YV0pIDogc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhLCA8U3BpbiBzaXplPVwic21hbGxcIiAvPl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kZWxkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17ZG9jLmlkfSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdnZXRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke2N1cnJlbnRpZG1vZGVsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAxID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiByZXMyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9jb2x1bW5zXCJdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVscGFydHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubW9kZWxfcGFydHMubWFwKChkb2MyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwMyA9IGRvYzIubW9kZWxfY29sdW1ucy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jMykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MzIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbWFwMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9wYXJ0c1wiXSA9IG1vZGVscGFydHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wiaWRcIl0gPSByZXMyLmRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibmFtZVwiXSA9IHJlczIuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMSA9IFsuLi50ZW1wMSwgdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHZhbHVlKHJlczIuZGF0YS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR0cmlnZ2VyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YTIgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhkYXRhMiA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRpZG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWR4ZGF0YTIgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgKyBUYW1iYWggUGFydCBNb2RlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybTIuc3VibWl0fVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGVtb2RlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsY3JlYXRlbW9kZWx9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgbWItOFwiPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm0yfVxuICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEyLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge2ZpZWxkZGF0YWEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQyW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMl07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YWEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZG1hbnVmfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZE1hbnVmYWN0dXJlcn1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbG1hbnVmfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgTmFtYSBNYW51ZmFjdHVyZXIgPHNwYW4gY2xhc3NOYW1lPVwibmFtYW1hbnVcIj48L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdmFsdWU9e2RhdGFtYW51Zi5uYW1lfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIE5hbWEgTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgID8gc2V0ZGlzYWJsZWRtYW51Zih0cnVlKVxuICAgICAgICAgICAgICAgICAgOiBzZXRkaXNhYmxlZG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRkYXRhbWFudWYoeyBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hbWFtYW51OjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoeyByZXEsIHJlcywgcGFyYW1zIH0pIHtcbiAgY29uc3QgbW9kZWxpZCA9IHBhcmFtcy5tb2RlbElkO1xuICB2YXIgaW5pdFByb3BzID0ge307XG4gIGlmICghcmVxLmhlYWRlcnMuY29va2llKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvb2tpZXNKU09OMSA9IGh0dHBjb29raWUucGFyc2UocmVxLmhlYWRlcnMuY29va2llKTtcbiAgaWYgKCFjb29raWVzSlNPTjEudG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaW5pdFByb3BzID0gY29va2llc0pTT04xLnRva2VuO1xuICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZGV0YWlsUHJvZmlsZWAsXG4gICAge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IHJlc2pzb24gPSBhd2FpdCByZXNvdXJjZXMuanNvbigpO1xuICBjb25zdCBkYXRhUHJvZmlsZSA9IHJlc2pzb247XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgaW5pdFByb3BzLFxuICAgICAgZGF0YVByb2ZpbGUsXG4gICAgICBzaWRlbWVudTogXCI4MlwiLFxuICAgICAgbW9kZWxpZCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNVcGRhdGUyO1xuIl19 */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n                }, void 0, false, void 0, _this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2610,\n                columnNumber: 23\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2607,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n          children: editpart ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n            className: \"shadow-md border p-8 mx-3 md:mx-8 my-3 flex flex-col rounded-md relative\",\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"absolute top-2 right-5 text-lg cursor-pointer\",\n              onClick: function onClick() {\n                seteditpart(false);\n              },\n              children: \"x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2833,\n              columnNumber: 19\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n              layout: \"vertical\",\n              initialValues: currentidmodel,\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"flex mb-2\",\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \" w-11/12 mr-3\",\n                  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"id\",\n                    label: \"Nama Model\",\n                    rules: [{\n                      required: true,\n                      message: \"Nama Model wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                      defaultValue: currentidmodel,\n                      notFoundContent: fetchingpart ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_6___default.a, {\n                        size: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2857,\n                        columnNumber: 46\n                      }, _this) : null,\n                      onSearch: function onSearch(value) {\n                        setfetchingpart(true);\n                        fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getModels?rows=10&name=\").concat(value !== \"\" ? value : \"\"), {\n                          method: \"GET\",\n                          headers: {\n                            Authorization: JSON.parse(initProps)\n                          }\n                        }).then(function (res) {\n                          return res.json();\n                        }).then(function (res2) {\n                          res2.data.length === 0 ? setmodeldata([]) : setmodeldata(res2.data.data);\n                          setfetchingpart(false);\n                        });\n                      },\n                      showSearch: true,\n                      optionFilterProp: \"children\",\n                      placeholder: \"Masukkan atau cari nama modul\",\n                      onChange: function onChange(value) {\n                        setcurrentidmodel(value);\n                      },\n                      name: \"id\",\n                      filterOption: function filterOption(input, opt) {\n                        return opt.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n                      } // onPopupScroll={(event) => {\n                      //     if (event.target.scrollTop + event.target.offsetHeight === event.target.scrollHeight) {\n                      //         setpage(prev => prev + 1)\n                      //         fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/getModels?page=${page}&rows=10`, {\n                      //             method: `GET`,\n                      //             headers: {\n                      //                 'Authorization': JSON.parse(initProps),\n                      //             },\n                      //         })\n                      //             .then(res => res.json())\n                      //             .then(res2 => {\n                      //                 event.target.scrollTo(0, event.target.scrollHeight)\n                      //                 res2.data.to >= res2.data.total ? setmodeldata([...modeldata, res2.data.data]) : setmodeldata([...modeldata, res2.data.data, <Spin size=\"small\" />])\n                      //             })\n                      //     }\n                      // }}\n                      ,\n                      children: modeldata.map(function (doc, idx) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: doc.id,\n                          children: doc.name\n                        }, doc.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2913,\n                          columnNumber: 33\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2854,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2844,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2843,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"w-1/12 flex pt-2 my-auto items-center cursor-pointer\",\n                  onClick: function onClick() {\n                    setmodalcreatemodel(true);\n                  },\n                  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"PlusSquareTwoTone\"], {\n                    style: {\n                      fontSize: \"1.5rem\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2927,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2921,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2842,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2930,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"flex mt-4 justify-end\",\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                  onClick: function onClick() {\n                    seteditpart(false);\n                    setcurrentidmodel(\"\");\n                  },\n                  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"DeleteOutlined\"], {\n                    style: {\n                      fontSize: \"1.25rem\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2939,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2932,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                  loading: loadinggetmodel,\n                  type: \"primary\",\n                  onClick: function onClick() {\n                    seteditpart(false);\n                    setloadinggetmodel(true);\n                    fetch(\"\".concat(\"https://boiling-thicket-46501.herokuapp.com\", \"/getModel?id=\").concat(currentidmodel), {\n                      method: \"GET\",\n                      headers: {\n                        Authorization: JSON.parse(initProps)\n                      }\n                    }).then(function (res) {\n                      return res.json();\n                    }).then(function (res2) {\n                      setmodelpartfielddata(function (prev) {\n                        var temp1 = prev;\n                        var t = {};\n\n                        for (var prop in res2.data) {\n                          if (prop === \"model_columns\") {\n                            t[\"model_columns\"] = res2.data[prop].map(function (doc, idx) {\n                              if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                                return _objectSpread(_objectSpread({}, doc), {}, {\n                                  \"default\": JSON.parse(doc[\"default\"])\n                                });\n                              } else {\n                                return _objectSpread({}, doc);\n                              }\n                            });\n                          } else {\n                            var modelparts = res2.data.model_parts.map(function (doc2) {\n                              var map3 = doc2.model_columns.map(function (doc3) {\n                                if (doc3.data_type === \"dropdown\" || doc3.data_type === \"checkbox\") {\n                                  return _objectSpread(_objectSpread({}, doc3), {}, {\n                                    \"default\": JSON.parse(doc3[\"default\"])\n                                  });\n                                } else {\n                                  return _objectSpread({}, doc3);\n                                }\n                              });\n                              return _objectSpread(_objectSpread({}, doc2), {}, {\n                                model_columns: map3\n                              });\n                            });\n                            t[\"model_parts\"] = modelparts;\n                            t[\"id\"] = res2.data.id;\n                            t[\"name\"] = res2.data.name;\n                          }\n                        }\n\n                        temp1 = [].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(temp1), [t]);\n                        return temp1;\n                      }); // setconcatpartvalue(res2.data.model_parts)\n                      // setconcatparttrigger(prev => !prev)\n\n                      setnewdata(function (prev) {\n                        var temp = prev;\n                        var idxdata2 = temp.add_models.map(function (doc3) {\n                          return doc3.id;\n                        }).indexOf(currentidmodel);\n\n                        if (temp.add_models.length === 0 || idxdata2 === -1) {\n                          temp.add_models.push({\n                            id: currentidmodel,\n                            quantity: 1\n                          });\n                        } else if (idxdata2 !== -1) {\n                          temp.add_models.map(function (doc1) {\n                            if (doc1.id === currentidmodel) {\n                              doc1.quantity = doc1.quantity + 1;\n                            }\n                          });\n                        }\n\n                        return temp;\n                      });\n                      setloadinggetmodel(false);\n                      setcurrentidmodel(\"\");\n                    });\n                  },\n                  children: \"Tambah\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2943,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2931,\n                columnNumber: 21\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2841,\n              columnNumber: 19\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2832,\n            columnNumber: 17\n          }, _this) : null\n        }, void 0, false), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"w-full flex justify-center mt-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"dashed\",\n            style: {\n              width: \"80%\",\n              height: \"4rem\"\n            },\n            onClick: function onClick() {\n              seteditpart(true);\n            },\n            children: \"+ Tambah Part Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3050,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3049,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2601,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1196,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_modal_Modal__WEBPACK_IMPORTED_MODULE_20___default.a, {\n      title: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: \"Form Tambah Model\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3066,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"default\",\n            onClick: function onClick() {\n              setmodalcreatemodel(false);\n            },\n            style: {\n              marginRight: \"1rem\"\n            },\n            children: \"Batal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3068,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"primary\",\n            disabled: disabledaddfield2,\n            onClick: instanceForm2.submit,\n            loading: loadingcreatemodel,\n            children: \"Simpan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3077,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3067,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3065,\n        columnNumber: 11\n      }, _this),\n      visible: modalcreatemodel,\n      footer: null,\n      onCancel: function onCancel() {\n        setmodalcreatemodel(false);\n      },\n      width: 900,\n      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \"shadow-md border p-8 flex flex-col rounded-md mb-8\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n          form: instanceForm2,\n          layout: \"vertical\",\n          onFinish: handleCreateModelinModel,\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n              name: \"asset_id\",\n              label: \"Asset Type\",\n              rules: [{\n                required: true,\n                message: \"Asset Type wajib diisi\"\n              }],\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_tree_select__WEBPACK_IMPORTED_MODULE_5___default.a, {\n                style: {\n                  marginRight: \"1rem\"\n                },\n                dropdownStyle: {\n                  maxHeight: 400,\n                  overflow: \"auto\"\n                },\n                treeData: assetdata,\n                placeholder: \"Pilih Asset Type\",\n                treeDefaultExpandAll: true,\n                onChange: function onChange(value, label, extra) {\n                  if (typeof value !== \"undefined\") {\n                    onClickSelectAsset2(extra.allCheckedNodes[0].node.props.id);\n                  } else {\n                    onClickSelectAsset2(0);\n                  }\n                },\n                allowClear: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3112,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3102,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n              name: \"name\",\n              label: \"Nama Model\",\n              rules: [{\n                required: true,\n                message: \"Nama Model wajib diisi\"\n              }],\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                name: \"name\",\n                onChange: function onChange(e) {\n                  setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                    name: e.target.value\n                  }));\n                },\n                allowClear: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3140,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3130,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3101,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n            name: \"manufacturer_id\",\n            label: \"Manufacturer\",\n            rules: [{\n              required: true,\n              message: \"Manufacturer wajib diisi\"\n            }],\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n              placeholder: \"Pilih Manufacturer\",\n              onChange: function onChange(value) {\n                setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                  manufacturer_id: value\n                }));\n              },\n              name: \"manufacturer_id\",\n              children: manufdata.map(function (doc, idx) {\n                return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                  value: doc.id,\n                  children: doc.name\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3168,\n                  columnNumber: 21\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3159,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3149,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n            name: \"description\",\n            label: \"Deskripsi\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n              rows: 4,\n              name: \"description\",\n              onChange: function onChange(e) {\n                setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                  description: e.target.value\n                }));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3176,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3175,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n              style: {\n                marginRight: \"0.5rem\"\n              },\n              onChange: function onChange(e) {\n                setnewdata2(_objectSpread(_objectSpread({}, newdata2), {}, {\n                  required_sn: e.target.checked\n                }));\n              },\n              checked: newdata2.required_sn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3185,\n              columnNumber: 15\n            }, _this), \" \", \"Serial Number wajib ada\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3184,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3096,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3095,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \" col-span-1 md:col-span-4 px-5 mb-8 flex flex-col\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"mb-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n            className: \"font-bold text-xl\",\n            children: \"Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3198,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3197,\n          columnNumber: 11\n        }, _this), loadingspec2 ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_6___default.a, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3333,\n          columnNumber: 13\n        }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n          children: fielddataa.map(function (doc, idx) {\n            return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n              children: addedfield3[idx] === true ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                onClick: function onClick() {\n                  var temp = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(addedfield3);\n\n                  temp[idx] = false;\n\n                  for (var i = 0; i < temp.length; i++) {\n                    if (i !== idx) {\n                      temp[i] = true;\n                    }\n                  }\n\n                  setaddedfield3(temp);\n                  setcurrentfield2(fielddataa[idx]);\n\n                  if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                    setcurrentdropdownn2(doc[\"default\"].opsi);\n                    setcd2part(doc[\"default\"].opsi);\n                    setcurrentcheckeddropdownn2(doc[\"default\"][\"default\"]);\n                  }\n\n                  if (fielddataa[idx].data_type !== \"dropdown\" || fielddataa[idx].data_type !== \"checkbox\") {\n                    if (fielddataa[idx].name !== \"\" && fielddataa[idx].data_type !== \"\") {\n                      setdisabledtambah2(false);\n                    } else {\n                      setdisabledtambah2(true);\n                    }\n                  } else {\n                    if (doc[\"default\"].opsi.some(function (docopsi) {\n                      return docopsi === \"\";\n                    })) {\n                      setdisabledtambah2(true);\n                    } else {\n                      setdisabledtambah2(false);\n                    }\n                  }\n\n                  setdisabledaddfield2(true);\n                  setpointevent2(\"pointer-events-none\");\n                },\n                className: \"jsx-2751146913\" + \" \" + \"\".concat(pointevent2, \" shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer\"),\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-2751146913\" + \" \" + \"font-semibold mb-2\",\n                  children: [doc.name, fielddataa[idx].required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-2751146913\" + \" \" + \"judulField\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3389,\n                    columnNumber: 29\n                  }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                    className: \"jsx-2751146913\" + \" \" + \"text-gray-400 text-sm\",\n                    children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && \" Text\", \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3391,\n                    columnNumber: 27\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3386,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"jsx-2751146913\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                  children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                    children: [doc.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex flex-col w-full\",\n                      children: doc[\"default\"].opsi.map(function (dok, idk) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-2751146913\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                            className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3414,\n                            columnNumber: 41\n                          }, _this)\n                        }, idk, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3410,\n                          columnNumber: 39\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3407,\n                      columnNumber: 33\n                    }, _this), doc.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex flex-col w-full\",\n                      children: doc[\"default\"].opsi.map(function (dok, idk) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"jsx-2751146913\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                            className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                            children: dok\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3428,\n                            columnNumber: 41\n                          }, _this)\n                        }, idk, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3424,\n                          columnNumber: 39\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3421,\n                      columnNumber: 33\n                    }, _this), doc.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex justify-between w-full px-3\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                        className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                        children: doc[\"default\"]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3436,\n                        columnNumber: 35\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-2751146913\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3438,\n                          columnNumber: 37\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3437,\n                        columnNumber: 35\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3435,\n                      columnNumber: 33\n                    }, _this), doc.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-2751146913\" + \" \" + \"flex h-20\",\n                      children: doc[\"default\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3443,\n                      columnNumber: 33\n                    }, _this)]\n                  }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                    className: \"jsx-2751146913\" + \" \" + \"mb-0\",\n                    children: doc[\"default\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3447,\n                    columnNumber: 29\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3400,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n                  id: \"2751146913\",\n                  children: \".judulField.jsx-2751146913::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEwM0cyQixBQUdpRSxZQUNGLFVBQ2QiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9LCBbdHJpZ2dlcm1hbnVmXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7bW9kZWxpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9tb2RlbF9wYXJ0c1xuICAgICAgICBjb25zdCByZWN1cnNpdmVQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgICAgIHZhciB0ZW1wMTEgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZW1wMSA9IHt9O1xuICAgICAgICAgICAgdGVtcDEgPSBpdGVtW2ldLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0ZW1wMTEucHVzaCh7XG4gICAgICAgICAgICAgIC4uLml0ZW1baV0sXG4gICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAxLFxuICAgICAgICAgICAgICBtb2RlbF9wYXJ0czpcbiAgICAgICAgICAgICAgICBpdGVtW2ldLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gcmVjdXJzaXZlUGFydE1vZGVsKGl0ZW1baV0ubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZW1wMTE7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHlvID0gcmVjdXJzaXZlUGFydE1vZGVsKHJlczIuZGF0YS5tb2RlbF9wYXJ0cyk7XG4gICAgICAgIGNvbnN0IHRlbXAyID0ge1xuICAgICAgICAgIC4uLnJlczIuZGF0YSxcbiAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmFzc2V0LmNvZGUsXG4gICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcCxcbiAgICAgICAgICBhZGRfY29sdW1uczogW10sXG4gICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0bmV3ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGFzc2V0KHRlbXApO1xuICAgICAgICBzZXRkZWZhdWx0bW9kZWwodGVtcDIpO1xuICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoeW8pO1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRhZGRlZGZpZWxkKGFycik7XG4gICAgICAgIHNldGFzc2V0dHlwZWNvZGUocmVzMi5kYXRhLmFzc2V0X2lkKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwobW9kZWx0cmlnZ2VyKTtcbiAgICAgICAgbW9kZWx0cmlnZ2VyICE9PSBmYWxzZSA/IHNldGVkaXRwYXJ0KHRydWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICB9LCBbbW9kZWx0cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlciAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEyLmNvbmNhdChmaWVsZGRhdGEpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHggIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNoYW5nZWFzc2V0LnNvbWUoXG4gICAgICAgICAgKGRvY3NvbWUpID0+IGRvY3NvbWUuaWQgPT09IGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZFxuICAgICAgICApIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2ZpZWxkZGF0YTIubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHgxICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjb25jYXRhZGRjb2x1bW5zaWR4MSA+IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoIC0gMSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlMS5pZCA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICBjaGFuZ2Vhc3NldCA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtmaWVsZGRhdGEubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtjb25jYXRhZGRjb2x1bW5zaWR4MV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4XSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHhdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDEgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4MV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4MV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgzICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDNdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4M10gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyM10pO1xuXG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYWRkX21vZGVsczogdGVtcCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRwYXJ0dHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMi5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkaWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RwYXJ0aWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMnBhcnQuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZHBhcnRpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RwYXJ0aWR4KSk7XG4gICAgfVxuICB9LCBbY2RwYXJ0dHJpZ2dlcl0pO1xuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5cbiAgICAgICAgICAgICAgICBGb3JtIFViYWggTW9kZWwgLSB7bmV3ZGF0YS5uYW1lfVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gfT5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgLypvbkNsaWNrPXsoKSA9PiB7IGNvbnNvbGUubG9nKG5ld2RhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2coZGVmYXVsdGRhdGEpOyBjb25zb2xlLmxvZyhkZWZhdWx0YXNzZXQpIH19Ki8gdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybS5zdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9TdGlja3k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+SW5mb3JtYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAge3ByYWxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxTcGluPjwvU3Bpbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtfVxuICAgICAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWx9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17bmV3ZGF0YX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51Zih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5pc19jb25zdW1hYmxlfVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBNb2RlbCBDb25zdW1hYmxlIGRlbmdhbiBzYXR1YW4ganVtbGFoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7bG9hZGluZ3NwZWMgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhMi5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPEVtcHR5IGltYWdlPXtFbXB0eS5QUkVTRU5URURfSU1BR0VfU0lNUExFfT48L0VtcHR5PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGZpZWxkZGF0YTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZFtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICE9PSBmaWVsZGRhdGEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeFVwZGF0ZUNvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5zcGxpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4VXBkYXRlQ29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2ZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMVtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGFbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YTIubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvYy5tb2RlbF9jaGlsZC5sZW5ndGggPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB3LTYvMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0yXCI+e2RvYy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJyaWdodFwiIHRpdGxlPVwiTW9kZWwgdGlkYWsgbWVtaWxpa2kgcGFydCBtb2RlbCFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgPEV4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGBicm93bmAgfX0+PC9FeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBNb2RlbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBkYXJpIE1vZGVsIFBhcnQgJHtuZXdkYXRhLm5hbWV9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4dGVtcCA9IG1vZGVscGFydGZpZWxkZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzIpID0+IGRvYzIuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5zcGxpY2UoaWR4ZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5pbmRleE9mKGRvYy5pZCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGByZWRgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXQgVHlwZXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsYXNzZXR0eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jLCBpZHhtYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgbXktYXV0byBweC0yIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXdoaXRlIGJvcmRlciB3LTMvMTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGJnLWdyYXktMTAwIHJvdW5kZWQgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIGZsZXggaXRlbXMtY2VudGVyIHctZnVsbCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUaW1lbGluZSBzdHlsZT17eyBtYXJnaW5Ub3A6IGAxcmVtYCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RpbWVsaW5lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2VkaXRwYXJ0ID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG15LTMgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTUgdGV4dC1sZyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50aWRtb2RlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtjdXJyZW50aWRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hpbmdwYXJ0ID8gPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9L2dldE1vZGVscz9yb3dzPTEwJm5hbWU9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gXCJcIiA/IHZhbHVlIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldG1vZGVsZGF0YShbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gYXRhdSBjYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uUG9wdXBTY3JvbGw9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZXZlbnQudGFyZ2V0LnNjcm9sbFRvcCArIGV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQgPT09IGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldHBhZ2UocHJldiA9PiBwcmV2ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHM/cGFnZT0ke3BhZ2V9JnJvd3M9MTBgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlczIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2Nyb2xsVG8oMCwgZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLnRvID49IHJlczIuZGF0YS50b3RhbCA/IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YV0pIDogc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhLCA8U3BpbiBzaXplPVwic21hbGxcIiAvPl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kZWxkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17ZG9jLmlkfSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdnZXRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke2N1cnJlbnRpZG1vZGVsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAxID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiByZXMyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9jb2x1bW5zXCJdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVscGFydHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubW9kZWxfcGFydHMubWFwKChkb2MyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwMyA9IGRvYzIubW9kZWxfY29sdW1ucy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jMykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MzIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbWFwMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9wYXJ0c1wiXSA9IG1vZGVscGFydHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wiaWRcIl0gPSByZXMyLmRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibmFtZVwiXSA9IHJlczIuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMSA9IFsuLi50ZW1wMSwgdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHZhbHVlKHJlczIuZGF0YS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR0cmlnZ2VyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YTIgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhkYXRhMiA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRpZG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWR4ZGF0YTIgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgKyBUYW1iYWggUGFydCBNb2RlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybTIuc3VibWl0fVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGVtb2RlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsY3JlYXRlbW9kZWx9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgbWItOFwiPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm0yfVxuICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEyLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge2ZpZWxkZGF0YWEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQyW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMl07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YWEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZG1hbnVmfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZE1hbnVmYWN0dXJlcn1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbG1hbnVmfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgTmFtYSBNYW51ZmFjdHVyZXIgPHNwYW4gY2xhc3NOYW1lPVwibmFtYW1hbnVcIj48L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdmFsdWU9e2RhdGFtYW51Zi5uYW1lfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIE5hbWEgTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgID8gc2V0ZGlzYWJsZWRtYW51Zih0cnVlKVxuICAgICAgICAgICAgICAgICAgOiBzZXRkaXNhYmxlZG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRkYXRhbWFudWYoeyBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hbWFtYW51OjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoeyByZXEsIHJlcywgcGFyYW1zIH0pIHtcbiAgY29uc3QgbW9kZWxpZCA9IHBhcmFtcy5tb2RlbElkO1xuICB2YXIgaW5pdFByb3BzID0ge307XG4gIGlmICghcmVxLmhlYWRlcnMuY29va2llKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvb2tpZXNKU09OMSA9IGh0dHBjb29raWUucGFyc2UocmVxLmhlYWRlcnMuY29va2llKTtcbiAgaWYgKCFjb29raWVzSlNPTjEudG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaW5pdFByb3BzID0gY29va2llc0pTT04xLnRva2VuO1xuICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZGV0YWlsUHJvZmlsZWAsXG4gICAge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IHJlc2pzb24gPSBhd2FpdCByZXNvdXJjZXMuanNvbigpO1xuICBjb25zdCBkYXRhUHJvZmlsZSA9IHJlc2pzb247XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgaW5pdFByb3BzLFxuICAgICAgZGF0YVByb2ZpbGUsXG4gICAgICBzaWRlbWVudTogXCI4MlwiLFxuICAgICAgbW9kZWxpZCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNVcGRhdGUyO1xuIl19 */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n                }, void 0, false, void 0, _this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3340,\n                columnNumber: 23\n              }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n                  layout: \"vertical\",\n                  initialValues: currentfield2,\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                      name: \"name\",\n                      label: \"Nama Field\",\n                      rules: [{\n                        required: true,\n                        message: \"Nama Field wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                        required: true,\n                        name: \"name\",\n                        onChange: function onChange(e) {\n                          setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                            name: e.target.value\n                          }));\n\n                          if (e.target.value === \"\") {\n                            setdisabledtambah2(true);\n                          } else if (e.target.value !== \"\" && currentfield2.data_type !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                            return doca !== \"\";\n                          })) {\n                            setdisabledtambah2(false);\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3476,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3466,\n                      columnNumber: 29\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                      name: \"data_type\",\n                      label: \"Tipe Field\",\n                      rules: [{\n                        required: true,\n                        message: \"Tipe Field wajib diisi\"\n                      }],\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                        placeholder: \"Pilih Tipe Field\",\n                        onChange: function onChange(value) {\n                          setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                            data_type: value\n                          }));\n\n                          if (value === \"dropdown\" || value === \"checkbox\") {\n                            if (currentdropdownn2.every(function (doca, idxa) {\n                              return doca !== \"\";\n                            })) {\n                              setdisabledtambah2(false);\n                            } else {\n                              setdisabledtambah2(true);\n                            }\n                          } else {\n                            setdisabledtambah2(false);\n                          }\n\n                          if (value === \"dropdown\") {\n                            setcurrentcheckeddropdownn2(\"\");\n                            setcurrentdropdownn2([\"\", \"\"]);\n                            setcd2part([\"\", \"\"]);\n                            setdisabledtambah2(true);\n                          }\n\n                          if (value === \"checkbox\") {\n                            setcurrentcheckeddropdownn2([]);\n                            setcurrentdropdownn2([\"\", \"\"]);\n                            setcd2part([\"\", \"\"]);\n                            setdisabledtambah2(true);\n                          }\n                        },\n                        name: \"data_type\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"dropdown\",\n                          children: \"Dropdown\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3546,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"number\",\n                          children: \"Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3549,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"paragraph\",\n                          children: \"Paragraph Text\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3552,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"checkbox\",\n                          children: \"Checkbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3555,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"single\",\n                          children: \"Single Textbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3558,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                          value: \"date\",\n                          children: \"Date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3561,\n                          columnNumber: 33\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3508,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3498,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3465,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"default\",\n                    label: \"Default\",\n                    children: [currentfield2.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                        children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3571,\n                        columnNumber: 33\n                      }, _this), currentdropdownn2.map(function (doc, idxx) {\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"flex mb-3\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-7 flex items-center\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                              checked: currentcheckeddropdownn2 === idxx ? true : false,\n                              onChange: function onChange(e) {\n                                if (e.target.checked === true) {\n                                  setcurrentcheckeddropdownn2(idxx);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3578,\n                              columnNumber: 39\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3577,\n                            columnNumber: 37\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-10/12 mr-5\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                              style: {\n                                marginRight: \"0.5rem\"\n                              },\n                              defaultValue: doc,\n                              placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                              onChange: function onChange(e) {\n                                setcurrentdropdownn2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n                                setcd2part(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n\n                                if (e.target.value !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                                  return doca !== \"\";\n                                }) && currentfield2.name !== \"\") {\n                                  setdisabledtambah2(false);\n                                } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                  setdisabledtambah2(true);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3592,\n                              columnNumber: 39\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3591,\n                            columnNumber: 37\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-1/12 flex justify-around\",\n                            onClick: function onClick() {\n                              setcurrentdropdownn2([]);\n                              setcdparttrigger(function (prev) {\n                                return !prev;\n                              });\n                              setcdpartidx(idxx);\n                            },\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                              type: \"danger\",\n                              children: \"-\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3634,\n                              columnNumber: 39\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3626,\n                            columnNumber: 37\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3576,\n                          columnNumber: 35\n                        }, _this);\n                      }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                          onClick: function onClick() {\n                            setcurrentdropdownn2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdownn2), [\"\"]));\n                            setcd2part([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2part), [\"\"]));\n                            setdisabledtambah2(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3639,\n                          columnNumber: 35\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3638,\n                        columnNumber: 33\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3570,\n                      columnNumber: 31\n                    }, _this) : null, currentfield2.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex flex-col\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                        children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3657,\n                        columnNumber: 33\n                      }, _this), currentdropdownn2.map(function (doc, idxx) {\n                        var idxchecked = currentcheckeddropdownn2.includes(idxx);\n                        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"flex mb-3\",\n                          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-7 flex items-center\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                              defaultChecked: idxchecked,\n                              onChange: function onChange(e) {\n                                if (e.target.checked === true) {\n                                  setcurrentcheckeddropdownn2(function (prev) {\n                                    var temp = prev;\n                                    temp.push(idxx);\n                                    return temp;\n                                  });\n                                } else {\n                                  setcurrentcheckeddropdownn2(function (prev) {\n                                    var temp = prev;\n                                    var index = temp.indexOf(idxx);\n                                    temp.splice(index, 1);\n                                    return temp;\n                                  });\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3667,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3666,\n                            columnNumber: 39\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-10/12 mr-5\",\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                              style: {\n                                marginRight: \"0.5rem\"\n                              },\n                              defaultValue: doc,\n                              placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                              onChange: function onChange(e) {\n                                setcurrentdropdownn2(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n                                setcd2part(function (prev) {\n                                  var temp = prev;\n                                  temp[idxx] = e.target.value;\n                                  return temp;\n                                });\n\n                                if (e.target.value !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                                  return doca !== \"\";\n                                }) && currentfield2.name !== \"\") {\n                                  setdisabledtambah2(false);\n                                } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                  setdisabledtambah2(true);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3693,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3692,\n                            columnNumber: 39\n                          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                            className: \"w-1/12 flex justify-around\",\n                            onClick: function onClick() {\n                              setcurrentdropdownn2([]);\n                              setcdparttrigger(function (prev) {\n                                return !prev;\n                              });\n                              setcdpartidx(idxx);\n                            },\n                            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                              type: \"danger\",\n                              children: \"-\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3735,\n                              columnNumber: 41\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3727,\n                            columnNumber: 39\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3665,\n                          columnNumber: 37\n                        }, _this);\n                      }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"mx-auto my-3\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                          onClick: function onClick() {\n                            setcurrentdropdownn2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdownn2), [\"\"]));\n                            setcd2part([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2part), [\"\"]));\n                            setdisabledtambah2(true);\n                          },\n                          children: \"+ Tambah Opsi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3741,\n                          columnNumber: 35\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3740,\n                        columnNumber: 33\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3656,\n                      columnNumber: 31\n                    }, _this) : null, currentfield2.data_type.toLowerCase() === \"number\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2___default.a, {\n                      style: {\n                        width: \"30%\"\n                      },\n                      defaultValue: fielddataa[idx][\"default\"],\n                      placeholder: \"Masukkan default \".concat(currentfield2.name),\n                      onChange: function onChange(value) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          \"default\": \"\".concat(value)\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3758,\n                      columnNumber: 31\n                    }, _this), currentfield2.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n                      rows: 4,\n                      placeholder: \"Masukkan default \".concat(currentfield2.name),\n                      defaultValue: fielddataa[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3772,\n                      columnNumber: 31\n                    }, _this), currentfield2.data_type.toLowerCase() === \"string\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      placeholder: \"Masukkan default \".concat(currentfield2.name),\n                      defaultValue: fielddataa[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3786,\n                      columnNumber: 31\n                    }, _this), currentfield2.data_type.toLowerCase() === \"single\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      placeholder: \"Masukkan default \".concat(currentfield2.name),\n                      defaultValue: fielddataa[idx][\"default\"],\n                      onChange: function onChange(e) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          \"default\": e.target.value\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3799,\n                      columnNumber: 31\n                    }, _this), currentfield2.data_type.toLowerCase() === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default.a, {\n                      defaultValue: fielddataa[idx][\"default\"],\n                      style: {\n                        width: \"30%\"\n                      },\n                      placeholder: \"Masukkan default \".concat(currentfield2.name),\n                      onChange: function onChange(value, dateString) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          \"default\": dateString\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3812,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3567,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3825,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex mt-4 justify-end\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                      placement: \"bottom\",\n                      title: \"Apakah anda yakin ingin menghapus field \".concat(doc.name === \"\" ? \"ini\" : doc.name, \"?\"),\n                      okText: \"Ya\",\n                      cancelText: \"Tidak\",\n                      onConfirm: function onConfirm() {\n                        setfielddataa(function (prev) {\n                          return prev.filter(function (_, idxx) {\n                            return idxx !== idx;\n                          });\n                        });\n                        setnewdata2(function (prev) {\n                          var temp = prev;\n                          temp.model_columns = temp.model_columns.filter(function (docxx, idxx) {\n                            return docxx.id !== doc.id;\n                          });\n                          return temp;\n                        });\n                        setaddedfield3(function (prev) {\n                          prev.splice(idx, 1);\n                          return prev;\n                        });\n                        setdisabledaddfield2(false);\n                        setpointevent2(\"\");\n                      },\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"DeleteOutlined\"], {\n                          style: {\n                            fontSize: \"1.25rem\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3855,\n                          columnNumber: 33\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3854,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3827,\n                      columnNumber: 29\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \" flex items-center mr-4\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                        checked: currentfield2.required,\n                        style: {\n                          marginRight: \"0.5rem\"\n                        },\n                        onChange: function onChange(e) {\n                          setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                            required: e.target.checked\n                          }));\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3861,\n                        columnNumber: 31\n                      }, _this), \" \", \"Required\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3860,\n                      columnNumber: 29\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                      disabled: disabledtambah2,\n                      type: \"primary\",\n                      onClick: function onClick() {\n                        if (currentfield2.data_type === \"dropdown\" || currentfield2.data_type === \"checkbox\") {\n                          setidxdropdowntrigger3(idx);\n                          setvaluedropdowntrigger3(function (prev) {\n                            return !prev;\n                          });\n                        }\n\n                        var temp = fielddataa;\n                        temp[idx] = currentfield2;\n                        setfielddataa(temp);\n                        setaddedfieldidx3(idx);\n                        setaddedfieldtrigger3(function (prev) {\n                          return !prev;\n                        });\n                        setconcatfieldtrigger2(function (prev) {\n                          return !prev;\n                        });\n                        setdisabledaddfield2(false);\n                        setpointevent2(\"\");\n                      },\n                      children: \"Tambah\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3873,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3826,\n                    columnNumber: 27\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3464,\n                  columnNumber: 25\n                }, _this)\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3460,\n                columnNumber: 23\n              }, _this)\n            }, void 0, false);\n          })\n        }, void 0, false), fielddataa2.map(function (doc, idx) {\n          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n            children: addedfield2[idx] === true ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              onClick: function onClick() {\n                var temp = Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(addedfield2);\n\n                temp[idx] = false;\n\n                for (var i = 0; i < temp.length; i++) {\n                  if (i !== idx) {\n                    temp[i] = true;\n                  }\n                }\n\n                setaddedfield2(temp);\n                setcurrentfield2(fielddataa2[idx]);\n\n                if (doc.data_type === \"dropdown\" || doc.data_type === \"checkbox\") {\n                  setcurrentdropdownn2(doc[\"default\"].opsi);\n                  setcd2part(doc[\"default\"].opsi);\n                  setcurrentcheckeddropdownn2(doc[\"default\"][\"default\"]);\n                }\n\n                if (fielddataa2[idx].data_type !== \"dropdown\" || fielddataa2[idx].data_type !== \"checkbox\") {\n                  if (fielddataa2[idx].name !== \"\" && fielddataa2[idx].data_type !== \"\") {\n                    setdisabledtambah2(false);\n                  } else {\n                    setdisabledtambah2(true);\n                  }\n                } else {\n                  if (doc[\"default\"].opsi.some(function (docopsi) {\n                    return docopsi === \"\";\n                  })) {\n                    setdisabledtambah2(true);\n                  } else {\n                    setdisabledtambah2(false);\n                  }\n                }\n\n                setdisabledaddfield2(true);\n                setpointevent2(\"pointer-events-none\");\n              },\n              className: \"jsx-28588772\" + \" \" + \"\".concat(pointevent2, \" shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md cursor-pointer\"),\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"font-semibold mb-2\",\n                children: [doc.name, fielddataa2[idx].required ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                  className: \"jsx-28588772\" + \" \" + \"judulField\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3959,\n                  columnNumber: 25\n                }, _this) : null, \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n                  className: \"jsx-28588772\" + \" \" + \"text-gray-400 text-sm\",\n                  children: [\"(\", doc.data_type === \"single\" ? \"Single Textbox\" : doc.data_type.charAt(0).toUpperCase() + doc.data_type.slice(1), doc.data_type === \"paragraph\" && \" Text\", \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3961,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3956,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                className: \"jsx-28588772\" + \" \" + \"rounded border w-full pl-3 py-2 flex items-center my-auto\",\n                children: doc.data_type === \"checkbox\" || doc.data_type === \"dropdown\" || doc.data_type === \"paragraph\" || doc.data_type === \"date\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"], {\n                  children: [doc.data_type === \"dropdown\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex flex-col w-full\",\n                    children: doc[\"default\"].opsi.map(function (dok, idk) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-28588772\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                          className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3984,\n                          columnNumber: 37\n                        }, _this)\n                      }, idk, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3980,\n                        columnNumber: 35\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3977,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"checkbox\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex flex-col w-full\",\n                    children: doc[\"default\"].opsi.map(function (dok, idk) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"jsx-28588772\" + \" \" + \"rounded border mb-1 w-3/12 py-1 pl-3 flex items-center flex-wrap my-auto\",\n                        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                          className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                          children: dok\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3998,\n                          columnNumber: 37\n                        }, _this)\n                      }, idk, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3994,\n                        columnNumber: 35\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3991,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex justify-between w-full px-3\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                      className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                      children: doc[\"default\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4006,\n                      columnNumber: 31\n                    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"jsx-28588772\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"CalendarOutlined\"], {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4008,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4007,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4005,\n                    columnNumber: 29\n                  }, _this), doc.data_type === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"jsx-28588772\" + \" \" + \"flex h-20\",\n                    children: doc[\"default\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4013,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n                  className: \"jsx-28588772\" + \" \" + \"mb-0\",\n                  children: doc[\"default\"]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4017,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3970,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n                id: \"28588772\",\n                children: \".judulField.jsx-28588772::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvN0h1QixBQUd5RSxZQUNGLFVBQ2QiLCJmaWxlIjoiL2hvbWUva2pva2tlbi9taWcvY29kZS9mcm9udGVuZC9pbXMtZmUtc3NoLWRldi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9LCBbdHJpZ2dlcm1hbnVmXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7bW9kZWxpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9tb2RlbF9wYXJ0c1xuICAgICAgICBjb25zdCByZWN1cnNpdmVQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgICAgIHZhciB0ZW1wMTEgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZW1wMSA9IHt9O1xuICAgICAgICAgICAgdGVtcDEgPSBpdGVtW2ldLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0ZW1wMTEucHVzaCh7XG4gICAgICAgICAgICAgIC4uLml0ZW1baV0sXG4gICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAxLFxuICAgICAgICAgICAgICBtb2RlbF9wYXJ0czpcbiAgICAgICAgICAgICAgICBpdGVtW2ldLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gcmVjdXJzaXZlUGFydE1vZGVsKGl0ZW1baV0ubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZW1wMTE7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHlvID0gcmVjdXJzaXZlUGFydE1vZGVsKHJlczIuZGF0YS5tb2RlbF9wYXJ0cyk7XG4gICAgICAgIGNvbnN0IHRlbXAyID0ge1xuICAgICAgICAgIC4uLnJlczIuZGF0YSxcbiAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmFzc2V0LmNvZGUsXG4gICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcCxcbiAgICAgICAgICBhZGRfY29sdW1uczogW10sXG4gICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0bmV3ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGFzc2V0KHRlbXApO1xuICAgICAgICBzZXRkZWZhdWx0bW9kZWwodGVtcDIpO1xuICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoeW8pO1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRhZGRlZGZpZWxkKGFycik7XG4gICAgICAgIHNldGFzc2V0dHlwZWNvZGUocmVzMi5kYXRhLmFzc2V0X2lkKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwobW9kZWx0cmlnZ2VyKTtcbiAgICAgICAgbW9kZWx0cmlnZ2VyICE9PSBmYWxzZSA/IHNldGVkaXRwYXJ0KHRydWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICB9LCBbbW9kZWx0cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlciAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEyLmNvbmNhdChmaWVsZGRhdGEpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHggIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNoYW5nZWFzc2V0LnNvbWUoXG4gICAgICAgICAgKGRvY3NvbWUpID0+IGRvY3NvbWUuaWQgPT09IGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZFxuICAgICAgICApIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2ZpZWxkZGF0YTIubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHgxICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjb25jYXRhZGRjb2x1bW5zaWR4MSA+IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoIC0gMSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlMS5pZCA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICBjaGFuZ2Vhc3NldCA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtmaWVsZGRhdGEubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtjb25jYXRhZGRjb2x1bW5zaWR4MV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4XSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHhdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDEgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4MV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4MV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgzICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDNdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4M10gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyM10pO1xuXG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYWRkX21vZGVsczogdGVtcCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRwYXJ0dHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMi5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkaWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RwYXJ0aWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMnBhcnQuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZHBhcnRpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RwYXJ0aWR4KSk7XG4gICAgfVxuICB9LCBbY2RwYXJ0dHJpZ2dlcl0pO1xuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5cbiAgICAgICAgICAgICAgICBGb3JtIFViYWggTW9kZWwgLSB7bmV3ZGF0YS5uYW1lfVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gfT5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgLypvbkNsaWNrPXsoKSA9PiB7IGNvbnNvbGUubG9nKG5ld2RhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2coZGVmYXVsdGRhdGEpOyBjb25zb2xlLmxvZyhkZWZhdWx0YXNzZXQpIH19Ki8gdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybS5zdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9TdGlja3k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+SW5mb3JtYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAge3ByYWxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxTcGluPjwvU3Bpbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtfVxuICAgICAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWx9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17bmV3ZGF0YX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51Zih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5pc19jb25zdW1hYmxlfVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBNb2RlbCBDb25zdW1hYmxlIGRlbmdhbiBzYXR1YW4ganVtbGFoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7bG9hZGluZ3NwZWMgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhMi5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPEVtcHR5IGltYWdlPXtFbXB0eS5QUkVTRU5URURfSU1BR0VfU0lNUExFfT48L0VtcHR5PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGZpZWxkZGF0YTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZFtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICE9PSBmaWVsZGRhdGEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeFVwZGF0ZUNvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5zcGxpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4VXBkYXRlQ29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2ZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMVtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGFbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YTIubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvYy5tb2RlbF9jaGlsZC5sZW5ndGggPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB3LTYvMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0yXCI+e2RvYy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJyaWdodFwiIHRpdGxlPVwiTW9kZWwgdGlkYWsgbWVtaWxpa2kgcGFydCBtb2RlbCFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgPEV4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGBicm93bmAgfX0+PC9FeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBNb2RlbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBkYXJpIE1vZGVsIFBhcnQgJHtuZXdkYXRhLm5hbWV9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4dGVtcCA9IG1vZGVscGFydGZpZWxkZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzIpID0+IGRvYzIuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5zcGxpY2UoaWR4ZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5pbmRleE9mKGRvYy5pZCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGByZWRgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXQgVHlwZXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsYXNzZXR0eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jLCBpZHhtYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgbXktYXV0byBweC0yIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXdoaXRlIGJvcmRlciB3LTMvMTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGJnLWdyYXktMTAwIHJvdW5kZWQgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIGZsZXggaXRlbXMtY2VudGVyIHctZnVsbCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUaW1lbGluZSBzdHlsZT17eyBtYXJnaW5Ub3A6IGAxcmVtYCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RpbWVsaW5lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2VkaXRwYXJ0ID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG15LTMgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTUgdGV4dC1sZyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50aWRtb2RlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtjdXJyZW50aWRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hpbmdwYXJ0ID8gPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9L2dldE1vZGVscz9yb3dzPTEwJm5hbWU9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gXCJcIiA/IHZhbHVlIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldG1vZGVsZGF0YShbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gYXRhdSBjYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uUG9wdXBTY3JvbGw9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZXZlbnQudGFyZ2V0LnNjcm9sbFRvcCArIGV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQgPT09IGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldHBhZ2UocHJldiA9PiBwcmV2ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHM/cGFnZT0ke3BhZ2V9JnJvd3M9MTBgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlczIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2Nyb2xsVG8oMCwgZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLnRvID49IHJlczIuZGF0YS50b3RhbCA/IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YV0pIDogc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhLCA8U3BpbiBzaXplPVwic21hbGxcIiAvPl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kZWxkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17ZG9jLmlkfSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdnZXRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke2N1cnJlbnRpZG1vZGVsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAxID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiByZXMyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9jb2x1bW5zXCJdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVscGFydHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubW9kZWxfcGFydHMubWFwKChkb2MyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwMyA9IGRvYzIubW9kZWxfY29sdW1ucy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jMykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MzIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbWFwMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9wYXJ0c1wiXSA9IG1vZGVscGFydHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wiaWRcIl0gPSByZXMyLmRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibmFtZVwiXSA9IHJlczIuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMSA9IFsuLi50ZW1wMSwgdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHZhbHVlKHJlczIuZGF0YS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR0cmlnZ2VyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YTIgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhkYXRhMiA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRpZG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWR4ZGF0YTIgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgKyBUYW1iYWggUGFydCBNb2RlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybTIuc3VibWl0fVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGVtb2RlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsY3JlYXRlbW9kZWx9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgbWItOFwiPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm0yfVxuICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEyLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge2ZpZWxkZGF0YWEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQyW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMl07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YWEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZG1hbnVmfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZE1hbnVmYWN0dXJlcn1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbG1hbnVmfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgTmFtYSBNYW51ZmFjdHVyZXIgPHNwYW4gY2xhc3NOYW1lPVwibmFtYW1hbnVcIj48L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdmFsdWU9e2RhdGFtYW51Zi5uYW1lfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIE5hbWEgTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgID8gc2V0ZGlzYWJsZWRtYW51Zih0cnVlKVxuICAgICAgICAgICAgICAgICAgOiBzZXRkaXNhYmxlZG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRkYXRhbWFudWYoeyBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hbWFtYW51OjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoeyByZXEsIHJlcywgcGFyYW1zIH0pIHtcbiAgY29uc3QgbW9kZWxpZCA9IHBhcmFtcy5tb2RlbElkO1xuICB2YXIgaW5pdFByb3BzID0ge307XG4gIGlmICghcmVxLmhlYWRlcnMuY29va2llKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvb2tpZXNKU09OMSA9IGh0dHBjb29raWUucGFyc2UocmVxLmhlYWRlcnMuY29va2llKTtcbiAgaWYgKCFjb29raWVzSlNPTjEudG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaW5pdFByb3BzID0gY29va2llc0pTT04xLnRva2VuO1xuICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZGV0YWlsUHJvZmlsZWAsXG4gICAge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IHJlc2pzb24gPSBhd2FpdCByZXNvdXJjZXMuanNvbigpO1xuICBjb25zdCBkYXRhUHJvZmlsZSA9IHJlc2pzb247XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgaW5pdFByb3BzLFxuICAgICAgZGF0YVByb2ZpbGUsXG4gICAgICBzaWRlbWVudTogXCI4MlwiLFxuICAgICAgbW9kZWxpZCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNVcGRhdGUyO1xuIl19 */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n              }, void 0, false, void 0, _this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3910,\n              columnNumber: 19\n            }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n              className: \"shadow-md border p-8 mx-3 md:mx-8 mb-5 flex flex-col rounded-md\",\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a, {\n                layout: \"vertical\",\n                initialValues: currentfield2,\n                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 space-x-2\",\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"name\",\n                    label: \"Nama Field\",\n                    rules: [{\n                      required: true,\n                      message: \"Nama Field wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                      required: true,\n                      name: \"name\",\n                      onChange: function onChange(e) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          name: e.target.value\n                        }));\n\n                        if (e.target.value === \"\") {\n                          setdisabledtambah2(true);\n                        } else if (e.target.value !== \"\" && currentfield2.data_type !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                          return doca !== \"\";\n                        })) {\n                          setdisabledtambah2(false);\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4046,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4036,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                    name: \"data_type\",\n                    label: \"Tipe Field\",\n                    rules: [{\n                      required: true,\n                      message: \"Tipe Field wajib diisi\"\n                    }],\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a, {\n                      placeholder: \"Pilih Tipe Field\",\n                      onChange: function onChange(value) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          data_type: value\n                        }));\n\n                        if (value === \"dropdown\" || value === \"checkbox\") {\n                          if (currentdropdownn2.every(function (doca, idxa) {\n                            return doca !== \"\";\n                          })) {\n                            setdisabledtambah2(false);\n                          } else {\n                            setdisabledtambah2(true);\n                          }\n                        } else {\n                          setdisabledtambah2(false);\n                        }\n\n                        if (value === \"dropdown\") {\n                          setcurrentcheckeddropdownn2(\"\");\n                          setcurrentdropdownn2([\"\", \"\"]);\n                          setcd2part([\"\", \"\"]);\n                          setdisabledtambah2(true);\n                        }\n\n                        if (value === \"checkbox\") {\n                          setcurrentcheckeddropdownn2([]);\n                          setcurrentdropdownn2([\"\", \"\"]);\n                          setcd2part([\"\", \"\"]);\n                          setdisabledtambah2(true);\n                        }\n                      },\n                      name: \"data_type\",\n                      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"dropdown\",\n                        children: \"Dropdown\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4116,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"number\",\n                        children: \"Number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4119,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"paragraph\",\n                        children: \"Paragraph Text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4122,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"checkbox\",\n                        children: \"Checkbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4125,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"single\",\n                        children: \"Single Textbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4128,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_14___default.a.Option, {\n                        value: \"date\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4131,\n                        columnNumber: 29\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4078,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4068,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4035,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.Item, {\n                  name: \"default\",\n                  label: \"Default\",\n                  children: [currentfield2.data_type.toLowerCase() === \"dropdown\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                      children: \"Default hanya dipilih 1 (satu) dari beberapa opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4139,\n                      columnNumber: 29\n                    }, _this), currentdropdownn2.map(function (doc, idxx) {\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            checked: currentcheckeddropdownn2 === idxx ? true : false,\n                            onChange: function onChange(e) {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdownn2(idxx);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4146,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4145,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                            style: {\n                              marginRight: \"0.5rem\"\n                            },\n                            defaultValue: doc,\n                            placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                            onChange: function onChange(e) {\n                              setcurrentdropdownn2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2part(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                                return doca !== \"\";\n                              }) && currentfield2.name !== \"\") {\n                                setdisabledtambah2(false);\n                              } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                setdisabledtambah2(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4160,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4159,\n                          columnNumber: 33\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: function onClick() {\n                            setcurrentdropdownn2([]);\n                            setcdparttrigger(function (prev) {\n                              return !prev;\n                            });\n                            setcdpartidx(idxx);\n                          },\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4200,\n                            columnNumber: 35\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4192,\n                          columnNumber: 33\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4144,\n                        columnNumber: 31\n                      }, _this);\n                    }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                        onClick: function onClick() {\n                          setcurrentdropdownn2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdownn2), [\"\"]));\n                          setcd2part([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2part), [\"\"]));\n                          setdisabledtambah2(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4205,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4204,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4138,\n                    columnNumber: 27\n                  }, _this) : null, currentfield2.data_type.toLowerCase() === \"checkbox\" ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n                      children: \"Default dapat dipilih lebih dari 1 (satu) opsi dibawah ini\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4223,\n                      columnNumber: 29\n                    }, _this), currentdropdownn2.map(function (doc, idxx) {\n                      var idxchecked = currentcheckeddropdownn2.includes(idxx);\n                      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                        className: \"flex mb-3\",\n                        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-7 flex items-center\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                            defaultChecked: idxchecked,\n                            onChange: function onChange(e) {\n                              if (e.target.checked === true) {\n                                setcurrentcheckeddropdownn2(function (prev) {\n                                  var temp = prev;\n                                  temp.push(idxx);\n                                  return temp;\n                                });\n                              } else {\n                                setcurrentcheckeddropdownn2(function (prev) {\n                                  var temp = prev;\n                                  var index = temp.indexOf(idxx);\n                                  temp.splice(index, 1);\n                                  return temp;\n                                });\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4233,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4232,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-10/12 mr-5\",\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                            style: {\n                              marginRight: \"0.5rem\"\n                            },\n                            defaultValue: doc,\n                            placeholder: \"Masukkan opsi ke-\".concat(idxx + 1),\n                            onChange: function onChange(e) {\n                              setcurrentdropdownn2(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n                              setcd2part(function (prev) {\n                                var temp = prev;\n                                temp[idxx] = e.target.value;\n                                return temp;\n                              });\n\n                              if (e.target.value !== \"\" && currentdropdownn2.every(function (doca, idxa) {\n                                return doca !== \"\";\n                              }) && currentfield2.name !== \"\") {\n                                setdisabledtambah2(false);\n                              } else if (e.target.value === \"\" || currentfield2.name === \"\") {\n                                setdisabledtambah2(true);\n                              }\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4258,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4257,\n                          columnNumber: 35\n                        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                          className: \"w-1/12 flex justify-around\",\n                          onClick: function onClick() {\n                            setcurrentdropdownn2([]);\n                            setcdparttrigger(function (prev) {\n                              return !prev;\n                            });\n                            setcdpartidx(idxx);\n                          },\n                          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                            type: \"danger\",\n                            children: \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4300,\n                            columnNumber: 37\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4292,\n                          columnNumber: 35\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4231,\n                        columnNumber: 33\n                      }, _this);\n                    }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"mx-auto my-3\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                        onClick: function onClick() {\n                          setcurrentdropdownn2([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currentdropdownn2), [\"\"]));\n                          setcd2part([].concat(Object(_home_kjokken_mig_code_frontend_ims_fe_ssh_dev_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(cd2part), [\"\"]));\n                          setdisabledtambah2(true);\n                        },\n                        children: \"+ Tambah Opsi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4306,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4305,\n                      columnNumber: 29\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4222,\n                    columnNumber: 27\n                  }, _this) : null, currentfield2.data_type.toLowerCase() === \"number\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_2___default.a, {\n                    style: {\n                      width: \"30%\"\n                    },\n                    defaultValue: fielddataa2[idx][\"default\"],\n                    placeholder: \"Masukkan default \".concat(currentfield2.name),\n                    onChange: function onChange(value) {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        \"default\": \"\".concat(value)\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4322,\n                    columnNumber: 27\n                  }, _this), currentfield2.data_type.toLowerCase() === \"paragraph\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a.TextArea, {\n                    rows: 4,\n                    placeholder: \"Masukkan default \".concat(currentfield2.name),\n                    defaultValue: fielddataa2[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4336,\n                    columnNumber: 27\n                  }, _this), currentfield2.data_type.toLowerCase() === \"string\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    placeholder: \"Masukkan default \".concat(currentfield2.name),\n                    defaultValue: fielddataa2[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4349,\n                    columnNumber: 27\n                  }, _this), currentfield2.data_type.toLowerCase() === \"single\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    placeholder: \"Masukkan default \".concat(currentfield2.name),\n                    defaultValue: fielddataa2[idx][\"default\"],\n                    onChange: function onChange(e) {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        \"default\": e.target.value\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4361,\n                    columnNumber: 27\n                  }, _this), currentfield2.data_type.toLowerCase() === \"date\" && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_date_picker__WEBPACK_IMPORTED_MODULE_1___default.a, {\n                    style: {\n                      width: \"30%\"\n                    },\n                    placeholder: \"Masukkan default \".concat(currentfield2.name),\n                    onChange: function onChange(value, dateString) {\n                      setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                        \"default\": dateString\n                      }));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4373,\n                    columnNumber: 27\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4135,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4385,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                  className: \"flex mt-4 justify-end\",\n                  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                    placement: \"bottom\",\n                    title: \"Apakah anda yakin ingin menghapus field \".concat(doc.name === \"\" ? \"ini\" : doc.name, \"?\"),\n                    okText: \"Ya\",\n                    cancelText: \"Tidak\",\n                    onConfirm: function onConfirm() {\n                      setfielddataa2(function (prev) {\n                        return prev.filter(function (_, idxx) {\n                          return idxx !== idx;\n                        });\n                      });\n                      setnewdata2(function (prev) {\n                        var temp = prev;\n                        temp.model_columns = temp.model_columns.filter(function (_, idxx) {\n                          return idxx !== fielddataa.length + idx;\n                        });\n                        return temp;\n                      });\n                      setaddedfield2(function (prev) {\n                        prev.splice(idx, 1);\n                        return prev;\n                      });\n                      setdisabledaddfield2(false);\n                      setpointevent2(\"\");\n                    },\n                    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                      className: \"flex items-center mr-4 hover:text-red-500 cursor-pointer\",\n                      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_19__[\"DeleteOutlined\"], {\n                        style: {\n                          fontSize: \"1.25rem\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4414,\n                        columnNumber: 29\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4413,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4387,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n                    className: \" flex items-center mr-4\",\n                    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_13___default.a, {\n                      checked: currentfield2.required,\n                      style: {\n                        marginRight: \"0.5rem\"\n                      },\n                      onChange: function onChange(e) {\n                        setcurrentfield2(_objectSpread(_objectSpread({}, currentfield2), {}, {\n                          required: e.target.checked\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4420,\n                      columnNumber: 27\n                    }, _this), \" \", \"Required\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4419,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                    type: \"primary\",\n                    disabled: disabledtambah2,\n                    onClick: function onClick() {\n                      if (currentfield2.data_type === \"dropdown\" || currentfield2.data_type === \"checkbox\") {\n                        setidxdropdowntrigger2(idx);\n                        setvaluedropdowntrigger2(function (prev) {\n                          return !prev;\n                        });\n                      }\n\n                      var temp = fielddataa2;\n                      temp[idx] = currentfield2;\n                      setfielddataa2(temp);\n                      setaddedfieldidx2(idx);\n                      setaddedfieldtrigger2(function (prev) {\n                        return !prev;\n                      });\n                      setconcatfieldtrigger2(function (prev) {\n                        return !prev;\n                      });\n                      setdisabledaddfield2(false);\n                      setpointevent2(\"\");\n                    },\n                    children: \"Tambah\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4432,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4386,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4034,\n                columnNumber: 21\n              }, _this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4030,\n              columnNumber: 19\n            }, _this)\n          }, void 0, false);\n        }), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"w-full flex justify-center mt-5\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"dashed\",\n            disabled: disabledaddfield2,\n            style: {\n              width: \"80%\",\n              height: \"4rem\"\n            },\n            onClick: onClickAddField2,\n            children: \"+ Tambah Spesifikasi Model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4463,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4462,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3196,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3063,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_modal_Modal__WEBPACK_IMPORTED_MODULE_20___default.a, {\n      title: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \"flex justify-between p-5 mt-5\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"h1\", {\n          className: \"font-bold text-xl\",\n          children: \"Form Tambah Manufacturer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4477,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"default\",\n            onClick: function onClick() {\n              setmodalmanuf(false);\n            },\n            style: {\n              marginRight: \"1rem\"\n            },\n            children: \"Batal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4479,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_7___default.a, {\n            type: \"primary\",\n            disabled: disabledmanuf,\n            onClick: handleAddManufacturer,\n            loading: loadingmanuf,\n            children: \"Simpan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4488,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4478,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4476,\n        columnNumber: 11\n      }, _this),\n      visible: modalmanuf,\n      footer: null,\n      onCancel: function onCancel() {\n        setmodalmanuf(false);\n      },\n      width: 900,\n      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n        className: \"flex flex-col mb-3\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"div\", {\n          className: \"jsx-842967156\" + \" \" + \"flex flex-col mb-3\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"p\", {\n            className: \"jsx-842967156\" + \" \" + \"mb-0\",\n            children: [\"Nama Manufacturer \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(\"span\", {\n              className: \"jsx-842967156\" + \" \" + \"namamanu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4509,\n              columnNumber: 33\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4508,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n            value: datamanuf.name,\n            placeholder: \"Masukkan Nama Manufacturer\",\n            onChange: function onChange(e) {\n              e.target.value === \"\" ? setdisabledmanuf(true) : setdisabledmanuf(false);\n              setdatamanuf({\n                name: e.target.value\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4511,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxDEV\"])(styled_jsx_style__WEBPACK_IMPORTED_MODULE_18___default.a, {\n            id: \"842967156\",\n            children: \".namamanu.jsx-842967156::before{content:'*';color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tqb2trZW4vbWlnL2NvZGUvZnJvbnRlbmQvaW1zLWZlLXNzaC1kZXYvc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5NkllLEFBR2lELFlBQ0YsVUFDZCIsImZpbGUiOiIvaG9tZS9ram9ra2VuL21pZy9jb2RlL2Zyb250ZW5kL2ltcy1mZS1zc2gtZGV2L3NyYy9wYWdlcy9hZG1pbi9tb2RlbHMvdXBkYXRlMi9bbW9kZWxJZF0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWxldGVPdXRsaW5lZCB9IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQ2FsZW5kYXJPdXRsaW5lZCxcbiAgQ2xvc2VDaXJjbGVPdXRsaW5lZCxcbiAgUGx1c1NxdWFyZVR3b1RvbmUsXG59IGZyb20gXCJAYW50LWRlc2lnbi9pY29uc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBDaGVja2JveCxcbiAgQ29sbGFwc2UsXG4gIERhdGVQaWNrZXIsXG4gIEVtcHR5LFxuICBGb3JtLFxuICBJbnB1dCxcbiAgSW5wdXROdW1iZXIsXG4gIFBvcGNvbmZpcm0sXG4gIFNlbGVjdCxcbiAgU3BpbixcbiAgVGltZWxpbmUsXG4gIFRyZWVTZWxlY3QsXG4gIG5vdGlmaWNhdGlvbixcbn0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBNb2RhbCBmcm9tIFwiYW50ZC9saWIvbW9kYWwvTW9kYWxcIjtcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgU3RpY2t5IGZyb20gXCJ3aWwtcmVhY3Qtc3RpY2t5XCI7XG5cbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0LWRhc2hib2FyZFwiO1xuaW1wb3J0IHN0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmQubW9kdWxlLmNzc1wiO1xuaW1wb3J0IGh0dHBjb29raWUgZnJvbSBcImNvb2tpZVwiO1xuXG5jb25zdCBNb2RlbHNVcGRhdGUyID0gKHsgc2lkZW1lbnUsIGRhdGFQcm9maWxlLCBpbml0UHJvcHMsIG1vZGVsaWQgfSkgPT4ge1xuICAvLzEuSW5pdFxuICBjb25zdCBydCA9IHVzZVJvdXRlcigpO1xuICB2YXIgcGF0aEFyciA9IHJ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcbiAgcGF0aEFyci5zcGxpY2UoMywgMSk7XG4gIHBhdGhBcnJbcGF0aEFyci5sZW5ndGggLSAxXSA9IFwiVWJhaCBNb2RlbFwiO1xuICBjb25zdCBbaW5zdGFuY2VGb3JtXSA9IEZvcm0udXNlRm9ybSgpO1xuICBjb25zdCBbaW5zdGFuY2VGb3JtMl0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgeyBQYW5lbCB9ID0gQ29sbGFwc2U7XG5cbiAgLy8yLkhlbHBlciBmdW5jdGlvbnNcbiAgY29uc3QgcmVuZGVyQ2hpbGRQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgIHJldHVybiBpdGVtLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgIHJldHVybiA8Q2hpbGRyZW4gZG9jPXtkb2N9PjwvQ2hpbGRyZW4+O1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IENoaWxkcmVuID0gKHsgZG9jIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRpbWVsaW5lLkl0ZW0+XG4gICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAge1xuICAgICAgICAgICAgPFBhbmVsIGhlYWRlcj17ZG9jLm5hbWV9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+UXVhbnRpdHkgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj48L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTAgdGV4dC1zbVwiPntkb2MucXVhbnRpdHl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX2NvbHVtbnMubWFwKChkb2NtYzIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gdmFyIGRlZmF1bHQyID0ge31cbiAgICAgICAgICAgICAgICAgIC8vIGlmIChkb2NtYzIuZGF0YV90eXBlID09PSAnZHJvcGRvd24nIHx8IGRvY21jMi5kYXRhX3R5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgICAgICAgIC8vICAgICBkZWZhdWx0MiA9IEpTT04ucGFyc2UoZG9jbWMyLmRlZmF1bHQpXG4gICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIubmFtZX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bHNuXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvY21jMi5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAxMDAlYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGByZ2JhKDIyOSwgMjMxLCAyMzUsMSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0Lm9wc2kubWFwKChkb2MyLCBpZHgyKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gZGlzYWJsZWQgdmFsdWU9e2lkeDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMywgaWR4MykgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jM308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQgYmctZ3JheS0xMDAgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jbWMyLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgIHJlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgIH1cbiAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgIDwvVGltZWxpbmUuSXRlbT5cbiAgICApO1xuICB9O1xuXG4gIC8vMi51c2VTdGF0ZVxuICBjb25zdCBbbmV3ZGF0YSwgc2V0bmV3ZGF0YV0gPSB1c2VTdGF0ZSh7XG4gICAgaWQ6IFwiXCIsXG4gICAgYXNzZXRfaWQ6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICBtYW51ZmFjdHVyZXJfaWQ6IG51bGwsXG4gICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgIG1vZGVsX2NvbHVtbnM6IFtdLFxuICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgICBhZGRfY29sdW1uczogW10sXG4gICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgfSk7XG4gIGNvbnN0IFtuZXdkYXRhMiwgc2V0bmV3ZGF0YTJdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbZGVmYXVsdGRhdGEsIHNldGRlZmF1bHRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2Fzc2V0ZGF0YSwgc2V0YXNzZXRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21hbnVmZGF0YSwgc2V0bWFudWZkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVsZGF0YSwgc2V0bW9kZWxkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YSwgc2V0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YTIsIHNldGZpZWxkZGF0YTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYSwgc2V0ZmllbGRkYXRhYV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGFhMiwgc2V0ZmllbGRkYXRhYTJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbW9kZWxwYXJ0ZmllbGRkYXRhLCBzZXRtb2RlbHBhcnRmaWVsZGRhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudGZpZWxkLCBzZXRjdXJyZW50ZmllbGRdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZDIsIHNldGN1cnJlbnRmaWVsZDJdID0gdXNlU3RhdGUoe1xuICAgIG5hbWU6IFwiXCIsXG4gICAgZGF0YV90eXBlOiBcIlwiLFxuICAgIGRlZmF1bHQ6IFwic2luZ2xlXCIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRpZG1vZGVsLCBzZXRjdXJyZW50aWRtb2RlbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FkZGVkZmllbGQsIHNldGFkZGVkZmllbGRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDEsIHNldGFkZGVkZmllbGQxXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQyLCBzZXRhZGRlZGZpZWxkMl0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMywgc2V0YWRkZWRmaWVsZDNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeCwgc2V0YWRkZWRmaWVsZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlciwgc2V0YWRkZWRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDEsIHNldGFkZGVkZmllbGRpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMSwgc2V0YWRkZWRmaWVsZHRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgyLCBzZXRhZGRlZGZpZWxkaWR4Ml0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjIsIHNldGFkZGVkZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Mywgc2V0YWRkZWRmaWVsZGlkeDNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIzLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZSwgc2V0bG9hZGluZ2NyZWF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nY3JlYXRlbW9kZWwsIHNldGxvYWRpbmdjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nZ2V0bW9kZWwsIHNldGxvYWRpbmdnZXRtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmFsb2FkaW5nLCBzZXRwcmFsb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbG9hZGluZ3NwZWMsIHNldGxvYWRpbmdzcGVjXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjMiwgc2V0bG9hZGluZ3NwZWMyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bjIsIHNldGN1cnJlbnRkcm9wZG93bjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRkcm9wZG93bm4yLCBzZXRjdXJyZW50ZHJvcGRvd25uMl0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bjIsIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt2YWx1ZWRyb3Bkb3dudHJpZ2dlciwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIxLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIzLCBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMSwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIyLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjMsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjNdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIsIHNldGNvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnNpZHgsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3ZhbHVlLCBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWVdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIxLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjFdID1cbiAgICB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4MSwgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc3ZhbHVlMSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlMV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjb25jYXRmaWVsZHRyaWdnZXIyLCBzZXRjb25jYXRmaWVsZHRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VkaXRwYXJ0LCBzZXRlZGl0cGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RhbGNyZWF0ZW1vZGVsLCBzZXRtb2RhbGNyZWF0ZW1vZGVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld2RhdGF0cmlnZ2VyLCBzZXRuZXdkYXRhdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlcjIsIHNldG5ld2RhdGF0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RlbHRyaWdnZXIsIHNldG1vZGVsdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRwYXJ0dHJpZ2dlciwgc2V0Y29uY2F0cGFydHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHZhbHVlLCBzZXRjb25jYXRwYXJ0dmFsdWVdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYXNzZXR0eXBlY29kZSwgc2V0YXNzZXR0eXBlY29kZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUyLCBzZXRhc3NldHR5cGVjb2RlMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2RlZmF1bHRtb2RlbCwgc2V0ZGVmYXVsdG1vZGVsXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW2Rpc2FibGVkdGFtYmFoLCBzZXRkaXNhYmxlZHRhbWJhaF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaDIsIHNldGRpc2FibGVkdGFtYmFoMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkLCBzZXRkaXNhYmxlZGFkZGZpZWxkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkYWRkZmllbGQyLCBzZXRkaXNhYmxlZGFkZGZpZWxkMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwb2ludGV2ZW50LCBzZXRwb2ludGV2ZW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcG9pbnRldmVudDIsIHNldHBvaW50ZXZlbnQyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY2QyLCBzZXRjZDJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2NkaWR4LCBzZXRjZGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjZHRyaWdnZXIsIHNldGNkdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjZDJwYXJ0LCBzZXRjZDJwYXJ0XSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZHBhcnRpZHgsIHNldGNkcGFydGlkeF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtjZHBhcnR0cmlnZ2VyLCBzZXRjZHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NoYW5nZWFzc2V0LCBzZXRjaGFuZ2Vhc3NldF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtkZWZhdWx0YXNzZXQsIHNldGRlZmF1bHRhc3NldF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmZXRjaGluZ3BhcnQsIHNldGZldGNoaW5ncGFydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwYWdlLCBzZXRwYWdlXSA9IHVzZVN0YXRlKDEpO1xuICAvL2NyZWF0ZSBtYW51ZmFjdHVyZXJcbiAgY29uc3QgW21vZGFsbWFudWYsIHNldG1vZGFsbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ21hbnVmLCBzZXRsb2FkaW5nbWFudWZdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRtYW51Ziwgc2V0ZGlzYWJsZWRtYW51Zl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyaWdnZXJtYW51Ziwgc2V0dHJpZ2dlcm1hbnVmXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2RhdGFtYW51Ziwgc2V0ZGF0YW1hbnVmXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICB9KTtcblxuICAvLzMub25DaGFuZ2VcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkID0gKCkgPT4ge1xuICAgIHNldGZpZWxkZGF0YShbXG4gICAgICAuLi5maWVsZGRhdGEsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgc2V0YWRkZWRmaWVsZDEoWy4uLmFkZGVkZmllbGQxLCBmYWxzZV0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja0FkZEZpZWxkMiA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGFhMihbXG4gICAgICAuLi5maWVsZGRhdGFhMixcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgZGF0YV90eXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgfSk7XG4gICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQgPSAoaWQpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYXNzZXRfaWQ6IE51bWJlcihpZCkgfSk7XG4gICAgc2V0bG9hZGluZ3NwZWModHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0YXNzZXRpZCA9IGRlZmF1bHRhc3NldC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKTtcbiAgICAgICAgICBjb25zdCBuZXdhc3NldGZpZWxkZGF0YTIgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgIC5maWx0ZXIoKGRvY2ZpbHRlcikgPT4gZGVmYXVsdGFzc2V0aWQuaW5jbHVkZXMoZG9jZmlsdGVyLmlkKSlcbiAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wbyA9IHByZXY7XG4gICAgICAgICAgICB0ZW1wbyA9IHRlbXBvXG4gICAgICAgICAgICAgIC5maWx0ZXIoKGRvY2ZpbHRlcikgPT4gZGVmYXVsdGFzc2V0aWQuaW5jbHVkZXMoZG9jZmlsdGVyLmlkKSlcbiAgICAgICAgICAgICAgLmNvbmNhdCh0ZW1wKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wbztcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbmV3YXNzZXRmaWVsZGRhdGEyLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICBhZGRfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRkZWZhdWx0ZGF0YSh7XG4gICAgICAgICAgICAuLi5kZWZhdWx0ZGF0YSxcbiAgICAgICAgICAgIGlkOiBkZWZhdWx0bW9kZWwuaWQsXG4gICAgICAgICAgICBuYW1lOiBkZWZhdWx0bW9kZWwubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZWZhdWx0bW9kZWwuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXJfaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXJfaWQsXG4gICAgICAgICAgICBjb3VudDogZGVmYXVsdG1vZGVsLmNvdW50LFxuICAgICAgICAgICAgYXNzZXQ6IHtcbiAgICAgICAgICAgICAgaWQ6IHJlczIuZGF0YS5pZCxcbiAgICAgICAgICAgICAgbmFtZTogcmVzMi5kYXRhLm5hbWUsXG4gICAgICAgICAgICAgIGNvZGU6IHJlczIuZGF0YS5jb2RlLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzMi5kYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcjoge1xuICAgICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLm1hbnVmYWN0dXJlci5pZCxcbiAgICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm1hbnVmYWN0dXJlci5uYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiBOdW1iZXIoaWQpLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogZGVmYXVsdGFzc2V0LFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgICAgICAgICAgYWRkX21vZGVsczogW10sXG4gICAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3YXNzZXRmaWVsZGRhdGEyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0Y2hhbmdlYXNzZXQodGVtcCk7XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZChhcnIpO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJpbmZvXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQW5kYSBUZWxhaCBNZW5ndWJhaCBBc3NldCBUeXBlXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgICAgXCJIYWwgaW5pIG1lbWJ1YXQgZmllbGQgZGFyaSBhc3NldCB0eXBlIHRlcmthaXQgdGVyYmVudHVrIGRpIGZvcm0gaW5pIVwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IFtdO1xuICAgICAgICAgIC8vIHNldGZpZWxkZGF0YTIodGVtcClcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tTZWxlY3RBc3NldDIgPSAoaWQpID0+IHtcbiAgICBzZXRsb2FkaW5nc3BlYzIodHJ1ZSk7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgYXNzZXRfaWQ6IE51bWJlcihpZCkgfSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0P2lkPSR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0ZW1wID0gcmVzMi5kYXRhLmFzc2V0X2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgYm9vbCA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9vbC5wdXNoKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRhZGRlZGZpZWxkMyhib29sKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YTIubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IHJlczIuZGF0YS5jb2RlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcC5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGFzc2V0dHlwZWNvZGUyKHJlczIuZGF0YS5pZCk7XG4gICAgICAgICAgLy8gc2V0bmV3ZGF0YXRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMyKGZhbHNlKTtcbiAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IFtdO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YTIubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAoZG9jbmV3ZmllbGQpID0+IHR5cGVvZiBkb2NuZXdmaWVsZC5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICAuLi5uZXdkYXRhMixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGFzc2V0X2lkOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vNC5oYW5kbGVcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTW9kZWwgPSAoKSA9PiB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wIGluIG5ld2RhdGEpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJ1cGRhdGVfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFkZF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikge1xuICAgICAgICB0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIHNldGxvYWRpbmdjcmVhdGUodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L3VwZGF0ZU1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHQpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bG9hZGluZ2NyZWF0ZShmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTW9kZWwgYmVyaGFzaWwgZGl1YmFoXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgcnQucHVzaChgL2FkbWluL21vZGVscy9kZXRhaWwvJHttb2RlbGlkfWApO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTW9kZWxpbk1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhMikge1xuICAgICAgaWYgKHByb3AgPT09IFwibW9kZWxfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhc3NldF9pZFwiKSBbKHRbcHJvcF0gPSBOdW1iZXIoYXNzZXR0eXBlY29kZTIpKV07XG4gICAgICBlbHNlIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGEyW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1vZGVsYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgIGlmIChyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJzdWNjZXNzXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTW9kZWwgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBcIlwiLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIG1vZGVsX3BhcnRzOiBbXSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgc2V0bW9kZWx0cmlnZ2VyKHJlczIuaWQpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUFkZE1hbnVmYWN0dXJlciA9ICgpID0+IHtcbiAgICBzZXRsb2FkaW5nbWFudWYodHJ1ZSk7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2FkZE1hbnVmYWN0dXJlcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YW1hbnVmKSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdtYW51ZihmYWxzZSk7XG4gICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1hbnVmYWN0dXJlciBiZXJoYXNpbCBkaXRhbWJhaGthblwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGF0YW1hbnVmKHtcbiAgICAgICAgICAgIC4uLmRhdGFtYW51ZixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0dHJpZ2dlcm1hbnVmKChwcmV2KSA9PiBwcmV2ICsgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImVycm9yXCJdKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlczIubWVzc2FnZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzUudXNlRWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldEFzc2V0c2AsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRhc3NldGRhdGEocmVzMi5kYXRhKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1hbnVmYWN0dXJlcnNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlczIuZGF0YTtcblxuICAgICAgICBzZXRtYW51ZmRhdGEoZGF0YSk7XG5cbiAgICAgICAgLyoqIFNldCBuZXcgaW5zZXJ0ZWQgbWFudWZhY3R1cmVyIGFzIGRlZmF1bHQgc2VsZWN0ZWQgb3B0aW9uIGluIHRoZSBcIk1hbnVmYWN0dXJlclwiIGRyb3Bkb3duICovXG4gICAgICAgIGlmICh0cmlnZ2VybWFudWYgPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IG5ld01hbnVmYWN0dXJlcklkID0gbGF0ZXN0SW5zZXJ0ZWRNYW51ZmFjdHVyZXIuaWQ7XG5cbiAgICAgICAgICAvKiogRm9ybSBjb250cm9sIHZhbHVlICovXG4gICAgICAgICAgaW5zdGFuY2VGb3JtLnNldEZpZWxkc1ZhbHVlKHsgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCB9KTtcblxuICAgICAgICAgIC8qKiBJdCdzIG5lY2Vzc2FyeSB0byB1cGRhdGUgdGhpcyBzdGF0ZS4gVGhpcyBzdGF0ZSB3aWxsIGJlIHVzZWQgYXMgYSBwYXlsb2FkIHRvIHRoZSBiYWNrZW5kICovXG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4gKHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXJfaWQ6IG5ld01hbnVmYWN0dXJlcklkLFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0sIFt0cmlnZ2VybWFudWZdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZ2V0TW9kZWw/aWQ9JHttb2RlbGlkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQgPT09IFwiXCIgfHwgZG9jLmRlZmF1bHQgPT09IFwiLVwiXG4gICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvL21vZGVsX3BhcnRzXG4gICAgICAgIGNvbnN0IHJlY3Vyc2l2ZVBhcnRNb2RlbCA9IChpdGVtKSA9PiB7XG4gICAgICAgICAgdmFyIHRlbXAxMSA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRlbXAxID0ge307XG4gICAgICAgICAgICB0ZW1wMSA9IGl0ZW1baV0ubW9kZWxfY29sdW1ucy5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgICAgID8gZG9jLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRlbXAxMS5wdXNoKHtcbiAgICAgICAgICAgICAgLi4uaXRlbVtpXSxcbiAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcDEsXG4gICAgICAgICAgICAgIG1vZGVsX3BhcnRzOlxuICAgICAgICAgICAgICAgIGl0ZW1baV0ubW9kZWxfcGFydHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgPyByZWN1cnNpdmVQYXJ0TW9kZWwoaXRlbVtpXS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRlbXAxMTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeW8gPSByZWN1cnNpdmVQYXJ0TW9kZWwocmVzMi5kYXRhLm1vZGVsX3BhcnRzKTtcbiAgICAgICAgY29uc3QgdGVtcDIgPSB7XG4gICAgICAgICAgLi4ucmVzMi5kYXRhLFxuICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuYXNzZXQuY29kZSxcbiAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLFxuICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgICAgICAgZGVsZXRlX2NvbHVtbl9pZHM6IFtdLFxuICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBzZXRuZXdkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGRhdGEodGVtcDIpO1xuICAgICAgICBzZXRkZWZhdWx0YXNzZXQodGVtcCk7XG4gICAgICAgIHNldGRlZmF1bHRtb2RlbCh0ZW1wMik7XG4gICAgICAgIHNldGZpZWxkZGF0YTIodGVtcCk7XG4gICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSh5byk7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMyLmRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyci5wdXNoKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgc2V0YXNzZXR0eXBlY29kZShyZXMyLmRhdGEuYXNzZXRfaWQpO1xuICAgICAgICBzZXRwcmFsb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsc2AsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChtb2RlbHRyaWdnZXIpO1xuICAgICAgICBtb2RlbHRyaWdnZXIgIT09IGZhbHNlID8gc2V0ZWRpdHBhcnQodHJ1ZSkgOiBudWxsO1xuICAgICAgfSk7XG4gIH0sIFttb2RlbHRyaWdnZXJdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIHV0YW1hIHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhMigocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGJ1YXQgc2VuZGlyaVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIxICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAvLyB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcl1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWVkcm9wZG93bnRyaWdnZXJ9YFxuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjFdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldG5ld2RhdGEoe1xuICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YTIuY29uY2F0KGZpZWxkZGF0YSksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29uY2F0YWRkY29sdW1uc2lkeCAhPT0gLTEpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY2hhbmdlYXNzZXQuc29tZShcbiAgICAgICAgICAoZG9jc29tZSkgPT4gZG9jc29tZS5pZCA9PT0gY29uY2F0YWRkY29sdW1uc3ZhbHVlLmlkXG4gICAgICAgICkgfHxcbiAgICAgICAgdHlwZW9mIGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbZmllbGRkYXRhMi5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goY3VycmVudGZpZWxkKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4YWRkY29sdW1uID0gbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5ld2RhdGEuYXNzZXRfY29sdW1ucy5sZW5ndGgrXCI6XCIrY29uY2F0YWRkY29sdW1uc2lkeCtcIjtcIituZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pXG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2N1cCkgPT4gZG9jdXAuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zLnB1c2goZmllbGRkYXRhMltjb25jYXRhZGRjb2x1bW5zaWR4XSk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHh1cGNvbHVtbiA9IG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRmaWVsZC5pZCxcbiAgICAgICAgICAgICAgICBtb2RlbF9pZDogY3VycmVudGZpZWxkLm1vZGVsX2lkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29uY2F0YWRkY29sdW1uc2lkeDEgIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNvbmNhdGFkZGNvbHVtbnNpZHgxID4gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGggLSAxIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUxLmlkID09PSBcInVuZGVmaW5lZFwiIHx8XG4gICAgICAgIGNoYW5nZWFzc2V0ID09PSB0cnVlXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgKChmaWVsZGRhdGEyLmxlbmd0aCAtIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoKSA+PSBuZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkKSA9PiBkb2NhZGQubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goZmllbGRkYXRhW2ZpZWxkZGF0YS5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zLnB1c2goY3VycmVudGZpZWxkKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4YWRkY29sdW1uID0gbmV3ZGF0YS5hZGRfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jYWRkMikgPT4gZG9jYWRkMi5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5ld2RhdGEuYXNzZXRfY29sdW1ucy5sZW5ndGgrXCI6XCIrY29uY2F0YWRkY29sdW1uc2lkeCtcIjtcIituZXdkYXRhLmFkZF9jb2x1bW5zLmxlbmd0aClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnNbaWR4YWRkY29sdW1uXSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pXG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2N1cCkgPT4gZG9jdXAuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zLnB1c2goZmllbGRkYXRhW2NvbmNhdGFkZGNvbHVtbnNpZHgxXSk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZHh1cGNvbHVtbiA9IG5ld2RhdGEudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIuaWQpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQuaWQpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRmaWVsZC5pZCxcbiAgICAgICAgICAgICAgICBtb2RlbF9pZDogY3VycmVudGZpZWxkLm1vZGVsX2lkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogY3VycmVudGZpZWxkLmRhdGFfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogY3VycmVudGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1tpZHh1cGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbY29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHggIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHhdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeF0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHhdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4MSAhPT0gLTEpIHtcbiAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHgxXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByZXZbYWRkZWRmaWVsZGlkeDFdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcDIgPSBbLi4ucHJldiwgdHJ1ZV07XG4gICAgICAgICAgcmV0dXJuIHRlbXAyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthZGRlZGZpZWxkdHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDMgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4M10gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4M10gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgzXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIzXSk7XG5cbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBhc3NldFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIzICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIzXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLFxuICAgICAgICAgIG9wc2k6IGN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3ZhbHVlZHJvcGRvd250cmlnZ2VyM10pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgYmFydSB5YW5nIGZpZWxkIGJ1YXQgc2VuZGlyaVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpZHhkcm9wZG93bnRyaWdnZXIyICE9PSAtMSkge1xuICAgICAgc2V0ZmllbGRkYXRhYTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyMl1bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhMih7XG4gICAgICAuLi5uZXdkYXRhMixcbiAgICAgIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YWEuY29uY2F0KGZpZWxkZGF0YWEyKSxcbiAgICB9KTtcbiAgfSwgW2NvbmNhdGZpZWxkdHJpZ2dlcjJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDIgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMigocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4Ml0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgyXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhIH0pO1xuICB9LCBbbmV3ZGF0YXRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhIH0pO1xuICB9LCBbbmV3ZGF0YXRyaWdnZXIyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgdGVtcCA9IFtdO1xuICAgIGlmIChjb25jYXRwYXJ0dmFsdWUgIT09IC0xKSB7XG4gICAgICBpZiAoY29uY2F0cGFydHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbW9kZWxfcGFydHM6IFtdIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uY2F0cGFydHZhbHVlLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICB2YXIgaWR4dGVtcCA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgIGlmIChpZHh0ZW1wICE9PSAtMSAmJiB0ZW1wW2lkeHRlbXBdW1wiaWRcIl0gPT09IGRvYy5pZCkge1xuICAgICAgICAgICAgdmFyIGlkeG9mID0gdGVtcC5tYXAoKGRvYykgPT4gZG9jLmlkKS5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICB0ZW1wW2lkeG9mXSA9IHtcbiAgICAgICAgICAgICAgLi4udGVtcFtpZHhvZl0sXG4gICAgICAgICAgICAgIHF1YW50aXR5OiB0ZW1wW2lkeG9mXS5xdWFudGl0eSArIGRvYy5xdWFudGl0eSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIGlmIChpZHh0ZW1wID09PSAtMSkge1xuICAgICAgICAgICAgdGVtcC5wdXNoKHtcbiAgICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IGRvYy5xdWFudGl0eSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBhZGRfbW9kZWxzOiB0ZW1wIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdHBhcnR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICByZXR1cm4gY2QyLmZpbHRlcigoZG9jMTAsIGlkeDEwKSA9PiBpZHgxMCAhPT0gY2RpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDIoKHByZXYpID0+IHByZXYuZmlsdGVyKChkb2MxMSwgaWR4MTEpID0+IGlkeDExICE9PSBjZGlkeCkpO1xuICAgIH1cbiAgfSwgW2NkdHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZHBhcnRpZHggIT09IC0xKSB7XG4gICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICByZXR1cm4gY2QycGFydC5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkcGFydGlkeCk7XG4gICAgICB9KTtcbiAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHByZXYuZmlsdGVyKChkb2MxMSwgaWR4MTEpID0+IGlkeDExICE9PSBjZHBhcnRpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHBhcnR0cmlnZ2VyXSk7XG4gIHJldHVybiAoXG4gICAgPExheW91dFxuICAgICAgc3Q9e3N0fVxuICAgICAgdG9rPXtpbml0UHJvcHN9XG4gICAgICBzaWRlbWVudT17c2lkZW1lbnV9XG4gICAgICBkYXRhUHJvZmlsZT17ZGF0YVByb2ZpbGV9XG4gICAgICBwYXRoQXJyPXtwYXRoQXJyfVxuICAgID5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtYXV0byBncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy00XCJcbiAgICAgICAgaWQ9XCJjcmVhdGVBc3NldHNXcmFwcGVyXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IG1iLThcIj5cbiAgICAgICAgICA8U3RpY2t5IGNvbnRhaW5lclNlbGVjdG9yRm9jdXM9XCIjY3JlYXRlQWdlbnRzV3JhcHBlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tNCBmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTIgcHQtNCBib3JkZXItdC0yIGJvcmRlci1iLTIgYmctd2hpdGVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgcHktMlwiPlxuICAgICAgICAgICAgICAgIEZvcm0gVWJhaCBNb2RlbCAtIHtuZXdkYXRhLm5hbWV9XG4gICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL2FkbWluL21vZGVscy9kZXRhaWwvJHttb2RlbGlkfWB9PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAvKm9uQ2xpY2s9eygpID0+IHsgY29uc29sZS5sb2cobmV3ZGF0YSk7IGNvbnNvbGUubG9nKGZpZWxkZGF0YSk7IGNvbnNvbGUubG9nKGZpZWxkZGF0YTIpOyBjb25zb2xlLmxvZyhkZWZhdWx0ZGF0YSk7IGNvbnNvbGUubG9nKGRlZmF1bHRhc3NldCkgfX0qLyB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2NyZWF0ZX1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aW5zdGFuY2VGb3JtLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1N0aWNreT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5JbmZvcm1hc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICB7cHJhbG9hZGluZyA/IChcbiAgICAgICAgICAgICAgPFNwaW4+PC9TcGluPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPEZvcm1cbiAgICAgICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm19XG4gICAgICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVDcmVhdGVNb2RlbH1cbiAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWVzPXtuZXdkYXRhfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBc3NldCBUeXBlIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25TdHlsZT17eyBtYXhIZWlnaHQ6IDQwMCwgb3ZlcmZsb3c6IFwiYXV0b1wiIH19XG4gICAgICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIEFzc2V0IFR5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEZWZhdWx0RXhwYW5kQWxsXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYS5hbGxDaGVja2VkTm9kZXNbMF0ubm9kZS5wcm9wcy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0KDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgYWxsb3dDbGVhclxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHctMTEvMTIgbXItMlwiPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJtYW51ZmFjdHVyZXJfaWRcIiBsYWJlbD1cIk1hbnVmYWN0dXJlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8UGx1c1NxdWFyZVR3b1RvbmUgc3R5bGU9e3sgZm9udFNpemU6IGAxLjVyZW1gIH19IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19jb25zdW1hYmxlOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdkYXRhLmlzX2NvbnN1bWFibGV9XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIE1vZGVsIENvbnN1bWFibGUgZGVuZ2FuIHNhdHVhbiBqdW1sYWhcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtsb2FkaW5nc3BlYyA/IChcbiAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIHtmaWVsZGRhdGEyLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8RW1wdHkgaW1hZ2U9e0VtcHR5LlBSRVNFTlRFRF9JTUFHRV9TSU1QTEV9PjwvRW1wdHk+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgZmllbGRkYXRhMi5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhMltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGRvYy5kZWZhdWx0LmRlZmF1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdCA9PT0gaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQuZGVmYXVsdC5pbmRleE9mKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhZ3JhcGggVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbmdsZSBUZXh0Ym94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHNpIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3duMi5tYXAoKGRvYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttb21lbnQoZmllbGRkYXRhMltpZHhdLmRlZmF1bHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggIT09IGZpZWxkZGF0YS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2RlZikgPT4gZG9jZGVmLmlkID09PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9jb2x1bW5faWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4VXBkYXRlQ29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jbWFwKSA9PiBkb2NtYXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnVwZGF0ZV9jb2x1bW5zLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhVcGRhdGVDb2x1bW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gdGVtcC5hZGRfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZW1wLmFkZF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUoZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7ZmllbGRkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQxW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnR9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQxXTtcbiAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQxKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZChmaWVsZGRhdGFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5zb21lKChkb2NvcHNpKSA9PiBkb2NvcHNpID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihpZGspICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgU3Blc2lmaWthc2lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIFNwZXNpZmlrYXNpIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YVtpZHhdLmRlZmF1bHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPSB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT4gaWR4eCAhPT0gZmllbGRkYXRhMi5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQxKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMSgocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4MShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTEoZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkRmllbGR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICsgVGFtYmFoIFNwZXNpZmlrYXNpIE1vZGVsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtuZXdkYXRhLmlzX2NvbnN1bWFibGUgPT09IGZhbHNlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBtYi04IGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5Lb25maWd1cmFzaSBQYXJ0IE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5sZW5ndGggPT09IDAgPyBudWxsIDogKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxDb2xsYXBzZSBhY2NvcmRpb24+XG4gICAgICAgICAgICAgICAgICB7bW9kZWxwYXJ0ZmllbGRkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgcGFuZWwke2lkeH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZG9jLm1vZGVsX2NoaWxkLmxlbmd0aCA9PT0gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHctNi8xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1yLTJcIj57ZG9jLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxUb29sdGlwIHBsYWNlbWVudD1cInJpZ2h0XCIgdGl0bGU9XCJNb2RlbCB0aWRhayBtZW1pbGlraSBwYXJ0IG1vZGVsIVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICA8RXhjbGFtYXRpb25DaXJjbGVPdXRsaW5lZCBzdHlsZT17eyBjb2xvcjogYGJyb3duYCB9fT48L0V4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIE1vZGVsICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGRhcmkgTW9kZWwgUGFydCAke25ld2RhdGEubmFtZX0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZG9jKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHh0ZW1wID0gbW9kZWxwYXJ0ZmllbGRkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9wYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2NwYXJ0cykgPT4gZG9jcGFydHMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhkb2MuaWQpID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGRhdGEgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jMikgPT4gZG9jMi5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVsc1tpZHhkYXRhXS5xdWFudGl0eSAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnNwbGljZShpZHhkYXRhLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLmluZGV4T2YoZG9jLmlkKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRlbGV0ZV9tb2RlbF9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VDaXJjbGVPdXRsaW5lZCBzdHlsZT17eyBjb2xvcjogYHJlZGAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBc3NldCBUeXBle1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxhc3NldHR5cGVcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYmctZ3JheS0yMDAgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gaC0xMiBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMsIGlkeG1jKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMubmFtZX17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoYXJBdCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBteS1hdXRvIHB4LTIgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctd2hpdGUgYm9yZGVyIHctMy8xMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIHB4LTIgcHktMSBtYi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4b3BzaSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kZWZhdWx0LmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBgMC41cmVtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jb3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHQub3BzaS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NvcHNpLCBpZHhvcHNpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHhvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gYmctZ3JheS0xMDAgcm91bmRlZCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjAgcm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfcGFydHMubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVsaW5lIHN0eWxlPXt7IG1hcmdpblRvcDogYDFyZW1gIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyQ2hpbGRQYXJ0TW9kZWwoZG9jLm1vZGVsX3BhcnRzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGltZWxpbmU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bGFzc2V0dHlwZTo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxzbjo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZWRpdHBhcnQgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbXktMyBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtNSB0ZXh0LWxnIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRpZG1vZGVsfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBNb2RlbCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2N1cnJlbnRpZG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaGluZ3BhcnQgPyA8U3BpbiBzaXplPVwic21hbGxcIiAvPiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmV0Y2hpbmdwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vZ2V0TW9kZWxzP3Jvd3M9MTAmbmFtZT0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICE9PSBcIlwiID8gdmFsdWUgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0bW9kZWxkYXRhKFtdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZXRtb2RlbGRhdGEocmVzMi5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3A9XCJjaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBhdGF1IGNhcmkgbmFtYSBtb2R1bFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb249eyhpbnB1dCwgb3B0KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25Qb3B1cFNjcm9sbD17KGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmIChldmVudC50YXJnZXQuc2Nyb2xsVG9wICsgZXZlbnQudGFyZ2V0Lm9mZnNldEhlaWdodCA9PT0gZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2V0cGFnZShwcmV2ID0+IHByZXYgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVscz9wYWdlPSR7cGFnZX0mcm93cz0xMGAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLnRoZW4ocmVzMiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5zY3JvbGxUbygwLCBldmVudC50YXJnZXQuc2Nyb2xsSGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICByZXMyLmRhdGEudG8gPj0gcmVzMi5kYXRhLnRvdGFsID8gc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhXSkgOiBzZXRtb2RlbGRhdGEoWy4uLm1vZGVsZGF0YSwgcmVzMi5kYXRhLmRhdGEsIDxTcGluIHNpemU9XCJzbWFsbFwiIC8+XSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttb2RlbGRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtkb2MuaWR9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBwdC0yIG15LWF1dG8gaXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2dldG1vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGxvYWRpbmdnZXRtb2RlbCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7Y3VycmVudGlkbW9kZWx9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGVscGFydGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcDEgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHJlczIuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm1vZGVsX2NvbHVtbnNcIl0gPSByZXMyLmRhdGFbcHJvcF0ubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWxwYXJ0cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczIuZGF0YS5tb2RlbF9wYXJ0cy5tYXAoKGRvYzIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXAzID0gZG9jMi5tb2RlbF9jb2x1bW5zLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYzMgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiBtYXAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdFtcIm1vZGVsX3BhcnRzXCJdID0gbW9kZWxwYXJ0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJpZFwiXSA9IHJlczIuZGF0YS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJuYW1lXCJdID0gcmVzMi5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAxID0gWy4uLnRlbXAxLCB0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRjb25jYXRwYXJ0dmFsdWUocmVzMi5kYXRhLm1vZGVsX3BhcnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHRyaWdnZXIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhMiA9IHRlbXAuYWRkX21vZGVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzMpID0+IGRvYzMuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGlkbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeGRhdGEyID09PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY3VycmVudGlkbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZHhkYXRhMiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHMubWFwKChkb2MxKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jMS5pZCA9PT0gY3VycmVudGlkbW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMS5xdWFudGl0eSA9IGRvYzEucXVhbnRpdHkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldGVkaXRwYXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICArIFRhbWJhaCBQYXJ0IE1vZGVsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTW9kZWw8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDFyZW1gIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aW5zdGFuY2VGb3JtMi5zdWJtaXR9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ2NyZWF0ZW1vZGVsfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAgdmlzaWJsZT17bW9kYWxjcmVhdGVtb2RlbH1cbiAgICAgICAgZm9vdGVyPXtudWxsfVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICB3aWR0aD17OTAwfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBtYi04XCI+XG4gICAgICAgICAgPEZvcm1cbiAgICAgICAgICAgIGZvcm09e2luc3RhbmNlRm9ybTJ9XG4gICAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWxpbk1vZGVsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgIG5hbWU9XCJhc3NldF9pZFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBc3NldCBUeXBlIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8VHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgZHJvcGRvd25TdHlsZT17eyBtYXhIZWlnaHQ6IDQwMCwgb3ZlcmZsb3c6IFwiYXV0b1wiIH19XG4gICAgICAgICAgICAgICAgICB0cmVlRGF0YT17YXNzZXRkYXRhfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgIHRyZWVEZWZhdWx0RXhwYW5kQWxsXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBsYWJlbCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYS5hbGxDaGVja2VkTm9kZXNbMF0ubm9kZS5wcm9wcy5pZFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGlja1NlbGVjdEFzc2V0MigwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgTW9kZWxcIlxuICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIG1hbnVmYWN0dXJlcl9pZDogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHttYW51ZmRhdGEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PXtpZHh9IHZhbHVlPXtkb2MuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlc2NyaXB0aW9uXCIgbGFiZWw9XCJEZXNrcmlwc2lcIj5cbiAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIHJlcXVpcmVkX3NuOiBlLnRhcmdldC5jaGVja2VkIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YTIucmVxdWlyZWRfc259XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICBTZXJpYWwgTnVtYmVyIHdhamliIGFkYVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Gb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi00IHB4LTUgbWItOCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi01XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5TcGVzaWZpa2FzaSBNb2RlbDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgey8qIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdzcGVjMiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYVtpZHhdLnJlcXVpcmVkID8gPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj4gOiBudWxsfSA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj4oe2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCIgPyBcIlNpbmdsZSBUZXh0Ym94XCIgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX0pPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy1mdWxsJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkcm9wZG93blwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2kgZGliYXdhaCBpbmk8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2NjLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTcgZmxleCBqdXN0aWZ5LWNlbnRlciBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdW1wiZGVmYXVsdFwiXSA9IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fSBkZWZhdWx0VmFsdWU9e2RvY2N9IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9IGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlciBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInBhcmFncmFwaFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYSByb3dzPXs0fSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdW1wiZGVmYXVsdFwiXS5wdXNoKGlkeHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+IHtkb2NjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXIgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyh2YWx1ZSwgZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBkYXRlU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICB9ICovfVxuICAgICAgICAgIHtsb2FkaW5nc3BlYzIgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhYS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkM1tpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50Mn0gc2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDModGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoZmllbGRkYXRhYVtpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWEgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaXBlIEZpZWxkIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkcm9wZG93blwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcIm51bWJlclwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJwYXJhZ3JhcGhcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJjaGVja2JveFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInNpbmdsZVwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRhdGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2JveFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGRhcGF0IGRpcGlsaWggbGViaWggZGFyaSAxIChzYXR1KSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsVGV4dD1cIlRpZGFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jeHgsIGlkeHgpID0+IGRvY3h4LmlkICE9PSBkb2MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWgyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMyhpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMygocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBmaWVsZGRhdGFhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MyhpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7ZmllbGRkYXRhYTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDJbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLmFkZGVkZmllbGQyXTtcbiAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQyKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoZmllbGRkYXRhYTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5kYXRhX3R5cGUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGFhMltpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxGaWVsZDo6YmVmb3Jle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50ZmllbGQyfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5kYXRhX3R5cGUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PkRhdGU8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVmYXVsdFwiIGxhYmVsPVwiRGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImRyb3Bkb3duXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgaGFueWEgZGlwaWxpaCAxIChzYXR1KSBkYXJpIGJlYmVyYXBhIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4Y2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMi5pbmNsdWRlcyhpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTcgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17aWR4Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJudW1iZXJcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXROdW1iZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkYXRlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGF0ZVBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG10LTQganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGZpZWxkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfT9gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPSB0ZW1wLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXywgaWR4eCkgPT4gaWR4eCAhPT0gZmllbGRkYXRhYS5sZW5ndGggKyBpZHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IGAxLjI1cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudGZpZWxkMi5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4MihpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGR0cmlnZ2VyMigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRhbWJhaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImRhc2hlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZGFkZGZpZWxkMn1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGA4MCVgLCBoZWlnaHQ6IGA0cmVtYCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrQWRkRmllbGQyfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICAgIDxNb2RhbFxuICAgICAgICB0aXRsZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBwLTUgbXQtNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+Rm9ybSBUYW1iYWggTWFudWZhY3R1cmVyPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkbWFudWZ9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTWFudWZhY3R1cmVyfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdtYW51Zn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsbWFudWZ9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICBOYW1hIE1hbnVmYWN0dXJlciA8c3BhbiBjbGFzc05hbWU9XCJuYW1hbWFudVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17ZGF0YW1hbnVmLm5hbWV9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gTmFtYSBNYW51ZmFjdHVyZXJcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgPyBzZXRkaXNhYmxlZG1hbnVmKHRydWUpXG4gICAgICAgICAgICAgICAgICA6IHNldGRpc2FibGVkbWFudWYoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldGRhdGFtYW51Zih7IG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmFtYW1hbnU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzLCBwYXJhbXMgfSkge1xuICBjb25zdCBtb2RlbGlkID0gcGFyYW1zLm1vZGVsSWQ7XG4gIHZhciBpbml0UHJvcHMgPSB7fTtcbiAgaWYgKCFyZXEuaGVhZGVycy5jb29raWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgY29uc3QgY29va2llc0pTT04xID0gaHR0cGNvb2tpZS5wYXJzZShyZXEuaGVhZGVycy5jb29raWUpO1xuICBpZiAoIWNvb2tpZXNKU09OMS50b2tlbikge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0aW5hdGlvbjogXCIvbG9naW5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpbml0UHJvcHMgPSBjb29raWVzSlNPTjEudG9rZW47XG4gIGNvbnN0IHJlc291cmNlcyA9IGF3YWl0IGZldGNoKFxuICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9kZXRhaWxQcm9maWxlYCxcbiAgICB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH1cbiAgKTtcbiAgY29uc3QgcmVzanNvbiA9IGF3YWl0IHJlc291cmNlcy5qc29uKCk7XG4gIGNvbnN0IGRhdGFQcm9maWxlID0gcmVzanNvbjtcblxuICByZXR1cm4ge1xuICAgIHByb3BzOiB7XG4gICAgICBpbml0UHJvcHMsXG4gICAgICBkYXRhUHJvZmlsZSxcbiAgICAgIHNpZGVtZW51OiBcIjgyXCIsXG4gICAgICBtb2RlbGlkLFxuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGVsc1VwZGF0ZTI7XG4iXX0= */\\n/*@ sourceURL=/home/kjokken/mig/code/frontend/ims-fe-ssh-dev/src/pages/admin/models/update2/[modelId].js */\"\n          }, void 0, false, void 0, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4507,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4506,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4474,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1189,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ModelsUpdate2, \"nF2fyCtVweQLz3nLA6tV083rvh8=\", false, function () {\n  return [next_router__WEBPACK_IMPORTED_MODULE_23__[\"useRouter\"], antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.useForm, antd_lib_form__WEBPACK_IMPORTED_MODULE_16___default.a.useForm];\n});\n\n_c = ModelsUpdate2;\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ModelsUpdate2);\n\nvar _c;\n\n$RefreshReg$(_c, \"ModelsUpdate2\");\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/next/dist/compiled/webpack/harmony-module.js */ \"./node_modules/next/dist/compiled/webpack/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3BhZ2VzL2FkbWluL21vZGVscy91cGRhdGUyL1ttb2RlbElkXS5qcz85ZDUyIl0sIm5hbWVzIjpbIk1vZGVsc1VwZGF0ZTIiLCJzaWRlbWVudSIsImRhdGFQcm9maWxlIiwiaW5pdFByb3BzIiwibW9kZWxpZCIsInJ0IiwidXNlUm91dGVyIiwicGF0aEFyciIsInBhdGhuYW1lIiwic3BsaXQiLCJzbGljZSIsInNwbGljZSIsImxlbmd0aCIsInVzZUZvcm0iLCJpbnN0YW5jZUZvcm0iLCJpbnN0YW5jZUZvcm0yIiwiUGFuZWwiLCJyZW5kZXJDaGlsZFBhcnRNb2RlbCIsIml0ZW0iLCJtYXAiLCJkb2MiLCJpZHgiLCJDaGlsZHJlbiIsIm5hbWUiLCJtb2RlbF9jb2x1bW5zIiwiZG9jbWMyIiwicmVxdWlyZWQiLCJkYXRhX3R5cGUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsIndpZHRoIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJvcHNpIiwiZG9jMiIsImlkeDIiLCJkb2MzIiwiaWR4MyIsIm1hcmdpblJpZ2h0IiwibW9kZWxfcGFydHMiLCJ1c2VTdGF0ZSIsImlkIiwiYXNzZXRfaWQiLCJkZXNjcmlwdGlvbiIsIm1hbnVmYWN0dXJlcl9pZCIsInJlcXVpcmVkX3NuIiwiaXNfY29uc3VtYWJsZSIsImFkZF9jb2x1bW5zIiwiZGVsZXRlX2NvbHVtbl9pZHMiLCJ1cGRhdGVfY29sdW1ucyIsImFkZF9tb2RlbHMiLCJkZWxldGVfbW9kZWxfaWRzIiwibmV3ZGF0YSIsInNldG5ld2RhdGEiLCJuZXdkYXRhMiIsInNldG5ld2RhdGEyIiwiZGVmYXVsdGRhdGEiLCJzZXRkZWZhdWx0ZGF0YSIsImFzc2V0ZGF0YSIsInNldGFzc2V0ZGF0YSIsIm1hbnVmZGF0YSIsInNldG1hbnVmZGF0YSIsIm1vZGVsZGF0YSIsInNldG1vZGVsZGF0YSIsImZpZWxkZGF0YSIsInNldGZpZWxkZGF0YSIsImZpZWxkZGF0YTIiLCJzZXRmaWVsZGRhdGEyIiwiZmllbGRkYXRhYSIsInNldGZpZWxkZGF0YWEiLCJmaWVsZGRhdGFhMiIsInNldGZpZWxkZGF0YWEyIiwibW9kZWxwYXJ0ZmllbGRkYXRhIiwic2V0bW9kZWxwYXJ0ZmllbGRkYXRhIiwiY3VycmVudGZpZWxkIiwic2V0Y3VycmVudGZpZWxkIiwiY3VycmVudGZpZWxkMiIsInNldGN1cnJlbnRmaWVsZDIiLCJjdXJyZW50aWRtb2RlbCIsInNldGN1cnJlbnRpZG1vZGVsIiwiYWRkZWRmaWVsZCIsInNldGFkZGVkZmllbGQiLCJhZGRlZGZpZWxkMSIsInNldGFkZGVkZmllbGQxIiwiYWRkZWRmaWVsZDIiLCJzZXRhZGRlZGZpZWxkMiIsImFkZGVkZmllbGQzIiwic2V0YWRkZWRmaWVsZDMiLCJhZGRlZGZpZWxkaWR4Iiwic2V0YWRkZWRmaWVsZGlkeCIsImFkZGVkZmllbGR0cmlnZ2VyIiwic2V0YWRkZWRmaWVsZHRyaWdnZXIiLCJhZGRlZGZpZWxkaWR4MSIsInNldGFkZGVkZmllbGRpZHgxIiwiYWRkZWRmaWVsZHRyaWdnZXIxIiwic2V0YWRkZWRmaWVsZHRyaWdnZXIxIiwiYWRkZWRmaWVsZGlkeDIiLCJzZXRhZGRlZGZpZWxkaWR4MiIsImFkZGVkZmllbGR0cmlnZ2VyMiIsInNldGFkZGVkZmllbGR0cmlnZ2VyMiIsImFkZGVkZmllbGRpZHgzIiwic2V0YWRkZWRmaWVsZGlkeDMiLCJhZGRlZGZpZWxkdHJpZ2dlcjMiLCJzZXRhZGRlZGZpZWxkdHJpZ2dlcjMiLCJsb2FkaW5nY3JlYXRlIiwic2V0bG9hZGluZ2NyZWF0ZSIsImxvYWRpbmdjcmVhdGVtb2RlbCIsInNldGxvYWRpbmdjcmVhdGVtb2RlbCIsImxvYWRpbmdnZXRtb2RlbCIsInNldGxvYWRpbmdnZXRtb2RlbCIsInByYWxvYWRpbmciLCJzZXRwcmFsb2FkaW5nIiwibG9hZGluZ3NwZWMiLCJzZXRsb2FkaW5nc3BlYyIsImxvYWRpbmdzcGVjMiIsInNldGxvYWRpbmdzcGVjMiIsImN1cnJlbnRkcm9wZG93bjIiLCJzZXRjdXJyZW50ZHJvcGRvd24yIiwiY3VycmVudGRyb3Bkb3dubjIiLCJzZXRjdXJyZW50ZHJvcGRvd25uMiIsImN1cnJlbnRjaGVja2VkZHJvcGRvd24yIiwic2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIiLCJjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIiLCJzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIiLCJ2YWx1ZWRyb3Bkb3dudHJpZ2dlciIsInNldHZhbHVlZHJvcGRvd250cmlnZ2VyIiwidmFsdWVkcm9wZG93bnRyaWdnZXIxIiwic2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxIiwidmFsdWVkcm9wZG93bnRyaWdnZXIyIiwic2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyIiwidmFsdWVkcm9wZG93bnRyaWdnZXIzIiwic2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzIiwiaWR4ZHJvcGRvd250cmlnZ2VyIiwic2V0aWR4ZHJvcGRvd250cmlnZ2VyIiwiaWR4ZHJvcGRvd250cmlnZ2VyMSIsInNldGlkeGRyb3Bkb3dudHJpZ2dlcjEiLCJpZHhkcm9wZG93bnRyaWdnZXIyIiwic2V0aWR4ZHJvcGRvd250cmlnZ2VyMiIsImlkeGRyb3Bkb3dudHJpZ2dlcjMiLCJzZXRpZHhkcm9wZG93bnRyaWdnZXIzIiwiY29uY2F0ZmllbGR0cmlnZ2VyIiwic2V0Y29uY2F0ZmllbGR0cmlnZ2VyIiwiY29uY2F0YWRkY29sdW1uc3RyaWdnZXIiLCJzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlciIsImNvbmNhdGFkZGNvbHVtbnNpZHgiLCJzZXRjb25jYXRhZGRjb2x1bW5zaWR4IiwiY29uY2F0YWRkY29sdW1uc3ZhbHVlIiwic2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlIiwiY29uY2F0YWRkY29sdW1uc3RyaWdnZXIxIiwic2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxIiwiY29uY2F0YWRkY29sdW1uc2lkeDEiLCJzZXRjb25jYXRhZGRjb2x1bW5zaWR4MSIsImNvbmNhdGFkZGNvbHVtbnN2YWx1ZTEiLCJzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxIiwiY29uY2F0ZmllbGR0cmlnZ2VyMiIsInNldGNvbmNhdGZpZWxkdHJpZ2dlcjIiLCJlZGl0cGFydCIsInNldGVkaXRwYXJ0IiwibW9kYWxjcmVhdGVtb2RlbCIsInNldG1vZGFsY3JlYXRlbW9kZWwiLCJuZXdkYXRhdHJpZ2dlciIsInNldG5ld2RhdGF0cmlnZ2VyIiwibmV3ZGF0YXRyaWdnZXIyIiwic2V0bmV3ZGF0YXRyaWdnZXIyIiwibW9kZWx0cmlnZ2VyIiwic2V0bW9kZWx0cmlnZ2VyIiwiY29uY2F0cGFydHRyaWdnZXIiLCJzZXRjb25jYXRwYXJ0dHJpZ2dlciIsImNvbmNhdHBhcnR2YWx1ZSIsInNldGNvbmNhdHBhcnR2YWx1ZSIsImFzc2V0dHlwZWNvZGUiLCJzZXRhc3NldHR5cGVjb2RlIiwiYXNzZXR0eXBlY29kZTIiLCJzZXRhc3NldHR5cGVjb2RlMiIsImRlZmF1bHRtb2RlbCIsInNldGRlZmF1bHRtb2RlbCIsImRpc2FibGVkdGFtYmFoIiwic2V0ZGlzYWJsZWR0YW1iYWgiLCJkaXNhYmxlZHRhbWJhaDIiLCJzZXRkaXNhYmxlZHRhbWJhaDIiLCJkaXNhYmxlZGFkZGZpZWxkIiwic2V0ZGlzYWJsZWRhZGRmaWVsZCIsImRpc2FibGVkYWRkZmllbGQyIiwic2V0ZGlzYWJsZWRhZGRmaWVsZDIiLCJwb2ludGV2ZW50Iiwic2V0cG9pbnRldmVudCIsInBvaW50ZXZlbnQyIiwic2V0cG9pbnRldmVudDIiLCJjZDIiLCJzZXRjZDIiLCJjZGlkeCIsInNldGNkaWR4IiwiY2R0cmlnZ2VyIiwic2V0Y2R0cmlnZ2VyIiwiY2QycGFydCIsInNldGNkMnBhcnQiLCJjZHBhcnRpZHgiLCJzZXRjZHBhcnRpZHgiLCJjZHBhcnR0cmlnZ2VyIiwic2V0Y2RwYXJ0dHJpZ2dlciIsImNoYW5nZWFzc2V0Iiwic2V0Y2hhbmdlYXNzZXQiLCJkZWZhdWx0YXNzZXQiLCJzZXRkZWZhdWx0YXNzZXQiLCJmZXRjaGluZ3BhcnQiLCJzZXRmZXRjaGluZ3BhcnQiLCJwYWdlIiwic2V0cGFnZSIsIm1vZGFsbWFudWYiLCJzZXRtb2RhbG1hbnVmIiwibG9hZGluZ21hbnVmIiwic2V0bG9hZGluZ21hbnVmIiwiZGlzYWJsZWRtYW51ZiIsInNldGRpc2FibGVkbWFudWYiLCJ0cmlnZ2VybWFudWYiLCJzZXR0cmlnZ2VybWFudWYiLCJkYXRhbWFudWYiLCJzZXRkYXRhbWFudWYiLCJvbkNsaWNrQWRkRmllbGQiLCJvbkNsaWNrQWRkRmllbGQyIiwib25DbGlja1NlbGVjdEFzc2V0IiwiTnVtYmVyIiwiZmV0Y2giLCJwcm9jZXNzIiwibWV0aG9kIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJKU09OIiwicGFyc2UiLCJ0aGVuIiwicmVzIiwianNvbiIsInJlczIiLCJ0ZW1wIiwic3VjY2VzcyIsImRhdGEiLCJhc3NldF9jb2x1bW5zIiwiZGVmYXVsdGFzc2V0aWQiLCJkb2NtYXAiLCJuZXdhc3NldGZpZWxkZGF0YTIiLCJmaWx0ZXIiLCJkb2NmaWx0ZXIiLCJpbmNsdWRlcyIsImNvbmNhdCIsIm5ld2ZpZWxkbWFwIiwiZG9jbmV3ZmllbGQiLCJwcmV2IiwidGVtcG8iLCJjb3VudCIsImFzc2V0IiwiY29kZSIsIm1hbnVmYWN0dXJlciIsImFyciIsImkiLCJwdXNoIiwibWVzc2FnZSIsImR1cmF0aW9uIiwib25DbGlja1NlbGVjdEFzc2V0MiIsImJvb2wiLCJoYW5kbGVDcmVhdGVNb2RlbCIsInQiLCJwcm9wIiwic3RyaW5naWZ5IiwiYm9keSIsInNldFRpbWVvdXQiLCJoYW5kbGVDcmVhdGVNb2RlbGluTW9kZWwiLCJoYW5kbGVBZGRNYW51ZmFjdHVyZXIiLCJ1c2VFZmZlY3QiLCJsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciIsIm5ld01hbnVmYWN0dXJlcklkIiwic2V0RmllbGRzVmFsdWUiLCJyZWN1cnNpdmVQYXJ0TW9kZWwiLCJ0ZW1wMTEiLCJ0ZW1wMSIsInlvIiwidGVtcDIiLCJzb21lIiwiZG9jc29tZSIsImRvY2FkZCIsImluZGV4T2YiLCJpZHhhZGRjb2x1bW4iLCJkb2NhZGQyIiwiZG9jdXAiLCJpZHh1cGNvbHVtbiIsIm1vZGVsX2lkIiwiaWR4dGVtcCIsImlkeG9mIiwicXVhbnRpdHkiLCJkb2MxMCIsImlkeDEwIiwiZG9jMTEiLCJpZHgxMSIsInN0Iiwic3VibWl0IiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3ciLCJ2YWx1ZSIsImxhYmVsIiwiZXh0cmEiLCJhbGxDaGVja2VkTm9kZXMiLCJub2RlIiwicHJvcHMiLCJlIiwidGFyZ2V0IiwiZm9udFNpemUiLCJjaGVja2VkIiwiUFJFU0VOVEVEX0lNQUdFX1NJTVBMRSIsImRvY29wc2kiLCJkb2siLCJpZGsiLCJldmVyeSIsImRvY2EiLCJpZHhhIiwidG9Mb3dlckNhc2UiLCJpZHh4IiwiaWR4Y2hlY2tlZCIsImluZGV4IiwibW9tZW50IiwiZGF0ZVN0cmluZyIsIl8iLCJkb2NkZWYiLCJpZHhVcGRhdGVDb2x1bW5zIiwiZG9jdGVtcCIsImhlaWdodCIsImRvY3BhcnRzIiwiaWR4ZGF0YSIsImRvY21jIiwiaWR4bWMiLCJpZHhvcHNpIiwibWFyZ2luVG9wIiwiaW5wdXQiLCJvcHQiLCJjaGlsZHJlbiIsIm1vZGVscGFydHMiLCJtYXAzIiwiaWR4ZGF0YTIiLCJkb2MxIiwiZG9jeHgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBR0EsSUFBTUEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixPQUFtRDtBQUFBOztBQUFBLE1BQWhEQyxRQUFnRCxRQUFoREEsUUFBZ0Q7QUFBQSxNQUF0Q0MsV0FBc0MsUUFBdENBLFdBQXNDO0FBQUEsTUFBekJDLFNBQXlCLFFBQXpCQSxTQUF5QjtBQUFBLE1BQWRDLE9BQWMsUUFBZEEsT0FBYztBQUN2RTtBQUNBLE1BQU1DLEVBQUUsR0FBR0MsOERBQVMsRUFBcEI7QUFDQSxN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QUFDLEtBQUQsQ0FBYjtBQUNELE9BN0JIO0FBOEJFLFdBQUssRUFBRSxHQTlCVDtBQUFBLDZCQWdDRTtBQUFLLGlCQUFTLEVBQUMsb0JBQWY7QUFBQSwrQkFDRTtBQUFBLDZDQUFlLG9CQUFmO0FBQUEsa0NBQ0U7QUFBQSwrQ0FBYSxNQUFiO0FBQUEsMERBQ29CO0FBQUEsaURBQWdCO0FBQWhCO0FBQUE7QUFBQTtBQUFBO0FBQUEscUJBRHBCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQkFERixlQUlFO0FBQ0UsaUJBQUssRUFBRU8sU0FBUyxDQUFDak0sSUFEbkI7QUFFRSx1QkFBVyxFQUFDLDRCQUZkO0FBR0Usb0JBQVEsRUFBRSxrQkFBQ3VSLENBQUQsRUFBTztBQUNmQSxlQUFDLENBQUNDLE1BQUYsQ0FBU1AsS0FBVCxLQUFtQixFQUFuQixHQUNJbkYsZ0JBQWdCLENBQUMsSUFBRCxDQURwQixHQUVJQSxnQkFBZ0IsQ0FBQyxLQUFELENBRnBCO0FBR0FJLDBCQUFZLENBQUM7QUFBRWxNLG9CQUFJLEVBQUV1UixDQUFDLENBQUNDLE1BQUYsQ0FBU1A7QUFBakIsZUFBRCxDQUFaO0FBQ0Q7QUFSSDtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUpGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFoQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxhQXJ0R0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFdBREY7QUFreEdELENBcDVJRDs7R0FBTXhTLGE7VUFFT00sc0QsRUFJWSxzREFBS08sTyxFQUNKLHNEQUFLQSxPOzs7S0FQekJiLGE7O0FBaThJU0EsNEVBQWYiLCJmaWxlIjoiLi9zcmMvcGFnZXMvYWRtaW4vbW9kZWxzL3VwZGF0ZTIvW21vZGVsSWRdLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVsZXRlT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIENhbGVuZGFyT3V0bGluZWQsXG4gIENsb3NlQ2lyY2xlT3V0bGluZWQsXG4gIFBsdXNTcXVhcmVUd29Ub25lLFxufSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgQ2hlY2tib3gsXG4gIENvbGxhcHNlLFxuICBEYXRlUGlja2VyLFxuICBFbXB0eSxcbiAgRm9ybSxcbiAgSW5wdXQsXG4gIElucHV0TnVtYmVyLFxuICBQb3Bjb25maXJtLFxuICBTZWxlY3QsXG4gIFNwaW4sXG4gIFRpbWVsaW5lLFxuICBUcmVlU2VsZWN0LFxuICBub3RpZmljYXRpb24sXG59IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgTW9kYWwgZnJvbSBcImFudGQvbGliL21vZGFsL01vZGFsXCI7XG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0aWNreSBmcm9tIFwid2lsLXJlYWN0LXN0aWNreVwiO1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2xheW91dC1kYXNoYm9hcmRcIjtcbmltcG9ydCBzdCBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQtZGFzaGJvYXJkLm1vZHVsZS5jc3NcIjtcbmltcG9ydCBodHRwY29va2llIGZyb20gXCJjb29raWVcIjtcblxuY29uc3QgTW9kZWxzVXBkYXRlMiA9ICh7IHNpZGVtZW51LCBkYXRhUHJvZmlsZSwgaW5pdFByb3BzLCBtb2RlbGlkIH0pID0+IHtcbiAgLy8xLkluaXRcbiAgY29uc3QgcnQgPSB1c2VSb3V0ZXIoKTtcbiAgdmFyIHBhdGhBcnIgPSBydC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSk7XG4gIHBhdGhBcnIuc3BsaWNlKDMsIDEpO1xuICBwYXRoQXJyW3BhdGhBcnIubGVuZ3RoIC0gMV0gPSBcIlViYWggTW9kZWxcIjtcbiAgY29uc3QgW2luc3RhbmNlRm9ybV0gPSBGb3JtLnVzZUZvcm0oKTtcbiAgY29uc3QgW2luc3RhbmNlRm9ybTJdID0gRm9ybS51c2VGb3JtKCk7XG4gIGNvbnN0IHsgUGFuZWwgfSA9IENvbGxhcHNlO1xuXG4gIC8vMi5IZWxwZXIgZnVuY3Rpb25zXG4gIGNvbnN0IHJlbmRlckNoaWxkUGFydE1vZGVsID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICByZXR1cm4gPENoaWxkcmVuIGRvYz17ZG9jfT48L0NoaWxkcmVuPjtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBDaGlsZHJlbiA9ICh7IGRvYyB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaW1lbGluZS5JdGVtPlxuICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIDxQYW5lbCBoZWFkZXI9e2RvYy5uYW1lfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHAtM1wiPlxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlF1YW50aXR5IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1ncmF5LTIwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBoLTEyIHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wIHRleHQtc21cIj57ZG9jLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jbWMyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhciBkZWZhdWx0MiA9IHt9XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoZG9jbWMyLmRhdGFfdHlwZSA9PT0gJ2Ryb3Bkb3duJyB8fCBkb2NtYzIuZGF0YV90eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDIgPSBKU09OLnBhcnNlKGRvY21jMi5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxzblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2NtYzIuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NtYzIuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgMTAwJWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgcmdiYSgyMjksIDIzMSwgMjM1LDEpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYHJnYmEoMjI5LCAyMzEsIDIzNSwxKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdC5vcHNpLm1hcCgoZG9jMiwgaWR4MikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGRpc2FibGVkIHZhbHVlPXtpZHgyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHQub3BzaS5tYXAoKGRvYzMsIGlkeDMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jMi5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkIGJnLWdyYXktMTAwIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvY21jMi5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJPdXRsaW5lZD48L0NhbGVuZGFyT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMCByb3VuZGVkIGJvcmRlciBiZy1ncmF5LTEwMCB3LWZ1bGwgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMyLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYmctZ3JheS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtMTAgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYzIuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAge2RvYy5tb2RlbF9wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICByZW5kZXJDaGlsZFBhcnRNb2RlbChkb2MubW9kZWxfcGFydHMpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICA8L1RpbWVsaW5lLkl0ZW0+XG4gICAgKTtcbiAgfTtcblxuICAvLzIudXNlU3RhdGVcbiAgY29uc3QgW25ld2RhdGEsIHNldG5ld2RhdGFdID0gdXNlU3RhdGUoe1xuICAgIGlkOiBcIlwiLFxuICAgIGFzc2V0X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgbWFudWZhY3R1cmVyX2lkOiBudWxsLFxuICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICBpc19jb25zdW1hYmxlOiBmYWxzZSxcbiAgICBtb2RlbF9jb2x1bW5zOiBbXSxcbiAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgYWRkX2NvbHVtbnM6IFtdLFxuICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICB1cGRhdGVfY29sdW1uczogW10sXG4gICAgYWRkX21vZGVsczogW10sXG4gICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gIH0pO1xuICBjb25zdCBbbmV3ZGF0YTIsIHNldG5ld2RhdGEyXSA9IHVzZVN0YXRlKHtcbiAgICBpZDogXCJcIixcbiAgICBhc3NldF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgaXNfY29uc3VtYWJsZTogZmFsc2UsXG4gICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgbW9kZWxfcGFydHM6IFtdLFxuICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICBkZWxldGVfY29sdW1uX2lkczogW10sXG4gICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgIGRlbGV0ZV9tb2RlbF9pZHM6IFtdLFxuICB9KTtcbiAgY29uc3QgW2RlZmF1bHRkYXRhLCBzZXRkZWZhdWx0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthc3NldGRhdGEsIHNldGFzc2V0ZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttYW51ZmRhdGEsIHNldG1hbnVmZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb2RlbGRhdGEsIHNldG1vZGVsZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEsIHNldGZpZWxkZGF0YV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmaWVsZGRhdGEyLCBzZXRmaWVsZGRhdGEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZpZWxkZGF0YWEsIHNldGZpZWxkZGF0YWFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmllbGRkYXRhYTIsIHNldGZpZWxkZGF0YWEyXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW21vZGVscGFydGZpZWxkZGF0YSwgc2V0bW9kZWxwYXJ0ZmllbGRkYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRmaWVsZCwgc2V0Y3VycmVudGZpZWxkXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50ZmllbGQyLCBzZXRjdXJyZW50ZmllbGQyXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICBkZWZhdWx0OiBcInNpbmdsZVwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnN0IFtjdXJyZW50aWRtb2RlbCwgc2V0Y3VycmVudGlkbW9kZWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthZGRlZGZpZWxkLCBzZXRhZGRlZGZpZWxkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGQxLCBzZXRhZGRlZGZpZWxkMV0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkMiwgc2V0YWRkZWRmaWVsZDJdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWRkZWRmaWVsZDMsIHNldGFkZGVkZmllbGQzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgsIHNldGFkZGVkZmllbGRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIsIHNldGFkZGVkZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FkZGVkZmllbGRpZHgxLCBzZXRhZGRlZGZpZWxkaWR4MV0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkdHJpZ2dlcjEsIHNldGFkZGVkZmllbGR0cmlnZ2VyMV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRlZGZpZWxkaWR4Miwgc2V0YWRkZWRmaWVsZGlkeDJdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbYWRkZWRmaWVsZHRyaWdnZXIyLCBzZXRhZGRlZGZpZWxkdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkZWRmaWVsZGlkeDMsIHNldGFkZGVkZmllbGRpZHgzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2FkZGVkZmllbGR0cmlnZ2VyMywgc2V0YWRkZWRmaWVsZHRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdjcmVhdGUsIHNldGxvYWRpbmdjcmVhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2NyZWF0ZW1vZGVsLCBzZXRsb2FkaW5nY3JlYXRlbW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ2dldG1vZGVsLCBzZXRsb2FkaW5nZ2V0bW9kZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJhbG9hZGluZywgc2V0cHJhbG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdzcGVjLCBzZXRsb2FkaW5nc3BlY10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nc3BlYzIsIHNldGxvYWRpbmdzcGVjMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd24yLCBzZXRjdXJyZW50ZHJvcGRvd24yXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjdXJyZW50ZHJvcGRvd25uMiwgc2V0Y3VycmVudGRyb3Bkb3dubjJdID0gdXNlU3RhdGUoW1wiXCIsIFwiXCJdKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd24yLCBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRjaGVja2VkZHJvcGRvd25uMiwgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdmFsdWVkcm9wZG93bnRyaWdnZXIsIHNldHZhbHVlZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMSwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIxXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMiwgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhbHVlZHJvcGRvd250cmlnZ2VyMywgc2V0dmFsdWVkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlciwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2lkeGRyb3Bkb3dudHJpZ2dlcjEsIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbaWR4ZHJvcGRvd250cmlnZ2VyMiwgc2V0aWR4ZHJvcGRvd250cmlnZ2VyMl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtpZHhkcm9wZG93bnRyaWdnZXIzLCBzZXRpZHhkcm9wZG93bnRyaWdnZXIzXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGZpZWxkdHJpZ2dlciwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyLCBzZXRjb25jYXRhZGRjb2x1bW5zdHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25jYXRhZGRjb2x1bW5zaWR4LCBzZXRjb25jYXRhZGRjb2x1bW5zaWR4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZSwgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMSwgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0YWRkY29sdW1uc2lkeDEsIHNldGNvbmNhdGFkZGNvbHVtbnNpZHgxXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2NvbmNhdGFkZGNvbHVtbnN2YWx1ZTEsIHNldGNvbmNhdGFkZGNvbHVtbnN2YWx1ZTFdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY29uY2F0ZmllbGR0cmlnZ2VyMiwgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0cGFydCwgc2V0ZWRpdHBhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kYWxjcmVhdGVtb2RlbCwgc2V0bW9kYWxjcmVhdGVtb2RlbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdkYXRhdHJpZ2dlciwgc2V0bmV3ZGF0YXRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3ZGF0YXRyaWdnZXIyLCBzZXRuZXdkYXRhdHJpZ2dlcjJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWx0cmlnZ2VyLCBzZXRtb2RlbHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29uY2F0cGFydHRyaWdnZXIsIHNldGNvbmNhdHBhcnR0cmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmNhdHBhcnR2YWx1ZSwgc2V0Y29uY2F0cGFydHZhbHVlXSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW2Fzc2V0dHlwZWNvZGUsIHNldGFzc2V0dHlwZWNvZGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthc3NldHR5cGVjb2RlMiwgc2V0YXNzZXR0eXBlY29kZTJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtkZWZhdWx0bW9kZWwsIHNldGRlZmF1bHRtb2RlbF0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtkaXNhYmxlZHRhbWJhaCwgc2V0ZGlzYWJsZWR0YW1iYWhdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWR0YW1iYWgyLCBzZXRkaXNhYmxlZHRhbWJhaDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzYWJsZWRhZGRmaWVsZCwgc2V0ZGlzYWJsZWRhZGRmaWVsZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaXNhYmxlZGFkZGZpZWxkMiwgc2V0ZGlzYWJsZWRhZGRmaWVsZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9pbnRldmVudCwgc2V0cG9pbnRldmVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BvaW50ZXZlbnQyLCBzZXRwb2ludGV2ZW50Ml0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NkMiwgc2V0Y2QyXSA9IHVzZVN0YXRlKFtcIlwiLCBcIlwiXSk7XG4gIGNvbnN0IFtjZGlkeCwgc2V0Y2RpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2R0cmlnZ2VyLCBzZXRjZHRyaWdnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2QycGFydCwgc2V0Y2QycGFydF0gPSB1c2VTdGF0ZShbXCJcIiwgXCJcIl0pO1xuICBjb25zdCBbY2RwYXJ0aWR4LCBzZXRjZHBhcnRpZHhdID0gdXNlU3RhdGUoLTEpO1xuICBjb25zdCBbY2RwYXJ0dHJpZ2dlciwgc2V0Y2RwYXJ0dHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjaGFuZ2Vhc3NldCwgc2V0Y2hhbmdlYXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGVmYXVsdGFzc2V0LCBzZXRkZWZhdWx0YXNzZXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hpbmdwYXJ0LCBzZXRmZXRjaGluZ3BhcnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFnZSwgc2V0cGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgLy9jcmVhdGUgbWFudWZhY3R1cmVyXG4gIGNvbnN0IFttb2RhbG1hbnVmLCBzZXRtb2RhbG1hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdtYW51Ziwgc2V0bG9hZGluZ21hbnVmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2FibGVkbWFudWYsIHNldGRpc2FibGVkbWFudWZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmlnZ2VybWFudWYsIHNldHRyaWdnZXJtYW51Zl0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkYXRhbWFudWYsIHNldGRhdGFtYW51Zl0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJcIixcbiAgfSk7XG5cbiAgLy8zLm9uQ2hhbmdlXG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZCA9ICgpID0+IHtcbiAgICBzZXRmaWVsZGRhdGEoW1xuICAgICAgLi4uZmllbGRkYXRhLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGFkZGVkZmllbGQxKFsuLi5hZGRlZGZpZWxkMSwgZmFsc2VdKTtcbiAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QyKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2tBZGRGaWVsZDIgPSAoKSA9PiB7XG4gICAgc2V0ZmllbGRkYXRhYTIoW1xuICAgICAgLi4uZmllbGRkYXRhYTIsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRhdGFfdHlwZTogXCJcIixcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBkYXRhX3R5cGU6IFwiXCIsXG4gICAgICBkZWZhdWx0OiBcIlwiLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihbXSk7XG4gICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgIHNldHBvaW50ZXZlbnQyKFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgfTtcbiAgY29uc3Qgb25DbGlja1NlbGVjdEFzc2V0ID0gKGlkKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIHNldGxvYWRpbmdzcGVjKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICA6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdGFzc2V0aWQgPSBkZWZhdWx0YXNzZXQubWFwKChkb2NtYXApID0+IGRvY21hcC5pZCk7XG4gICAgICAgICAgY29uc3QgbmV3YXNzZXRmaWVsZGRhdGEyID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAuY29uY2F0KHRlbXApO1xuICAgICAgICAgIGNvbnN0IG5ld2ZpZWxkbWFwID0gbmV3ZGF0YS5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgIChkb2NuZXdmaWVsZCkgPT4gdHlwZW9mIGRvY25ld2ZpZWxkLmlkID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGVtcG8gPSBwcmV2O1xuICAgICAgICAgICAgdGVtcG8gPSB0ZW1wb1xuICAgICAgICAgICAgICAuZmlsdGVyKChkb2NmaWx0ZXIpID0+IGRlZmF1bHRhc3NldGlkLmluY2x1ZGVzKGRvY2ZpbHRlci5pZCkpXG4gICAgICAgICAgICAgIC5jb25jYXQodGVtcCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcG87XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHRtb2RlbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2Fzc2V0ZmllbGRkYXRhMi5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgYWRkX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiByZXMyLmRhdGEucmVxdWlyZWRfc24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0ZGVmYXVsdGRhdGEoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdGRhdGEsXG4gICAgICAgICAgICBpZDogZGVmYXVsdG1vZGVsLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVmYXVsdG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdG1vZGVsLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBkZWZhdWx0bW9kZWwubWFudWZhY3R1cmVyX2lkLFxuICAgICAgICAgICAgY291bnQ6IGRlZmF1bHRtb2RlbC5jb3VudCxcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgIGlkOiByZXMyLmRhdGEuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHJlczIuZGF0YS5uYW1lLFxuICAgICAgICAgICAgICBjb2RlOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlczIuZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHRtb2RlbC5tYW51ZmFjdHVyZXIubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3NldF9pZDogTnVtYmVyKGlkKSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IGRlZmF1bHRhc3NldCxcbiAgICAgICAgICAgIGFkZF9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZV9jb2x1bW5zOiBbXSxcbiAgICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICAgIGFkZF9tb2RlbHM6IFtdLFxuICAgICAgICAgICAgZGVsZXRlX21vZGVsX2lkczogW10sXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogcmVzMi5kYXRhLnJlcXVpcmVkX3NuLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2Fzc2V0ZmllbGRkYXRhMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2godHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldGNoYW5nZWFzc2V0KHRlbXApO1xuICAgICAgICAgIHNldGFkZGVkZmllbGQoYXJyKTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYyhmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiaW5mb1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFuZGEgVGVsYWggTWVuZ3ViYWggQXNzZXQgVHlwZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiSGFsIGluaSBtZW1idWF0IGZpZWxkIGRhcmkgYXNzZXQgdHlwZSB0ZXJrYWl0IHRlcmJlbnR1ayBkaSBmb3JtIGluaSFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICAvLyBzZXRmaWVsZGRhdGEyKHRlbXApXG4gICAgICAgICAgY29uc3QgbmV3ZmllbGRtYXAgPSBuZXdkYXRhLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IG5ld2RhdGEubW9kZWxfY29sdW1ucy5jb25jYXQobmV3ZmllbGRtYXApLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IGZhbHNlLFxuICAgICAgICAgICAgYXNzZXRfaWQ6IDAsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bG9hZGluZ3NwZWMoZmFsc2UpO1xuICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNsaWNrU2VsZWN0QXNzZXQyID0gKGlkKSA9PiB7XG4gICAgc2V0bG9hZGluZ3NwZWMyKHRydWUpO1xuICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGFzc2V0X2lkOiBOdW1iZXIoaWQpIH0pO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldD9pZD0ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgdGVtcCA9IHJlczIuZGF0YS5hc3NldF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04ucGFyc2UoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGJvb2wgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvb2wucHVzaCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0YWRkZWRmaWVsZDMoYm9vbCk7XG4gICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldG5ld2RhdGEyKHtcbiAgICAgICAgICAgIC4uLm5ld2RhdGEyLFxuICAgICAgICAgICAgcmVxdWlyZWRfc246IHJlczIuZGF0YS5yZXF1aXJlZF9zbixcbiAgICAgICAgICAgIGFzc2V0X2lkOiByZXMyLmRhdGEuY29kZSxcbiAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAuY29uY2F0KG5ld2ZpZWxkbWFwKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRhc3NldHR5cGVjb2RlMihyZXMyLmRhdGEuaWQpO1xuICAgICAgICAgIC8vIHNldG5ld2RhdGF0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgIHNldGxvYWRpbmdzcGVjMihmYWxzZSk7XG4gICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXAgPSBbXTtcbiAgICAgICAgICBjb25zdCBuZXdmaWVsZG1hcCA9IG5ld2RhdGEyLm1vZGVsX2NvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGRvY25ld2ZpZWxkKSA9PiB0eXBlb2YgZG9jbmV3ZmllbGQuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldGZpZWxkZGF0YWEodGVtcCk7XG4gICAgICAgICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICAgICAgICBtb2RlbF9jb2x1bW5zOiB0ZW1wLmNvbmNhdChuZXdmaWVsZG1hcCksXG4gICAgICAgICAgICByZXF1aXJlZF9zbjogZmFsc2UsXG4gICAgICAgICAgICBhc3NldF9pZDogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRsb2FkaW5nc3BlYzIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICAvLzQuaGFuZGxlXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsID0gKCkgPT4ge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdkYXRhKSB7XG4gICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IG5ld2RhdGFbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwidXBkYXRlX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YVtwcm9wXS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fCBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkoZG9jLmRlZmF1bHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJhZGRfY29sdW1uc1wiKSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnN0cmluZ2lmeShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBcImFzc2V0X2lkXCIpIHtcbiAgICAgICAgdFtwcm9wXSA9IE51bWJlcihhc3NldHR5cGVjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRsb2FkaW5nY3JlYXRlKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS91cGRhdGVNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIHNldGxvYWRpbmdjcmVhdGUoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdWJhaFwiLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgIHJ0LnB1c2goYC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbCA9ICgpID0+IHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3ZGF0YTIpIHtcbiAgICAgIGlmIChwcm9wID09PSBcIm1vZGVsX2NvbHVtbnNcIikge1xuICAgICAgICB0W3Byb3BdID0gbmV3ZGF0YTJbcHJvcF0ubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHwgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IEpTT04uc3RyaW5naWZ5KGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRvYyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFwiYXNzZXRfaWRcIikgWyh0W3Byb3BdID0gTnVtYmVyKGFzc2V0dHlwZWNvZGUyKSldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRbcHJvcF0gPSBuZXdkYXRhMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0bG9hZGluZ2NyZWF0ZW1vZGVsKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNb2RlbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IEpTT04ucGFyc2UoaW5pdFByb3BzKSxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodCksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICBpZiAocmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wic3VjY2Vzc1wiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1vZGVsIGJlcmhhc2lsIGRpdGFtYmFoa2FuXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRuZXdkYXRhMih7XG4gICAgICAgICAgICBhc3NldF9pZDogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlcl9pZDogXCJcIixcbiAgICAgICAgICAgIHJlcXVpcmVkX3NuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzX2NvbnN1bWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbW9kZWxfY29sdW1uczogW10sXG4gICAgICAgICAgICBtb2RlbF9wYXJ0czogW10sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0bW9kYWxjcmVhdGVtb2RlbChmYWxzZSk7XG4gICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgIHNldG1vZGVsdHJpZ2dlcihyZXMyLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmICghcmVzMi5zdWNjZXNzKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uW1wiZXJyb3JcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzMi5tZXNzYWdlLFxuICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRNYW51ZmFjdHVyZXIgPSAoKSA9PiB7XG4gICAgc2V0bG9hZGluZ21hbnVmKHRydWUpO1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9hZGRNYW51ZmFjdHVyZXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFtYW51ZiksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzMikgPT4ge1xuICAgICAgICBzZXRsb2FkaW5nbWFudWYoZmFsc2UpO1xuICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgaWYgKHJlczIuc3VjY2Vzcykge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcInN1Y2Nlc3NcIl0oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJNYW51ZmFjdHVyZXIgYmVyaGFzaWwgZGl0YW1iYWhrYW5cIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldGRhdGFtYW51Zih7XG4gICAgICAgICAgICAuLi5kYXRhbWFudWYsXG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldHRyaWdnZXJtYW51ZigocHJldikgPT4gcHJldiArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZXMyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBub3RpZmljYXRpb25bXCJlcnJvclwiXSh7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXMyLm1lc3NhZ2UsXG4gICAgICAgICAgICBkdXJhdGlvbjogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgLy81LnVzZUVmZmVjdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRBc3NldHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0YXNzZXRkYXRhKHJlczIuZGF0YSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNYW51ZmFjdHVyZXJzYCwge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXMyLmRhdGE7XG5cbiAgICAgICAgc2V0bWFudWZkYXRhKGRhdGEpO1xuXG4gICAgICAgIC8qKiBTZXQgbmV3IGluc2VydGVkIG1hbnVmYWN0dXJlciBhcyBkZWZhdWx0IHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgXCJNYW51ZmFjdHVyZXJcIiBkcm9wZG93biAqL1xuICAgICAgICBpZiAodHJpZ2dlcm1hbnVmID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RJbnNlcnRlZE1hbnVmYWN0dXJlciA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBuZXdNYW51ZmFjdHVyZXJJZCA9IGxhdGVzdEluc2VydGVkTWFudWZhY3R1cmVyLmlkO1xuXG4gICAgICAgICAgLyoqIEZvcm0gY29udHJvbCB2YWx1ZSAqL1xuICAgICAgICAgIGluc3RhbmNlRm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG1hbnVmYWN0dXJlcl9pZDogbmV3TWFudWZhY3R1cmVySWQgfSk7XG5cbiAgICAgICAgICAvKiogSXQncyBuZWNlc3NhcnkgdG8gdXBkYXRlIHRoaXMgc3RhdGUuIFRoaXMgc3RhdGUgd2lsbCBiZSB1c2VkIGFzIGEgcGF5bG9hZCB0byB0aGUgYmFja2VuZCAqL1xuICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyX2lkOiBuZXdNYW51ZmFjdHVyZXJJZCxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9LCBbdHJpZ2dlcm1hbnVmXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkx9L2dldE1vZGVsP2lkPSR7bW9kZWxpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHJlczIuZGF0YS5tb2RlbF9jb2x1bW5zLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8IGRvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0ID09PSBcIlwiIHx8IGRvYy5kZWZhdWx0ID09PSBcIi1cIlxuICAgICAgICAgICAgICAgICAgPyBkb2MuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9tb2RlbF9wYXJ0c1xuICAgICAgICBjb25zdCByZWN1cnNpdmVQYXJ0TW9kZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgICAgIHZhciB0ZW1wMTEgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZW1wMSA9IHt9O1xuICAgICAgICAgICAgdGVtcDEgPSBpdGVtW2ldLm1vZGVsX2NvbHVtbnMubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdCA9PT0gXCJcIiB8fCBkb2MuZGVmYXVsdCA9PT0gXCItXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IGRvYy5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgOiBKU09OLnBhcnNlKGRvYy5kZWZhdWx0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5kb2MsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0ZW1wMTEucHVzaCh7XG4gICAgICAgICAgICAgIC4uLml0ZW1baV0sXG4gICAgICAgICAgICAgIG1vZGVsX2NvbHVtbnM6IHRlbXAxLFxuICAgICAgICAgICAgICBtb2RlbF9wYXJ0czpcbiAgICAgICAgICAgICAgICBpdGVtW2ldLm1vZGVsX3BhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gcmVjdXJzaXZlUGFydE1vZGVsKGl0ZW1baV0ubW9kZWxfcGFydHMpXG4gICAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZW1wMTE7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHlvID0gcmVjdXJzaXZlUGFydE1vZGVsKHJlczIuZGF0YS5tb2RlbF9wYXJ0cyk7XG4gICAgICAgIGNvbnN0IHRlbXAyID0ge1xuICAgICAgICAgIC4uLnJlczIuZGF0YSxcbiAgICAgICAgICBhc3NldF9pZDogcmVzMi5kYXRhLmFzc2V0LmNvZGUsXG4gICAgICAgICAgbW9kZWxfY29sdW1uczogdGVtcCxcbiAgICAgICAgICBhZGRfY29sdW1uczogW10sXG4gICAgICAgICAgdXBkYXRlX2NvbHVtbnM6IFtdLFxuICAgICAgICAgIGRlbGV0ZV9jb2x1bW5faWRzOiBbXSxcbiAgICAgICAgICBhZGRfbW9kZWxzOiBbXSxcbiAgICAgICAgICBkZWxldGVfbW9kZWxfaWRzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0bmV3ZGF0YSh0ZW1wMik7XG4gICAgICAgIHNldGRlZmF1bHRkYXRhKHRlbXAyKTtcbiAgICAgICAgc2V0ZGVmYXVsdGFzc2V0KHRlbXApO1xuICAgICAgICBzZXRkZWZhdWx0bW9kZWwodGVtcDIpO1xuICAgICAgICBzZXRmaWVsZGRhdGEyKHRlbXApO1xuICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoeW8pO1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzMi5kYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRhZGRlZGZpZWxkKGFycik7XG4gICAgICAgIHNldGFzc2V0dHlwZWNvZGUocmVzMi5kYXRhLmFzc2V0X2lkKTtcbiAgICAgICAgc2V0cHJhbG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHNgLCB7XG4gICAgICBtZXRob2Q6IGBHRVRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBKU09OLnBhcnNlKGluaXRQcm9wcyksXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgc2V0Y3VycmVudGlkbW9kZWwobW9kZWx0cmlnZ2VyKTtcbiAgICAgICAgbW9kZWx0cmlnZ2VyICE9PSBmYWxzZSA/IHNldGVkaXRwYXJ0KHRydWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICB9LCBbbW9kZWx0cmlnZ2VyXSk7XG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCB1dGFtYSB5YW5nIGZpZWxkIGFzc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkeGRyb3Bkb3dudHJpZ2dlciAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YTIoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcl0pO1xuICAvL2NoZWNrYm94IGRyb3Bkb3duIGRhcmkgbW9kZWwgdXRhbWEgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMSAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YSgocHJldikgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgLy8gdGVtcFtpZHhkcm9wZG93bnRyaWdnZXJdW1wiZGVmYXVsdFwiXSA9IGAke3ZhbHVlZHJvcGRvd250cmlnZ2VyfWBcbiAgICAgICAgdGVtcFtpZHhkcm9wZG93bnRyaWdnZXIxXVtcImRlZmF1bHRcIl0gPSB7XG4gICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRuZXdkYXRhKHtcbiAgICAgIC4uLm5ld2RhdGEsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGEyLmNvbmNhdChmaWVsZGRhdGEpLFxuICAgIH0pO1xuICB9LCBbY29uY2F0ZmllbGR0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHggIT09IC0xKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNoYW5nZWFzc2V0LnNvbWUoXG4gICAgICAgICAgKGRvY3NvbWUpID0+IGRvY3NvbWUuaWQgPT09IGNvbmNhdGFkZGNvbHVtbnN2YWx1ZS5pZFxuICAgICAgICApIHx8XG4gICAgICAgIHR5cGVvZiBjb25jYXRhZGRjb2x1bW5zdmFsdWUuaWQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICkge1xuICAgICAgICAvLyBpZiAoKGZpZWxkZGF0YTIubGVuZ3RoIC0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5sZW5ndGgpID49IG5ld2RhdGEuYWRkX2NvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXdkYXRhLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQpID0+IGRvY2FkZC5uYW1lKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLm5hbWUpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAuYWRkX2NvbHVtbnMucHVzaChmaWVsZGRhdGEyW2ZpZWxkZGF0YTIubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YTJbY29uY2F0YWRkY29sdW1uc2lkeF0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbmNhdGFkZGNvbHVtbnNpZHgxICE9PSAtMSkge1xuICAgICAgaWYgKFxuICAgICAgICBjb25jYXRhZGRjb2x1bW5zaWR4MSA+IGRlZmF1bHRkYXRhLm1vZGVsX2NvbHVtbnMubGVuZ3RoIC0gMSB8fFxuICAgICAgICB0eXBlb2YgY29uY2F0YWRkY29sdW1uc3ZhbHVlMS5pZCA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICBjaGFuZ2Vhc3NldCA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmICgoZmllbGRkYXRhMi5sZW5ndGggLSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLmxlbmd0aCkgPj0gbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZCkgPT4gZG9jYWRkLm5hbWUpXG4gICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50ZmllbGQubmFtZSkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtmaWVsZGRhdGEubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgdGVtcC5hZGRfY29sdW1ucy5wdXNoKGN1cnJlbnRmaWVsZCk7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkeGFkZGNvbHVtbiA9IG5ld2RhdGEuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgIC5tYXAoKGRvY2FkZDIpID0+IGRvY2FkZDIubmFtZSlcbiAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRmaWVsZC5uYW1lKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdkYXRhLmFzc2V0X2NvbHVtbnMubGVuZ3RoK1wiOlwiK2NvbmNhdGFkZGNvbHVtbnNpZHgrXCI7XCIrbmV3ZGF0YS5hZGRfY29sdW1ucy5sZW5ndGgpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudGZpZWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YV90eXBlOiBjdXJyZW50ZmllbGQuZGF0YV90eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBjdXJyZW50ZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICB0ZW1wLmFkZF9jb2x1bW5zW2lkeGFkZGNvbHVtbl0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyW2NvbmNhdGFkZGNvbHVtbnNpZHhdKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbmV3ZGF0YS51cGRhdGVfY29sdW1uc1xuICAgICAgICAgICAgLm1hcCgoZG9jdXApID0+IGRvY3VwLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5wdXNoKGZpZWxkZGF0YVtjb25jYXRhZGRjb2x1bW5zaWR4MV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaWR4dXBjb2x1bW4gPSBuZXdkYXRhLnVwZGF0ZV9jb2x1bW5zXG4gICAgICAgICAgICAubWFwKChkb2NhZGQyKSA9PiBkb2NhZGQyLmlkKVxuICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudGZpZWxkLmlkKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50ZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgbW9kZWxfaWQ6IGN1cnJlbnRmaWVsZC5tb2RlbF9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjdXJyZW50ZmllbGQubmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogY3VycmVudGNoZWNrZWRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGN1cnJlbnRmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNbaWR4dXBjb2x1bW5dID0gY3VycmVudGZpZWxkO1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbmNhdGFkZGNvbHVtbnN0cmlnZ2VyMV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhZGRlZGZpZWxkaWR4ICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZCgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4XSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBwcmV2W2FkZGVkZmllbGRpZHhdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWRkZWRmaWVsZGlkeDEgIT09IC0xKSB7XG4gICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlthZGRlZGZpZWxkaWR4MV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcHJldlthZGRlZGZpZWxkaWR4MV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcmV2W2FkZGVkZmllbGRpZHgxXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGNvbnN0IHRlbXAyID0gWy4uLnByZXYsIHRydWVdO1xuICAgICAgICAgIHJldHVybiB0ZW1wMjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWRkZWRmaWVsZHRyaWdnZXIxXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgzICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDNdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDNdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4M10gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyM10pO1xuXG4gIC8vY2hlY2tib3ggZHJvcGRvd24gZGFyaSBtb2RlbCBiYXJ1IHlhbmcgZmllbGQgYXNzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMyAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgIC8vIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyXVtcImRlZmF1bHRcIl0gPSBgJHt2YWx1ZWRyb3Bkb3dudHJpZ2dlcn1gXG4gICAgICAgIHRlbXBbaWR4ZHJvcGRvd250cmlnZ2VyM11bXCJkZWZhdWx0XCJdID0ge1xuICAgICAgICAgIGRlZmF1bHQ6IGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMixcbiAgICAgICAgICBvcHNpOiBjdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFt2YWx1ZWRyb3Bkb3dudHJpZ2dlcjNdKTtcbiAgLy9jaGVja2JveCBkcm9wZG93biBkYXJpIG1vZGVsIGJhcnUgeWFuZyBmaWVsZCBidWF0IHNlbmRpcmlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaWR4ZHJvcGRvd250cmlnZ2VyMiAhPT0gLTEpIHtcbiAgICAgIHNldGZpZWxkZGF0YWEyKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICB0ZW1wW2lkeGRyb3Bkb3dudHJpZ2dlcjJdW1wiZGVmYXVsdFwiXSA9IHtcbiAgICAgICAgICBkZWZhdWx0OiBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIsXG4gICAgICAgICAgb3BzaTogY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWVkcm9wZG93bnRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoe1xuICAgICAgLi4ubmV3ZGF0YTIsXG4gICAgICBtb2RlbF9jb2x1bW5zOiBmaWVsZGRhdGFhLmNvbmNhdChmaWVsZGRhdGFhMiksXG4gICAgfSk7XG4gIH0sIFtjb25jYXRmaWVsZHRyaWdnZXIyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFkZGVkZmllbGRpZHgyICE9PSAtMSkge1xuICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgaWYgKHByZXZbYWRkZWRmaWVsZGlkeDJdID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZbYWRkZWRmaWVsZGlkeDJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJldlthZGRlZGZpZWxkaWR4Ml0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wMiA9IFsuLi5wcmV2LCB0cnVlXTtcbiAgICAgICAgICByZXR1cm4gdGVtcDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2FkZGVkZmllbGR0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX2NvbHVtbnM6IGZpZWxkZGF0YSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0bmV3ZGF0YTIoeyAuLi5uZXdkYXRhMiwgbW9kZWxfY29sdW1uczogZmllbGRkYXRhYSB9KTtcbiAgfSwgW25ld2RhdGF0cmlnZ2VyMl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHRlbXAgPSBbXTtcbiAgICBpZiAoY29uY2F0cGFydHZhbHVlICE9PSAtMSkge1xuICAgICAgaWYgKGNvbmNhdHBhcnR2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0bmV3ZGF0YSh7IC4uLm5ld2RhdGEsIG1vZGVsX3BhcnRzOiBbXSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmNhdHBhcnR2YWx1ZS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgdmFyIGlkeHRlbXAgPSB0ZW1wLm1hcCgoZG9jKSA9PiBkb2MuaWQpLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICBpZiAoaWR4dGVtcCAhPT0gLTEgJiYgdGVtcFtpZHh0ZW1wXVtcImlkXCJdID09PSBkb2MuaWQpIHtcbiAgICAgICAgICAgIHZhciBpZHhvZiA9IHRlbXAubWFwKChkb2MpID0+IGRvYy5pZCkuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgdGVtcFtpZHhvZl0gPSB7XG4gICAgICAgICAgICAgIC4uLnRlbXBbaWR4b2ZdLFxuICAgICAgICAgICAgICBxdWFudGl0eTogdGVtcFtpZHhvZl0ucXVhbnRpdHkgKyBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4dGVtcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRlbXAucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBkb2MucXVhbnRpdHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgYWRkX21vZGVsczogdGVtcCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25jYXRwYXJ0dHJpZ2dlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjZGlkeCAhPT0gLTEpIHtcbiAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMi5maWx0ZXIoKGRvYzEwLCBpZHgxMCkgPT4gaWR4MTAgIT09IGNkaWR4KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Y2QyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RpZHgpKTtcbiAgICB9XG4gIH0sIFtjZHRyaWdnZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2RwYXJ0aWR4ICE9PSAtMSkge1xuICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIGNkMnBhcnQuZmlsdGVyKChkb2MxMCwgaWR4MTApID0+IGlkeDEwICE9PSBjZHBhcnRpZHgpO1xuICAgICAgfSk7XG4gICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiBwcmV2LmZpbHRlcigoZG9jMTEsIGlkeDExKSA9PiBpZHgxMSAhPT0gY2RwYXJ0aWR4KSk7XG4gICAgfVxuICB9LCBbY2RwYXJ0dHJpZ2dlcl0pO1xuICByZXR1cm4gKFxuICAgIDxMYXlvdXRcbiAgICAgIHN0PXtzdH1cbiAgICAgIHRvaz17aW5pdFByb3BzfVxuICAgICAgc2lkZW1lbnU9e3NpZGVtZW51fVxuICAgICAgZGF0YVByb2ZpbGU9e2RhdGFQcm9maWxlfVxuICAgICAgcGF0aEFycj17cGF0aEFycn1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNFwiXG4gICAgICAgIGlkPVwiY3JlYXRlQXNzZXRzV3JhcHBlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBtYi04XCI+XG4gICAgICAgICAgPFN0aWNreSBjb250YWluZXJTZWxlY3RvckZvY3VzPVwiI2NyZWF0ZUFnZW50c1dyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gcC0yIHB0LTQgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHB5LTJcIj5cbiAgICAgICAgICAgICAgICBGb3JtIFViYWggTW9kZWwgLSB7bmV3ZGF0YS5uYW1lfVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC9hZG1pbi9tb2RlbHMvZGV0YWlsLyR7bW9kZWxpZH1gfT5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgLypvbkNsaWNrPXsoKSA9PiB7IGNvbnNvbGUubG9nKG5ld2RhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEpOyBjb25zb2xlLmxvZyhmaWVsZGRhdGEyKTsgY29uc29sZS5sb2coZGVmYXVsdGRhdGEpOyBjb25zb2xlLmxvZyhkZWZhdWx0YXNzZXQpIH19Ki8gdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCYXRhbFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGV9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybS5zdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2ltcGFuXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9TdGlja3k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+SW5mb3JtYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAge3ByYWxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxTcGluPjwvU3Bpbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICAgICAgZm9ybT17aW5zdGFuY2VGb3JtfVxuICAgICAgICAgICAgICAgIGxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlQ3JlYXRlTW9kZWx9XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17bmV3ZGF0YX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImFzc2V0X2lkXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXthc3NldGRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBBc3NldCBUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGxhYmVsLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKHsgLi4ubmV3ZGF0YSwgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTExLzEyIG1yLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwibWFudWZhY3R1cmVyX2lkXCIgbGFiZWw9XCJNYW51ZmFjdHVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIE1hbnVmYWN0dXJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9e2lkeH0gdmFsdWU9e2RvYy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IHB0LTIgbXktYXV0byBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bW9kYWxtYW51Zih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFBsdXNTcXVhcmVUd29Ub25lIHN0eWxlPXt7IGZvbnRTaXplOiBgMS41cmVtYCB9fSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbSBuYW1lPVwiZGVzY3JpcHRpb25cIiBsYWJlbD1cIkRlc2tyaXBzaVwiPlxuICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoeyAuLi5uZXdkYXRhLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5yZXF1aXJlZF9zbn1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29uc3VtYWJsZTogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3ZGF0YS5pc19jb25zdW1hYmxlfVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBNb2RlbCBDb25zdW1hYmxlIGRlbmdhbiBzYXR1YW4ganVtbGFoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBtYi04IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlNwZXNpZmlrYXNpIE1vZGVsPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7bG9hZGluZ3NwZWMgPyAoXG4gICAgICAgICAgICA8U3BpbiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7ZmllbGRkYXRhMi5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPEVtcHR5IGltYWdlPXtFbXB0eS5QUkVTRU5URURfSU1BR0VfU0lNUExFfT48L0VtcHR5PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGZpZWxkZGF0YTIubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZFtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKGZpZWxkZGF0YTJbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihkb2MuZGVmYXVsdC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLm5hbWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhMltpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWVsZGRhdGEyW2lkeF0ucmVxdWlyZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTaW5nbGUgVGV4dGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIGAgVGV4dGB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgdy1mdWxsIHBsLTMgcHktMiBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQgPT09IGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIG1iLTEgdy0zLzEyIHB5LTEgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbXktYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0LmRlZmF1bHQuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlka1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkYXRhX3R5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYWdyYXBoIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW5nbGUgVGV4dGJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BzaSBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bjIubWFwKChkb2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIgPT09IGlkeHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbLi4uY2QyLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbmRleE9mKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4eCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3duMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKFsuLi5jZDIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2luZ2xlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bW9tZW50KGZpZWxkZGF0YTJbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEyKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAubW9kZWxfY29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICE9PSBmaWVsZGRhdGEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NkZWYpID0+IGRvY2RlZi5pZCA9PT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfY29sdW1uX2lkcy5wdXNoKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeFVwZGF0ZUNvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAudXBkYXRlX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY21hcCkgPT4gZG9jbWFwLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51cGRhdGVfY29sdW1ucy5zcGxpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4VXBkYXRlQ29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSBkZWZhdWx0ZGF0YS5tb2RlbF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4dGVtcCA9IHRlbXAuYWRkX2NvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2N0ZW1wKSA9PiBkb2N0ZW1wLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh0ZW1wICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGVtcC5hZGRfY29sdW1ucy5zcGxpY2UoaWR4dGVtcCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvRGVsZXRlT3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBpdGVtcy1jZW50ZXIgbXItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWR4ZHJvcGRvd250cmlnZ2VyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3ZhbHVlKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkaWR4KGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2ZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthZGRlZGZpZWxkMVtpZHhdID09PSB0cnVlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtwb2ludGV2ZW50fSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMV07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoZmllbGRkYXRhW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QyKGRvYy5kZWZhdWx0Lm9wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Lm9wc2kuc29tZSgoZG9jb3BzaSkgPT4gZG9jb3BzaSA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50KFwicG9pbnRlci1ldmVudHMtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YVtpZHhdLnJlcXVpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwianVkdWxGaWVsZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2luZ2xlIFRleHRib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvYy5kYXRhX3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiBgIFRleHRgfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIHctZnVsbCBwbC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0ID09PSBpZGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5kZWZhdWx0LmluZGV4T2YoaWRrKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMC41cmVtYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9jLmRlZmF1bHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0yMFwiPntkb2MuZGVmYXVsdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIFNwZXNpZmlrYXNpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmFtYSBTcGVzaWZpa2FzaSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd24yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBpbGloIFRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3duMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBoYW55YSBkaXBpbGloIDEgKHNhdHUpIGRhcmkgYmViZXJhcGEgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd24yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke2lkeHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkdHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd24yLm1hcCgoZG9jLCBpZHh4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhjaGVja2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bjIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHh4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd24yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2R0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkaWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3duMihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd24yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDIoWy4uLmNkMiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFRhbWJhaCBPcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dC5UZXh0QXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZC5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZC5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21vbWVudChmaWVsZGRhdGFbaWR4XS5kZWZhdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YTIubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfY29sdW1ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jZGVmKSA9PiBkb2NkZWYuaWQgPT09IGRvYy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX2NvbHVtbl9pZHMucHVzaChkb2MuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHh0ZW1wID0gZGVmYXVsdGRhdGEubW9kZWxfY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3RlbXApID0+IGRvY3RlbXAuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLnNwbGljZShpZHh0ZW1wLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeHRlbXAgPSB0ZW1wLmFkZF9jb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4dGVtcCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRlbXAuYWRkX2NvbHVtbnMuc3BsaWNlKGlkeHRlbXAsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZC5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR0YW1iYWh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZC5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjEoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc2lkeDEoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRhZGRjb2x1bW5zdmFsdWUxKGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0YWRkY29sdW1uc3RyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBjdXJyZW50ZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGRpZHgxKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIxKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgbXQtNVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIFRhbWJhaCBTcGVzaWZpa2FzaSBNb2RlbFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7bmV3ZGF0YS5pc19jb25zdW1hYmxlID09PSBmYWxzZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgbWItOCBjb2wtc3Bhbi0xIG1kOmNvbC1zcGFuLTQgcHgtNSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTVcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+S29uZmlndXJhc2kgUGFydCBNb2RlbDwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttb2RlbHBhcnRmaWVsZGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2UgYWNjb3JkaW9uPlxuICAgICAgICAgICAgICAgICAge21vZGVscGFydGZpZWxkZGF0YS5tYXAoKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17YHBhbmVsJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvYy5tb2RlbF9jaGlsZC5sZW5ndGggPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB3LTYvMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0yXCI+e2RvYy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJyaWdodFwiIHRpdGxlPVwiTW9kZWwgdGlkYWsgbWVtaWxpa2kgcGFydCBtb2RlbCFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgPEV4Y2xhbWF0aW9uQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGBicm93bmAgfX0+PC9FeGNsYW1hdGlvbkNpcmNsZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBNb2RlbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MubmFtZSA9PT0gXCJcIiA/IFwiaW5pXCIgOiBkb2MubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBkYXJpIE1vZGVsIFBhcnQgJHtuZXdkYXRhLm5hbWV9P2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ9XCJZYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmV3ZGF0YSgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4dGVtcCA9IG1vZGVscGFydGZpZWxkZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jdGVtcCkgPT4gZG9jdGVtcC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGRhdGEubW9kZWxfcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZG9jcGFydHMpID0+IGRvY3BhcnRzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZG9jLmlkKSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHhkYXRhID0gdGVtcC5hZGRfbW9kZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvYzIpID0+IGRvYzIuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGRvYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC5hZGRfbW9kZWxzW2lkeGRhdGFdLnF1YW50aXR5ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmFkZF9tb2RlbHNbaWR4ZGF0YV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5zcGxpY2UoaWR4ZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRkYXRhLm1vZGVsX3BhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGRvY3BhcnRzKSA9PiBkb2NwYXJ0cy5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRvYy5pZCkgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHRlbXAgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuZGVsZXRlX21vZGVsX2lkcy5pbmRleE9mKGRvYy5pZCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kZWxldGVfbW9kZWxfaWRzLnB1c2goZG9jLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoKF8sIGlkeHgpID0+IGlkeHggIT09IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlQ2lyY2xlT3V0bGluZWQgc3R5bGU9e3sgY29sb3I6IGByZWRgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXQgVHlwZXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsYXNzZXR0eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLWdyYXktMjAwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBteS1hdXRvIGgtMTIgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMCB0ZXh0LXNtXCI+e2RvYy5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubW9kZWxfY29sdW1ucy5tYXAoKGRvY21jLCBpZHhtYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLm5hbWV9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsc25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZS5zbGljZSgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgbXktYXV0byBweC0yIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRhdGFfdHlwZSA9PT0gXCJkYXRlXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdC5vcHNpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY29wc2ksIGlkeG9wc2kpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeG9wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXdoaXRlIGJvcmRlciB3LTMvMTIgZmxleCBpdGVtcy1jZW50ZXIgbXktYXV0byBweC0yIHB5LTEgbWItMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeG9wc2kgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jbWMuZGVmYXVsdC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogYDAuNXJlbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY29wc2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0Lm9wc2kubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jb3BzaSwgaWR4b3BzaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4b3BzaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG8gcHgtMiBweS0xIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhvcHNpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY21jLmRlZmF1bHQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NvcHNpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGJnLWdyYXktMTAwIHJvdW5kZWQgaC0xMCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2NtYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwIHJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jbWMuZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJnLWdyYXktMTAwIGZsZXggaXRlbXMtY2VudGVyIHctZnVsbCBoLTEwIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY21jLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm1vZGVsX3BhcnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUaW1lbGluZSBzdHlsZT17eyBtYXJnaW5Ub3A6IGAxcmVtYCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlckNoaWxkUGFydE1vZGVsKGRvYy5tb2RlbF9wYXJ0cyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RpbWVsaW5lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanVkdWxhc3NldHR5cGU6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsc246OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1BhbmVsPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2VkaXRwYXJ0ID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG15LTMgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTUgdGV4dC1sZyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIiBpbml0aWFsVmFsdWVzPXtjdXJyZW50aWRtb2RlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy0xMS8xMiBtci0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBNb2RlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgTW9kZWwgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtjdXJyZW50aWRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hpbmdwYXJ0ID8gPFNwaW4gc2l6ZT1cInNtYWxsXCIgLz4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZldGNoaW5ncGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9L2dldE1vZGVscz9yb3dzPTEwJm5hbWU9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gXCJcIiA/IHZhbHVlIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogYEdFVGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldG1vZGVsZGF0YShbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2V0bW9kZWxkYXRhKHJlczIuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmZXRjaGluZ3BhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gYXRhdSBjYXJpIG5hbWEgbW9kdWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uUG9wdXBTY3JvbGw9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZXZlbnQudGFyZ2V0LnNjcm9sbFRvcCArIGV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQgPT09IGV2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldHBhZ2UocHJldiA9PiBwcmV2ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbHM/cGFnZT0ke3BhZ2V9JnJvd3M9MTBgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKHJlczIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2Nyb2xsVG8oMCwgZXZlbnQudGFyZ2V0LnNjcm9sbEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmVzMi5kYXRhLnRvID49IHJlczIuZGF0YS50b3RhbCA/IHNldG1vZGVsZGF0YShbLi4ubW9kZWxkYXRhLCByZXMyLmRhdGEuZGF0YV0pIDogc2V0bW9kZWxkYXRhKFsuLi5tb2RlbGRhdGEsIHJlczIuZGF0YS5kYXRhLCA8U3BpbiBzaXplPVwic21hbGxcIiAvPl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kZWxkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17ZG9jLmlkfSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXggcHQtMiBteS1hdXRvIGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzU3F1YXJlVHdvVG9uZSBzdHlsZT17eyBmb250U2l6ZTogYDEuNXJlbWAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1yLTQgaG92ZXI6dGV4dC1yZWQtNTAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50aWRtb2RlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdnZXRtb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZWRpdHBhcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRsb2FkaW5nZ2V0bW9kZWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMfS9nZXRNb2RlbD9pZD0ke2N1cnJlbnRpZG1vZGVsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRtb2RlbHBhcnRmaWVsZGRhdGEoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAxID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiByZXMyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJtb2RlbF9jb2x1bW5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9jb2x1bW5zXCJdID0gcmVzMi5kYXRhW3Byb3BdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogSlNPTi5wYXJzZShkb2MuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVscGFydHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMyLmRhdGEubW9kZWxfcGFydHMubWFwKChkb2MyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwMyA9IGRvYzIubW9kZWxfY29sdW1ucy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jMykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jMy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzMuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvYzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MzLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MzIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kb2MyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfY29sdW1uczogbWFwMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbXCJtb2RlbF9wYXJ0c1wiXSA9IG1vZGVscGFydHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wiaWRcIl0gPSByZXMyLmRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0W1wibmFtZVwiXSA9IHJlczIuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMSA9IFsuLi50ZW1wMSwgdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0Y29uY2F0cGFydHZhbHVlKHJlczIuZGF0YS5tb2RlbF9wYXJ0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldGNvbmNhdHBhcnR0cmlnZ2VyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ZGF0YTIgPSB0ZW1wLmFkZF9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChkb2MzKSA9PiBkb2MzLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGN1cnJlbnRpZG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuYWRkX21vZGVscy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhkYXRhMiA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRpZG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWR4ZGF0YTIgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5hZGRfbW9kZWxzLm1hcCgoZG9jMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvYzEuaWQgPT09IGN1cnJlbnRpZG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYzEucXVhbnRpdHkgPSBkb2MxLnF1YW50aXR5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bG9hZGluZ2dldG1vZGVsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRpZG1vZGVsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTVcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRlZGl0cGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgKyBUYW1iYWggUGFydCBNb2RlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1vZGVsPC9oMT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG1vZGFsY3JlYXRlbW9kZWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAxcmVtYCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmF0YWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkYWRkZmllbGQyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2luc3RhbmNlRm9ybTIuc3VibWl0fVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdjcmVhdGVtb2RlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNpbXBhblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHZpc2libGU9e21vZGFsY3JlYXRlbW9kZWx9XG4gICAgICAgIGZvb3Rlcj17bnVsbH1cbiAgICAgICAgb25DYW5jZWw9eygpID0+IHtcbiAgICAgICAgICBzZXRtb2RhbGNyZWF0ZW1vZGVsKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgd2lkdGg9ezkwMH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFkb3ctbWQgYm9yZGVyIHAtOCBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgbWItOFwiPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBmb3JtPXtpbnN0YW5jZUZvcm0yfVxuICAgICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICAgICAgb25GaW5pc2g9e2hhbmRsZUNyZWF0ZU1vZGVsaW5Nb2RlbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwiYXNzZXRfaWRcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgVHlwZSB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duU3R5bGU9e3sgbWF4SGVpZ2h0OiA0MDAsIG92ZXJmbG93OiBcImF1dG9cIiB9fVxuICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e2Fzc2V0ZGF0YX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggQXNzZXQgVHlwZVwiXG4gICAgICAgICAgICAgICAgICB0cmVlRGVmYXVsdEV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgbGFiZWwsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0QXNzZXQyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEuYWxsQ2hlY2tlZE5vZGVzWzBdLm5vZGUucHJvcHMuaWRcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tTZWxlY3RBc3NldDIoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIE1vZGVsXCJcbiAgICAgICAgICAgICAgICBydWxlcz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOYW1hIE1vZGVsIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWFudWZhY3R1cmVyIHdhamliIGRpaXNpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCBtYW51ZmFjdHVyZXJfaWQ6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgbmFtZT1cIm1hbnVmYWN0dXJlcl9pZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bWFudWZkYXRhLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT17aWR4fSB2YWx1ZT17ZG9jLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZXNjcmlwdGlvblwiIGxhYmVsPVwiRGVza3JpcHNpXCI+XG4gICAgICAgICAgICAgIDxJbnB1dC5UZXh0QXJlYVxuICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldG5ld2RhdGEyKHsgLi4ubmV3ZGF0YTIsIGRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMih7IC4uLm5ld2RhdGEyLCByZXF1aXJlZF9zbjogZS50YXJnZXQuY2hlY2tlZCB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e25ld2RhdGEyLnJlcXVpcmVkX3NufVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgU2VyaWFsIE51bWJlciB3YWppYiBhZGFcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tNCBweC01IG1iLTggZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNVwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsXCI+U3Blc2lmaWthc2kgTW9kZWw8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nc3BlYzIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGluIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+IDogbnVsbH0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtXCI+KHtkb2MuZGF0YV90eXBlID09PSBcInNpbmdsZVwiID8gXCJTaW5nbGUgVGV4dGJveFwiIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZHJvcGRvd25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpIGRpYmF3YWggaW5pPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9jYywgaWR4eCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdy03IGZsZXgganVzdGlmeS1jZW50ZXIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0gPSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gZGVmYXVsdFZhbHVlPXtkb2NjfSBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtpZHh4ICsgMX1gfSBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gYCR7dmFsdWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwYXJhZ3JhcGhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWEgcm93cz17NH0gcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7ZG9jLm5hbWV9YH0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKHByZXYgPT4gIXByZXYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+RGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaSBkaWJhd2FoIGluaTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvY2MsIGlkeHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX0gb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdW1wiZGVmYXVsdFwiXVtcImRlZmF1bHRcIl0ucHVzaChpZHh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPiB7ZG9jY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvYy5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdHJpbmdcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XVtcImRlZmF1bHRcIl0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwic2luZ2xlXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtkb2MubmFtZX1gfSBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIocHJldiA9PiAhcHJldilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2RvYy5uYW1lfWB9IG9uQ2hhbmdlPXsodmFsdWUsIGRhdGVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGZpZWxkZGF0YWEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF1bXCJkZWZhdWx0XCJdID0gZGF0ZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y29uY2F0ZmllbGR0cmlnZ2VyMihwcmV2ID0+ICFwcmV2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgfSAqL31cbiAgICAgICAgICB7bG9hZGluZ3NwZWMyID8gKFxuICAgICAgICAgICAgPFNwaW4gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAge2ZpZWxkZGF0YWEubWFwKChkb2MsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7YWRkZWRmaWVsZDNbaWR4XSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cG9pbnRldmVudDJ9IHNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZCBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBbLi4uYWRkZWRmaWVsZDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGFkZGVkZmllbGQzKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWFbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWFbaWR4XS5kYXRhX3R5cGUgIT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZGRhdGFhW2lkeF0ubmFtZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYVtpZHhdLmRhdGFfdHlwZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkYWRkZmllbGQyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcInBvaW50ZXItZXZlbnRzLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpZWxkZGF0YWFbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJqdWR1bEZpZWxkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH17XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLmRhdGFfdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRlZmF1bHQub3BzaS5tYXAoKGRvaywgaWRrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZGt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj57ZG9rfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGVmYXVsdC5vcHNpLm1hcCgoZG9rLCBpZGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lka31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBtYi0xIHctMy8xMiBweS0xIHBsLTMgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIG15LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2t9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2MuZGF0YV90eXBlID09PSBcImRhdGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIHB4LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyT3V0bGluZWQ+PC9DYWxlbmRhck91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTIwXCI+e2RvYy5kZWZhdWx0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qdWR1bEZpZWxkOjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJyonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LW1kIGJvcmRlciBwLTggbXgtMyBtZDpteC04IG1iLTUgZmxleCBmbGV4LWNvbCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiIGluaXRpYWxWYWx1ZXM9e2N1cnJlbnRmaWVsZDJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJOYW1hIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpcGUgRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGlwZSBGaWVsZCB3YWppYiBkaWlzaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGlsaWggVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJkcm9wZG93blwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZHJvcGRvd25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJudW1iZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wicGFyYWdyYXBoXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiY2hlY2tib3hcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJzaW5nbGVcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17XCJkYXRlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtIG5hbWU9XCJkZWZhdWx0XCIgbGFiZWw9XCJEZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc2kgZGliYXdhaCBpbmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yID09PSBpZHh4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NoZWNrYm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAvMTIgbXItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RvY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIG9wc2kga2UtJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHh4XSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSAhPT0gXCJcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9PT0gXCJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLm5hbWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEvMTIgZmxleCBqdXN0aWZ5LWFyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0dHJpZ2dlcigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydGlkeChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwiZGFuZ2VyXCI+LTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRkcm9wZG93bm4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KFsuLi5jZDJwYXJ0LCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUYW1iYWggT3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tib3hcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkYXBhdCBkaXBpbGloIGxlYmloIGRhcmkgMSAoc2F0dSkgb3BzaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZHJvcGRvd25uMi5tYXAoKGRvYywgaWR4eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGNoZWNrZWRkcm9wZG93bm4yLmluY2x1ZGVzKGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmluZGV4T2YoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZHJvcGRvd25uMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbLi4uY2QycGFydCwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgMzAlYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGAke3ZhbHVlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dE51bWJlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuVGV4dEFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYVtpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQuVGV4dEFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWFbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpbmdsZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAzMCVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbXQtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3Bjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BBcGFrYWggYW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgZmllbGQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm5hbWUgPT09IFwiXCIgPyBcImluaVwiIDogZG9jLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dD1cIllhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9XCJUaWRha1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSgocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmZpbHRlcigoXywgaWR4eCkgPT4gaWR4eCAhPT0gaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLm1vZGVsX2NvbHVtbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3h4LCBpZHh4KSA9PiBkb2N4eC5pZCAhPT0gZG9jLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtci00IGhvdmVyOnRleHQtcmVkLTUwMCBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYDEuMjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0RlbGV0ZU91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50ZmllbGQyLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkdGFtYmFoMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlID09PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGlkeGRyb3Bkb3dudHJpZ2dlcjMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjMoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmllbGRkYXRhYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gY3VycmVudGZpZWxkMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYSh0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDMoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZHRyaWdnZXIzKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNvbmNhdGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwb2ludGV2ZW50MihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFtYmFoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge2ZpZWxkZGF0YWEyLm1hcCgoZG9jLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2FkZGVkZmllbGQyW2lkeF0gPT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3BvaW50ZXZlbnQyfSBzaGFkb3ctbWQgYm9yZGVyIHAtOCBteC0zIG1kOm14LTggbWItNSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5hZGRlZGZpZWxkMl07XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcFtpZHhdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkMih0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKGZpZWxkZGF0YWEyW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihkb2MuZGVmYXVsdC5vcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoZG9jLmRlZmF1bHQub3BzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoZG9jLmRlZmF1bHQuZGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImRyb3Bkb3duXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRkYXRhYTJbaWR4XS5uYW1lICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkZGF0YWEyW2lkeF0uZGF0YV90eXBlICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdC5vcHNpLnNvbWUoKGRvY29wc2kpID0+IGRvY29wc2kgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJwb2ludGVyLWV2ZW50cy1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB7ZmllbGRkYXRhYTJbaWR4XS5yZXF1aXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImp1ZHVsRmllbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwic2luZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNpbmdsZSBUZXh0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2MuZGF0YV90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YV90eXBlLnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwicGFyYWdyYXBoXCIgJiYgYCBUZXh0YH0pXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciB3LWZ1bGwgcGwtMyBweS0yIGZsZXggaXRlbXMtY2VudGVyIG15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZHJvcGRvd25cIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiY2hlY2tib3hcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kZWZhdWx0Lm9wc2kubWFwKChkb2ssIGlkaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWRrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgbWItMSB3LTMvMTIgcHktMSBwbC0zIGZsZXggaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2Rva308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2RvYy5kYXRhX3R5cGUgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHctZnVsbCBweC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0wXCI+e2RvYy5kZWZhdWx0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhck91dGxpbmVkPjwvQ2FsZW5kYXJPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZG9jLmRhdGFfdHlwZSA9PT0gXCJwYXJhZ3JhcGhcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMjBcIj57ZG9jLmRlZmF1bHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPntkb2MuZGVmYXVsdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmp1ZHVsRmllbGQ6OmJlZm9yZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy1tZCBib3JkZXIgcC04IG14LTMgbWQ6bXgtOCBtYi01IGZsZXggZmxleC1jb2wgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtIGxheW91dD1cInZlcnRpY2FsXCIgaW5pdGlhbFZhbHVlcz17Y3VycmVudGZpZWxkMn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTmFtYSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5hbWEgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIuZGF0YV90eXBlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRkcm9wZG93bm4yLmV2ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRhdGFfdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVGlwZSBGaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRpcGUgRmllbGQgd2FqaWIgZGlpc2lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQaWxpaCBUaXBlIEZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGRyb3Bkb3dubjIuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jYSwgaWR4YSkgPT4gZG9jYSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRkcm9wZG93bm4yKFtcIlwiLCBcIlwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1wiXCIsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2QycGFydChbXCJcIiwgXCJcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGF0YV90eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImRyb3Bkb3duXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wibnVtYmVyXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcInBhcmFncmFwaFwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFncmFwaCBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtcImNoZWNrYm94XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wic2luZ2xlXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2luZ2xlIFRleHRib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdC5PcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24gdmFsdWU9e1wiZGF0ZVwifT5EYXRlPC9TZWxlY3QuT3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW0gbmFtZT1cImRlZmF1bHRcIiBsYWJlbD1cIkRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkcm9wZG93blwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGhhbnlhIGRpcGlsaWggMSAoc2F0dSkgZGFyaSBiZWJlcmFwYSBvcHNpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWJhd2FoIGluaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRkcm9wZG93bm4yLm1hcCgoZG9jLCBpZHh4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNyBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMiA9PT0gaWR4eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRjaGVja2VkZHJvcGRvd25uMihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMC8xMiBtci01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZG9jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBvcHNpIGtlLSR7aWR4eCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2NhLCBpZHhhKSA9PiBkb2NhICE9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID09PSBcIlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGZpZWxkMi5uYW1lID09PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGRpc2FibGVkdGFtYmFoMih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8xMiBmbGV4IGp1c3RpZnktYXJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnR0cmlnZ2VyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZHBhcnRpZHgoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImRhbmdlclwiPi08L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoZWNrYm94XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZGFwYXQgZGlwaWxpaCBsZWJpaCBkYXJpIDEgKHNhdHUpIG9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYmF3YWggaW5pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGRyb3Bkb3dubjIubWFwKChkb2MsIGlkeHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeGNoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIuaW5jbHVkZXMoaWR4eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy03IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2lkeGNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50Y2hlY2tlZGRyb3Bkb3dubjIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGNoZWNrZWRkcm9wZG93bm4yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbXAuaW5kZXhPZihpZHh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwLzEyIG1yLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogYDAuNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkb2N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gb3BzaSBrZS0ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeHggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2lkeHhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjZDJwYXJ0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4eF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZHJvcGRvd25uMi5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY2EsIGlkeGEpID0+IGRvY2EgIT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSAhPT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRmaWVsZDIubmFtZSA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWR0YW1iYWgyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzEyIGZsZXgganVzdGlmeS1hcm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZHJvcGRvd25uMihbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkcGFydHRyaWdnZXIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y2RwYXJ0aWR4KGlkeHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJkYW5nZXJcIj4tPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGRyb3Bkb3dubjIoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGRyb3Bkb3dubjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGNkMnBhcnQoWy4uLmNkMnBhcnQsIFwiXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZHRhbWJhaDIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgVGFtYmFoIE9wc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogYCR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0TnVtYmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFncmFwaFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0LlRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ZpZWxkZGF0YWEyW2lkeF0uZGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGN1cnJlbnRmaWVsZDIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50ZmllbGQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0lucHV0LlRleHRBcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50ZmllbGQyLmRhdGFfdHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInN0cmluZ1wiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BNYXN1a2thbiBkZWZhdWx0ICR7Y3VycmVudGZpZWxkMi5uYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZGRhdGFhMltpZHhdLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudGZpZWxkMi5kYXRhX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJzaW5nbGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgTWFzdWtrYW4gZGVmYXVsdCAke2N1cnJlbnRmaWVsZDIubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmllbGRkYXRhYTJbaWR4XS5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Y3VycmVudGZpZWxkMih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRmaWVsZDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRmaWVsZDIuZGF0YV90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZGF0ZVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYDMwJWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE1hc3Vra2FuIGRlZmF1bHQgJHtjdXJyZW50ZmllbGQyLm5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBkYXRlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGF0ZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L0RhdGVQaWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtdC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YEFwYWthaCBhbmRhIHlha2luIGluZ2luIG1lbmdoYXB1cyBmaWVsZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5uYW1lID09PSBcIlwiID8gXCJpbmlcIiA6IGRvYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0/YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0PVwiWWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0PVwiVGlkYWtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRmaWVsZGRhdGFhMigocHJldikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKChfLCBpZHh4KSA9PiBpZHh4ICE9PSBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuZXdkYXRhMigocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5tb2RlbF9jb2x1bW5zID0gdGVtcC5tb2RlbF9jb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGlkeHgpID0+IGlkeHggIT09IGZpZWxkZGF0YWEubGVuZ3RoICsgaWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZDIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRkaXNhYmxlZGFkZGZpZWxkMihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0cG9pbnRldmVudDIoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXItNCBob3Zlcjp0ZXh0LXJlZC01MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiBgMS4yNXJlbWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9EZWxldGVPdXRsaW5lZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1BvcGNvbmZpcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBmbGV4IGl0ZW1zLWNlbnRlciBtci00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRmaWVsZDIucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IGAwLjVyZW1gIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjdXJyZW50ZmllbGQyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudGZpZWxkMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZHRhbWJhaDJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJkcm9wZG93blwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ZmllbGQyLmRhdGFfdHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRpZHhkcm9wZG93bnRyaWdnZXIyKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR2YWx1ZWRyb3Bkb3dudHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZpZWxkZGF0YWEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaWR4XSA9IGN1cnJlbnRmaWVsZDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZmllbGRkYXRhYTIodGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0YWRkZWRmaWVsZGlkeDIoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRhZGRlZGZpZWxkdHJpZ2dlcjIoKHByZXYpID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjb25jYXRmaWVsZHRyaWdnZXIyKChwcmV2KSA9PiAhcHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0ZGlzYWJsZWRhZGRmaWVsZDIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHBvaW50ZXZlbnQyKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBUYW1iYWhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBtdC01XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXNoZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRhZGRmaWVsZDJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgODAlYCwgaGVpZ2h0OiBgNHJlbWAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja0FkZEZpZWxkMn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgKyBUYW1iYWggU3Blc2lmaWthc2kgTW9kZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTW9kYWw+XG4gICAgICA8TW9kYWxcbiAgICAgICAgdGl0bGU9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gcC01IG10LTVcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPkZvcm0gVGFtYmFoIE1hbnVmYWN0dXJlcjwvaDE+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRtb2RhbG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBgMXJlbWAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhdGFsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZG1hbnVmfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZE1hbnVmYWN0dXJlcn1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nbWFudWZ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaW1wYW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB2aXNpYmxlPXttb2RhbG1hbnVmfVxuICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0bW9kYWxtYW51ZihmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIHdpZHRoPXs5MDB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtYi0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1iLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5cbiAgICAgICAgICAgICAgTmFtYSBNYW51ZmFjdHVyZXIgPHNwYW4gY2xhc3NOYW1lPVwibmFtYW1hbnVcIj48L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdmFsdWU9e2RhdGFtYW51Zi5uYW1lfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIE5hbWEgTWFudWZhY3R1cmVyXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgID8gc2V0ZGlzYWJsZWRtYW51Zih0cnVlKVxuICAgICAgICAgICAgICAgICAgOiBzZXRkaXNhYmxlZG1hbnVmKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRkYXRhbWFudWYoeyBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hbWFtYW51OjpiZWZvcmV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Nb2RhbD5cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoeyByZXEsIHJlcywgcGFyYW1zIH0pIHtcbiAgY29uc3QgbW9kZWxpZCA9IHBhcmFtcy5tb2RlbElkO1xuICB2YXIgaW5pdFByb3BzID0ge307XG4gIGlmICghcmVxLmhlYWRlcnMuY29va2llKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBcIi9sb2dpblwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvb2tpZXNKU09OMSA9IGh0dHBjb29raWUucGFyc2UocmVxLmhlYWRlcnMuY29va2llKTtcbiAgaWYgKCFjb29raWVzSlNPTjEudG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgZGVzdGluYXRpb246IFwiL2xvZ2luXCIsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaW5pdFByb3BzID0gY29va2llc0pTT04xLnRva2VuO1xuICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTH0vZGV0YWlsUHJvZmlsZWAsXG4gICAge1xuICAgICAgbWV0aG9kOiBgR0VUYCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogSlNPTi5wYXJzZShpbml0UHJvcHMpLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IHJlc2pzb24gPSBhd2FpdCByZXNvdXJjZXMuanNvbigpO1xuICBjb25zdCBkYXRhUHJvZmlsZSA9IHJlc2pzb247XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgaW5pdFByb3BzLFxuICAgICAgZGF0YVByb2ZpbGUsXG4gICAgICBzaWRlbWVudTogXCI4MlwiLFxuICAgICAgbW9kZWxpZCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHNVcGRhdGUyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/admin/models/update2/[modelId].js\n");

/***/ })

})