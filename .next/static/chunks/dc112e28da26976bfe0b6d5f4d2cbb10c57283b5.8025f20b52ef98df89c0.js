(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{vgPz:function(t,e,n){"use strict";var o=n("q1tI"),i=n.n(o),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function s(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))}function a(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function c(t){var e,n=null===(e=t)||void 0===e?void 0:e.ownerDocument,o=n.documentElement,i=function(t){return 9===t.nodeType&&t.defaultView}(n),r={top:0,left:0};return n?("undefined"!==typeof t.getBoundingClientRect&&(r=t.getBoundingClientRect()),{top:r.top+i.pageYOffset-o.clientTop,left:r.left+i.pageXOffset-o.clientLeft}):{top:0,left:0}}"undefined"!==typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isEnableSticky:!1,targetHeight:1/0,innerPosition:"static",containerMeasure:{},isLong:!1,innerTop:0},e.getContainerSelectorFocus=function(){var t=e.props.containerSelectorFocus;return e.$container.closest(t)},e.handleWindowResize=function(){var t=e.props.stickyEnableRange,n=t[0],o=t[1];e.setState({isEnableSticky:window.innerWidth>=n&&window.innerWidth<=o})},e.handleWindowScroll=function(){return s(e,void 0,void 0,(function(){var t,e,n,o,i,r,s,c;return a(this,(function(a){switch(a.label){case 0:return t=this.props.onChange,e=this.state.isEnableSticky,n=this.checkSticky(),o=this.getContainerSelectorFocus(),i=window.innerHeight,this.$container&&this.$inner&&e?(r=this.$inner.clientHeight,s=this.$container.getBoundingClientRect(),c=o?o.clientHeight:1/0,[4,this.setState({containerMeasure:{top:s.top,left:s.left,width:s.width,height:r},targetHeight:c,isLong:r>i})]):[3,2];case 1:a.sent(),r>i?this.handleLong():this.handleShort(),this.isPrevSticky!==n&&t(n),this.isPrevSticky=n,a.label=2;case 2:return[2]}}))}))},e.checkWrapBottom=function(){var t=e.props.offsetTop,n=e.getContainerSelectorFocus(),o=e.state,i=o.containerMeasure,r=o.isLong,s=n?n.clientHeight:1/0;return i.top-i.height+(r?i.height-window.innerHeight+t:0)-t<-1*s-(e.getContainerSelectorFocusOffsetTop()-e.getContainerOffsetTop())},e.handleLong=function(){var t=window.scrollY;e.prevScrollY>t?e.handleLongScrollUp(t):e.handleLongScrollDown(t),e.prevScrollY=t},e.getInnerTop=function(){return e.$inner.getBoundingClientRect().top||-1},e.getInnerOffsetTop=function(){return c(e.$inner).top},e.getContainerOffsetTop=function(){return c(e.$container).top},e.getContainerSelectorFocusOffsetTop=function(){var t=e.getContainerSelectorFocus();return t?c(t).top:0},e.getContainerSelectorFocusOffsetBottom=function(){var t=e.getContainerSelectorFocus();return t?Math.trunc(c(t).top+t.clientHeight):0},e.getInnerPositionTop=function(){return e.$container&&e.$inner?e.getInnerOffsetTop()-e.getContainerOffsetTop():0},e.handleLongScrollUp=function(t){return s(e,void 0,void 0,(function(){var e,n,o,i,r,s;return a(this,(function(a){switch(a.label){case 0:return e=this.props.offsetTop,n=this.state,o=n.containerMeasure,i=n.innerPosition,r=o.top>e,s=this.getInnerTop(),r?(this.setState({innerPosition:"static"}),[3,4]):[3,1];case 1:return o.top<=s&&("fixedBottom"===i||"absoluteBottom"===i&&t+window.innerHeight<=this.getContainerSelectorFocusOffsetBottom())?[4,this.setState({innerPosition:"absoluteCenter"})]:[3,3];case 2:a.sent(),a.label=3;case 3:this.setInnerPositionFixedTop(),a.label=4;case 4:return[2]}}))}))},e.setInnerPositionFixedTop=function(){var t=e.props.offsetTop,n=e.state.innerPosition,o=e.getInnerTop();e.setState({innerTop:e.getInnerPositionTop()}),o>=t&&"absoluteCenter"===n&&e.setState({innerPosition:"fixedTop"})},e.handleLongScrollDown=function(t){var n=e.state,o=n.containerMeasure,i=n.innerPosition,r=Math.trunc(t+window.innerHeight)>=Math.trunc(e.getInnerOffsetTop()+o.height),s=e.checkWrapBottom();"fixedTop"===i&&e.setState({innerPosition:"absoluteCenter"}),s?e.setState({innerPosition:"absoluteBottom"}):r&&e.setState({innerPosition:"fixedBottom",innerTop:e.getInnerPositionTop()})},e.getShortPosition=function(t){var n=e.props.offsetTop;return t.top<=n?e.checkWrapBottom()?"absoluteBottom":"fixedTop":"static"},e.handleShort=function(){var t=e.state.containerMeasure;e.setState({innerPosition:e.getShortPosition(t)})},e.getInnerStyle=function(){var t=e.props,n=t.offsetTop,o=t.zIndex,i=e.state,r=i.targetHeight,s=i.innerPosition,a=i.containerMeasure,c=i.isLong,l=i.innerTop,u=r-a.height+(e.getContainerSelectorFocusOffsetTop()-e.getContainerOffsetTop());if(c)switch(s){case"static":return{};case"fixedTop":return{position:"fixed",top:n,width:a.width,zIndex:o};case"absoluteCenter":return{position:"absolute",top:l,width:a.width,zIndex:o};case"absoluteBottom":return{position:"absolute",top:u,width:a.width,zIndex:o};case"fixedBottom":return{position:"fixed",bottom:0,width:a.width,zIndex:o};default:return{}}switch(s){case"static":return{};case"absoluteBottom":return{position:"absolute",top:u,width:a.width,zIndex:o};case"fixedTop":return{position:"fixed",top:n,width:a.width,zIndex:o};default:return{}}},e.getContainerStyle=function(){var t=e.state,n=t.innerPosition,o=t.containerMeasure;return"static"===n?{minHeight:o.height}:{position:"relative",minHeight:o.height}},e.checkSticky=function(){return-1!==e.state.innerPosition.search(/fixedTop|fixedBottom/g)},e.setContainerRef=function(t){e.$container=t},e.setInnerRef=function(t){e.$inner=t},e.renderHackGetHeightWhenInnerContentMargin=function(){return i.a.createElement("div",{style:{fontSize:0,visibility:"hidden"}},".")},e.renderChildren=function(){var t=e.props.children,n=e.checkSticky();return"function"===typeof t?t(n):t},e}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.handleWindowScroll),this.handleWindowResize(),window.addEventListener("resize",this.handleWindowResize)},e.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleWindowScroll),window.removeEventListener("resize",this.handleWindowResize)},e.prototype.render=function(){var t=this.state.isEnableSticky,e=t?this.getContainerStyle():{},n=t?this.getInnerStyle():{};return i.a.createElement("div",{ref:this.setContainerRef,style:e},i.a.createElement("div",{ref:this.setInnerRef,style:n},this.renderHackGetHeightWhenInnerContentMargin(),this.renderChildren(),this.renderHackGetHeightWhenInnerContentMargin()))},e.defaultProps={offsetTop:0,containerSelectorFocus:"body",zIndex:10,stickyEnableRange:[0,1/0],onChange:function(){}},e}(o.PureComponent);e.a=l}}]);