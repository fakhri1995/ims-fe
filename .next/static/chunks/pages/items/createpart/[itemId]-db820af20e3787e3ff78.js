_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[111],{CdeW:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/items/createpart/[itemId]",function(){return n("Kllt")}])},Kllt:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return P}));var a=n("CC+v"),c=n.n(a),i=n("DtFj"),r=n.n(i),s=n("FAat"),o=n.n(s),l=n("rmht"),d=n.n(l),u=n("MM9K"),h=n.n(u),m=n("iJl9"),p=n.n(m),j=n("4IMT"),f=n.n(j),b=n("nKUr"),g=n("rR1Q"),O=n.n(g),x=n("rePB"),v=n("20a2"),y=n("q1tI"),w=(n("YFqc"),n("l+S1")),_=n("Nfnr"),k=n("g6Xq"),S=n.n(k);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=!0;t.default=function(e){var t=e.dataProfile,n=e.sidemenu,a=e.initProps,i=e.itemid,s=Object(v.useRouter)(),l=s.pathname.split("/").slice(1);l.splice(2,1),l[l.length-1]="Tambah Item Part";var u="",m="",j="",g=s.query,x=g.asset_id,k=g.model_id,N=g.name,P=g.nama;x&&(u=x),k&&(m=k),N&&(j=N);var I=Object(y.useState)({current_page:"",data:[],first_page_url:"",from:null,last_page:null,last_page_url:"",next_page_url:"",path:"",per_page:null,prev_page_url:null,to:null,total:null}),E=I[0],T=I[1],A=Object(y.useState)([]),z=A[0],M=A[1],F=Object(y.useState)([]),D=(F[0],F[1]),G=Object(y.useState)([]),J=G[0],R=G[1],q=Object(y.useState)({id:Number(i),inventory_part_ids:[],notes:""}),B=q[0],V=q[1],H=Object(y.useState)({models:[{id:"",name:"",deleted_at:null}],assets:[{id:"",name:"",deleted_at:null}],manufacturers:[{id:"",name:"",deleted_at:null}],status_condition:[],status_usage:[],vendors:[],companies:[]}),K=(H[0],H[1]),U=Object(y.useState)([]),L=U[0],Y=U[1],W=Object(y.useState)(""!==j),X=W[0],Q=W[1],Z=Object(y.useState)(null),$=Z[0],ee=Z[1],te=Object(y.useState)(""!==u),ne=te[0],ae=te[1],ce=Object(y.useState)(null),ie=ce[0],re=ce[1],se=Object(y.useState)(""!==m),oe=se[0],le=se[1],de=Object(y.useState)(null),ue=de[0],he=de[1],me=Object(y.useState)(u),pe=me[0],je=me[1],fe=Object(y.useState)(null),be=fe[0],ge=fe[1],Oe=Object(y.useState)([]),xe=Oe[0],ve=Oe[1],ye=Object(y.useState)(0),we=(ye[0],ye[1],Object(y.useState)(!0)),_e=we[0],ke=we[1],Se=Object(y.useState)(!0),Ne=Se[0],Ce=Se[1],Pe=Object(y.useState)(!1),Ie=Pe[0],Ee=Pe[1],Te=Object(y.useState)(!1),Ae=Te[0],ze=Te[1],Me=Object(y.useState)(!0),Fe=Me[0],De=Me[1],Ge=Object(y.useState)(!1),Je=Ge[0],Re=Ge[1],qe=Object(y.useState)([]),Be=qe[0],Ve=qe[1],He=[{title:"MIG ID",dataIndex:"mig_id",key:"mig_id"},{title:"Model",dataIndex:"model_name",key:"model_name",render:function(e,t,n){return{children:Object(b.jsx)(b.Fragment,{children:t.model_inventory.name})}}},{title:"Asset Type",dataIndex:"asset_name",key:"asset_name",render:function(e,t,n){return{children:Object(b.jsx)(b.Fragment,{children:t.model_inventory.asset.name})}}}],Ke=function e(t,n){for(var a,c=0;c<n.length;c++){var i=n[c];i.children&&(i.children.some((function(e){return e.key===t}))?a=i.key:e(t,i.children)&&(a=e(t,i.children)))}return a},Ue={},Le=function e(t,n){for(var a=0;a<t.length;a++)t[a].key===n?Ue=t[a]:t[a].children&&e(t[a].children,n)},Ye=function(e){"undefined"===typeof e?(window.location.href="/items/createpart/".concat(i,"?asset_id=&model_id=&name=").concat(X?j:"","&nama=").concat(P),ae(!1)):(fetch("https://boiling-thicket-46501.herokuapp.com/getModels?asset_id=".concat(e),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){0===e.data.length?Ve([]):Ve(e.data.data)})),ae(!0),re(e))},We=function(e){"undefined"===typeof e?(window.location.href="/items/createpart/".concat(i,"?asset_id=").concat(ne?u:"","&model_id=&name=").concat(X?j:"","&nama=").concat(P),le(!1)):(le(!0),he(e))};return Object(y.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getInventoryAddable?rows=10&page=1&asset_id=".concat(u,"&model_id=").concat(m,"&name=").concat(j),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){T(e.data);var t=function e(t){for(var n=[],a=0;a<(null===t||void 0===t?void 0:t.length);a++)t[a].key=t[a].id,t[a].title=t[a].inventory_name,t[a].children=t[a].inventory_parts,delete t[a].inventory_parts,t[a].children?n.push(C(C({},t[a]),{},{children:e(t[a].children)})):(delete t[a].children,n.push(C({},t[a])));return n}(e.data.data);M(t),D(t),R(t),ke(!1)}))}),[]),Object(y.useEffect)((function(){Ce(!0),fetch("https://boiling-thicket-46501.herokuapp.com/getAssets",{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){var t={};!function e(n,a){for(var c=0;c<n.length;c++)n[c].id===a?t=n[c]:n[c].children&&e(n[c].children,a)}(e.data,Number(pe)),console.log(t),ge(t.key),ve(e.data),Ce(!1)}))}),[]),Object(y.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getInventoryRelations",{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){K(e.data)}))}),[]),Object(y.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getFilterModels",{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){Ve(e.data)}))}),[]),Object(b.jsxs)(_.a,{dataProfile:t,sidemenu:n,tok:a,st:S.a,pathArr:l,children:[Object(b.jsxs)("div",{className:"h-20 w-full grid grid-cols-1 md:grid-cols-3 bg-white mb-5 p-4",children:[Object(b.jsx)("div",{className:" col-span-1 md:col-span-2 flex items-center mb-2 md:mb-0",children:Object(b.jsxs)("div",{className:"font-semibold text-xl w-auto",children:['Form Tambah Item Part "',P,'"']})}),Object(b.jsxs)("div",{className:" col-span-1 md:col-span-1 flex md:justify-end items-center",children:[Object(b.jsx)(f.a,{onClick:function(){s.push("/items/detail/".concat(i,"?active=konfigurasiPart"))},style:{marginRight:"1rem"},size:"middle",type:"danger",children:"Batal"}),Object(b.jsx)(f.a,{disabled:Fe,onClick:function(){Ee(!0)},size:"middle",type:"primary",children:"Simpan"})]})]}),Object(b.jsx)("div",{className:"h-auto w-full grid grid-cols-1 md:grid-cols-5 mb-5 bg-white rounded-md",children:Object(b.jsxs)("div",{className:"md:col-span-5 col-span-1 flex flex-col py-3",children:[Object(b.jsx)("div",{className:"flex mb-8",children:Object(b.jsxs)("div",{className:" w-full mr-1 grid grid-cols-12",children:[Object(b.jsx)("div",{className:"col-span-5 mr-1",children:Object(b.jsx)(p.a,{defaultValue:j,style:{width:"100%",marginRight:"0.5rem"},placeholder:"Cari MIG ID",onChange:function(e){""===e.target.value?(window.location.href="/items/createpart/".concat(i,"?asset_id=").concat(ne?u:"","&model_id=").concat(oe?m:"","&name=&nama=").concat(P),Q(!1)):(Q(!0),ee(e.target.value))},allowClear:!0})}),Ne?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(h.a,{})}):Object(b.jsx)("div",{className:"col-span-3 mr-1",children:Object(b.jsx)(d.a,{defaultValue:""===pe?null:be,allowClear:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:xe,placeholder:"Cari Asset Type",treeDefaultExpandAll:!0,style:{width:"100%"},onChange:function(e,t,n){"undefined"===typeof e?Ye():(Ye(n.allCheckedNodes[0].node.props.id),je(n.allCheckedNodes[0].node.props.title))}})}),Object(b.jsx)("div",{className:"col-span-3 mr-1",children:Object(b.jsx)(o.a,{showSearch:!0,optionFilterProp:"children",notFoundContent:Je?Object(b.jsx)(h.a,{size:"small"}):null,onSearch:function(e){Re(!0),fetch("https://boiling-thicket-46501.herokuapp.com/getFilterModels?name=".concat(""!==e?e:""),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){Ve(e.data),Re(!1)}))},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},defaultValue:""===m?null:Number(m),placeholder:"Model",style:{width:"100%"},allowClear:!0,onChange:function(e){"undefined"===typeof e?We():We(e)},children:Be.map((function(e,t){return Object(b.jsx)(o.a.Option,{value:e.id,children:e.name})}))})}),Object(b.jsx)("div",{className:" col-span-1",children:Object(b.jsx)(f.a,{type:"primary",style:{width:"100%"},onClick:function(){window.location.href="/items/createpart/".concat(i,"?asset_id=").concat(ne?null===ie?u:ie:"","&model_id=").concat(oe?null===ue?m:ue:"","&name=").concat(X?null===$?j:$:"","&nama=").concat(P)},children:Object(b.jsx)(w.a,{})})})]})}),Object(b.jsx)(r.a,{rowSelection:{onChange:function(e,t){t.length>0?De(!1):De(!0),V(C(C({},B),{},{inventory_part_ids:t.map((function(e){return e.id}))}));var n=[];t.forEach((function(e,t){var a=Ke(e.key,J);"undefined"!==typeof a?(Le(J,a),n.push({mig_id:e.mig_id,parent:Ue})):n.push({mig_id:e.mig_id,parent:""})})),Y(n)},onSelectAll:function(e,t,n){console.log(e,t,n)},checkStrictly:!0},pagination:{pageSize:10,total:E.total,onChange:function(e,t){ke(!0),fetch("https://boiling-thicket-46501.herokuapp.com/getInventoryAddable?page=".concat(e,"&rows=10&asset_id=").concat(u,"&model_id=").concat(m,"&name=").concat(j),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){T(e.data);var t=function e(t){for(var n=[],a=0;a<(null===t||void 0===t?void 0:t.length);a++)t[a].key=t[a].id,t[a].title=t[a].inventory_name,t[a].children=t[a].inventory_parts,delete t[a].inventory_parts,t[a].children?n.push(C(C({},t[a]),{},{children:e(t[a].children)})):(delete t[a].children,n.push(C({},t[a])));return n}(e.data.data);M(t),D(t),R(t),ke(!1)}))}},scroll:{x:200},dataSource:z,columns:He,loading:_e})]})}),Object(b.jsx)(c.a,{title:Object(b.jsxs)("h1",{className:"font-semibold",children:['Apakah anda yakin untuk menambahkan Item berikut ini menjadi Item Part "',P,'"?']}),visible:Ie,onCancel:function(){Ee(!1)},okText:"Ya",cancelText:"Tidak",onOk:function(){ze(!0),fetch("https://boiling-thicket-46501.herokuapp.com/addInventoryParts",{method:"POST",headers:{Authorization:JSON.parse(a),"Content-Type":"application/json"},body:JSON.stringify(B)}).then((function(e){return e.json()})).then((function(e){ze(!1),e.success?(O.a.success({message:"Item Part berhasil ditambahkan",duration:3}),Ee(!1),s.push("/items/detail/".concat(i,"?active=konfigurasiPart"))):e.success||O.a.error({message:e.message,duration:3})}))},okButtonProps:{loading:Ae},width:760,children:Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("div",{className:"flex flex-col mb-4",children:L.map((function(e,t){return""!==e.parent?Object(b.jsxs)("p",{className:"mb-0 text-xs font-semibold",children:["- ",e.mig_id,', sedang menjadi Item Part dari "',e.parent.mig_id,'"']}):Object(b.jsxs)("p",{className:"mb-0 text-xs font-semibold",children:["- ",e.mig_id]})}))}),L.some((function(e){return""!==e.parent}))&&Object(b.jsx)("div",{className:"flex flex-col mb-3",children:Object(b.jsx)("p",{className:"text-red-500 mb-0",children:"Dengan menyetujui hal ini, anda akan mengeluarkan item part diatas dari item utama-nya!"})}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("p",{className:"mb-0",children:"Notes"}),Object(b.jsx)(p.a.TextArea,{rows:4,placeholder:"Masukkan Notes",onChange:function(e){V(C(C({},B),{},{notes:e.target.value}))}})]})]})})]})}},Nfnr:function(e,t,n){"use strict";var a=n("MM9K"),c=n.n(a),i=n("Y/VR"),r=n.n(i),s=n("nKUr"),o=n("d2CI"),l=n.n(o),d=n("q1tI"),u=n("20a2"),h=n("YFqc"),m=n.n(h),p=n("p46w"),j=n.n(p),f=n("2MCQ"),b=n.n(f),g=n("MjGk"),O=n.n(g),x=n("Gv1R"),v=n("cPPd");t.a=function(e){var t=e.children,n=e.tok,a=e.dataProfile,i=e.pathArr,o=e.sidemenu,h=e.st,p=Object(u.useRouter)(),f="",g=[];if(i)if("dashboard"===i[0])f=(f=i[1])[0].toUpperCase()+f.slice(1);else for(var y=0;y<i.length;y++)g.push(i[y]);var w=g.map((function(e,t){return e[0].toUpperCase()+e.slice(1)})),_=(l.a.Sider,l.a.Content,l.a.Header),k=Object(d.useState)(!0),S=k[0],N=k[1],C=Object(d.useState)(!0),P=C[0],I=C[1],E=Object(d.useState)(90),T=(E[0],E[1]),A=Object(d.useState)(!1),z=A[0],M=A[1],F=function(){N((function(e){return!e}))},D=function(){I((function(e){return!e}))};Object(d.useEffect)((function(){var e=window.innerHeight;T(e)}),[]);var G="";return Object(s.jsx)(c.a,{spinning:z,children:Object(s.jsxs)("div",{className:" min-h-screen flex",children:[Object(s.jsx)(x.a,{dataProfile:a,handleCollSmall:D,sidemenu:o,coll:S,collsmall:P,st:h}),Object(s.jsxs)("div",{className:"h-auto w-full",children:[Object(s.jsxs)(_,{className:"site-layout-background",style:{padding:0,backgroundColor:"white",display:"flex",alignItems:"center",flexDirection:"row",flexWrap:"wrap",width:"100%",justifyContent:"space-between",height:"auto"},children:[Object(s.jsxs)("div",{className:"flex z-50",children:[S?Object(s.jsx)(b.a,{onClick:F,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:h.trigger}):Object(s.jsx)(O.a,{onClick:F,style:{padding:"24px",float:"left"},className:h.trigger}),P?Object(s.jsx)(b.a,{onClick:D,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:h.triggerSmall}):Object(s.jsx)(O.a,{onClick:D,style:{padding:"24px",float:"left"},className:h.triggerSmall}),i?Object(s.jsx)(r.a,{separator:">",style:{float:"left",padding:"24px 10px",backgroundColor:"white"},className:h.breadcrumbClients,children:0!==w.length?w.map((function(e,t){return G+="/".concat(i[t]),0===t?Object(s.jsxs)(r.a.Item,{href:"/dashboard/".concat(i[t]),children:[" ",Object(s.jsx)("strong",{children:e})," "]},t):t===w.length-1&&t>0?"Assets"===e?Object(s.jsxs)(r.a.Item,{children:[" ",Object(s.jsx)("strong",{children:"Assets Types & Fields"})," "]},t):Object(s.jsxs)(r.a.Item,{children:[" ",Object(s.jsx)("strong",{children:e})," "]},t):Object(s.jsx)(r.a.Item,{href:G,children:Object(s.jsx)("strong",{children:e})},t)})):null}):null]}),Object(s.jsx)("label",{htmlFor:"menutoggle",className:"pointer-cursor md:hidden block cursor-pointer mr-4",children:Object(s.jsxs)("svg",{className:"fill-current text-gray-900",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",children:[Object(s.jsx)("title",{children:"menu"}),Object(s.jsx)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})}),Object(s.jsx)("input",{className:"hidden ".concat(h.menuToggle),type:"checkbox",id:"menutoggle"}),Object(s.jsx)(v.a,{dataProfile:a,Linkheader:m.a,handleLogout:function(){M(!0),fetch("https://boiling-thicket-46501.herokuapp.com/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(n)}}).then((function(e){return e.json()})).then((function(e){M(!1),e.success&&(j.a.remove("token"),console.log("token abis logout: "+j.a.get("token")),p.push("/login"))})).catch((function(e){M(!1),console.log(e.message)}))},st:h}),i?Object(s.jsx)(r.a,{separator:">",style:{float:"left",padding:"24px 24px",fontSize:"0.825rem",width:"100%"},className:h.breadcrumbClientsSmall,children:0!==w.length?w.map((function(e,t){return G+="/".concat(i[t]),0===t?Object(s.jsxs)(r.a.Item,{href:"dashboard/".concat(e),children:[" ",Object(s.jsx)("strong",{children:e})," "]},t):t===w.length-1&&t>0?Object(s.jsxs)(r.a.Item,{children:[" ",Object(s.jsx)("strong",{children:e})," "]},t):Object(s.jsx)(r.a.Item,{href:G,children:Object(s.jsx)("strong",{children:e})},t)})):null}):null]}),Object(s.jsx)("main",{className:"slb min-h-screen bg-white",style:{padding:24},children:t})]})]})})}},cBho:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.detectFlexGapSupported=t.isStyleSupport=t.canUseDocElement=void 0;var c=a(n("3Mug")),i=function(){return(0,c.default)()&&window.document.documentElement};t.canUseDocElement=i;var r;t.isStyleSupport=function(e){if(i()){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};t.detectFlexGapSupported=function(){if(!i())return!1;if(void 0!==r)return r;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),r=1===e.scrollHeight,document.body.removeChild(e),r}},"l+S1":function(e,t,n){"use strict";var a=n("VTBJ"),c=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},r=n("6VBw"),s=function(e,t){return c.createElement(r.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:i}))};s.displayName="SearchOutlined";t.a=c.forwardRef(s)}},[["CdeW",0,2,1,3,4,5,6,7,8,9,11,13,14,17,16,15]]]);