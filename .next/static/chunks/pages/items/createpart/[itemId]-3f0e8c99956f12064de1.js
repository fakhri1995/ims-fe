_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[110],{CdeW:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/items/createpart/[itemId]",function(){return n("xCzk")}])},cBho:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.detectFlexGapSupported=t.canUseDocElement=void 0,Object.defineProperty(t,"isStyleSupport",{enumerable:!0,get:function(){return r.isStyleSupport}});var c,i=a(n("3Mug")),r=n("UMre"),s=function(){return(0,i.default)()&&window.document.documentElement};t.canUseDocElement=s;t.detectFlexGapSupported=function(){if(!s())return!1;if(void 0!==c)return c;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),c=1===e.scrollHeight,document.body.removeChild(e),c}},cpVT:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},hf16:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.responsiveMap=t.responsiveArray=t.default=void 0;var c=a(n("lSNA")),i=a(n("pVnL"));t.responsiveArray=["xxl","xl","lg","md","sm","xs"];var r={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};t.responsiveMap=r;var s=new Map,l=-1,o={},d={matchHandlers:{},dispatch:function(e){return o=e,s.forEach((function(e){return e(o)})),s.size>=1},subscribe:function(e){return s.size||this.register(),l+=1,s.set(l,e),e(o),l},unsubscribe:function(e){s.delete(e),s.size||this.unregister()},unregister:function(){var e=this;Object.keys(r).forEach((function(t){var n=r[t],a=e.matchHandlers[n];null===a||void 0===a||a.mql.removeListener(null===a||void 0===a?void 0:a.listener)})),s.clear()},register:function(){var e=this;Object.keys(r).forEach((function(t){var n=r[t],a=function(n){var a=n.matches;e.dispatch((0,i.default)((0,i.default)({},o),(0,c.default)({},t,a)))},s=window.matchMedia(n);s.addListener(a),e.matchHandlers[n]={mql:s,listener:a},a(s)}))}};t.default=d},"l+S1":function(e,t,n){"use strict";var a=n("VTBJ"),c=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},r=n("6VBw"),s=function(e,t){return c.createElement(r.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:i}))};s.displayName="SearchOutlined";t.a=c.forwardRef(s)},"p/jd":function(e,t,n){"use strict";var a=n("MM9K"),c=n.n(a),i=n("Y/VR"),r=n.n(i),s=n("nKUr"),l=n("d2CI"),o=n.n(l),d=n("MjGk"),u=n.n(d),h=n("2MCQ"),m=n.n(h),f=n("p46w"),p=n.n(f),j=n("YFqc"),b=n.n(j),g=n("20a2"),O=n("q1tI"),x=n("z4YA"),v=n("60aS");t.a=function(e){var t=e.children,n=e.tok,a=e.dataProfile,i=e.pathArr,l=e.sidemenu,d=e.st,h=Object(g.useRouter)(),f="",j=[];if(i)if("dashboard"===i[0])f=(f=i[1])[0].toUpperCase()+f.slice(1);else for(var y=0;y<i.length;y++)j.push(i[y]);var w=j.map((function(e,t){return e[0].toUpperCase()+e.slice(1)})),_=(o.a.Sider,o.a.Content,o.a.Header),S=Object(O.useState)(!0),N=S[0],k=S[1],C=Object(O.useState)(!0),P=C[0],E=C[1],I=Object(O.useState)(90),T=(I[0],I[1]),A=Object(O.useState)(!1),z=A[0],M=A[1],F=function(){k((function(e){return!e}))},D=function(){E((function(e){return!e}))};Object(O.useEffect)((function(){var e=window.innerHeight;T(e)}),[]);var J="";return Object(s.jsx)(c.a,{spinning:z,children:Object(s.jsxs)("div",{className:" min-h-screen flex",children:[Object(s.jsx)(x.a,{dataProfile:a,handleCollSmall:D,sidemenu:l,coll:N,collsmall:P,st:d}),Object(s.jsxs)("div",{className:"h-auto w-full",children:[Object(s.jsxs)(_,{className:"site-layout-background",style:{padding:0,backgroundColor:"white",display:"flex",alignItems:"center",flexDirection:"row",flexWrap:"wrap",width:"100%",justifyContent:"space-between",height:"auto"},children:[Object(s.jsxs)("div",{className:"flex z-50",children:[N?Object(s.jsx)(m.a,{onClick:F,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:d.trigger}):Object(s.jsx)(u.a,{onClick:F,style:{padding:"24px",float:"left"},className:d.trigger}),P?Object(s.jsx)(m.a,{onClick:D,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:d.triggerSmall}):Object(s.jsx)(u.a,{onClick:D,style:{padding:"24px",float:"left"},className:d.triggerSmall}),i?Object(s.jsx)(r.a,{separator:">",style:{float:"left",padding:"24px 10px",backgroundColor:"white"},className:d.breadcrumbClients,children:0!==w.length?w.map((function(e,t){return J+="/".concat(i[t]),0===t?Object(s.jsxs)(r.a.Item,{href:"/dashboard/".concat(i[t]),children:[" ",Object(s.jsx)("strong",{children:e})," "]},t):t===w.length-1&&t>0?"Assets"===e?Object(s.jsxs)(r.a.Item,{children:[" ",Object(s.jsx)("strong",{children:"Assets Types & Fields"})," "]},t):Object(s.jsxs)(r.a.Item,{children:[" ",Object(s.jsx)("strong",{children:e})," "]},t):Object(s.jsx)(r.a.Item,{href:J,children:Object(s.jsx)("strong",{children:e})},t)})):null}):null]}),Object(s.jsx)("label",{htmlFor:"menutoggle",className:"pointer-cursor md:hidden block cursor-pointer mr-4",children:Object(s.jsxs)("svg",{className:"fill-current text-gray-900",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",children:[Object(s.jsx)("title",{children:"menu"}),Object(s.jsx)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})}),Object(s.jsx)("input",{className:"hidden ".concat(d.menuToggle),type:"checkbox",id:"menutoggle"}),Object(s.jsx)(v.a,{dataProfile:a,Linkheader:b.a,handleLogout:function(){M(!0),fetch("".concat("https://service-staging.mig.id","/logout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(n)}}).then((function(e){return e.json()})).then((function(e){M(!1),e.success&&(p.a.remove("token"),console.log("token abis logout: "+p.a.get("token")),h.push("/login"))})).catch((function(e){M(!1),console.log(e.message)}))},st:d}),i?Object(s.jsx)(r.a,{separator:">",style:{float:"left",padding:"24px 24px",fontSize:"0.825rem",width:"100%"},className:d.breadcrumbClientsSmall,children:0!==w.length?w.map((function(e,t){return J+="/".concat(i[t]),0===t?Object(s.jsxs)(r.a.Item,{href:"dashboard/".concat(e),children:[" ",Object(s.jsx)("strong",{children:e})," "]},t):t===w.length-1&&t>0?Object(s.jsxs)(r.a.Item,{children:[" ",Object(s.jsx)("strong",{children:e})," "]},t):Object(s.jsx)(r.a.Item,{href:J,children:Object(s.jsx)("strong",{children:e})},t)})):null}):null]}),Object(s.jsx)("main",{className:"slb min-h-screen bg-white",style:{padding:24},children:t})]})]})})}},xCzk:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return P}));var a=n("CC+v"),c=n.n(a),i=n("DtFj"),r=n.n(i),s=n("FAat"),l=n.n(s),o=n("rmht"),d=n.n(o),u=n("MM9K"),h=n.n(u),m=n("iJl9"),f=n.n(m),p=n("4IMT"),j=n.n(p),b=n("nKUr"),g=n("rR1Q"),O=n.n(g),x=n("cpVT"),v=n("l+S1"),y=(n("YFqc"),n("20a2")),w=n("q1tI"),_=n("p/jd"),S=n("qe3g"),N=n.n(S);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=!0;t.default=function(e){var t=e.dataProfile,n=e.sidemenu,a=e.initProps,i=e.itemid,s=Object(y.useRouter)(),o=s.pathname.split("/").slice(1);o.splice(2,1),o[o.length-1]="Tambah Item Part";var u="",m="",p="",g=s.query,x=g.asset_id,S=g.model_id,k=g.name,P=g.nama;x&&(u=x),S&&(m=S),k&&(p=k);var E=Object(w.useState)({current_page:"",data:[],first_page_url:"",from:null,last_page:null,last_page_url:"",next_page_url:"",path:"",per_page:null,prev_page_url:null,to:null,total:null}),I=E[0],T=E[1],A=Object(w.useState)([]),z=A[0],M=A[1],F=Object(w.useState)([]),D=(F[0],F[1]),J=Object(w.useState)([]),G=J[0],q=J[1],V=Object(w.useState)({id:Number(i),inventory_part_ids:[],notes:""}),H=V[0],R=V[1],L=Object(w.useState)({models:[{id:"",name:"",deleted_at:null}],assets:[{id:"",name:"",deleted_at:null}],manufacturers:[{id:"",name:"",deleted_at:null}],status_condition:[],status_usage:[],vendors:[],companies:[]}),B=(L[0],L[1]),U=Object(w.useState)([]),Y=U[0],K=U[1],W=Object(w.useState)(""!==p),Q=W[0],X=W[1],Z=Object(w.useState)(null),$=Z[0],ee=Z[1],te=Object(w.useState)(""!==u),ne=te[0],ae=te[1],ce=Object(w.useState)(null),ie=ce[0],re=ce[1],se=Object(w.useState)(""!==m),le=se[0],oe=se[1],de=Object(w.useState)(null),ue=de[0],he=de[1],me=Object(w.useState)(u),fe=me[0],pe=me[1],je=Object(w.useState)(null),be=je[0],ge=je[1],Oe=Object(w.useState)([]),xe=Oe[0],ve=Oe[1],ye=Object(w.useState)(0),we=(ye[0],ye[1],Object(w.useState)(!0)),_e=we[0],Se=we[1],Ne=Object(w.useState)(!0),ke=Ne[0],Ce=Ne[1],Pe=Object(w.useState)(!1),Ee=Pe[0],Ie=Pe[1],Te=Object(w.useState)(!1),Ae=Te[0],ze=Te[1],Me=Object(w.useState)(!0),Fe=Me[0],De=Me[1],Je=Object(w.useState)(!1),Ge=Je[0],qe=Je[1],Ve=Object(w.useState)([]),He=Ve[0],Re=Ve[1],Le=[{title:"MIG ID",dataIndex:"mig_id",key:"mig_id"},{title:"Model",dataIndex:"model_name",key:"model_name",render:function(e,t,n){return{children:Object(b.jsx)(b.Fragment,{children:t.model_inventory.name})}}},{title:"Asset Type",dataIndex:"asset_name",key:"asset_name",render:function(e,t,n){return{children:Object(b.jsx)(b.Fragment,{children:t.model_inventory.asset.name})}}}],Be=function e(t,n){for(var a,c=0;c<n.length;c++){var i=n[c];i.children&&(i.children.some((function(e){return e.key===t}))?a=i.key:e(t,i.children)&&(a=e(t,i.children)))}return a},Ue={},Ye=function e(t,n){for(var a=0;a<t.length;a++)t[a].key===n?Ue=t[a]:t[a].children&&e(t[a].children,n)},Ke=function(e){"undefined"===typeof e?(window.location.href="/items/createpart/".concat(i,"?asset_id=&model_id=&name=").concat(Q?p:"","&nama=").concat(P),ae(!1)):(fetch("".concat("https://service-staging.mig.id","/getModels?asset_id=").concat(e),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){0===e.data.length?Re([]):Re(e.data.data)})),ae(!0),re(e))},We=function(e){"undefined"===typeof e?(window.location.href="/items/createpart/".concat(i,"?asset_id=").concat(ne?u:"","&model_id=&name=").concat(Q?p:"","&nama=").concat(P),oe(!1)):(oe(!0),he(e))};return Object(w.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getInventoryAddable?rows=10&page=1&asset_id=").concat(u,"&model_id=").concat(m,"&name=").concat(p),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){T(e.data);var t=function e(t){for(var n=[],a=0;a<(null===t||void 0===t?void 0:t.length);a++)t[a].key=t[a].id,t[a].title=t[a].inventory_name,t[a].children=t[a].inventory_parts,delete t[a].inventory_parts,t[a].children?n.push(C(C({},t[a]),{},{children:e(t[a].children)})):(delete t[a].children,n.push(C({},t[a])));return n}(e.data.data);M(t),D(t),q(t),Se(!1)}))}),[]),Object(w.useEffect)((function(){Ce(!0),fetch("".concat("https://service-staging.mig.id","/getAssets"),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){var t={};!function e(n,a){for(var c=0;c<n.length;c++)n[c].id===a?t=n[c]:n[c].children&&e(n[c].children,a)}(e.data,Number(fe)),console.log(t),ge(t.key),ve(e.data),Ce(!1)}))}),[]),Object(w.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getInventoryRelations"),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){B(e.data)}))}),[]),Object(w.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getFilterModels"),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){Re(e.data)}))}),[]),Object(b.jsxs)(_.a,{dataProfile:t,sidemenu:n,tok:a,st:N.a,pathArr:o,children:[Object(b.jsxs)("div",{className:"h-20 w-full grid grid-cols-1 md:grid-cols-3 bg-white mb-5 p-4",children:[Object(b.jsx)("div",{className:" col-span-1 md:col-span-2 flex items-center mb-2 md:mb-0",children:Object(b.jsxs)("div",{className:"font-semibold text-xl w-auto",children:['Form Tambah Item Part "',P,'"']})}),Object(b.jsxs)("div",{className:" col-span-1 md:col-span-1 flex md:justify-end items-center",children:[Object(b.jsx)(j.a,{onClick:function(){s.push("/items/detail/".concat(i,"?active=konfigurasiPart"))},style:{marginRight:"1rem"},size:"middle",type:"danger",children:"Batal"}),Object(b.jsx)(j.a,{disabled:Fe,onClick:function(){Ie(!0)},size:"middle",type:"primary",children:"Simpan"})]})]}),Object(b.jsx)("div",{className:"h-auto w-full grid grid-cols-1 md:grid-cols-5 mb-5 bg-white rounded-md",children:Object(b.jsxs)("div",{className:"md:col-span-5 col-span-1 flex flex-col py-3",children:[Object(b.jsx)("div",{className:"flex mb-8",children:Object(b.jsxs)("div",{className:" w-full mr-1 grid grid-cols-12",children:[Object(b.jsx)("div",{className:"col-span-5 mr-1",children:Object(b.jsx)(f.a,{defaultValue:p,style:{width:"100%",marginRight:"0.5rem"},placeholder:"Cari MIG ID",onChange:function(e){""===e.target.value?(window.location.href="/items/createpart/".concat(i,"?asset_id=").concat(ne?u:"","&model_id=").concat(le?m:"","&name=&nama=").concat(P),X(!1)):(X(!0),ee(e.target.value))},allowClear:!0})}),ke?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(h.a,{})}):Object(b.jsx)("div",{className:"col-span-3 mr-1",children:Object(b.jsx)(d.a,{defaultValue:""===fe?null:be,allowClear:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:xe,placeholder:"Cari Asset Type",treeDefaultExpandAll:!0,style:{width:"100%"},onChange:function(e,t,n){"undefined"===typeof e?Ke():(Ke(n.allCheckedNodes[0].node.props.id),pe(n.allCheckedNodes[0].node.props.title))}})}),Object(b.jsx)("div",{className:"col-span-3 mr-1",children:Object(b.jsx)(l.a,{showSearch:!0,optionFilterProp:"children",notFoundContent:Ge?Object(b.jsx)(h.a,{size:"small"}):null,onSearch:function(e){qe(!0),fetch("".concat("https://service-staging.mig.id","/getFilterModels?name=").concat(""!==e?e:""),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){Re(e.data),qe(!1)}))},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},defaultValue:""===m?null:Number(m),placeholder:"Model",style:{width:"100%"},allowClear:!0,onChange:function(e){"undefined"===typeof e?We():We(e)},children:He.map((function(e,t){return Object(b.jsx)(l.a.Option,{value:e.id,children:e.name})}))})}),Object(b.jsx)("div",{className:" col-span-1",children:Object(b.jsx)(j.a,{type:"primary",style:{width:"100%"},onClick:function(){window.location.href="/items/createpart/".concat(i,"?asset_id=").concat(ne?null===ie?u:ie:"","&model_id=").concat(le?null===ue?m:ue:"","&name=").concat(Q?null===$?p:$:"","&nama=").concat(P)},children:Object(b.jsx)(v.a,{})})})]})}),Object(b.jsx)(r.a,{rowSelection:{onChange:function(e,t){t.length>0?De(!1):De(!0),R(C(C({},H),{},{inventory_part_ids:t.map((function(e){return e.id}))}));var n=[];t.forEach((function(e,t){var a=Be(e.key,G);"undefined"!==typeof a?(Ye(G,a),n.push({mig_id:e.mig_id,parent:Ue})):n.push({mig_id:e.mig_id,parent:""})})),K(n)},onSelectAll:function(e,t,n){console.log(e,t,n)},checkStrictly:!0},pagination:{pageSize:10,total:I.total,onChange:function(e,t){Se(!0),fetch("".concat("https://service-staging.mig.id","/getInventoryAddable?page=").concat(e,"&rows=10&asset_id=").concat(u,"&model_id=").concat(m,"&name=").concat(p),{method:"GET",headers:{Authorization:JSON.parse(a)}}).then((function(e){return e.json()})).then((function(e){T(e.data);var t=function e(t){for(var n=[],a=0;a<(null===t||void 0===t?void 0:t.length);a++)t[a].key=t[a].id,t[a].title=t[a].inventory_name,t[a].children=t[a].inventory_parts,delete t[a].inventory_parts,t[a].children?n.push(C(C({},t[a]),{},{children:e(t[a].children)})):(delete t[a].children,n.push(C({},t[a])));return n}(e.data.data);M(t),D(t),q(t),Se(!1)}))}},scroll:{x:200},dataSource:z,columns:Le,loading:_e})]})}),Object(b.jsx)(c.a,{title:Object(b.jsxs)("h1",{className:"font-semibold",children:['Apakah anda yakin untuk menambahkan Item berikut ini menjadi Item Part "',P,'"?']}),visible:Ee,onCancel:function(){Ie(!1)},okText:"Ya",cancelText:"Tidak",onOk:function(){ze(!0),fetch("".concat("https://service-staging.mig.id","/addInventoryParts"),{method:"POST",headers:{Authorization:JSON.parse(a),"Content-Type":"application/json"},body:JSON.stringify(H)}).then((function(e){return e.json()})).then((function(e){ze(!1),e.success?(O.a.success({message:"Item Part berhasil ditambahkan",duration:3}),Ie(!1),s.push("/items/detail/".concat(i,"?active=konfigurasiPart"))):e.success||O.a.error({message:e.message,duration:3})}))},okButtonProps:{loading:Ae},width:760,children:Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("div",{className:"flex flex-col mb-4",children:Y.map((function(e,t){return""!==e.parent?Object(b.jsxs)("p",{className:"mb-0 text-xs font-semibold",children:["- ",e.mig_id,', sedang menjadi Item Part dari "',e.parent.mig_id,'"']}):Object(b.jsxs)("p",{className:"mb-0 text-xs font-semibold",children:["- ",e.mig_id]})}))}),Y.some((function(e){return""!==e.parent}))&&Object(b.jsx)("div",{className:"flex flex-col mb-3",children:Object(b.jsx)("p",{className:"text-red-500 mb-0",children:"Dengan menyetujui hal ini, anda akan mengeluarkan item part diatas dari item utama-nya!"})}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("p",{className:"mb-0",children:"Notes"}),Object(b.jsx)(f.a.TextArea,{rows:4,placeholder:"Masukkan Notes",onChange:function(e){R(C(C({},H),{},{notes:e.target.value}))}})]})]})})]})}}},[["CdeW",0,2,1,3,4,5,6,7,8,9,12,14,15,16,17,18]]]);