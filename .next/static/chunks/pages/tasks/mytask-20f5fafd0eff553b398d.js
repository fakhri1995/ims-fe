_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[131],{"8Skl":function(e,t,n){"use strict";var a=n("VTBJ"),s=n("q1tI"),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},r=n("6VBw"),i=function(e,t){return s.createElement(r.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:c}))};i.displayName="DownOutlined";t.a=s.forwardRef(i)},C88r:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return P}));var a=n("sF4d"),s=n.n(a),c=n("CgBw"),r=n.n(c),i=n("kEgK"),o=n.n(i),l=n("rmht"),d=n.n(l),u=n("wXtC"),j=n.n(u),h=n("FAat"),m=n.n(h),f=n("MM9K"),b=n.n(f),x=n("iJl9"),p=n.n(x),O=n("rR1Q"),g=n.n(O),v=n("nKUr"),y=n("l+S1"),N=n("8Skl"),w=n("wd/R"),k=n.n(w),S=n("20a2"),_=n("q1tI"),C=n("ymym"),T=n("ZXdF"),E=n("ckOl"),A=n("qe3g"),F=n.n(A),z=n("D1C7"),I=n("o8C9"),L=n("8TZf"),D=n("a1/1"),J=n("m0r1");J.f.register(J.a,J.p,J.e,J.j,J.i,J.c,J.l);var P=!0;t.default=function(e){var t=e.initProps,n=e.dataProfile,a=e.sidemenu,c=Object(S.useRouter)(),i=c.pathname.split("/").slice(1);i[i.length-1]="My Task";var l=Object(_.useState)([]),u=l[0],h=l[1],f=Object(_.useState)(!0),x=f[0],O=f[1],w=Object(_.useState)([]),A=w[0],J=w[1],P=Object(_.useState)(!0),B=P[0],M=P[1],R=Object(_.useState)(!1),G=R[0],U=R[1],H=Object(_.useState)({from:"",to:""}),K=H[0],q=H[1],V=Object(_.useState)([]),W=V[0],X=V[1],Z=Object(_.useState)(""),Q=Z[0],Y=Z[1],$=Object(_.useState)(!1),ee=$[0],te=$[1],ne=Object(_.useState)(["#2F80ED","#E5C471","#BF4A40","#6AAA70"]),ae=ne[0],se=(ne[1],Object(_.useState)([])),ce=se[0],re=se[1],ie=Object(_.useState)(!0),oe=ie[0],le=ie[1],de=Object(_.useState)([]),ue=de[0],je=de[1],he=Object(_.useState)(!1),me=he[0],fe=he[1],be=Object(_.useState)(-1),xe=be[0],pe=(be[1],Object(_.useState)(-1)),Oe=(pe[0],pe[1]),ge=Object(_.useState)(!1),ve=(ge[0],ge[1],Object(_.useState)("")),ye=(ve[0],ve[1],Object(_.useState)({current_page:"",data:[],first_page_url:"",from:null,last_page:null,last_page_url:"",next_page_url:"",path:"",per_page:null,prev_page_url:null,to:null,total:null})),Ne=ye[0],we=ye[1],ke=Object(_.useState)([]),Se=ke[0],_e=ke[1],Ce=Object(_.useState)(!1),Te=Ce[0],Ee=Ce[1],Ae=Object(_.useState)([]),Fe=Ae[0],ze=Ae[1],Ie=Object(_.useState)([]),Le=Ie[0],De=Ie[1],Je=Object(_.useState)(""),Pe=Je[0],Be=Je[1],Me=Object(_.useState)({sort_by:"",sort_type:""}),Re=Me[0],Ge=Me[1],Ue=Object(_.useState)(""),He=Ue[0],Ke=Ue[1],qe=Object(_.useState)(""),Ve=qe[0],We=qe[1],Xe=Object(_.useState)(""),Ze=Xe[0],Qe=Xe[1],Ye=Object(_.useState)(""),$e=Ye[0],et=Ye[1],tt=Object(_.useState)(""),nt=tt[0],at=tt[1],st=Object(_.useState)(!1),ct=st[0],rt=st[1],it=Object(_.useState)(1),ot=it[0],lt=it[1],dt=Object(_.useState)(10),ut=dt[0],jt=(dt[1],Object(_.useState)(!1)),ht=jt[0],mt=(jt[1],Object(_.useState)({current_page:"",data:[],first_page_url:"",from:null,last_page:null,last_page_url:"",next_page_url:"",path:"",per_page:null,prev_page_url:null,to:null,total:null})),ft=mt[0],bt=mt[1],xt=Object(_.useState)(!1),pt=xt[0],Ot=xt[1],gt=Object(_.useState)([]),vt=gt[0],yt=gt[1],Nt=Object(_.useState)(1),wt=Nt[0],kt=Nt[1],St=Object(_.useState)(10),_t=St[0],Ct=(St[1],Object(_.useState)(!1)),Tt=Ct[0],Et=Ct[1],At=Object(_.useState)(-1),Ft=At[0],zt=At[1],It=Object(_.useState)({sort_by:"",sort_type:""}),Lt=It[0],Dt=It[1],Jt=Object(_.useState)(!1),Pt=Jt[0],Bt=Jt[1],Mt=Object(_.useState)([]),Rt=Mt[0],Gt=Mt[1],Ut=Object(_.useState)([]),Ht=Ut[0],Kt=Ut[1],qt=Object(_.useState)(""),Vt=qt[0],Wt=qt[1],Xt=Object(_.useState)(""),Zt=Xt[0],Qt=Xt[1],Yt=Object(_.useState)(""),$t=Yt[0],en=Yt[1],tn=Object(_.useState)(""),nn=tn[0],an=tn[1],sn=Object(_.useState)(""),cn=sn[0],rn=sn[1],on=[{title:"No",dataIndex:"num",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:Ne.from+n})}}},{title:"Nomor Task",dataIndex:"id",render:function(e,t,n){return{children:Object(v.jsxs)(v.Fragment,{children:["T-000",t.id]})}},sorter:function(e,t){return e.id<t.id}},{title:"Tipe Task",dataIndex:"name",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:null===t.task_type?"-":t.task_type.name})}}},{title:"Judul Task",dataIndex:"name",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:""===t.name||"-"===t.name?"-":t.name})}},sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Deadline",dataIndex:"deadline",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:null===t.deadline?"-":k()(t.deadline).locale("id").format("lll")})}},sorter:function(e,t){return e.deadline>t.deadline}},{title:"Staff",dataIndex:"users",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:0===t.users.length?"-":t.users.map((function(e){return e.name})).join(", ")})}}},{title:"Lokasi",dataIndex:"location",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:null===t.location?"-":t.location.full_location})}}},{title:"Status",dataIndex:"status",align:"center",render:function(e,t,n){return{children:Object(v.jsxs)(v.Fragment,{children:[1===t.status&&Object(v.jsx)("div",{className:"rounded-md h-auto px-3 text-center py-1 bg-overdue bg-opacity-10 text-overdue",children:"Overdue"}),2===t.status&&Object(v.jsx)("div",{className:"rounded-md h-auto px-3 text-center py-1 bg-open bg-opacity-10 text-open",children:"Open"}),3===t.status&&Object(v.jsx)("div",{className:"rounded-md h-auto px-3 text-center py-1 bg-onprogress bg-opacity-10 text-onprogress",children:"On-Progress"}),4===t.status&&Object(v.jsx)("div",{className:"rounded-md h-auto px-3 text-center py-1 bg-onhold bg-opacity-10 text-onhold",children:"On-Hold"}),5===t.status&&Object(v.jsx)("div",{className:"rounded-md h-auto px-3 text-center py-1 bg-completed bg-opacity-10 text-completed",children:"Completed"}),6===t.status&&Object(v.jsx)("div",{className:"rounded-md h-auto px-3 text-center py-1 bg-closed bg-opacity-10 text-closed",children:"Closed"})]})}},sorter:function(e,t){return e.status<t.status},filters:[{text:"Overdue",value:1},{text:"Open",value:2},{text:"On Progress",value:3},{text:"On Hold",value:4},{text:"Completed",value:5},{text:"Closed",value:6}],onFilter:function(e,t){return t.status===e},filterMultiple:!1}],ln=[{title:"No",dataIndex:"num",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:ft.from+n})}}},{title:"Nomor Task",dataIndex:"id",render:function(e,t,n){return{children:Object(v.jsxs)(v.Fragment,{children:["T-000",t.id]})}},sorter:function(e,t){return e.id>t.id}},{title:"Tipe Task",dataIndex:"task_type",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:null===t.task_type?"-":t.task_type.name})}}},{title:"Judul Task",dataIndex:"name",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:""===t.name||"-"===t.name?"-":t.name})}},sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Deadline",dataIndex:"deadline",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:null===t.deadline?"-":k()(t.deadline).locale("id").format("lll")})}},sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Lokasi",dataIndex:"location",render:function(e,t,n){return{children:Object(v.jsx)("p",{className:" truncate",children:null===t.location?"-":t.location.full_location})}}},{title:"Deskripsi",dataIndex:"description",render:function(e,t,n){return{children:Object(v.jsx)("p",{className:" line-clamp-3",children:""===t.description||"-"===t.description?"-":t.description})}},sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",dataIndex:"actions",align:"center",render:function(e,t,n){return{children:Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(T.a,{type:"primary",onClick:function(){un(t.id)},children:[Object(v.jsx)("div",{className:"mr-1",children:Object(v.jsx)(E.H,{size:18,color:"#ffffff"})}),"Ambil"]})})}}}],dn=function(){Ee(!0),fetch("".concat("https://service-staging.mig.id","/getUserTasks?page=1&rows=").concat(ut,"&sort_by=").concat(Re.sort_by,"&sort_type=").concat(Re.sort_type,"&keyword=").concat(Pe,"&task_type=").concat(nt,"&location=").concat(Ve,"&from=").concat(Ze,"&to=").concat($e,"&status=[").concat(He,"]"),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){lt(1),we(e.data),_e(e.data.data),Ee(!1)}))},un=function(e){fetch("".concat("https://service-staging.mig.id","/assignSelfTask"),{method:"PUT",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"},body:JSON.stringify({id:Number(e)})}).then((function(e){return e.json()})).then((function(e){zt((function(e){return e+1})),e.success?g.a.success({message:e.message,duration:3}):g.a.error({message:e.message,duration:3})}))},jn=Object(D.a)(dn,"Enter").onKeyPressHandler;return Object(_.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getFilterTaskTypes?name=").concat(nt),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){ze(e.data),Kt(e.data)}))}),[]),Object(_.useEffect)((function(){Ee(!0),fetch("".concat("https://service-staging.mig.id","/getUserTasks?page=").concat(ot,"&rows=").concat(ut,"&sort_by=").concat(Re.sort_by,"&sort_type=").concat(Re.sort_type,"&keyword=").concat(Pe,"&task_type=").concat(nt,"&location=").concat(Ve,"&from=").concat(Ze,"&to=").concat($e,"&status=[").concat(He,"]"),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){we(e.data),_e(e.data.data),Ee(!1)}))}),[ht,pt]),Object(_.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getAllCompanyList"),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){De(e.data.children),Gt(e.data.children),X(e.data.children),je(e.data.children),M(!1)}))}),[]),Object(_.useEffect)((function(){Ee(!0),fetch("".concat("https://service-staging.mig.id","/getUserLastTwoTasks"),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){h(e.data),O(!1)}))}),[]),Object(_.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getUserTaskStatusList"),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){J(e.data.status_list),M(!1)}))}),[]),Object(_.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getUserTaskTypeCounts"),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){re(e.data),le(!1)}))}),[]),Object(_.useEffect)((function(){Et(!0),fetch("".concat("https://service-staging.mig.id","/getTaskPickList?rows=").concat(_t,"&page=").concat(wt,"&keyword=").concat(Vt,"&task_type=").concat(cn,"&location=").concat(Zt,"&from=").concat($t,"&to=").concat(nn,"&sort_by=").concat(Lt.sort_by,"&sort_type=").concat(Lt.sort_type),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){bt(e.data),yt(e.data.data),Et(!1)}))}),[pt,Ft,Pt]),Object(_.useEffect)((function(){-1!==xe&&Oe(xe)}),[xe]),Object(v.jsx)(z.a,{tok:t,dataProfile:n,sidemenu:a,pathArr:i,st:F.a,prevpath:"mytask",children:Object(v.jsx)("div",{className:"flex flex-col",id:"mainWrapper",children:pt?Object(v.jsx)(v.Fragment,{children:pt&&Object(v.jsx)("div",{className:"px-5",children:Object(v.jsxs)("div",{className:"flex flex-col shadow-md rounded-lg bg-white p-5 mb-6 mx-3",children:[Object(v.jsx)("div",{className:"flex justify-between items-center mb-5",children:Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)("div",{className:"mr-2 cursor-pointer",onClick:function(){Ot(!1)},children:Object(v.jsx)(E.i,{size:15,color:"#000000"})}),Object(v.jsx)(L.a,{children:"Open Task"})]})}),Object(v.jsxs)("div",{className:" flex items-center mb-4",children:[Object(v.jsx)("div",{className:"mx-1 w-3/12",children:Object(v.jsx)(p.a,{value:Vt,style:{width:"100%"},placeholder:"Judul Task..",allowClear:!0,onChange:function(e){""===e.target.value?Wt(""):Wt(e.target.value)}})}),Object(v.jsx)("div",{className:"mx-1 w-2/12",children:Object(v.jsx)(m.a,{value:""===cn?null:cn,placeholder:"Semua Tipe Task",style:{width:"100%"},allowClear:!0,showSearch:!0,optionFilterProp:"children",notFoundContent:ct?Object(v.jsx)(b.a,{size:"small"}):null,onSearch:function(e){rt(!0),fetch("".concat("https://service-staging.mig.id","/getFilterTaskTypes?name=").concat(e),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){ze(e.data),rt(!1)}))},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},name:"task_type_id",onChange:function(e){rn("undefined"===typeof e?"":e)},children:Ht.map((function(e,t){return Object(v.jsx)(m.a.Option,{value:e.id,children:e.name},t)}))})}),Object(v.jsx)("div",{className:" w-3/12 mx-1",children:Object(v.jsx)(j.a.RangePicker,{showTime:!0,allowEmpty:!0,className:"datepickerStatus",value:""===$t?[null,null]:[k()($t),k()(nn)],onChange:function(e,t){en(t[0]),an(t[1])}})}),Object(v.jsx)("div",{className:" mx-1 w-3/12",children:Object(v.jsx)(d.a,{style:{width:"100%"},allowClear:!0,placeholder:"Semua Lokasi",showSearch:!0,suffixIcon:Object(v.jsx)(y.a,{}),showArrow:!0,name:"locations_id",onChange:function(e){Qt("undefined"===typeof e?"":e)},treeData:Rt,treeDefaultExpandAll:!0,value:""===Zt?null:Zt})}),Object(v.jsx)("div",{className:"mx-1 w-1/12",children:Object(v.jsxs)(T.a,{type:"primary",onClick:function(){Bt(!0),fetch("".concat("https://service-staging.mig.id","/getTaskPickList?rows=").concat(_t,"&page=1&keyword=").concat(Vt,"&task_type=").concat(cn,"&location=").concat(Zt,"&from=").concat($t,"&to=").concat(nn,"&sort_by=").concat(Lt.sort_by,"&sort_type=").concat(Lt.sort_type),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){kt(1),bt(e.data),yt(e.data.data),Bt(!1)}))},children:[Object(v.jsx)("div",{className:"mr-1",children:Object(v.jsx)(E.W,{size:15,color:"#ffffff"})}),"Cari"]})})]}),Object(v.jsx)("div",{children:Object(v.jsx)(I.f,{dataSource:vt,setDataSource:yt,columns:ln,loading:Tt,setpraloading:Et,pageSize:_t,total:ft.total,initProps:t,setpage:kt,pagefromsearch:wt,setdataraw:bt,sortstate:Lt,setsortstate:Dt,searchstate:Vt,tasktypefilterstate:cn,fromdatefilterstate:$t,todatefilterstate:nn,lokasifilterstate:Zt})})]})})}):Object(v.jsxs)("div",{className:"grid grid-cols-11 px-5",id:"wrapper1",children:[Object(v.jsx)("div",{className:" col-span-5 flex flex-col shadow-md rounded-md bg-gray-50 p-5 mb-6 mr-3",children:x?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(b.a,{})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[Object(v.jsx)(L.a,{children:"Segera Berakhir"}),u.length>0&&Object(v.jsxs)("div",{className:"p-2 rounded bg-red-50 text-state1 text-xs flex",children:[Object(v.jsx)("div",{className:"mr-1 flex items-center",children:Object(v.jsx)(E.q,{size:15,color:"#BF4A40"})}),k()(u[0].deadline).locale("id").format("lll")]})]}),Object(v.jsx)("div",{className:" h-full",children:u.length<1?Object(v.jsx)("div",{className:" flex w-full h-full items-center justify-center",children:Object(v.jsx)(o.a,{image:o.a.PRESENTED_IMAGE_SIMPLE})}):Object(v.jsxs)(v.Fragment,{children:[u.length>=1&&Object(v.jsxs)("div",{className:"rounded bg-state1 hover:bg-state12 transition duration-300 shadow text-white p-5 flex justify-between mb-2 cursor-pointer h-3/6",onClick:function(){c.push("/tasks/detail/".concat(u[0].id))},children:[Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("div",{children:Object(v.jsx)(E.p,{size:50,color:"#ffffff"})}),Object(v.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(v.jsxs)(L.e,{color:"white",children:["Berakhir"," ",(new Date-new Date(u[0].deadline))/864e5<1?"Hari Ini":"".concat(k()(u[0].deadline).locale("id").format("Do MMM"))]}),Object(v.jsx)(r.a,{trailColor:"#4D4D4D",strokeColor:"#ffffff",percent:u[0].time_limit_percentage,showInfo:!1})]})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsxs)("div",{className:"flex flex-col text-right",children:[Object(v.jsx)("p",{className:"font-bold text-xl mb-0 text-white",children:u[0].name}),Object(v.jsxs)(L.c,{children:["T-000",u[0].id]})]}),Object(v.jsx)("div",{className:"flex flex-col mt-4 text-right",children:Object(v.jsxs)(L.b,{color:"white",children:["Sisa ",u[0].time_left]})})]})]}),u.length>=2&&Object(v.jsxs)("div",{className:"rounded bg-white hover:bg-mono90 transition duration-300 shadow p-5 flex justify-between cursor-pointer h-3/6",onClick:function(){c.push("/tasks/detail/".concat(u[1].id))},children:[Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("div",{children:Object(v.jsx)(E.p,{size:50,color:"#35763B"})}),Object(v.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(v.jsxs)(L.e,{children:["Berakhir"," ",(new Date-new Date(u[1].deadline))/864e5<1?"Hari Ini":"".concat(k()(u[1].deadline).locale("id").format("Do MMM"))]}),Object(v.jsx)(r.a,{trailColor:"#d8e8da",strokeColor:"#35763B",percent:u[1].time_limit_percentage,showInfo:!1})]})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsxs)("div",{className:"flex flex-col text-right",children:[Object(v.jsx)(L.a,{children:u[1].name}),Object(v.jsxs)(L.c,{children:["T-000",u[1].id]})]}),Object(v.jsx)("div",{className:"flex flex-col mt-4 text-right",children:Object(v.jsxs)(L.b,{color:"primary",children:["Sisa ",u[1].time_left]})})]})]})]})})]})}),Object(v.jsxs)("div",{className:"col-span-3 flex flex-col shadow-md rounded-md bg-white p-5 mb-6 mx-3",children:[Object(v.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[Object(v.jsx)(L.a,{children:"Status Task"}),Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsxs)("div",{className:" dropdown",children:[Object(v.jsx)("div",{tabIndex:"0",className:"mx-1 cursor-pointer",onClick:function(){te((function(e){return!e}))},children:Object(v.jsx)(E.L,{color:"#000000",size:25})}),ee?Object(v.jsxs)("div",{tabIndex:"0",className:"p-5 shadow menu dropdown-content bg-white rounded-box w-72 flex flex-col max-h-72 overflow-scroll",children:[Object(v.jsxs)("div",{className:" flex justify-end mb-1 cursor-pointer",onClick:function(){te(!1),M(!0),fetch("".concat("https://service-staging.mig.id","/getUserTaskStatusList?from=").concat(K.from,"&to=").concat(K.to,"&location="),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){Y(""),J(e.data.status_list),M(!1)}))},children:[Object(v.jsx)("p",{className:" text-xs text-gray-500 mr-1",children:"Reset"}),Object(v.jsx)(E.o,{size:15,color:"#BF4A40"})]}),Object(v.jsx)(s.a,{className:"treeTaskStatusList",defaultExpandAll:!0,treeData:W,switcherIcon:Object(v.jsx)(N.a,{}),showIcon:!0,blockNode:!0,titleRender:function(e){return Object(v.jsxs)("div",{className:"flex items-start w-full py-3 rounded-md px-2",onClick:function(){te(!1),M(!0),fetch("".concat("https://service-staging.mig.id","/getUserTaskStatusList?from=").concat(K.from,"&to=").concat(K.to,"&location=").concat(e.key),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(t){Y(e.key),J(t.data.status_list),M(!1)}))},children:[Object(v.jsx)("div",{className:"mr-3 flex items-start",children:Object(v.jsx)(E.K,{id:"icon".concat(e.key),size:15,color:"#808080"})}),Object(v.jsx)("div",{className:"mr-3",children:Object(v.jsx)("p",{className:" text-gray-500 mb-0",id:"text".concat(e.key),children:e.title})})]})}})]}):null]}),Object(v.jsx)("div",{className:"mx-1 cursor-pointer",onClick:function(){U((function(e){return!e}))},children:Object(v.jsx)(E.k,{color:"#000000",size:25})}),Object(v.jsx)(j.a.RangePicker,{value:""===K.from?["",""]:[k()(K.from),k()(K.to)],allowEmpty:!0,style:{visibility:"hidden",width:"0",padding:"0"},className:"datepickerStatus",open:G,onChange:function(e,n){U((function(e){return!e})),M(!0),fetch("".concat("https://service-staging.mig.id","/getUserTaskStatusList?from=").concat(n[0],"&to=").concat(n[1],"&location=").concat(Q),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){q({from:n[0],to:n[1]}),J(e.data.status_list),M(!1)}))},renderExtraFooter:function(){return Object(v.jsx)("div",{className:" flex items-center",children:Object(v.jsx)("p",{className:" mb-0 text-primary100 hover:text-primary75 cursor-pointer",onClick:function(){U((function(e){return!e})),M(!0),fetch("".concat("https://service-staging.mig.id","/getUserTaskStatusList?from=&to=&location=").concat(Q),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){q({from:"",to:""}),J(e.data.status_list),M(!1)}))},children:"Reset"})})}})]})]}),B?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(b.a,{})}):A.every((function(e){return 0===e.status_count}))?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(o.a,{image:o.a.PRESENTED_IMAGE_SIMPLE})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"flex justify-center mb-4",children:Object(v.jsx)(C.b,{data:{labels:A.map((function(e){return e.status_name})),datasets:[{data:A.map((function(e){return e.status_count})),backgroundColor:["#BF4A40","#2F80ED","#ED962F","#E5C471","#6AAA70","#808080"],borderColor:["#BF4A40","#2F80ED","#ED962F","#E5C471","#6AAA70","#808080"],borderWidth:1}]},options:{title:{display:!1},legend:{display:!1},maintainAspectRatio:!1,cutout:55,spacing:5}})}),Object(v.jsx)("div",{className:"flex flex-col",children:A.map((function(e,t){return 1===e.status?Object(v.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)("div",{className:" w-1 bg-overdue mr-1"}),Object(v.jsx)("div",{className:"mr-1",children:Object(v.jsx)(L.e,{children:e.status_name})}),Object(v.jsx)(E.c,{size:15,color:"#BF4A40"})]}),Object(v.jsx)("div",{className:"flex",children:Object(v.jsx)(L.b,{children:e.status_count})})]}):Object(v.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)("div",{className:"w-1 mr-1 ".concat(1===e.status&&"bg-overdue"," ").concat(2===e.status&&"bg-open"," ").concat(3===e.status&&"bg-onprogress"," ").concat(4===e.status&&"bg-onhold"," ").concat(5===e.status&&"bg-completed"," ").concat(6===e.status&&"bg-closed")}),Object(v.jsx)(L.e,{children:e.status_name})]}),Object(v.jsx)("div",{className:"flex",children:Object(v.jsx)(L.b,{children:e.status_count})})]})}))})]})]}),Object(v.jsxs)("div",{className:"col-span-3 flex flex-col shadow-md rounded-md bg-white p-5 mb-6 mx-3",children:[Object(v.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[Object(v.jsx)(L.a,{children:"Tipe Task Terbanyak"}),Object(v.jsx)("div",{className:"flex items-center",children:Object(v.jsxs)("div",{className:"dropdown dropdown-left",children:[Object(v.jsx)("div",{tabIndex:"1",className:"mx-1 cursor-pointer",onClick:function(){fe((function(e){return!e}))},children:Object(v.jsx)(E.L,{color:"#000000",size:25})}),me?Object(v.jsxs)("div",{tabIndex:"1",className:"p-5 shadow menu dropdown-content bg-white rounded-box w-72 flex flex-col max-h-72 overflow-scroll",children:[Object(v.jsxs)("div",{className:" flex justify-end mb-1 cursor-pointer",onClick:function(){fe(!1),le(!0),fetch("".concat("https://service-staging.mig.id","/getUserTaskTypeCounts?location="),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){re(e.data),le(!1)}))},children:[Object(v.jsx)("p",{className:" text-xs text-gray-500 mr-1",children:"Reset"}),Object(v.jsx)(E.o,{size:15,color:"#BF4A40"})]}),Object(v.jsx)(s.a,{className:"treeTaskStatusList",defaultExpandAll:!0,treeData:ue,switcherIcon:Object(v.jsx)(N.a,{}),showIcon:!0,blockNode:!0,titleRender:function(e){return Object(v.jsxs)("div",{className:"flex items-start w-full py-3 rounded-md px-2",onClick:function(){fe(!1),le(!0),fetch("".concat("https://service-staging.mig.id","/getUserTaskTypeCounts?location=").concat(e.key),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){re(e.data),le(!1)}))},children:[Object(v.jsx)("div",{className:"mr-3 flex items-start",children:Object(v.jsx)(E.K,{id:"icon".concat(e.key),size:15,color:"#808080"})}),Object(v.jsx)("div",{className:"mr-3",children:Object(v.jsx)("p",{className:" text-gray-500 mb-0",id:"text".concat(e.key),children:e.title})})]})}})]}):null]})})]}),oe?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(b.a,{})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"flex justify-center mb-5 h-4/6",children:Object(v.jsx)(C.a,{data:{labels:ce.map((function(e){return e.name})),datasets:[{data:ce.map((function(e){return e.tasks_count})),backgroundColor:ce.map((function(e,t){return ae[t+1%ae.length-1]})),borderColor:ce.map((function(e,t){return ae[t+1%ae.length-1]})),barPercentage:1,barThickness:18,maxBarThickness:15,minBarLength:2}]},options:{title:{display:!1},legend:{display:!1},maintainAspectRatio:!1,scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}}}})}),Object(v.jsx)("div",{className:"flex flex-col",children:ce.map((function(e,t){return Object(v.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)("div",{className:" w-1 mr-2",style:{backgroundColor:"".concat(ae[t+1%ae.length-1])}}),Object(v.jsx)(L.e,{children:e.name})]}),Object(v.jsx)("div",{className:"flex",children:Object(v.jsx)(L.b,{children:e.tasks_count})})]},t)}))})]})]}),Object(v.jsxs)("div",{className:"col-span-11 flex flex-col shadow-md rounded-md bg-white p-5 mb-6 mr-3",children:[Object(v.jsx)("div",{className:"flex items-center justify-between mb-4",children:Object(v.jsx)(L.a,{children:"Semua Task"})}),Object(v.jsxs)("div",{className:" flex items-center mb-4",children:[Object(v.jsx)("div",{className:"mx-1 w-2/12",children:Object(v.jsx)(p.a,{value:Pe,style:{width:"100%"},placeholder:"Judul atau ID..",allowClear:!0,onChange:function(e){""===e.target.value?Be(""):Be(e.target.value)},onKeyPress:jn})}),Object(v.jsx)("div",{className:"mx-1 w-2/12",children:Object(v.jsx)(m.a,{value:""===nt?null:nt,placeholder:"Semua Tipe Task",style:{width:"100%"},allowClear:!0,showSearch:!0,optionFilterProp:"children",notFoundContent:ct?Object(v.jsx)(b.a,{size:"small"}):null,onSearch:function(e){rt(!0),fetch("".concat("https://service-staging.mig.id","/getFilterTaskTypes?name=").concat(e),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){ze(e.data),rt(!1)}))},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},name:"task_type_id",onChange:function(e){at("undefined"===typeof e?"":e)},children:Fe.map((function(e,t){return Object(v.jsx)(m.a.Option,{value:e.id,children:e.name},t)}))})}),Object(v.jsx)("div",{className:" w-3/12 mx-1",children:Object(v.jsx)(j.a.RangePicker,{showTime:!0,allowEmpty:!0,className:"datepickerStatus",value:""===Ze?[null,null]:[k()(Ze),k()($e)],onChange:function(e,t){Qe(t[0]),et(t[1])}})}),Object(v.jsx)("div",{className:" mx-1 w-2/12",children:Object(v.jsx)(d.a,{style:{width:"100%"},allowClear:!0,placeholder:"Semua Lokasi",showSearch:!0,suffixIcon:Object(v.jsx)(y.a,{}),showArrow:!0,name:"locations_id",onChange:function(e){We("undefined"===typeof e?"":e)},treeData:Le,treeDefaultExpandAll:!0,value:""===Ve?null:Ve})}),Object(v.jsx)("div",{className:" mx-1 w-2/12",children:Object(v.jsxs)(m.a,{style:{width:"100%"},value:""===He?null:He,placeholder:"Semua Status",allowClear:!0,name:"status",onChange:function(e){Ke("undefined"===typeof e?"":e)},children:[Object(v.jsx)(m.a.Option,{value:1,children:Object(v.jsxs)("div",{className:" flex items-center",children:[Object(v.jsx)("div",{className:"rounded-md h-auto px-1 mr-1 text-center py-1 bg-overdue border border-overdue"}),"Overdue"]})}),Object(v.jsx)(m.a.Option,{value:2,children:Object(v.jsxs)("div",{className:" flex items-center",children:[Object(v.jsx)("div",{className:"rounded-md h-auto px-1 mr-1 text-center py-1 bg-open border border-open"}),"Open"]})}),Object(v.jsx)(m.a.Option,{value:3,children:Object(v.jsxs)("div",{className:" flex items-center",children:[Object(v.jsx)("div",{className:"rounded-md h-auto px-1 mr-1 text-center py-1 bg-onprogress border border-onprogress"}),"On Progress"]})}),Object(v.jsx)(m.a.Option,{value:4,children:Object(v.jsxs)("div",{className:" flex items-center",children:[Object(v.jsx)("div",{className:"rounded-md h-auto px-1 mr-1 text-center py-1 bg-onhold border border-onhold"}),"On Hold"]})}),Object(v.jsx)(m.a.Option,{value:5,children:Object(v.jsxs)("div",{className:" flex items-center",children:[Object(v.jsx)("div",{className:"rounded-md h-auto px-1 mr-1 text-center py-1 bg-completed border border-completed"}),"Completed"]})}),Object(v.jsx)(m.a.Option,{value:6,children:Object(v.jsxs)("div",{className:" flex items-center",children:[Object(v.jsx)("div",{className:"rounded-md h-auto px-1 mr-1 text-center py-1 bg-closed border border-closed"}),"Closed"]})})]})}),Object(v.jsx)("div",{className:"mx-1 w-1/12",children:Object(v.jsxs)(T.a,{type:"primary",onClick:dn,children:[Object(v.jsx)("div",{className:"mr-1",children:Object(v.jsx)(E.W,{size:15,color:"#ffffff"})}),"Cari"]})})]}),Object(v.jsx)("div",{className:"flex flex-col mb-5",children:Object(v.jsx)(I.e,{dataSource:Se,setDataSource:_e,columns:on,loading:Te,setpraloading:Ee,pageSize:ut,total:Ne.total,initProps:t,setpage:lt,pagefromsearch:ot,setdataraw:we,sortstate:Re,setsortstate:Ge,searchstate:Pe,tasktypefilterstate:nt,fromdatefilterstate:Ze,todatefilterstate:$e,lokasifilterstate:Ve,statusfilterstate:He,prevpath:"mytask"})}),Object(v.jsx)("div",{className:"flex items-center justify-end",children:Object(v.jsx)("div",{children:Object(v.jsxs)(T.a,{type:"primary",onClick:function(){Ot(!0)},children:[Object(v.jsx)("div",{className:"mr-1",children:Object(v.jsx)(E.H,{size:18,color:"#ffffff"})}),"Ambil Task Baru"]})})})]})]})})})}},"KAj/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tasks/mytask",function(){return n("C88r")}])},"a1/1":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){if(!(e instanceof Function))throw new Error("Callback must be a Function");if("string"!==typeof t)throw new Error("keyIdentifier must ba string");return{onKeyPressHandler:function(n){n.key.toLowerCase()===t.toLowerCase()&&e()}}}},hf16:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.responsiveMap=t.responsiveArray=t.default=void 0;var s=a(n("lSNA")),c=a(n("pVnL"));t.responsiveArray=["xxl","xl","lg","md","sm","xs"];var r={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};t.responsiveMap=r;var i=new Map,o=-1,l={},d={matchHandlers:{},dispatch:function(e){return l=e,i.forEach((function(e){return e(l)})),i.size>=1},subscribe:function(e){return i.size||this.register(),o+=1,i.set(o,e),e(l),o},unsubscribe:function(e){i.delete(e),i.size||this.unregister()},unregister:function(){var e=this;Object.keys(r).forEach((function(t){var n=r[t],a=e.matchHandlers[n];null===a||void 0===a||a.mql.removeListener(null===a||void 0===a?void 0:a.listener)})),i.clear()},register:function(){var e=this;Object.keys(r).forEach((function(t){var n=r[t],a=function(n){var a=n.matches;e.dispatch((0,c.default)((0,c.default)({},l),(0,s.default)({},t,a)))},i=window.matchMedia(n);i.addListener(a),e.matchHandlers[n]={mql:i,listener:a},a(i)}))}};t.default=d},"l+S1":function(e,t,n){"use strict";var a=n("VTBJ"),s=n("q1tI"),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},r=n("6VBw"),i=function(e,t){return s.createElement(r.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:c}))};i.displayName="SearchOutlined";t.a=s.forwardRef(i)},ymym:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return x}));var a=n("q1tI"),s=n.n(a),c=n("m0r1");const r="label";function i(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function o(e,t){e.labels=t}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;const a=[];e.datasets=t.map((t=>{const s=e.datasets.find((e=>e[n]===t[n]));return s&&t.data&&!a.includes(s)?(a.push(s),Object.assign(s,t),s):{...t}}))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;const n={labels:[],datasets:[]};return o(n,e.labels),l(n,e.datasets,t),n}function u(e,t){let{height:n=150,width:r=300,redraw:u=!1,datasetIdKey:j,type:h,data:m,options:f,plugins:b=[],fallbackContent:x,...p}=e;const O=Object(a.useRef)(null),g=Object(a.useRef)(),v=()=>{O.current&&(g.current=new c.f(O.current,{type:h,data:d(m,j),options:f,plugins:b}),i(t,g.current))},y=()=>{i(t,null),g.current&&(g.current.destroy(),g.current=null)};return Object(a.useEffect)((()=>{var e,t;!u&&g.current&&f&&(e=g.current,t=f,e.options={...t})}),[u,f]),Object(a.useEffect)((()=>{!u&&g.current&&o(g.current.config.data,m.labels)}),[u,m.labels]),Object(a.useEffect)((()=>{!u&&g.current&&m.datasets&&l(g.current.config.data,m.datasets,j)}),[u,m.datasets]),Object(a.useEffect)((()=>{g.current&&(u?(y(),setTimeout(v)):g.current.update())}),[u,f,m.labels,m.datasets]),Object(a.useEffect)((()=>(v(),()=>y())),[]),s.a.createElement("canvas",Object.assign({ref:O,role:"img",height:n,width:r},p),x)}const j=Object(a.forwardRef)(u);function h(e,t){return c.f.register(t),Object(a.forwardRef)(((t,n)=>s.a.createElement(j,Object.assign({},t,{ref:n,type:e}))))}const m=h("line",c.h),f=h("bar",c.b),b=(c.n,h("doughnut",c.g)),x=(c.m,c.d,h("pie",c.k));c.o}},[["KAj/",0,2,19,30,1,3,4,5,6,7,8,9,12,14,17,18,20,21,23,26,29,33]]]);