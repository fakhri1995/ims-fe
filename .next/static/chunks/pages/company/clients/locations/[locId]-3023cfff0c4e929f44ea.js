_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[99,40],{"4sZn":function(e,t,n){"use strict";var a=n("MM9K"),c=n.n(a),i=n("iJl9"),s=n.n(i),l=n("nKUr"),r=n("rR1Q"),o=n.n(r),d=n("vJKn"),j=n.n(d),u=n("rg98"),b=n("cpVT"),m=n("ye1Q"),h=(n("wd/R"),n("20a2")),f=n("q1tI"),x=n("ZXdF"),p=n("ckOl"),O=n("44PY"),g=n("8TZf"),v=n("cFzE");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.title,n=e.visible,a=(e.onClose,e.children,e.buttonOkText),i=e.initProps,r=e.onvisible,d=e.subchildren,k=(Object(h.useRouter)(),Object(f.useState)({name:"",address_same:!1,address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""})),y=k[0],N=k[1],w=Object(f.useState)(!0),S=w[0],C=w[1],P=Object(f.useState)(-1),A=P[0],I=P[1],L=Object(f.useState)([]),z=(L[0],L[1]),T=Object(f.useState)(!1),E=T[0],B=T[1],F=Object(f.useState)(!1),D=F[0],J=F[1],M=Object(f.useState)(!1),K=M[0],R=M[1],V=Object(f.useState)(!1),Z=V[0],G=V[1],U=Object(f.useState)(!1),q=(U[0],U[1],function(e){N(_(_({},y),{},Object(b.a)({},e.target.name,e.target.value))),I((function(e){return e+1}))}),Y=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,a,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),n=t.target.files,(a=new FormData).append("file",n[0]),a.append("upload_preset","migsys"),e.next=7,fetch("https://api.Cloudinary.com/v1_1/aqlpeduli/image/upload",{method:"POST",body:a});case 7:return c=e.sent,e.next=10,c.json();case 10:i=e.sent,N(_(_({},y),{},{image_logo:i.secure_url})),R(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getBranchCompanyList"),{method:"GET",headers:{Authorization:JSON.parse(i)}}).then((function(e){return e.json()})).then((function(e){z([e.data])}))}),[D]),Object(f.useEffect)((function(){-1!==A&&(null===y.parent_id||""===y.name||!1===y.address_same&&""===y.address||""===y.phone_number||""===y.penanggung_jawab?C(!0):C(!1))}),[A]),Object(l.jsx)(v.a,{title:t,visible:n,onClose:function(){N({name:"",address_same:!1,address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),B(!1),C(!0),r(!1)},buttonOkText:a,onClick:function(){!1===/(^\d+$)/.test(y.phone_number)?(!1===new RegExp(/(^\d+$)/).test(y.phone_number)?G(!0):G(!1),C(!0)):(J(!0),fetch("".concat("https://service-staging.mig.id","/addCompanySub"),{method:"POST",headers:{Authorization:JSON.parse(i),"Content-Type":"application/json"},body:JSON.stringify(y)}).then((function(e){return e.json()})).then((function(e){J(!1),e.success?(N({name:"",address_same:!1,address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),B(!1),C(!0),r(!1),o.a.success({message:e.message,duration:3})):o.a.error({message:e.message,duration:3})})))},disabled:S,children:Object(l.jsx)(c.a,{spinning:D,children:Object(l.jsxs)("div",{className:"flex flex-col",children:[Object(l.jsx)("div",{className:"mb-8",children:Object(l.jsx)("p",{className:"mb-0 text-red-500 text-xs italic",children:"*Informasi ini harus diisi"})}),Object(l.jsxs)("div",{className:"mb-5 flex",children:[Object(l.jsx)("div",{className:"mr-2",children:""===y.image_logo?Object(l.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-400 flex justify-center items-center",children:Object(l.jsx)(p.l,{size:20,color:"#ffffff"})}):Object(l.jsx)("img",{src:y.image_logo,className:"object-contain w-20 h-20 rounded-full",alt:""})}),Object(l.jsxs)("div",{className:"flex flex-col w-9/12 px-3",children:[Object(l.jsx)("div",{className:"mb-5",children:Object(l.jsx)(g.e,{children:"Unggah gambar JPG/PNG dari komputer Anda (Max. 5 MB)"})}),Object(l.jsx)("div",{className:"flex justify-end items-end",children:Object(l.jsxs)(x.a,{type:"primaryInput",onChangeGambar:Y,children:[K?Object(l.jsx)(m.a,{style:{marginRight:"0.5rem"}}):Object(l.jsx)(p.U,{size:15,color:"#ffffff"}),"Atur Ulang"]})})]})]}),Object(l.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(l.jsx)(O.h,{name:"parent_id",onChangeTreeselect:function(e,t,n){N(_(_({},y),{},{parent_id:e})),I((function(e){return e+1}))},label:"Induk Lokasi",treeData:d}),Object(l.jsx)(O.c,{name:"name",onChangeInput:q,label:"Nama Sub Lokasi"}),Object(l.jsx)(O.e,{name:"address",label:"Alamat Sub Lokasi",onChangeRadio:function(e){!0===e.target.value?B(!0):B(!1),N(_(_({},y),{},{address_same:e.target.value})),I((function(e){return e+1}))},options:[{value:!0,title:"Sama dengan Induk"},{value:!1,title:"Alamat Berbeda"}]}),Object(l.jsx)("div",{className:"mb-5 px-3",children:Object(l.jsx)(s.a,{name:"address",onChange:q,disabled:!!E})}),Object(l.jsx)(O.c,{name:"phone_number",onChangeInput:q,label:"Nomor Telepon"}),Z&&Object(l.jsx)("p",{className:" text-red-500 text-sm mb-3 -mt-3 mx-3",children:"Nomor Telepon harus angka"}),Object(l.jsx)(O.c,{name:"penanggung_jawab",onChangeInput:q,label:"Penanggung Jawab (PIC)"})]})]})})})}},"6FTQ":function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},"8Skl":function(e,t,n){"use strict";var a=n("VTBJ"),c=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},s=n("6VBw"),l=function(e,t){return c.createElement(s.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:i}))};l.displayName="DownOutlined";t.a=c.forwardRef(l)},"8rE2":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("6FTQ");function c(e,t){if(e){if("string"===typeof e)return Object(a.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a.a)(e,t):void 0}}},B90J:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return R}));var a=n("sF4d"),c=n.n(a),i=n("kEgK"),s=n.n(i),l=n("MM9K"),r=n.n(l),o=n("iJl9"),d=n.n(o),j=n("nKUr"),u=n("rR1Q"),b=n.n(u),m=n("vJKn"),h=n.n(m),f=n("rg98"),x=n("cpVT"),p=n("qu0K"),O=n.n(p),g=n("xvhg"),v=n("MX0m"),k=n.n(v),_=n("ye1Q"),y=n("8Skl"),N=n("wd/R"),w=n.n(N),S=n("20a2"),C=n("q1tI"),P=n("ZXdF"),A=n("4sZn"),I=n("ckOl"),L=n("44PY"),z=n("qe3g"),T=n.n(z),E=n("D1C7"),B=n("gYAt"),F=n("o8C9"),D=n("8TZf");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){for(var t=0;t<e.length;t++)e[t].children=e[t].sub_children,e[t].image_logo=""===e[t].image_logo||"-"===e[t].image_logo?"/image/Sublokasi.png":e[t].image_logo,delete e[t].sub_children,e[t].children&&K(e[t].children);return e}var R=!0;t.default=function(e){var t,n,a,i,l,o,u=e.initProps,m=e.dataProfile,p=e.sidemenu,v=e.locid,N=Object(S.useRouter)(),z=O.a.useForm(),J=Object(g.a)(z,1)[0],R=N.pathname.split("/").slice(1);R[R.length-1]="Detail Lokasi";var V=Object(C.useState)({id:"",top_parent_id:"",name:"",image_logo:"",phone_number:"",address:"",role:"",singkatan:"",tanggal_pkp:w()(new Date),penanggung_jawab:"",npwp:"",fax:"",email:"",website:"",induk_level_1_count:"",induk_level_2_count:"",induk_level_3_count:"",sub_location_level_1_count:"",sub_location_level_2_count:"",level:"",parent:null,sub_children:[]}),Z=V[0],G=V[1],U=Object(C.useState)({id:"",name:"",address:"",phone_number:"",image_logo:"",singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:"",level:""}),q=U[0],Y=U[1],Q=Object(C.useState)(!1),$=(Q[0],Q[1]),X=Object(C.useState)([]),H=X[0],W=X[1],ee=Object(C.useState)(!1),te=ee[0],ne=ee[1],ae=Object(C.useState)(!1),ce=ae[0],ie=ae[1],se=Object(C.useState)(!0),le=se[0],re=se[1],oe=Object(C.useState)(!1),de=oe[0],je=oe[1],ue=Object(C.useState)(!1),be=ue[0],me=ue[1],he=Object(C.useState)(!1),fe=he[0],xe=he[1],pe=Object(C.useState)(!1),Oe=pe[0],ge=pe[1],ve=Object(C.useState)(!1),ke=ve[0],_e=ve[1],ye=Object(C.useState)(-1),Ne=ye[0],we=ye[1],Se=Object(C.useState)({email:!1,website:!1,npwp:!1,fax:!1,tanggal_pkp:!1}),Ce=Se[0],Pe=Se[1],Ae=Object(C.useState)({current_page:"",data:[],first_page_url:"",from:null,last_page:null,last_page_url:"",next_page_url:"",path:"",per_page:null,prev_page_url:null,to:null,total:null}),Ie=Ae[0],Le=Ae[1],ze=Object(C.useState)([]),Te=ze[0],Ee=ze[1],Be=Object(C.useState)(1),Fe=Be[0],De=Be[1],Je=Object(C.useState)(6),Me=Je[0],Ke=(Je[1],Object(C.useState)("")),Re=Ke[0],Ve=Ke[1],Ze=Object(C.useState)({sort_by:"",sort_type:""}),Ge=Ze[0],Ue=Ze[1],qe=Object(C.useState)(!0),Ye=qe[0],Qe=qe[1],$e=Object(C.useState)([]),Xe=$e[0],He=$e[1],We=Object(C.useState)([]),et=We[0],tt=We[1],nt=Object(C.useState)("A-Z"),at=nt[0],ct=nt[1],it=Object(C.useState)(-1),st=it[0],lt=it[1],rt=Object(C.useState)(!1),ot=rt[0],dt=rt[1],jt=Object(C.useState)(!0),ut=jt[0],bt=jt[1],mt=Object(C.useState)([]),ht=mt[0],ft=mt[1],xt=Object(C.useState)(!1),pt=xt[0],Ot=xt[1],gt=Object(C.useState)({}),vt=gt[0],kt=gt[1],_t=Object(C.useState)(!1),yt=_t[0],Nt=_t[1],wt=Object(C.useState)(""),St=wt[0],Ct=wt[1],Pt=Object(C.useState)(!0),At=(Pt[0],Pt[1]),It=Object(C.useState)({id:Number(v),new_parent:null}),Lt=It[0],zt=It[1],Tt=Object(C.useState)(1),Et=Tt[0],Bt=Tt[1],Ft=Object(C.useState)(!1),Dt=Ft[0],Jt=Ft[1],Mt=Object(C.useState)(!1),Kt=Mt[0],Rt=Mt[1],Vt=Object(C.useState)(!1),Zt=(Vt[0],Vt[1],Object(C.useState)(!1)),Gt=Zt[0],Ut=Zt[1],qt=Object(C.useState)(!1),Yt=(qt[0],qt[1],Object(C.useState)(!1)),Qt=Yt[0],$t=Yt[1],Xt=Object(C.useState)(!1),Ht=(Xt[0],Xt[1],Object(C.useState)([])),Wt=Ht[0],en=Ht[1],tn=Object(C.useState)(!1),nn=tn[0],an=tn[1],cn=Object(C.useState)(!1),sn=(cn[0],cn[1],[{title:"No",dataIndex:"num",render:function(e,t,n){return{children:Object(j.jsx)(j.Fragment,{children:Ie.from+1})}}},{title:"MIG ID",dataIndex:"mig_id",render:function(e,t,n){return{children:Object(j.jsx)(j.Fragment,{children:t.mig_id})}},sorter:function(e,t){return e.mig_id-t.mig_id}},{title:"Tipe Aset",dataIndex:"asset_name",render:function(e,t,n){return{children:Object(j.jsx)(j.Fragment,{children:t.asset_name})}},sorter:function(e,t){return e.asset_name-t.asset_name}},{title:"Model",dataIndex:"model_name",render:function(e,t,n){return{children:Object(j.jsx)(j.Fragment,{children:t.model_name})}}},{title:"Sublokasi",dataIndex:"full_location",render:function(e,t,n){return{children:Object(j.jsx)(j.Fragment,{children:t.full_location})}}}]),ln=function(e){Y(M(M({},q),{},Object(x.a)({},e.target.name,e.target.value))),_e(!1)},rn=function(e){Y(M(M({},q),{},Object(x.a)({},e.target.name,e.target.value))),_e(!1)},on=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me(!0),n=t.target.files,(a=new FormData).append("file",n[0]),a.append("upload_preset","migsys"),e.next=7,fetch("https://api.Cloudinary.com/v1_1/aqlpeduli/image/upload",{method:"POST",body:a});case 7:return c=e.sent,e.next=10,c.json();case 10:i=e.sent,Y(M(M({},q),{},{image_logo:i.secure_url})),me(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dn=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bt(!0),lt(-1===st||t),dt(!0),!0!==t){e.next=11;break}return e.next=6,Xe.sort((function(e,t){return e.title>t.title?1:-1}));case 6:n=e.sent,He(n),ct("A-Z"),e.next=12;break;case 11:fetch("".concat("https://service-staging.mig.id","/getSubCompanyDetail?id=").concat(v),{method:"GET",headers:{Authorization:JSON.parse(u)}}).then((function(e){return e.json()})).then((function(e){if(e.data.sub_children){var t=K(e.data.sub_children).sort((function(e,t){return e.title<t.title?1:-1}));He(t),ct("Z-A")}else He([])}));case 12:bt(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jn=function(){Jt(!0),fetch("".concat("https://service-staging.mig.id","/deleteCompany"),{method:"DELETE",headers:{Authorization:JSON.parse(u),"Content-Type":"application/json"},body:JSON.stringify(Lt)}).then((function(e){return e.json()})).then((function(e){$t(!1),Ut(!1),Jt(!1),e.success?(Rt(!1),b.a.success({message:e.message,duration:3}),setTimeout((function(){null===Z.top_parent_id?N.push("/company/clients/locations"):window.location.href="/company/clients/locations/".concat(Z.top_parent_id)}),500)):e.success||(b.a.error({message:e.inventories?"Masih terdapat inventori":e.message,duration:3}),e.inventories&&(en(e.inventories),an(!0)))}))},un=[];!function e(t){for(var n=0;n<t.length;n++){var a=t[n],c=a.id,i=a.key,s=a.value,l=a.parent_id,r=a.title,o=a.sub_child_count;un.push({id:c,key:i,value:s,parent_id:l,title:r,sub_child_count:o}),a.children&&e(a.children)}}(Xe);var bn=function e(t,n){for(var a,c=0;c<n.length;c++){var i=n[c];i.children&&(i.children.some((function(e){return e.key===t}))?a=i.key:e(t,i.children)&&(a=e(t,i.children)))}return a};return Object(C.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getSubCompanyDetail?id=").concat(v),{method:"GET",headers:{Authorization:JSON.parse(u)}}).then((function(e){return e.json()})).then((function(e){G(e.data);var t=K(e.data.sub_children);He(t);var n=function(e,t){return[{id:e.id,title:e.name,key:e.id,value:e.id,children:t}]}(e.data,t);tt(n),e.data.sub_children.length>0?ft(e.data.sub_children.map((function(e){return e.key}))):ft([]),Y({id:e.data.id,name:e.data.name,address:e.data.address,phone_number:e.data.phone_number,image_logo:"-"===e.data.image_logo||""===e.data.image_logo?1===e.data.level?"/image/Induk.png":"/image/Sublokasi.png":e.data.image_logo,singkatan:e.data.singkatan,tanggal_pkp:null===e.data.tanggal_pkp?null:w()(e.data.tanggal_pkp),penanggung_jawab:e.data.penanggung_jawab,npwp:e.data.npwp,fax:e.data.fax,email:e.data.email,website:e.data.website,level:e.data.level}),Pe({email:"-"!==e.data.email&&""!==e.data.email,website:"-"!==e.data.website&&""!==e.data.website,npwp:"-"!==e.data.npwp&&""!==e.data.npwp,fax:"-"!==e.data.fax&&""!==e.data.fax,tanggal_pkp:"-"!==e.data.tanggal_pkp&&""!==e.data&&null!=e.data.tanggal_pkp}),Bt(e.data.level),$(e.data.is_enabled),re(!1),bt(!1)}))}),[yt,Ne]),Object(C.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getCompanyInventories?id=").concat(v,"&page=").concat(Fe,"&rows=").concat(Me,"&keyword=").concat(Re,"&sort_by=").concat(Ge.sort_by,"&sort_type=").concat(Ge.sort_type),{method:"GET",headers:{Authorization:JSON.parse(u)}}).then((function(e){return e.json()})).then((function(e){Le(e.data),Ee(e.data.data),Qe(!1)}))}),[]),Object(C.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getLocations"),{method:"GET",headers:{Authorization:JSON.parse(u)}}).then((function(e){return e.json()})).then((function(e){W([e.data])}))}),[]),Object(j.jsx)(E.a,{tok:u,dataProfile:m,sidemenu:p,pathArr:R,st:T.a,idpage:v,children:Object(j.jsxs)("div",{className:"grid grid-cols-12",children:[le?null:Object(j.jsx)("div",{className:"col-span-3 flex flex-col shadow-md rounded bg-white m-4",children:Object(j.jsxs)(r.a,{spinning:de,children:[Object(j.jsxs)(O.a,{form:J,initialValues:q,children:[Object(j.jsxs)("div",{className:"max-h-24 relative",children:[Object(j.jsx)("img",{src:"/image/Rectangle.png",alt:"",className:"object-fit max-h-24 w-full rounded-t"}),Object(j.jsx)("div",{className:"absolute -bottom-1/2 bg-white rounded-full",style:{left:"35%"},children:Object(j.jsx)("img",{src:q.image_logo,alt:"",className:"object-contain w-24 h-24 rounded-full"})})]}),Object(j.jsxs)("div",{className:"mt-14 flex flex-col justify-center text-center",children:[te&&Object(j.jsx)("div",{className:"flex mx-auto mb-5",children:Object(j.jsxs)(P.a,{type:"primaryInput",onChangeGambar:on,children:[be?Object(j.jsx)(_.a,{style:{marginRight:"0.5rem"}}):Object(j.jsx)(I.U,{size:15,color:"#ffffff"}),"Atur Ulang"]})}),te?Object(j.jsxs)("div",{className:"flex flex-col px-5",children:[Object(j.jsxs)("div",{className:"jsx-2034412771 flex justify-center",children:[Object(j.jsxs)(D.c,{children:["Nama ",1===Et?"Lokasi":"Sublokasi"]}),Object(j.jsx)("span",{className:"jsx-2034412771 namaField"}),Object(j.jsx)(k.a,{id:"2034412771",children:[".namaField.jsx-2034412771::before{content:'*';color:red;}"]})]}),Object(j.jsx)(O.a.Item,{name:"name",rules:[{required:!0,message:"Nama Perusahaan wajib diisi"}],children:Object(j.jsx)(d.a,{name:"name",onChange:ln})})]}):Object(j.jsx)(D.a,{children:null!==(t=q.name)&&void 0!==t?t:"-"}),Object(j.jsx)(D.c,{children:Z.parent.name})]}),te?Object(j.jsxs)("div",{className:"flex justify-center items-center mt-5",children:[Object(j.jsx)("div",{className:"mx-1",onClick:function(){ne(!1),we((function(e){return e+1}))},children:Object(j.jsx)(P.a,{type:"default",children:"X Batalkan"})}),Object(j.jsx)("div",{className:"mx-1",onClick:function(){},children:Object(j.jsxs)(P.a,{disabled:ke,type:"primary",submit:!0,onClick:function(){(!0===Ce.email||!1===/(^\d+$)/.test(q.phone_number))&&(!1===/(^\d+$)/.test(q.phone_number)||!1===/(\-)|(^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/.test(q.email))?(!1===new RegExp(/(^\d+$)/).test(q.phone_number)?xe(!0):xe(!1),!1===new RegExp(/(\-)|(^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/).test(q.email)?ge(!0):ge(!1),_e(!0)):(xe(!1),ge(!1),J.submit(),ie(!0))},children:[Object(j.jsx)(I.m,{size:15,color:"#ffffff"}),"Simpan"]})})]}):Object(j.jsxs)("div",{className:"mt-5 flex justify-center items-center cursor-pointer",onClick:function(){ne(!0)},children:[Object(j.jsx)("div",{className:"mr-1 mb-1",children:Object(j.jsx)(I.w,{size:20,color:"#35763B"})}),Object(j.jsx)(D.c,{color:"green",children:"Sunting Profil"})]}),Object(j.jsxs)("div",{className:"mt-7 flex flex-col px-5",children:[Object(j.jsxs)("div",{className:"flex flex-col mb-5 px-3",children:[Object(j.jsx)(D.c,{children:"Tipe Lokasi"}),Object(j.jsxs)("p",{className:"mb-0",children:["Level ",Z.level]})]}),Object(j.jsxs)("div",{className:"flex flex-col mb-5 px-3",children:[Object(j.jsx)(D.c,{children:"Alamat Perusahaan"}),te?Object(j.jsx)(d.a,{name:"address",onChange:ln,defaultValue:null!==(n=q.address)&&void 0!==n?n:"-"}):Object(j.jsx)("p",{className:"mb-0",children:null!==(a=q.address)&&void 0!==a?a:"-"})]}),Object(j.jsxs)("div",{className:"flex flex-col mb-5 px-3",children:[Object(j.jsx)(D.c,{children:"Penanggung Jawab (PIC)"}),te?Object(j.jsx)(d.a,{name:"penanggung_jawab",onChange:ln,defaultValue:null!==(i=q.penanggung_jawab)&&void 0!==i?i:"-"}):Object(j.jsx)("p",{className:"mb-0",children:null!==(l=q.penanggung_jawab)&&void 0!==l?l:"-"})]}),Object(j.jsxs)("div",{className:"flex flex-col mb-5 px-3",children:[Object(j.jsx)(D.c,{children:"No.Telp"}),te?Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)(d.a,{name:"phone_number",onChange:ln,prefix:Object(j.jsx)(I.P,{size:15,color:"#35763B"}),defaultValue:null!==(o=q.phone_number)&&void 0!==o?o:"-"}),fe&&Object(j.jsx)("p",{className:" text-red-500 text-sm mb-0 mt-1",children:"Nomor Telepon harus angka"})]}):Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"mr-1",children:Object(j.jsx)(I.P,{size:20,color:"#35763B"})}),Object(j.jsx)("a",{href:"tel:".concat(q.phone_number),className:"text-primary100 hover:text-primary75",children:q.phone_number})]})]}),q.level>=2||"-"===q.npwp||""===q.npwp?null:Object(j.jsx)(j.Fragment,{children:!te&&Object(j.jsx)("div",{className:"flex flex-col mb-5 px-3",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D.c,{children:"NPWP"}),Object(j.jsx)("p",{className:"mb-0",children:""===q.npwp||"-"===q.npwp?"-":q.npwp})]})})}),q.level>=2||"-"===q.tanggal_pkp||""===q.tanggal_pkp||null===q.tanggal_pkp?null:Object(j.jsx)(j.Fragment,{children:!te&&Object(j.jsx)("div",{className:"flex flex-col mb-5 px-3",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D.c,{children:"Tanggal PKP"}),Object(j.jsx)("p",{className:"mb-0",children:"-"===q.tanggal_pkp?"-":w()(q.tanggal_pkp).locale("id").format("LL")})]})})}),q.level>=2||"-"===q.email||""===q.email?null:Object(j.jsx)(j.Fragment,{children:!te&&Object(j.jsx)("div",{className:"flex flex-col mb-5 px-3",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D.c,{children:"Email"}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"mr-1",children:Object(j.jsx)(I.x,{size:20,color:"#35763B"})}),Object(j.jsx)("a",{href:"mailto:".concat(q.email),className:"text-primary100 hover:text-primary75",children:q.email})]})]})})}),q.level>=2||"-"===q.fax||""===q.fax?null:Object(j.jsx)(j.Fragment,{children:!te&&Object(j.jsx)("div",{className:"flex flex-col mb-5 px-3",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D.c,{children:"Fax"}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"mr-1",children:Object(j.jsx)(I.z,{size:20,color:"#35763B"})}),Object(j.jsx)("a",{href:"".concat(q.fax),className:"text-primary100 hover:text-primary75",children:q.fax})]})]})})}),q.level>=2||"-"===q.website||""===q.website?null:Object(j.jsx)(j.Fragment,{children:!te&&Object(j.jsx)("div",{className:"flex flex-col mb-5 px-3",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D.c,{children:"Website"}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"mr-1",children:Object(j.jsx)(I.lb,{size:20,color:"#35763B"})}),Object(j.jsx)("a",{href:"".concat(q.website),className:"text-primary100 hover:text-primary75",children:q.website})]})]})})}),q.level>=2?null:te&&Object(j.jsxs)(j.Fragment,{children:[Ce.email&&Object(j.jsx)(L.b,{name:"email",onChangeInput:rn,defaultValue:q.email,label:"Email"}),Ce.email&&Oe&&Object(j.jsx)("p",{className:" text-red-500 text-sm mb-3 -mt-3 mx-3",children:"Email belum diisi dengan benar"}),Ce.website&&Object(j.jsx)(L.b,{name:"website",onChangeInput:rn,defaultValue:q.website,label:"Website"}),Ce.npwp&&Object(j.jsx)(L.b,{name:"npwp",onChangeInput:rn,defaultValue:q.npwp,label:"NPWP"}),Ce.fax&&Object(j.jsx)(L.b,{name:"fax",onChangeInput:rn,defaultValue:q.fax,label:"Fax"}),Ce.tanggal_pkp&&Object(j.jsx)(L.a,{name:"tanggal_pkp",onChangeDate:function(e,t){Y(M(M({},q),{},{tanggal_pkp:t}))},label:"Tanggal PKP",defaultValue:null===q.tanggal_pkp?null:w()(q.tanggal_pkp)})]}),q.level>=2?null:te&&Object(j.jsxs)("div",{className:"mb-5 flex flex-col",children:[Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsx)(D.c,{children:"Informasi Tambahan"})}),!Ce.email&&Object(j.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsx)(I.x,{size:18,color:"#808080"})}),"Email"]}),Object(j.jsx)("div",{className:"cursor-pointer",onClick:function(){Pe(M(M({},Ce),{},{email:!0}))},children:Object(j.jsx)(I.cb,{size:18,color:"#808080"})})]}),!Ce.website&&Object(j.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsx)(I.lb,{size:18,color:"#808080"})}),"Website"]}),Object(j.jsx)("div",{className:"cursor-pointer",onClick:function(){Pe(M(M({},Ce),{},{website:!0}))},children:Object(j.jsx)(I.cb,{size:18,color:"#808080"})})]}),!Ce.npwp&&Object(j.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsx)(I.N,{size:18,color:"#808080"})}),"NPWP"]}),Object(j.jsx)("div",{className:"cursor-pointer",onClick:function(){Pe(M(M({},Ce),{},{npwp:!0}))},children:Object(j.jsx)(I.cb,{size:18,color:"#808080"})})]}),!Ce.fax&&Object(j.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsx)(I.z,{size:18,color:"#808080"})}),"Fax"]}),Object(j.jsx)("div",{className:"cursor-pointer",onClick:function(){Pe(M(M({},Ce),{},{fax:!0}))},children:Object(j.jsx)(I.cb,{size:18,color:"#808080"})})]}),!Ce.tanggal_pkp&&Object(j.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsx)(I.Q,{size:18,color:"#808080"})}),"Tanggal PKP"]}),Object(j.jsx)("div",{className:"cursor-pointer",onClick:function(){Pe(M(M({},Ce),{},{tanggal_pkp:!0}))},children:Object(j.jsx)(I.cb,{size:18,color:"#808080"})})]})]}),Object(j.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(j.jsx)(D.c,{children:"Total Sub-Location Level 1"}),Object(j.jsx)("p",{className:"mb-0",children:Z.sub_location_level_1_count})]}),Object(j.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(j.jsx)(D.c,{children:"Total Sub-Location Level 2"}),Object(j.jsx)("p",{className:"mb-0",children:Z.sub_location_level_2_count})]}),Object(j.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(j.jsx)(D.c,{children:"Total Sub-Location Level 2"}),Object(j.jsx)("p",{className:"mb-0",children:Z.sub_location_level_2_count})]}),te&&Object(j.jsx)("div",{className:"flex justify-center items-center mb-10",children:Object(j.jsxs)(P.a,{type:"primary",color:"danger",onClick:function(){Rt(!0)},children:[Object(j.jsx)("div",{className:"mr-1",children:Object(j.jsx)(I.hb,{size:18,color:"#FFFFFF"})}),"Hapus Lokasi"]})})]})]}),Object(j.jsx)(B.b,{title:"Konfirmasi Edit Perusahaan",visible:ce,level:q.level,onCancel:function(){ie(!1)},footer:Object(j.jsxs)("div",{className:"flex justify-between items-center",children:[Object(j.jsx)(P.a,{type:"default",onClick:function(){ie(!1)},children:"Batalkan"}),Object(j.jsxs)(P.a,{type:"primary",onClick:function(){je(!0),fetch("".concat("https://service-staging.mig.id","/updateCompany"),{method:"PUT",headers:{Authorization:JSON.parse(u),"Content-Type":"application/json"},body:JSON.stringify(q)}).then((function(e){return e.json()})).then((function(e){ie(!1),je(!1),e.success?(ne(!1),b.a.success({message:e.message,duration:3}),setTimeout((function(){N.push("/company/clients/locations/".concat(v))}),500)):e.success||b.a.error({message:e.message,duration:3})}))},children:[Object(j.jsx)(I.m,{size:15,color:"#ffffff"}),"Simpan"]})]})}),Object(j.jsx)(B.e,{title:Object(j.jsxs)("strong",{children:["Sebelum menghapus"," ",1===Et?"lokasi induk":"Sublokasi","..."]}),visible:Kt,onCancel:function(){Rt(!1)},footer:Object(j.jsx)(r.a,{spinning:Dt,children:Object(j.jsxs)("div",{className:"flex justify-between items-center",children:[Object(j.jsx)(P.a,{type:"default",onClick:function(){zt(M(M({},Lt),{},{new_parent:null})),Rt(!1)},children:"Batalkan"}),Object(j.jsxs)("div",{className:"flex items-center justify-end",children:[Object(j.jsx)("div",{className:"mr-5",children:Object(j.jsxs)(P.a,{type:"primary",onClick:function(){Rt(!1),Ut(!0)},children:[Object(j.jsx)(I.M,{size:15}),"Pindahkan Inventori"]})}),Object(j.jsxs)(P.a,{type:"primary",color:"danger",onClick:function(){1===Et?jn():(Rt(!1),$t(!0))},children:[Object(j.jsx)(I.hb,{size:15,color:"#ffffff"}),2===q.level?"Hapus Sub Lokasi":"Hapus Lokasi"]})]})]})}),subloc:Xe,rawdata:Z}),Object(j.jsx)(B.g,{title:Object(j.jsx)("strong",{children:1===Z.level?"Peringatan":"Pemindahan Inventori"}),visible:Gt,footer:Object(j.jsx)(r.a,{spinning:Dt,children:Object(j.jsxs)("div",{className:"flex justify-between items-center",children:[Object(j.jsx)(P.a,{type:"default",onClick:function(){zt(M(M({},Lt),{},{new_parent:null})),Ut(!1),Rt(!0)},children:"Batalkan"}),Object(j.jsx)("div",{className:"flex items-center",children:Object(j.jsxs)(P.a,{disabled:null===Lt.new_parent,type:"primary",color:"danger",onClick:jn,children:[Object(j.jsx)(I.hb,{size:15,color:"#ffffff"}),"Lanjutkan penghapusan"]})})]})}),rawdata:Z,rawlocations:H,deletedata:Lt,setdeletedata:zt,initProps:u}),Object(j.jsx)(B.d,{title:Object(j.jsx)("strong",{children:"Tidak dapat menghapus Lokasi"}),visible:nn,footer:Object(j.jsx)("div",{className:"flex justify-end items-center",children:Object(j.jsxs)(P.a,{type:"primary",onClick:function(){an(!1),Rt(!0)},children:[Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsx)(I.i,{size:15,color:"#ffffff"})}),"Kembali"]})}),invexistdata:Wt}),Object(j.jsx)(B.f,{title:Object(j.jsx)("strong",{children:"Peringatan"}),visible:Qt,footer:Object(j.jsx)(r.a,{spinning:Dt,children:Object(j.jsxs)("div",{className:"flex justify-between items-center",children:[Object(j.jsx)(P.a,{type:"default",onClick:function(){zt(M(M({},Lt),{},{new_parent:null})),$t(!1),Rt(!0)},children:"Batalkan"}),Object(j.jsx)("div",{className:"flex items-center",children:Object(j.jsxs)(P.a,{type:"primary",color:"danger",onClick:jn,children:[Object(j.jsx)(I.hb,{size:15,color:"#ffffff"}),"Ya, saya yakin dan hapus lokasi"]})})]})}),rawdata:Z,deletedata:Lt})]})}),Object(j.jsxs)("div",{className:"col-span-9 flex flex-col",children:[Object(j.jsxs)("div",{className:"flex flex-col shadow-md rounded-md bg-white p-5 m-4",children:[Object(j.jsxs)("div",{className:"flex mb-5",children:[Object(j.jsx)("div",{className:"w-4/12",children:Object(j.jsx)(D.a,{children:"Semua Aset"})}),Object(j.jsx)("div",{className:"w-8/12 flex justify-end",children:Object(j.jsx)("div",{className:"mx-2",children:Object(j.jsx)(d.a,{style:{width:"20rem"},placeholder:"Cari ID, Tipe Aset, Model",onChange:function(e){Qe(!0),fetch("".concat("https://service-staging.mig.id","/getCompanyInventories?id=").concat(v,"&page=1&rows=").concat(Me,"&keyword=").concat(e.target.value,"&sort_by=").concat(Ge.sort_by,"&sort_type=").concat(Ge.sort_type),{method:"GET",headers:{Authorization:JSON.parse(u)}}).then((function(e){return e.json()})).then((function(t){Ve(e.target.value),De(1),Le(t.data),Ee(t.data.data),Qe(!1)}))},allowClear:!0})})})]}),Object(j.jsx)("div",{children:Object(j.jsx)(F.a,{dataSource:Te,setDataSource:Ee,columns:sn,loading:Ye,setloading:Qe,pageSize:Me,total:Ie.total,setdataraw:Le,initProps:u,setpage:De,pagefromsearch:Fe,keyworditems:Re,locid:v,sorting:Ge,setsorting:Ue})})]}),Object(j.jsxs)("div",{className:"grid grid-cols-7",children:[Object(j.jsxs)("div",{className:" col-span-5 flex flex-col shadow-md rounded-md bg-white p-5 mt-4 ml-4 mb-4 mr-2",children:[Object(j.jsx)("div",{className:" mb-3",children:Object(j.jsx)(D.a,{children:"Daftar Sublokasi"})}),Object(j.jsxs)("div",{className:"flex justify-around mb-5",children:[Object(j.jsx)("div",{className:"mx-0",children:Object(j.jsx)(d.a,{placeholder:"Cari Sublokasi",style:{backgroundColor:"transparent"},onChange:function(e){var t=e.target.value,n=un.map((function(e){return e.title.indexOf(t)>-1?bn(e.key,Xe):null})).filter((function(e,t,n){return e&&n.indexOf(e)===t}));t?(ft(n),Ct(t),At(!0)):(ft(Xe.map((function(e){return e.key}))),Ct(""),At(!1))}})}),Object(j.jsx)("div",{className:"mx-0",children:Object(j.jsxs)(P.a,{type:"ghost",selected:!0===ot,onClick:function(){dn(-1===st||!st)},children:[Object(j.jsx)(I.bb,{size:12,color:"#35763B"}),"Urutkan: ",at]})}),Object(j.jsx)("div",{className:"mx-0",children:Object(j.jsx)(P.a,{type:"primary",onClick:function(){Nt(!0)},children:"+ Tambah Sublokasi"})})]}),Object(j.jsx)("div",{className:"mb-5",children:ut?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(r.a,{})}):0===Xe.length?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{image:s.a.PRESENTED_IMAGE_SIMPLE})}):Object(j.jsx)(c.a,{onExpand:function(e){ft(e),At(!1)},className:"treeClientSublokasi",showIcon:!0,filterTreeNode:function(e){var t=e.title.props.children[0].props?e.title.props.children[0].props.children[2]:e.title.props.children[2];return!!t&&-1!==t.indexOf(St)},autoExpandParent:!0,expandedKeys:ht,treeData:function e(t){return t.map((function(t){var n=t.title.indexOf(St),a=t.title.substr(0,n),c=t.title.substr(n+St.length),i=n>-1?Object(j.jsxs)("div",{id:"wrap".concat(t.key),className:"flex items-start w-full py-2 rounded-md px-2",onMouseOver:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-primary100"),e.classList.remove("text-gray-400"),document.getElementById("wrap".concat(t.key)).classList.add("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-primary100"),n.classList.remove("bg-gray-300")},onMouseLeave:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-gray-400"),e.classList.remove("text-primary100"),document.getElementById("wrap".concat(t.key)).classList.remove("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-gray-300"),n.classList.remove("bg-primary100")},onClick:function(){Ot(!0),kt(t)},children:[Object(j.jsx)("div",{className:"mr-3 flex items-start",children:Object(j.jsx)(I.K,{id:"icon".concat(t.key),size:15,color:"#808080"})}),Object(j.jsx)("div",{className:"mr-3",children:Object(j.jsxs)(D.d,{id:"text".concat(t.key),children:[a,Object(j.jsx)("span",{className:" text-primary100",children:St}),c]})}),Object(j.jsx)("div",{id:"badge".concat(t.key),className:"w-5 h-5 rounded-full bg-gray-400 text-white text-2xs flex items-center justify-center",children:t.sub_child_count})]}):Object(j.jsxs)("div",{id:"wrap".concat(t.key),className:"flex items-start w-full py-2 rounded-md px-2",onMouseOver:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-primary100"),e.classList.remove("text-gray-400"),document.getElementById("wrap".concat(t.key)).classList.add("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-primary100"),n.classList.remove("bg-gray-300")},onMouseLeave:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-gray-400"),e.classList.remove("text-primary100"),document.getElementById("wrap".concat(t.key)).classList.remove("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-gray-300"),n.classList.remove("bg-primary100")},onClick:function(){Ot(!0),kt(t)},children:[Object(j.jsx)("div",{className:"mr-3 flex items-start",children:Object(j.jsx)(I.K,{id:"icon".concat(t.key),size:15,color:"#808080"})}),Object(j.jsx)("div",{className:"mr-3",children:Object(j.jsx)(D.d,{id:"text".concat(t.key),children:t.title})}),Object(j.jsx)("div",{id:"badge".concat(t.key),className:"w-5 h-5 rounded-full bg-gray-400 text-white text-2xs flex items-center justify-center",children:t.sub_child_count})]});return t.children?{title:i,key:t.key,children:e(t.children)}:{title:i,key:t.key}}))}(Xe),switcherIcon:Object(j.jsx)(y.a,{}),style:{background:"white"},blockNode:!0})})]}),pt?Object(j.jsxs)("div",{className:" col-span-2 flex flex-col shadow-md rounded-md bg-white p-5 mt-2 ml-2 mb-4 mr-4",children:[Object(j.jsx)("div",{className:" mb-5 flex justify-center",children:Object(j.jsx)("img",{src:vt.image_logo,className:"object-contain w-20 h-20 rounded-full",alt:""})}),Object(j.jsxs)("div",{className:"flex flex-col items-center mb-5",children:[Object(j.jsx)("div",{className:"mb-2 text-center",children:Object(j.jsx)(D.a,{children:vt.title})}),Object(j.jsx)("div",{className:"mb-4",children:Object(j.jsx)(D.c,{children:vt.parent_name})}),Object(j.jsx)("a",{href:"/company/clients/locations/".concat(vt.id),target:"_blank",children:Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsx)(D.c,{color:"green",cursor:"pointer",children:"Lihat Detail"})}),Object(j.jsx)(I.y,{size:15,color:"#35763B"})]})})]}),Object(j.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(j.jsxs)("div",{className:"mb-2",children:[Object(j.jsx)(D.c,{children:"Tipe Sublokasi"}),Object(j.jsxs)(D.e,{children:["Level ",vt.level]})]}),Object(j.jsxs)("div",{className:"mb-2",children:[Object(j.jsx)(D.c,{children:"Jumlah Aset"}),Object(j.jsx)(D.e,{children:vt.inventories_count})]})]})]}):null,Object(j.jsx)(A.a,{title:"Tambah Sublokasi",visible:yt,onClose:function(){Nt(!1)},buttonOkText:"Simpan Sublokasi",initProps:u,onvisible:Nt,subchildren:et})]})]})]})})}},clE2:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/company/clients/locations/[locId]",function(){return n("B90J")}])},gYAt:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"n",(function(){return f})),n.d(t,"j",(function(){return k})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return y})),n.d(t,"o",(function(){return N})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return S})),n.d(t,"a",(function(){return C})),n.d(t,"m",(function(){return P}));var a=n("MM9K"),c=n.n(a),i=n("cpVT"),s=n("nKUr"),l=n("q1tI"),r=n("ZXdF"),o=n("ckOl"),d=n("44PY"),j=n("8TZf"),u=n("ir/0");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=e.title,n=e.visible,a=e.onOk,c=e.onCancel,i=e.footer,l=e.loading,r=e.level;e.children;return Object(s.jsxs)(u.a,{title:t,visible:n,onOk:a,onCancel:c,footer:i,loading:l,children:["Apakah anda yakin ingin mengubah"," ",2===r?"Sub Lokasi":"Profil Perusahaan"," ini?`"]})}function f(e){var t=e.title,n=e.visible,a=e.onOk,c=e.onCancel,i=e.footer,l=e.loading,r=e.checked;e.children;return Object(s.jsxs)(u.a,{title:t,visible:n,onOk:a,onCancel:c,footer:i,loading:l,children:["Apakah anda yakin ingin merubah status perusahaan ini menjadi"," ",r?"Aktif":"Non-Aktif","?`"]})}function x(e){var t=e.title,n=e.visible,a=e.onOk,c=e.onCancel,i=e.footer,l=e.loading,r=e.namabank;e.children;return Object(s.jsxs)(u.a,{title:t,visible:n,onOk:a,onCancel:c,footer:i,loading:l,children:["Apakah Anda yakin ingin melanjutkan penghapusan Bank"," ",Object(s.jsx)("strong",{children:r}),"?"]})}function p(e){var t=e.title,n=e.visible,a=e.onOk,c=e.onCancel,i=e.footer,l=e.loading,r=e.rawdata;e.children;return Object(s.jsx)(u.a,{title:t,visible:n,onOk:a,onCancel:c,footer:i,loading:l,width:650,closeIcon:Object(s.jsx)(o.b,{size:20,color:"#BF4A40"}),children:Object(s.jsxs)("div",{className:"flex flex-col",children:[Object(s.jsx)("div",{className:"mb-3",children:Object(s.jsxs)("ul",{children:[1===r.level&&0===r.induk_level_1_count&&0===r.induk_level_2_count&&0===r.induk_level_3_count&&0===r.sub_location_level_1_count&&0===r.sub_location_level_2_count?"":Object(s.jsx)("div",{className:"mb-2",children:Object(s.jsxs)(j.e,{children:[1===r.level?"Lokasi":"Sublokasi"," ",Object(s.jsx)("strong",{children:r.name})," memiliki:"]})}),1===r.level?Object(s.jsxs)(s.Fragment,{children:[r.induk_level_1_count>0&&Object(s.jsx)("li",{children:Object(s.jsxs)("strong",{children:["- ",r.induk_level_1_count," Lokasi Level 1"]})}),r.induk_level_2_count>0&&Object(s.jsx)("li",{children:Object(s.jsxs)("strong",{children:["- ",r.induk_level_2_count," Lokasi Level 2"]})}),r.induk_level_3_count>0&&Object(s.jsx)("li",{children:Object(s.jsxs)("strong",{children:["- ",r.induk_level_3_count," Lokasi Level 3"]})}),Object(s.jsx)("li",{children:Object(s.jsx)("strong",{children:0!==r.sub_location_level_1_count&&"- ".concat(r.sub_location_level_1_count," Sublokasi Level 1")})}),Object(s.jsx)("li",{children:Object(s.jsx)("strong",{children:0!==r.sub_location_level_2_count&&"- ".concat(r.sub_location_level_2_count," Sublokasi Level 2")})})]}):Object(s.jsx)(s.Fragment,{children:0!==r.sub_location_level_1_count?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{children:Object(s.jsx)("strong",{children:0!==r.sub_location_level_1_count&&"- ".concat(r.sub_location_level_1_count," Sublokasi Level 1")})}),Object(s.jsx)("li",{children:Object(s.jsx)("strong",{children:0!==r.sub_location_level_2_count&&"- ".concat(r.sub_location_level_2_count," Sublokasi Level 2")})})]}):Object(s.jsx)("strong",{children:"-"})})]})}),Object(s.jsx)("div",{className:"mb-3",children:1===r.level?0===r.induk_level_1_count&&0===r.induk_level_2_count&&0===r.induk_level_3_count&&0===r.sub_location_level_1_count&&0===r.sub_location_level_2_count?Object(s.jsxs)(j.e,{children:["Tidak ada sublokasi yang terhubung dengan lokasi induk"," ",Object(s.jsx)("strong",{children:r.name}),". Anda dapat menghapus lokasi ini. Apakah Anda yakin ingin melanjutkan penghapusan?"]}):Object(s.jsxs)(j.e,{children:["Kami sarankan Anda untuk memindahkan inventori tersebut ke"," ",1===r.level?"Lokasi":"Sublokasi"," induk lain terlebih dahulu."," ",1===r.level&&Object(s.jsxs)(s.Fragment,{children:["Namun, Anda dapat memilih untuk ikut"," ",Object(s.jsx)("strong",{children:"menghapus semua lokasi"})," tersebut."]})]}):Object(s.jsxs)(j.e,{children:["Kami sarankan Anda untuk memindahkan inventori"," ",1===r.level?"tersebut":Object(s.jsxs)(s.Fragment,{children:["pada ",Object(s.jsx)("strong",{children:r.name})]})," ","ke ",1===r.level?"Lokasi":"Sublokasi"," induk lain terlebih dahulu."," ",1===r.level&&Object(s.jsxs)(s.Fragment,{children:["Namun, Anda dapat memilih untuk ikut"," ",Object(s.jsx)("strong",{children:"menghapus semua lokasi"})," tersebut."]})]})})]})})}function O(e){var t=e.initProps,n=e.title,a=e.visible,c=e.footer,i=e.rawdata,r=e.deletedata,o=e.setdeletedata,b=e.rawlocations,h=(e.children,Object(l.useState)([])),f=h[0],x=h[1];return Object(l.useEffect)((function(){-1!==i.level&&fetch("".concat("https://service-staging.mig.id","/getSubLocations?").concat(null===i.top_parent_id?"":"company_id=".concat(i.top_parent_id)),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){x([e.data])}))}),[]),Object(s.jsx)(u.a,{title:n,visible:a,footer:c,width:650,closeIcon:null,maskClosable:!1,children:Object(s.jsxs)("div",{className:"flex flex-col",children:[1===i.level&&Object(s.jsx)("div",{className:"mb-2",children:Object(s.jsxs)(j.e,{children:["Masih terdapat inventori di ",i.name,". Silahkan pindahkan inventori terlebih dahulu."]})}),Object(s.jsx)(d.h,{value:r.new_parent,allowClear:!0,name:"new_parent",onChangeTreeselect:function(e,t,n){o(m(m({},r),{},"undefined"===typeof e?{new_parent:null}:{new_parent:e}))},label:"Pindahkan Ke",treeData:1===i.level?b:f})]})})}function g(e){var t=e.title,n=e.visible,a=e.footer,c=e.rawdata;e.deletedata,e.children;return Object(s.jsx)(u.a,{title:t,visible:n,footer:a,width:650,closeIcon:null,maskClosable:!1,children:Object(s.jsx)("div",{className:"flex flex-col",children:Object(s.jsxs)(j.e,{children:["Jika masih terdapat inventori di sublokasi yang akan dihapus, Inventori akan otomatis dipindahkan ke Lokasi induk"," ",Object(s.jsx)("strong",{children:c.name}),". Anda"," ",Object(s.jsx)("strong",{children:"tidak dapat mengembalikan"})," sublokasi setelah penghapusan. Apakah Anda yakin ingin melanjutkan penghapusan?"]})})})}function v(e){var t=e.title,n=e.visible,a=e.footer,c=e.invexistdata;e.children;return Object(s.jsx)(u.a,{title:t,visible:n,footer:a,width:650,closeIcon:Object(s.jsx)(o.b,{size:20,color:"#BF4A40"}),maskClosable:!1,children:Object(s.jsxs)("div",{className:"flex flex-col",children:[Object(s.jsx)("div",{className:"mb-3",children:Object(s.jsx)(j.e,{children:"Masih terdapat inventori yang terhubung ke lokasi :"})}),Object(s.jsx)("div",{className:"mb-3",children:Object(s.jsx)("ul",{children:c.map((function(e,t){return Object(s.jsx)("li",{children:Object(s.jsxs)("strong",{children:[t+1,". ",e.full_name]})},t)}))})}),Object(s.jsx)("div",{className:"mb-3",children:Object(s.jsx)(j.e,{children:"Silahkan pindahkan atau hapus inventori terlebih dahulu."})})]})})}var k=function(e){var t=e.title,n=e.visible,a=e.onvisible,i=e.onOk,l=e.onCancel,d=e.loading,j=e.datadelete;e.children;return Object(s.jsxs)(u.a,{title:t,visible:n,onCancel:l,footer:Object(s.jsx)(c.a,{spinning:d,children:Object(s.jsxs)("div",{className:"flex justify-between items-center",children:[Object(s.jsx)(r.a,{type:"default",color:"danger",onClick:function(){a(!1)},children:"Batalkan"}),Object(s.jsxs)(r.a,{type:"primary",color:"danger",onClick:i,children:[Object(s.jsx)(o.hb,{size:15,color:"#ffffff"}),"Hapus"]})]})}),loading:d,children:["Apakah Anda yakin ingin melanjutkan penghapusan Tipe Task"," ",Object(s.jsx)("strong",{children:j.name}),"?"]})},_=function(e){var t=e.title,n=e.visible,a=e.onvisible,i=e.onOk,l=e.onCancel,d=e.loading,j=e.datadelete;e.children;return Object(s.jsxs)(u.a,{title:t,visible:n,onCancel:l,closeIcon:Object(s.jsx)(o.b,{size:20,color:"#BF4A40"}),footer:Object(s.jsx)(c.a,{spinning:d,children:Object(s.jsxs)("div",{className:"flex justify-between items-center",children:[Object(s.jsx)(r.a,{type:"default",color:"danger",onClick:function(){a(!1)},children:"Batalkan"}),Object(s.jsxs)(r.a,{type:"primary",color:"danger",onClick:i,children:[Object(s.jsx)(o.hb,{size:15,color:"#ffffff"}),"Ya, Saya yakin dan hapus task"]})]})}),loading:d,children:["Apakah Anda yakin ingin melanjutkan penghapusan Task"," ",Object(s.jsx)("strong",{children:j.name}),"?"]})},y=function(e){var t=e.title,n=e.visible,a=e.onvisible,i=e.onOk,l=e.onCancel,d=e.loading,j=e.datadelete;e.children;return Object(s.jsxs)(u.a,{title:t,visible:n,onCancel:l,closeIcon:Object(s.jsx)(o.b,{size:20,color:"#DDB44A"}),footer:Object(s.jsx)(c.a,{spinning:d,children:Object(s.jsxs)("div",{className:"flex justify-between items-center",children:[Object(s.jsx)(r.a,{type:"default",color:"danger",onClick:function(){a(!1)},children:"Batalkan"}),Object(s.jsxs)(r.a,{type:"primary",color:"danger",onClick:i,children:[Object(s.jsx)(o.hb,{size:15,color:"#ffffff"}),"Hapus Task Detail"]})]})}),loading:d,children:["Apakah Anda yakin ingin melanjutkan penghapusan Detail Task"," ",Object(s.jsx)("strong",{children:j.name}),"?"]})},N=function(e){var t=e.title,n=e.visible,a=e.onvisible,i=e.onOk,l=e.onCancel,j=e.loading,b=e.datastatustoggle,h=e.setdatastatustoggle,f=e.displaytask;e.children;return Object(s.jsx)(u.a,{title:t,visible:n,onCancel:l,closeIcon:Object(s.jsx)(o.b,{size:20,color:"#DDB44A"}),footer:Object(s.jsx)(c.a,{spinning:j,children:Object(s.jsxs)("div",{className:"flex justify-between items-center",children:[Object(s.jsx)(r.a,{type:"default",onClick:function(){a(!1)},children:"Batalkan"}),Object(s.jsxs)(r.a,{type:"primary",onClick:i,children:[Object(s.jsx)(o.hb,{size:15,color:"#ffffff"}),"Ubah"]})]})}),loading:j,children:4!==f.status?Object(s.jsx)(d.g,{label:"Silahkan cantumkan keterangan",onChangeInput:function(e){h(m(m({},b),{},{notes:e.target.value}))}}):Object(s.jsxs)(s.Fragment,{children:["Apakah Anda yakin ingin melanjutkan Task"," ",Object(s.jsx)("strong",{children:f.name}),"?"]})})},w=function(e){var t=e.title,n=e.visible,a=e.onvisible,i=e.onOk,l=e.onCancel,d=e.loading,j=e.datadelete;e.children;return Object(s.jsxs)(u.a,{title:t,visible:n,onCancel:l,footer:Object(s.jsx)(c.a,{spinning:d,children:Object(s.jsxs)("div",{className:"flex justify-between items-center",children:[Object(s.jsx)(r.a,{type:"default",color:"danger",onClick:function(){a(!1)},children:"Batalkan"}),Object(s.jsxs)(r.a,{type:"primary",color:"danger",onClick:i,children:[Object(s.jsx)(o.hb,{size:15,color:"#ffffff"}),"Hapus"]})]})}),loading:d,children:["Apakah Anda yakin ingin melanjutkan penghapusan Pengaturan"," ",Object(s.jsx)("strong",{children:j.name}),"?"]})},S=function(e){var t=e.title,n=e.visible,a=e.onvisible,i=e.onOk,l=(e.onCancel,e.loading),j=e.datanoteticket,b=e.setdatanoteticket,h=e.ticketid;e.children;return Object(s.jsx)(u.a,{title:t,visible:n,onCancel:function(){b({id:Number(h),notes:""}),a(!1)},footer:Object(s.jsx)(c.a,{spinning:l,children:Object(s.jsxs)("div",{className:"flex justify-between items-center",children:[Object(s.jsx)(r.a,{type:"default",onClick:function(){b({id:Number(h),notes:""}),a(!1)},children:"Batalkan"}),Object(s.jsxs)(r.a,{type:"primary",onClick:i,children:[Object(s.jsx)(o.m,{size:15,color:"#ffffff"}),"Simpan Catatan"]})]})}),loading:l,children:Object(s.jsx)(d.f,{value:j.notes,label:"Catatan",onChangeInput:function(e){b(m(m({},j),{},{notes:e.target.value}))}})})},C=function(e){var t=e.title,n=e.visible,a=e.onvisible,i=e.onOk,l=(e.onCancel,e.loading),d=e.data,b=e.setdata,m=e.ticketid;e.children;return Object(s.jsx)(u.a,{title:t,visible:n,onCancel:function(){b({id:Number(m),notes:"",name:""}),a(!1)},footer:Object(s.jsx)(c.a,{spinning:l,children:Object(s.jsxs)("div",{className:"flex justify-between items-center",children:[Object(s.jsx)(r.a,{type:"default",onClick:function(){b({id:Number(m),notes:"",name:""}),a(!1)},children:"Batalkan"}),Object(s.jsxs)(r.a,{type:"primary",color:"danger",onClick:i,children:[Object(s.jsx)(o.mb,{size:15,color:"#ffffff"}),"Ya, saya yakin dan batalkan tiket"]})]})}),loading:l,children:Object(s.jsx)("div",{className:" flex",children:Object(s.jsxs)(j.e,{children:["Apakah Anda yakin ingin membatalkan tiket ",Object(s.jsx)("strong",{children:d.name}),"? Anda tidak dapat mengembalikan tiket yang sudah terhapus"]})})})},P=function(e){var t=e.title,n=e.visible,a=e.onvisible,i=e.onOk,l=(e.onCancel,e.loading),d=e.data,b=e.setdata,h=e.ticketid;e.children;return Object(s.jsx)(u.a,{title:t,visible:n,onCancel:function(){a(!1)},footer:Object(s.jsx)(c.a,{spinning:l,children:Object(s.jsxs)("div",{className:"flex justify-between items-center",children:[Object(s.jsx)(r.a,{type:"default",onClick:function(){b(m(m({},d),{},{id:Number(h),inventory_id:""})),a(!1)},children:"Batalkan"}),Object(s.jsxs)(r.a,{type:"primary",color:"danger",onClick:i,children:[Object(s.jsx)(o.mb,{size:15,color:"#ffffff"}),"Ya, pisahkan Aset dengan Tiket"]})]})}),loading:l,children:Object(s.jsx)("div",{className:" flex",children:Object(s.jsxs)(j.e,{children:["Apakah Anda yakin ingin memisahkan Aset ",Object(s.jsx)("strong",{children:d.name})," ","dengan Tiket?"]})})})}},"ir/0":function(e,t,n){"use strict";var a=n("CC+v"),c=n.n(a),i=n("nKUr");n("q1tI");t.a=function(e){var t=e.title,n=e.visible,a=e.onOk,s=e.onCancel,l=e.footer,r=e.loading,o=e.children,d=e.width,j=e.closeIcon,u=e.maskClosable;return Object(i.jsx)(c.a,{title:t,visible:n,onOk:a,onCancel:s,footer:l,okButtonProps:{loading:r},width:d,closeIcon:j,maskClosable:u,children:o})}},rg98:function(e,t,n){"use strict";function a(e,t,n,a,c,i,s){try{var l=e[i](s),r=l.value}catch(o){return void n(o)}l.done?t(r):Promise.resolve(r).then(a,c)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(c,i){var s=e.apply(t,n);function l(e){a(s,c,i,l,r,"next",e)}function r(e){a(s,c,i,l,r,"throw",e)}l(void 0)}))}}n.d(t,"a",(function(){return c}))},xvhg:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("8rE2");function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,c=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(r){c=!0,i=r}finally{try{a||null==l.return||l.return()}finally{if(c)throw i}}return n}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},ye1Q:function(e,t,n){"use strict";var a=n("VTBJ"),c=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},s=n("6VBw"),l=function(e,t){return c.createElement(s.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:i}))};l.displayName="LoadingOutlined";t.a=c.forwardRef(l)}},[["clE2",0,2,19,1,3,4,5,6,7,8,9,10,11,12,14,15,16,17,18,20,21,22,23,25,26]]]);