_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[104,33],{"2TUb":function(e,t,a){"use strict";var n=a("TqRt"),c=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("lSNA")),l=n(a("RIqP")),r=n(a("pVnL")),i=n(a("J4zp")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!==typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=s?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=n(a("TSYQ")),u=n(a("lAhR")),j=a("1Sqw"),b=a("r2Zv"),f=n(a("vk+C")),m=n(a("Vy0f")),p=n(a("kGiB")),x=a("vgIT"),h=n(a("BSyu")),O=a("fgW4");function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}var v=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a};function y(e){var t=e.isLeaf,a=e.expanded;return t?o.createElement(f.default,null):a?o.createElement(m.default,null):o.createElement(p.default,null)}function _(e){var t=e.treeData,a=e.children;return t||(0,b.convertTreeToData)(a)}var k=function(e,t){var a=e.defaultExpandAll,n=e.defaultExpandParent,c=e.defaultExpandedKeys,f=v(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),m=o.useRef(),p=o.useRef(),g=o.createRef();o.useImperativeHandle(t,(function(){return g.current}));var k=o.useState(f.selectedKeys||f.defaultSelectedKeys||[]),N=(0,i.default)(k,2),w=N[0],S=N[1],C=o.useState(function(){var e=(0,b.convertDataToEntities)(_(f)).keyEntities;return a?Object.keys(e):n?(0,j.conductExpandParent)(f.expandedKeys||c||[],e):f.expandedKeys||c}()),P=(0,i.default)(C,2),E=P[0],I=P[1];o.useEffect((function(){"selectedKeys"in f&&S(f.selectedKeys)}),[f.selectedKeys]),o.useEffect((function(){"expandedKeys"in f&&I(f.expandedKeys)}),[f.expandedKeys]);var T=(0,u.default)((function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||g.current.onNodeExpand(e,t)}),200,{leading:!0}),L=o.useContext(x.ConfigContext),z=L.getPrefixCls,K=L.direction,B=f.prefixCls,M=f.className,D=v(f,["prefixCls","className"]),A=z("tree",B),F=(0,d.default)("".concat(A,"-directory"),(0,s.default)({},"".concat(A,"-directory-rtl"),"rtl"===K),M);return o.createElement(h.default,(0,r.default)({icon:y,ref:g,blockNode:!0},D,{prefixCls:A,className:F,expandedKeys:E,selectedKeys:w,onSelect:function(e,t){var a,n,c=f.multiple,s=t.node,i=t.nativeEvent,o=s.key,d=void 0===o?"":o,u=_(f),j=(0,r.default)((0,r.default)({},t),{selected:!0}),b=i.ctrlKey||i.metaKey,x=i.shiftKey;c&&b?(n=e,m.current=d,p.current=n,j.selectedNodes=(0,O.convertDirectoryKeysToNodes)(u,n)):c&&x?(n=Array.from(new Set([].concat((0,l.default)(p.current||[]),(0,l.default)((0,O.calcRangeKeys)({treeData:u,expandedKeys:E,startKey:d,endKey:m.current}))))),j.selectedNodes=(0,O.convertDirectoryKeysToNodes)(u,n)):(n=[d],m.current=d,p.current=n,j.selectedNodes=(0,O.convertDirectoryKeysToNodes)(u,n)),null===(a=f.onSelect)||void 0===a||a.call(f,n,j),"selectedKeys"in f||S(n)},onClick:function(e,t){var a;"click"===f.expandAction&&T(e,t),null===(a=f.onClick)||void 0===a||a.call(f,e,t)},onDoubleClick:function(e,t){var a;"doubleClick"===f.expandAction&&T(e,t),null===(a=f.onDoubleClick)||void 0===a||a.call(f,e,t)},onExpand:function(e,t){var a;return"expandedKeys"in f||I(e),null===(a=f.onExpand)||void 0===a?void 0:a.call(f,e,t)}}))},N=o.forwardRef(k);N.displayName="DirectoryTree",N.defaultProps={showIcon:!0,expandAction:"click"};var w=N;t.default=w},"8Skl":function(e,t,a){"use strict";var n=a("VTBJ"),c=a("q1tI"),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},l=a("6VBw"),r=function(e,t){return c.createElement(l.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:s}))};r.displayName="DownOutlined";t.a=c.forwardRef(r)},"9zXI":function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return V}));var n=a("sF4d"),c=a.n(n),s=a("kEgK"),l=a.n(s),r=a("MM9K"),i=a.n(r),o=a("iJl9"),d=a.n(o),u=a("nKUr"),j=a("rR1Q"),b=a.n(j),f=a("o0o1"),m=a.n(f),p=a("HaE+"),x=a("rePB"),h=a("qu0K"),O=a.n(h),g=a("ODXe"),v=a("MX0m"),y=a.n(v),_=a("2Sck"),k=a("20a2"),N=a("q1tI"),w=a("g6Xq"),S=a.n(w),C=a("a3/r"),P=a("T+/+"),E=a("VXtC"),I=a("wd/R"),T=a.n(I),L=a("NEnw"),z=a("tgFa"),K=a("6GDB"),B=a("ye1Q"),M=a("8Skl"),D=a("yncA");function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e){for(var t=0;t<e.length;t++)e[t].children=e[t].sub_children,e[t].image_logo=""===e[t].image_logo||"-"===e[t].image_logo?"/image/Sublokasi.png":e[t].image_logo,delete e[t].sub_children,e[t].children&&R(e[t].children);return e}var V=!0;t.default=function(e){var t,a,n,s,r,o,j=e.initProps,f=e.dataProfile,h=e.sidemenu,v=e.locid,w=Object(k.useRouter)(),I=O.a.useForm(),A=Object(g.a)(I,1)[0],V=w.pathname.split("/").slice(1);V.splice(1,1),V[V.length-1]="Detail Lokasi";var q=Object(N.useState)({id:"",top_parent_id:"",name:"",image_logo:"",phone_number:"",address:"",role:"",singkatan:"",tanggal_pkp:T()(new Date),penanggung_jawab:"",npwp:"",fax:"",email:"",website:"",induk_level_1_count:"",induk_level_2_count:"",induk_level_3_count:"",sub_location_level_1_count:"",sub_location_level_2_count:"",level:"",parent:null,sub_children:[]}),J=q[0],H=q[1],W=Object(N.useState)({id:"",name:"",address:"",phone_number:"",image_logo:"",singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:"",level:0}),G=W[0],Q=W[1],U=Object(N.useState)(!1),X=(U[0],U[1]),Z=Object(N.useState)([]),$=Z[0],Y=Z[1],ee=Object(N.useState)(!1),te=ee[0],ae=ee[1],ne=Object(N.useState)(!1),ce=ne[0],se=ne[1],le=Object(N.useState)(!0),re=le[0],ie=le[1],oe=Object(N.useState)(!1),de=oe[0],ue=oe[1],je=Object(N.useState)(!1),be=je[0],fe=je[1],me=Object(N.useState)(!1),pe=me[0],xe=me[1],he=Object(N.useState)(!1),Oe=he[0],ge=he[1],ve=Object(N.useState)(!1),ye=ve[0],_e=ve[1],ke=Object(N.useState)(-1),Ne=ke[0],we=ke[1],Se=Object(N.useState)({email:!1,website:!1,npwp:!1,fax:!1,tanggal_pkp:!1}),Ce=Se[0],Pe=Se[1],Ee=Object(N.useState)({current_page:"",data:[],first_page_url:"",from:null,last_page:null,last_page_url:"",next_page_url:"",path:"",per_page:null,prev_page_url:null,to:null,total:null}),Ie=Ee[0],Te=Ee[1],Le=Object(N.useState)([]),ze=Le[0],Ke=Le[1],Be=Object(N.useState)(1),Me=Be[0],De=Be[1],Ae=Object(N.useState)(6),Fe=Ae[0],Re=(Ae[1],Object(N.useState)("")),Ve=Re[0],qe=Re[1],Je=Object(N.useState)({sort_by:"",sort_type:""}),He=Je[0],We=Je[1],Ge=Object(N.useState)(!0),Qe=Ge[0],Ue=Ge[1],Xe=Object(N.useState)([]),Ze=Xe[0],$e=Xe[1],Ye=Object(N.useState)([]),et=Ye[0],tt=Ye[1],at=Object(N.useState)("A-Z"),nt=at[0],ct=at[1],st=Object(N.useState)(-1),lt=st[0],rt=st[1],it=Object(N.useState)(!1),ot=it[0],dt=it[1],ut=Object(N.useState)(!0),jt=ut[0],bt=ut[1],ft=Object(N.useState)([]),mt=ft[0],pt=ft[1],xt=Object(N.useState)(!1),ht=xt[0],Ot=xt[1],gt=Object(N.useState)({}),vt=gt[0],yt=gt[1],_t=Object(N.useState)(!1),kt=_t[0],Nt=_t[1],wt=Object(N.useState)(""),St=wt[0],Ct=wt[1],Pt=Object(N.useState)(!0),Et=(Pt[0],Pt[1]),It=Object(N.useState)({id:Number(v),new_parent:null}),Tt=It[0],Lt=It[1],zt=Object(N.useState)(1),Kt=zt[0],Bt=zt[1],Mt=Object(N.useState)(!1),Dt=Mt[0],At=Mt[1],Ft=Object(N.useState)(!1),Rt=Ft[0],Vt=Ft[1],qt=Object(N.useState)(!1),Jt=(qt[0],qt[1],Object(N.useState)(!1)),Ht=Jt[0],Wt=Jt[1],Gt=Object(N.useState)(!1),Qt=(Gt[0],Gt[1],Object(N.useState)(!1)),Ut=Qt[0],Xt=Qt[1],Zt=Object(N.useState)(!1),$t=(Zt[0],Zt[1],Object(N.useState)([])),Yt=$t[0],ea=$t[1],ta=Object(N.useState)(!1),aa=ta[0],na=ta[1],ca=Object(N.useState)(!1),sa=(ca[0],ca[1],[{title:"No",dataIndex:"num",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:Ie.from+a})}}},{title:"MIG ID",dataIndex:"mig_id",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:t.mig_id})}},sorter:function(e,t){return e.mig_id-t.mig_id}},{title:"Tipe Aset",dataIndex:"asset_name",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:t.asset_name})}},sorter:function(e,t){return e.asset_name-t.asset_name}},{title:"Model",dataIndex:"model_name",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:t.model_name})}},sorter:function(e,t){return e.model_name-t.model_name}},{title:"Sublokasi",dataIndex:"full_location",render:function(e,t,a){return{children:Object(u.jsx)(u.Fragment,{children:t.full_location})}}}]),la=function(e){Q(F(F({},G),{},Object(x.a)({},e.target.name,e.target.value))),_e(!1)},ra=function(e){Q(F(F({},G),{},Object(x.a)({},e.target.name,e.target.value))),_e(!1)},ia=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bt(!0),rt(-1===lt||t),dt(!0),!0!==t){e.next=11;break}return e.next=6,Ze.sort((function(e,t){return e.title>t.title?1:-1}));case 6:a=e.sent,$e(a),ct("A-Z"),e.next=12;break;case 11:fetch("https://boiling-thicket-46501.herokuapp.com/getSubCompanyDetail?id=".concat(v),{method:"GET",headers:{Authorization:JSON.parse(j)}}).then((function(e){return e.json()})).then((function(e){if(e.data.sub_children){var t=R(e.data.sub_children).sort((function(e,t){return e.title<t.title?1:-1}));$e(t),ct("Z-A")}else $e([])}));case 12:bt(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oa=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(!0),a=t.target.files,(n=new FormData).append("file",a[0]),n.append("upload_preset","migsys"),e.next=7,fetch("https://api.Cloudinary.com/v1_1/aqlpeduli/image/upload",{method:"POST",body:n});case 7:return c=e.sent,e.next=10,c.json();case 10:s=e.sent,Q(F(F({},G),{},{image_logo:s.secure_url})),fe(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),da=function(){At(!0),fetch("https://boiling-thicket-46501.herokuapp.com/deleteCompany",{method:"DELETE",headers:{Authorization:JSON.parse(j),"Content-Type":"application/json"},body:JSON.stringify(Tt)}).then((function(e){return e.json()})).then((function(e){Xt(!1),Wt(!1),At(!1),e.success?(Vt(!1),b.a.success({message:e.message,duration:3}),setTimeout((function(){null===J.top_parent_id?w.push("/company/myCompany/locations"):window.location.href="/company/myCompany/locations/".concat(J.top_parent_id)}),500)):e.success||(b.a.error({message:e.inventories?"Masih terdapat inventori":e.message,duration:3}),e.inventories&&(ea(e.inventories),na(!0)))}))},ua=[];!function e(t){for(var a=0;a<t.length;a++){var n=t[a],c=n.id,s=n.key,l=n.value,r=n.parent_id,i=n.title,o=n.sub_child_count;ua.push({id:c,key:s,value:l,parent_id:r,title:i,sub_child_count:o}),n.children&&e(n.children)}}(Ze);var ja=function e(t,a){for(var n,c=0;c<a.length;c++){var s=a[c];s.children&&(s.children.some((function(e){return e.key===t}))?n=s.key:e(t,s.children)&&(n=e(t,s.children)))}return n};return Object(N.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getSubCompanyDetail?id=".concat(v),{method:"GET",headers:{Authorization:JSON.parse(j)}}).then((function(e){return e.json()})).then((function(e){H(e.data);var t=R(e.data.sub_children);$e(t);var a=function(e,t){return[{id:e.id,title:e.name,key:e.id,value:e.id,children:t}]}(e.data,t);tt(a),e.data.sub_children.length>0?pt(e.data.sub_children.map((function(e){return e.key}))):pt([]),Q({id:e.data.id,name:e.data.name,address:e.data.address,phone_number:e.data.phone_number,image_logo:"-"===e.data.image_logo||""===e.data.image_logo?1===e.data.level?"/image/Induk.png":"/image/Sublokasi.png":e.data.image_logo,singkatan:e.data.singkatan,tanggal_pkp:null===e.data.tanggal_pkp?null:T()(e.data.tanggal_pkp),penanggung_jawab:e.data.penanggung_jawab,npwp:e.data.npwp,fax:e.data.fax,email:e.data.email,website:e.data.website,level:e.data.level}),Pe({email:"-"!==e.data.email&&""!==e.data.email,website:"-"!==e.data.website&&""!==e.data.website,npwp:"-"!==e.data.npwp&&""!==e.data.npwp,fax:"-"!==e.data.fax&&""!==e.data.fax,tanggal_pkp:"-"!==e.data.tanggal_pkp&&""!==e.data&&null!=e.data.tanggal_pkp}),Bt(e.data.level),X(e.data.is_enabled),ie(!1),bt(!1)}))}),[kt,Ne]),Object(N.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getCompanyInventories?id=".concat(v,"&page=").concat(Me,"&rows=").concat(Fe,"&keyword=").concat(Ve,"&sort_by=").concat(He.sort_by,"&sort_type=").concat(He.sort_type),{method:"GET",headers:{Authorization:JSON.parse(j)}}).then((function(e){return e.json()})).then((function(e){Te(e.data),Ke(e.data.data),Ue(!1)}))}),[]),Object(N.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getLocations",{method:"GET",headers:{Authorization:JSON.parse(j)}}).then((function(e){return e.json()})).then((function(e){Y([e.data])}))}),[]),Object(u.jsx)(_.a,{tok:j,dataProfile:f,sidemenu:h,pathArr:V,st:S.a,children:Object(u.jsxs)("div",{className:"grid grid-cols-12",children:[re?null:Object(u.jsx)("div",{className:"col-span-3 flex flex-col shadow-md rounded bg-white m-4",children:Object(u.jsxs)(i.a,{spinning:de,children:[Object(u.jsxs)(O.a,{form:A,initialValues:G,children:[Object(u.jsxs)("div",{className:"max-h-24 relative",children:[Object(u.jsx)("img",{src:"/image/Rectangle.png",alt:"",className:"object-fit max-h-24 w-full rounded-t"}),Object(u.jsx)("div",{className:"absolute -bottom-1/2 bg-white rounded-full",style:{left:"35%"},children:Object(u.jsx)("img",{src:G.image_logo,alt:"",className:"object-contain w-24 h-24 rounded-full"})})]}),Object(u.jsxs)("div",{className:"mt-14 flex flex-col justify-center text-center",children:[te&&Object(u.jsx)("div",{className:"flex mx-auto mb-5",children:Object(u.jsxs)(C.a,{type:"primaryInput",onChangeGambar:oa,children:[be?Object(u.jsx)(B.a,{style:{marginRight:"0.5rem"}}):Object(u.jsx)(E.U,{size:15,color:"#ffffff"}),"Atur Ulang"]})}),te?Object(u.jsxs)("div",{className:"flex flex-col px-5",children:[Object(u.jsxs)("div",{className:"jsx-2034412771 flex justify-center",children:[Object(u.jsxs)(P.c,{children:["Nama ",1===Kt?"Lokasi":"Sublokasi"]}),Object(u.jsx)("span",{className:"jsx-2034412771 namaField"}),Object(u.jsx)(y.a,{id:"2034412771",children:[".namaField.jsx-2034412771::before{content:'*';color:red;}"]})]}),Object(u.jsx)(O.a.Item,{name:"name",rules:[{required:!0,message:"Nama Perusahaan wajib diisi"}],children:Object(u.jsx)(d.a,{name:"name",onChange:la})})]}):Object(u.jsx)(P.a,{children:null!==(t=G.name)&&void 0!==t?t:"-"}),Object(u.jsx)(P.c,{children:J.parent.name})]}),te?Object(u.jsxs)("div",{className:"flex justify-center items-center mt-5",children:[Object(u.jsx)("div",{className:"mx-1",onClick:function(){ae(!1),we((function(e){return e+1}))},children:Object(u.jsx)(C.a,{type:"default",children:"X Batalkan"})}),Object(u.jsx)("div",{className:"mx-1",onClick:function(){},children:Object(u.jsxs)(C.a,{disabled:ye,type:"primary",submit:!0,onClick:function(){(!0===Ce.email||!1===/(^\d+$)/.test(G.phone_number))&&(!1===/(^\d+$)/.test(G.phone_number)||!1===/(\-)|(^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/.test(G.email))?(!1===new RegExp(/(^\d+$)/).test(G.phone_number)?xe(!0):xe(!1),!1===new RegExp(/(\-)|(^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/).test(G.email)?ge(!0):ge(!1),_e(!0)):(xe(!1),ge(!1),A.submit(),se(!0))},children:[Object(u.jsx)(E.m,{size:15,color:"#ffffff"}),"Simpan"]})})]}):Object(u.jsxs)("div",{className:"mt-5 flex justify-center items-center cursor-pointer",onClick:function(){ae(!0)},children:[Object(u.jsx)("div",{className:"mr-1 mb-1",children:Object(u.jsx)(E.w,{size:20,color:"#35763B"})}),Object(u.jsx)(P.c,{color:"green",children:"Sunting Profil"})]}),Object(u.jsxs)("div",{className:"mt-7 flex flex-col px-5",children:[Object(u.jsxs)("div",{className:"flex flex-col mb-5 px-3",children:[Object(u.jsx)(P.c,{children:"Tipe Lokasi"}),Object(u.jsxs)("p",{className:"mb-0",children:["Level ",J.level]})]}),Object(u.jsxs)("div",{className:"flex flex-col mb-5 px-3",children:[Object(u.jsx)(P.c,{children:"Alamat Perusahaan"}),te?Object(u.jsx)(d.a,{name:"address",onChange:la,defaultValue:null!==(a=G.address)&&void 0!==a?a:"-"}):Object(u.jsx)("p",{className:"mb-0",children:null!==(n=G.address)&&void 0!==n?n:"-"})]}),Object(u.jsxs)("div",{className:"flex flex-col mb-5 px-3",children:[Object(u.jsx)(P.c,{children:"Penanggung Jawab (PIC)"}),te?Object(u.jsx)(d.a,{name:"penanggung_jawab",onChange:la,defaultValue:null!==(s=G.penanggung_jawab)&&void 0!==s?s:"-"}):Object(u.jsx)("p",{className:"mb-0",children:null!==(r=G.penanggung_jawab)&&void 0!==r?r:"-"})]}),Object(u.jsxs)("div",{className:"flex flex-col mb-5 px-3",children:[Object(u.jsx)(P.c,{children:"No.Telp"}),te?Object(u.jsxs)("div",{className:" flex flex-col",children:[Object(u.jsx)(d.a,{name:"phone_number",onChange:la,prefix:Object(u.jsx)(E.P,{size:15,color:"#35763B"}),defaultValue:null!==(o=G.phone_number)&&void 0!==o?o:"-"}),pe&&Object(u.jsx)("p",{className:" text-red-500 text-sm mb-0 mt-1",children:"Nomor Telepon harus angka"})]}):Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"mr-1",children:Object(u.jsx)(E.P,{size:20,color:"#35763B"})}),Object(u.jsx)("a",{href:"tel:".concat(G.phone_number),className:"text-primary100 hover:text-primary75",children:G.phone_number})]})]}),G.level>=2||"-"===G.npwp||""===G.npwp?null:Object(u.jsx)(u.Fragment,{children:!te&&Object(u.jsx)("div",{className:"flex flex-col mb-5 px-3",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(P.c,{children:"NPWP"}),Object(u.jsx)("p",{className:"mb-0",children:""===G.npwp||"-"===G.npwp?"-":G.npwp})]})})}),G.level>=2||"-"===G.tanggal_pkp||""===G.tanggal_pkp||null===G.tanggal_pkp?null:Object(u.jsx)(u.Fragment,{children:!te&&Object(u.jsx)("div",{className:"flex flex-col mb-5 px-3",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(P.c,{children:"Tanggal PKP"}),Object(u.jsx)("p",{className:"mb-0",children:"-"===G.tanggal_pkp||null===G.tanggal_pkp?"-":T()(G.tanggal_pkp).locale("id").format("LL")})]})})}),G.level>=2||"-"===G.email||""===G.email?null:Object(u.jsx)(u.Fragment,{children:!te&&Object(u.jsx)("div",{className:"flex flex-col mb-5 px-3",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(P.c,{children:"Email"}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"mr-1",children:Object(u.jsx)(E.x,{size:20,color:"#35763B"})}),Object(u.jsx)("a",{href:"mailto:".concat(G.email),className:"text-primary100 hover:text-primary75",children:G.email})]})]})})}),G.level>=2||"-"===G.fax||""===G.fax?null:Object(u.jsx)(u.Fragment,{children:!te&&Object(u.jsx)("div",{className:"flex flex-col mb-5 px-3",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(P.c,{children:"Fax"}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"mr-1",children:Object(u.jsx)(E.z,{size:20,color:"#35763B"})}),Object(u.jsx)("a",{href:"".concat(G.fax),className:"text-primary100 hover:text-primary75",children:G.fax})]})]})})}),G.level>=2||"-"===G.website||""===G.website?null:Object(u.jsx)(u.Fragment,{children:!te&&Object(u.jsx)("div",{className:"flex flex-col mb-5 px-3",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(P.c,{children:"Website"}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"mr-1",children:Object(u.jsx)(E.lb,{size:20,color:"#35763B"})}),Object(u.jsx)("a",{href:"".concat(G.website),className:"text-primary100 hover:text-primary75",children:G.website})]})]})})}),G.level>=2?null:te&&Object(u.jsxs)(u.Fragment,{children:[Ce.email&&Object(u.jsx)(D.b,{name:"email",onChangeInput:ra,defaultValue:G.email,label:"Email"}),Ce.email&&Oe&&Object(u.jsx)("p",{className:" text-red-500 text-sm mb-3 -mt-3 mx-3",children:"Email belum diisi dengan benar"}),Ce.website&&Object(u.jsx)(D.b,{name:"website",onChangeInput:ra,defaultValue:G.website,label:"Website"}),Ce.npwp&&Object(u.jsx)(D.b,{name:"npwp",onChangeInput:ra,defaultValue:G.npwp,label:"NPWP"}),Ce.fax&&Object(u.jsx)(D.b,{name:"fax",onChangeInput:ra,defaultValue:G.fax,label:"Fax"}),Ce.tanggal_pkp&&Object(u.jsx)(D.a,{name:"tanggal_pkp",onChangeDate:function(e,t){Q(F(F({},G),{},{tanggal_pkp:t}))},label:"Tanggal PKP",defaultValue:null===G.tanggal_pkp?null:T()(G.tanggal_pkp)})]}),G.level>=2?null:te&&Object(u.jsxs)("div",{className:"mb-5 flex flex-col",children:[Object(u.jsx)("div",{className:"mb-3",children:Object(u.jsx)(P.c,{children:"Informasi Tambahan"})}),!Ce.email&&Object(u.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("div",{className:"mr-2",children:Object(u.jsx)(E.x,{size:18,color:"#808080"})}),"Email"]}),Object(u.jsx)("div",{className:"cursor-pointer",onClick:function(){Pe(F(F({},Ce),{},{email:!0}))},children:Object(u.jsx)(E.cb,{size:18,color:"#808080"})})]}),!Ce.website&&Object(u.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("div",{className:"mr-2",children:Object(u.jsx)(E.lb,{size:18,color:"#808080"})}),"Website"]}),Object(u.jsx)("div",{className:"cursor-pointer",onClick:function(){Pe(F(F({},Ce),{},{website:!0}))},children:Object(u.jsx)(E.cb,{size:18,color:"#808080"})})]}),!Ce.npwp&&Object(u.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("div",{className:"mr-2",children:Object(u.jsx)(E.N,{size:18,color:"#808080"})}),"NPWP"]}),Object(u.jsx)("div",{className:"cursor-pointer",onClick:function(){Pe(F(F({},Ce),{},{npwp:!0}))},children:Object(u.jsx)(E.cb,{size:18,color:"#808080"})})]}),!Ce.fax&&Object(u.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("div",{className:"mr-2",children:Object(u.jsx)(E.z,{size:18,color:"#808080"})}),"Fax"]}),Object(u.jsx)("div",{className:"cursor-pointer",onClick:function(){Pe(F(F({},Ce),{},{fax:!0}))},children:Object(u.jsx)(E.cb,{size:18,color:"#808080"})})]}),!Ce.tanggal_pkp&&Object(u.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("div",{className:"mr-2",children:Object(u.jsx)(E.Q,{size:18,color:"#808080"})}),"Tanggal PKP"]}),Object(u.jsx)("div",{className:"cursor-pointer",onClick:function(){Pe(F(F({},Ce),{},{tanggal_pkp:!0}))},children:Object(u.jsx)(E.cb,{size:18,color:"#808080"})})]})]}),Object(u.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(u.jsx)(P.c,{children:"Total Sub-Location Level 1"}),Object(u.jsx)("p",{className:"mb-0",children:J.sub_location_level_1_count})]}),Object(u.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(u.jsx)(P.c,{children:"Total Sub-Location Level 2"}),Object(u.jsx)("p",{className:"mb-0",children:J.sub_location_level_2_count})]}),te&&Object(u.jsx)("div",{className:"flex justify-center items-center mb-10",children:Object(u.jsxs)(C.a,{type:"primary",color:"danger",onClick:function(){Vt(!0)},children:[Object(u.jsx)("div",{className:"mr-1",children:Object(u.jsx)(E.hb,{size:18,color:"#FFFFFF"})}),"Hapus Lokasi"]})})]})]}),Object(u.jsx)(L.b,{title:"Konfirmasi Edit Perusahaan",visible:ce,level:G.level,onCancel:function(){se(!1)},footer:Object(u.jsxs)("div",{className:"flex justify-between items-center",children:[Object(u.jsx)(C.a,{type:"default",onClick:function(){se(!1)},children:"Batalkan"}),Object(u.jsxs)(C.a,{type:"primary",onClick:function(){ue(!0),fetch("https://boiling-thicket-46501.herokuapp.com/updateCompany",{method:"PUT",headers:{Authorization:JSON.parse(j),"Content-Type":"application/json"},body:JSON.stringify(G)}).then((function(e){return e.json()})).then((function(e){se(!1),ue(!1),e.success?(ae(!1),b.a.success({message:e.message,duration:3}),setTimeout((function(){w.push("/company/myCompany/locations/".concat(v))}),500)):e.success||b.a.error({message:e.message,duration:3})}))},children:[Object(u.jsx)(E.m,{size:15,color:"#ffffff"}),"Simpan"]})]})}),Object(u.jsx)(L.e,{title:Object(u.jsxs)("strong",{children:["Sebelum menghapus ",1===Kt?"lokasi induk":"Sublokasi","..."]}),visible:Rt,onCancel:function(){Vt(!1)},footer:Object(u.jsx)(i.a,{spinning:Dt,children:Object(u.jsxs)("div",{className:"flex justify-between items-center",children:[Object(u.jsx)(C.a,{type:"default",onClick:function(){Lt(F(F({},Tt),{},{new_parent:null})),Vt(!1)},children:"Batalkan"}),Object(u.jsxs)("div",{className:"flex items-center justify-end",children:[Object(u.jsx)("div",{className:"mr-5",children:Object(u.jsxs)(C.a,{type:"primary",onClick:function(){Vt(!1),Wt(!0)},children:[Object(u.jsx)(E.M,{size:15}),"Pindahkan Inventori"]})}),Object(u.jsxs)(C.a,{type:"primary",color:"danger",onClick:function(){1===Kt?da():(Vt(!1),Xt(!0))},children:[Object(u.jsx)(E.hb,{size:15,color:"#ffffff"}),2===G.level?"Hapus Sub Lokasi":"Hapus Lokasi"]})]})]})}),subloc:Ze,rawdata:J}),Object(u.jsx)(L.g,{title:Object(u.jsx)("strong",{children:1===J.level?"Peringatan":"Pemindahan Inventori"}),visible:Ht,footer:Object(u.jsx)(i.a,{spinning:Dt,children:Object(u.jsxs)("div",{className:"flex justify-between items-center",children:[Object(u.jsx)(C.a,{type:"default",onClick:function(){Lt(F(F({},Tt),{},{new_parent:null})),Wt(!1),Vt(!0)},children:"Batalkan"}),Object(u.jsx)("div",{className:"flex items-center",children:Object(u.jsxs)(C.a,{disabled:null===Tt.new_parent,type:"primary",color:"danger",onClick:da,children:[Object(u.jsx)(E.hb,{size:15,color:"#ffffff"}),"Lanjutkan penghapusan"]})})]})}),rawdata:J,rawlocations:$,deletedata:Tt,setdeletedata:Lt,initProps:j}),Object(u.jsx)(L.d,{title:Object(u.jsx)("strong",{children:"Tidak dapat menghapus Lokasi"}),visible:aa,footer:Object(u.jsx)("div",{className:"flex justify-end items-center",children:Object(u.jsxs)(C.a,{type:"primary",onClick:function(){na(!1),Vt(!0)},children:[Object(u.jsx)("div",{className:"mr-2",children:Object(u.jsx)(E.i,{size:15,color:"#ffffff"})}),"Kembali"]})}),invexistdata:Yt}),Object(u.jsx)(L.f,{title:Object(u.jsx)("strong",{children:"Peringatan"}),visible:Ut,footer:Object(u.jsx)(i.a,{spinning:Dt,children:Object(u.jsxs)("div",{className:"flex justify-between items-center",children:[Object(u.jsx)(C.a,{type:"default",onClick:function(){Lt(F(F({},Tt),{},{new_parent:null})),Xt(!1),Vt(!0)},children:"Batalkan"}),Object(u.jsx)("div",{className:"flex items-center",children:Object(u.jsxs)(C.a,{type:"primary",color:"danger",onClick:da,children:[Object(u.jsx)(E.hb,{size:15,color:"#ffffff"}),"Ya, saya yakin dan hapus lokasi"]})})]})}),rawdata:J,deletedata:Tt})]})}),Object(u.jsxs)("div",{className:"col-span-9 flex flex-col",children:[Object(u.jsxs)("div",{className:"flex flex-col shadow-md rounded-md bg-white p-5 m-4",children:[Object(u.jsxs)("div",{className:"flex mb-5",children:[Object(u.jsx)("div",{className:"w-4/12",children:Object(u.jsx)(P.a,{children:"Semua Aset"})}),Object(u.jsx)("div",{className:"w-8/12 flex justify-end",children:Object(u.jsx)("div",{className:"mx-2",children:Object(u.jsx)(d.a,{style:{width:"20rem"},placeholder:"Cari ID, Tipe Aset, Model",onChange:function(e){Ue(!0),fetch("https://boiling-thicket-46501.herokuapp.com/getCompanyInventories?id=".concat(v,"&page=1&rows=").concat(Fe,"&keyword=").concat(e.target.value,"&sort_by=").concat(He.sort_by,"&sort_type=").concat(He.sort_type),{method:"GET",headers:{Authorization:JSON.parse(j)}}).then((function(e){return e.json()})).then((function(t){qe(e.target.value),De(1),Te(t.data),Ke(t.data.data),Ue(!1)}))},allowClear:!0})})})]}),Object(u.jsx)("div",{children:Object(u.jsx)(K.a,{dataSource:ze,setDataSource:Ke,columns:sa,loading:Qe,setloading:Ue,pageSize:Fe,total:Ie.total,setdataraw:Te,initProps:j,setpage:De,pagefromsearch:Me,keyworditems:Ve,locid:v,sorting:He,setsorting:We})})]}),Object(u.jsxs)("div",{className:"grid grid-cols-7",children:[Object(u.jsxs)("div",{className:" col-span-5 flex flex-col shadow-md rounded-md bg-white p-5 mt-4 ml-4 mb-4 mr-2",children:[Object(u.jsx)("div",{className:" mb-3",children:Object(u.jsx)(P.a,{children:"Daftar Sublokasi"})}),Object(u.jsxs)("div",{className:"flex justify-around mb-5",children:[Object(u.jsx)("div",{className:"mx-0",children:Object(u.jsx)(d.a,{placeholder:"Cari Sublokasi",style:{backgroundColor:"transparent"},onChange:function(e){var t=e.target.value,a=ua.map((function(e){return e.title.indexOf(t)>-1?ja(e.key,Ze):null})).filter((function(e,t,a){return e&&a.indexOf(e)===t}));t?(pt(a),Ct(t),Et(!0)):(pt(Ze.map((function(e){return e.key}))),Ct(""),Et(!1))}})}),Object(u.jsx)("div",{className:"mx-0",children:Object(u.jsxs)(C.a,{type:"ghost",selected:!0===ot,onClick:function(){ia(-1===lt||!lt)},children:[Object(u.jsx)(E.bb,{size:12,color:"#35763B"}),"Urutkan: ",nt]})}),Object(u.jsx)("div",{className:"mx-0",children:Object(u.jsx)(C.a,{type:"primary",onClick:function(){Nt(!0)},children:"+ Tambah Sublokasi"})})]}),Object(u.jsx)("div",{className:"mb-5",children:jt?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(i.a,{})}):0===Ze.length?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.a,{image:l.a.PRESENTED_IMAGE_SIMPLE})}):Object(u.jsx)(c.a,{onExpand:function(e){pt(e),Et(!1)},className:"treeMyCompanySublokasi",showIcon:!0,filterTreeNode:function(e){var t=e.title.props.children[0].props?e.title.props.children[0].props.children[2]:e.title.props.children[2];return!!t&&-1!==t.indexOf(St)},autoExpandParent:!0,expandedKeys:mt,treeData:function e(t){return t.map((function(t){var a=t.title.indexOf(St),n=t.title.substr(0,a),c=t.title.substr(a+St.length),s=a>-1?Object(u.jsxs)("div",{id:"wrap".concat(t.key),className:"flex items-start w-full py-2 rounded-md px-2",onMouseOver:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-primary100"),e.classList.remove("text-gray-400"),document.getElementById("wrap".concat(t.key)).classList.add("bg-primary10");var a=document.getElementById("badge".concat(t.key));a.classList.add("bg-primary100"),a.classList.remove("bg-gray-300")},onMouseLeave:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-gray-400"),e.classList.remove("text-primary100"),document.getElementById("wrap".concat(t.key)).classList.remove("bg-primary10");var a=document.getElementById("badge".concat(t.key));a.classList.add("bg-gray-300"),a.classList.remove("bg-primary100")},onClick:function(){Ot(!0),yt(t)},children:[Object(u.jsx)("div",{className:"mr-3 flex items-start",children:Object(u.jsx)(E.K,{id:"icon".concat(t.key),size:15,color:"#808080"})}),Object(u.jsx)("div",{className:"mr-3",children:Object(u.jsxs)(P.d,{id:"text".concat(t.key),children:[n,Object(u.jsx)("span",{className:" text-primary100",children:St}),c]})}),Object(u.jsx)("div",{id:"badge".concat(t.key),className:"w-5 h-5 rounded-full bg-gray-400 text-white text-2xs flex items-center justify-center",children:t.sub_child_count})]}):Object(u.jsxs)("div",{id:"wrap".concat(t.key),className:"flex items-start w-full py-2 rounded-md px-2",onMouseOver:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-primary100"),e.classList.remove("text-gray-400"),document.getElementById("wrap".concat(t.key)).classList.add("bg-primary10");var a=document.getElementById("badge".concat(t.key));a.classList.add("bg-primary100"),a.classList.remove("bg-gray-300")},onMouseLeave:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-gray-400"),e.classList.remove("text-primary100"),document.getElementById("wrap".concat(t.key)).classList.remove("bg-primary10");var a=document.getElementById("badge".concat(t.key));a.classList.add("bg-gray-300"),a.classList.remove("bg-primary100")},onClick:function(){Ot(!0),yt(t)},children:[Object(u.jsx)("div",{className:"mr-3 flex items-start",children:Object(u.jsx)(E.K,{id:"icon".concat(t.key),size:15,color:"#808080"})}),Object(u.jsx)("div",{className:"mr-3",children:Object(u.jsx)(P.d,{id:"text".concat(t.key),children:t.title})}),Object(u.jsx)("div",{id:"badge".concat(t.key),className:"w-5 h-5 rounded-full bg-gray-400 text-white text-2xs flex items-center justify-center",children:t.sub_child_count})]});return t.children?{title:s,key:t.key,children:e(t.children)}:{title:s,key:t.key}}))}(Ze),switcherIcon:Object(u.jsx)(M.a,{}),style:{background:"white"},blockNode:!0})})]}),ht?Object(u.jsxs)("div",{className:" col-span-2 flex flex-col shadow-md rounded-md bg-white p-5 mt-2 ml-2 mb-4 mr-4",children:[Object(u.jsx)("div",{className:" mb-5 flex justify-center",children:Object(u.jsx)("img",{src:vt.image_logo,className:"object-contain w-20 h-20 rounded-full",alt:""})}),Object(u.jsxs)("div",{className:"flex flex-col items-center mb-5",children:[Object(u.jsx)("div",{className:"mb-2 text-center",children:Object(u.jsx)(P.a,{children:vt.title})}),Object(u.jsx)("div",{className:"mb-4",children:Object(u.jsx)(P.c,{children:vt.parent_name})}),Object(u.jsx)("a",{href:"/company/myCompany/locations/".concat(vt.id),target:"_blank",children:Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("div",{className:"mr-2",children:Object(u.jsx)(P.c,{color:"green",cursor:"pointer",children:"Lihat Detail"})}),Object(u.jsx)(E.y,{size:15,color:"#35763B"})]})})]}),Object(u.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(u.jsxs)("div",{className:"mb-2",children:[Object(u.jsx)(P.c,{children:"Tipe Sublokasi"}),Object(u.jsxs)(P.e,{children:["Level ",vt.level]})]}),Object(u.jsxs)("div",{className:"mb-2",children:[Object(u.jsx)(P.c,{children:"Jumlah Aset"}),Object(u.jsx)(P.e,{children:vt.inventories_count})]})]})]}):null,Object(u.jsx)(z.a,{title:"Tambah Sublokasi",visible:kt,onClose:function(){Nt(!1)},buttonOkText:"Simpan Sublokasi",initProps:j,onvisible:Nt,subchildren:et})]})]})]})})}},ABKa:function(e,t,a){"use strict";var n=a("284h"),c=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a("3tO9")),l=n(a("q1tI")),r=c(a("Qs9O")),i=c(a("KQxl")),o=function(e,t){return l.createElement(i.default,(0,s.default)((0,s.default)({},e),{},{ref:t,icon:r.default}))};o.displayName="FolderOutlined";var d=l.forwardRef(o);t.default=d},BSyu:function(e,t,a){"use strict";var n=a("TqRt"),c=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("lSNA")),l=n(a("pVnL")),r=p(a("q1tI")),i=p(a("fAei")),o=n(a("TSYQ")),d=n(a("2TUb")),u=a("vgIT"),j=n(a("StrI")),b=n(a("FvHw")),f=n(a("Enlt"));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=s?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}var x=r.forwardRef((function(e,t){var a,n=r.useContext(u.ConfigContext),c=n.getPrefixCls,d=n.direction,j=n.virtual,m=e.prefixCls,p=e.className,x=e.showIcon,h=e.showLine,O=e.switcherIcon,g=e.blockNode,v=e.children,y=e.checkable,_=e.selectable,k=c("tree",m),N=(0,l.default)((0,l.default)({},e),{showLine:Boolean(h),dropIndicatorRender:f.default});return r.createElement(i.default,(0,l.default)({itemHeight:20,ref:t,virtual:j},N,{prefixCls:k,className:(0,o.default)((a={},(0,s.default)(a,"".concat(k,"-icon-hide"),!x),(0,s.default)(a,"".concat(k,"-block-node"),g),(0,s.default)(a,"".concat(k,"-unselectable"),!_),(0,s.default)(a,"".concat(k,"-rtl"),"rtl"===d),a),p),direction:d,checkable:y?r.createElement("span",{className:"".concat(k,"-checkbox-inner")}):y,selectable:_,switcherIcon:function(e){return(0,b.default)(k,O,h,e)}}),v)}));x.TreeNode=i.TreeNode,x.DirectoryTree=d.default,x.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:(0,l.default)((0,l.default)({},j.default),{motionAppear:!1}),blockNode:!1};var h=x;t.default=h},Enlt:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=e.dropPosition,n=e.dropLevelOffset,l=e.prefixCls,r=e.indent,i=e.direction,o=void 0===i?"ltr":i,d="ltr"===o?"left":"right",u="ltr"===o?"right":"left",j=(t={},(0,c.default)(t,d,-n*r+4),(0,c.default)(t,u,0),t);switch(a){case-1:j.top=-3;break;case 1:j.bottom=-3;break;default:j.bottom=-3,j[d]=r+4}return s.default.createElement("div",{style:j,className:"".concat(l,"-drop-indicator")})},t.offset=void 0;var c=n(a("lSNA")),s=n(a("q1tI"));t.offset=4},M5BK:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/company/myCompany/locations/[locId]",function(){return a("9zXI")}])},Qs9O:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"}},Vy0f:function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=(n=a("iYpf"))&&n.__esModule?n:{default:n};t.default=c,e.exports=c},ZLWo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"}},fgW4:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.calcRangeKeys=function(e){var t=e.treeData,a=e.expandedKeys,n=e.startKey,s=e.endKey,r=[],i=c.None;if(n&&n===s)return[n];if(!n||!s)return[];return l(t,(function(e){if(i===c.End)return!1;if(function(e){return e===n||e===s}(e)){if(r.push(e),i===c.None)i=c.Start;else if(i===c.Start)return i=c.End,!1}else i===c.Start&&r.push(e);return-1!==a.indexOf(e)})),r},t.convertDirectoryKeysToNodes=function(e,t){var a=(0,s.default)(t),n=[];return l(e,(function(e,t){var c=a.indexOf(e);return-1!==c&&(n.push(t),a.splice(c,1)),!!a.length})),n};var c,s=n(a("RIqP"));function l(e,t){e.forEach((function(e){var a=e.key,n=e.children;!1!==t(a,e)&&l(n||[],t)}))}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(c||(c={}))},iYpf:function(e,t,a){"use strict";var n=a("284h"),c=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a("3tO9")),l=n(a("q1tI")),r=c(a("ZLWo")),i=c(a("KQxl")),o=function(e,t){return l.createElement(i.default,(0,s.default)((0,s.default)({},e),{},{ref:t,icon:r.default}))};o.displayName="FolderOpenOutlined";var d=l.forwardRef(o);t.default=d},kGiB:function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=(n=a("ABKa"))&&n.__esModule?n:{default:n};t.default=c,e.exports=c},sF4d:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a("BSyu")).default;t.default=c},tgFa:function(e,t,a){"use strict";var n=a("MM9K"),c=a.n(n),s=a("iJl9"),l=a.n(s),r=a("nKUr"),i=a("rR1Q"),o=a.n(i),d=a("o0o1"),u=a.n(d),j=a("HaE+"),b=a("rePB"),f=a("q1tI"),m=a("8mU3"),p=a("yncA"),x=a("VXtC"),h=a("20a2"),O=a("T+/+"),g=a("a3/r"),v=a("ye1Q");a("wd/R");function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=function(e){var t=e.title,a=e.visible,n=(e.onClose,e.children,e.buttonOkText),s=e.initProps,i=e.onvisible,d=e.subchildren,y=(Object(h.useRouter)(),Object(f.useState)({name:"",address_same:!1,address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""})),k=y[0],N=y[1],w=Object(f.useState)(!0),S=w[0],C=w[1],P=Object(f.useState)(-1),E=P[0],I=P[1],T=Object(f.useState)([]),L=(T[0],T[1]),z=Object(f.useState)(!1),K=z[0],B=z[1],M=Object(f.useState)(!1),D=M[0],A=M[1],F=Object(f.useState)(!1),R=F[0],V=F[1],q=Object(f.useState)(!1),J=q[0],H=q[1],W=Object(f.useState)(!1),G=(W[0],W[1],function(e){N(_(_({},k),{},Object(b.a)({},e.target.name,e.target.value))),I((function(e){return e+1}))}),Q=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),a=t.target.files,(n=new FormData).append("file",a[0]),n.append("upload_preset","migsys"),e.next=7,fetch("https://api.Cloudinary.com/v1_1/aqlpeduli/image/upload",{method:"POST",body:n});case 7:return c=e.sent,e.next=10,c.json();case 10:s=e.sent,N(_(_({},k),{},{image_logo:s.secure_url})),V(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getBranchCompanyList",{method:"GET",headers:{Authorization:JSON.parse(s)}}).then((function(e){return e.json()})).then((function(e){L([e.data])}))}),[D]),Object(f.useEffect)((function(){-1!==E&&(null===k.parent_id||""===k.name||!1===k.address_same&&""===k.address||""===k.phone_number||""===k.penanggung_jawab?C(!0):C(!1))}),[E]),Object(r.jsx)(m.a,{title:t,visible:a,onClose:function(){N({name:"",address_same:!1,address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),B(!1),C(!0),i(!1)},buttonOkText:n,onClick:function(){!1===/(^\d+$)/.test(k.phone_number)?(!1===new RegExp(/(^\d+$)/).test(k.phone_number)?H(!0):H(!1),C(!0)):(A(!0),fetch("https://boiling-thicket-46501.herokuapp.com/addCompanySub",{method:"POST",headers:{Authorization:JSON.parse(s),"Content-Type":"application/json"},body:JSON.stringify(k)}).then((function(e){return e.json()})).then((function(e){A(!1),e.success?(N({name:"",address_same:!1,address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),B(!1),C(!0),i(!1),o.a.success({message:e.message,duration:3})):o.a.error({message:e.message,duration:3})})))},disabled:S,children:Object(r.jsx)(c.a,{spinning:D,children:Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsx)("div",{className:"mb-8",children:Object(r.jsx)("p",{className:"mb-0 text-red-500 text-xs italic",children:"*Informasi ini harus diisi"})}),Object(r.jsxs)("div",{className:"mb-5 flex",children:[Object(r.jsx)("div",{className:"mr-2",children:""===k.image_logo?Object(r.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-400 flex justify-center items-center",children:Object(r.jsx)(x.l,{size:20,color:"#ffffff"})}):Object(r.jsx)("img",{src:k.image_logo,className:"object-contain w-20 h-20 rounded-full",alt:""})}),Object(r.jsxs)("div",{className:"flex flex-col w-9/12 px-3",children:[Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(O.e,{children:"Unggah gambar JPG/PNG dari komputer Anda (Max. 5 MB)"})}),Object(r.jsx)("div",{className:"flex justify-end items-end",children:Object(r.jsxs)(g.a,{type:"primaryInput",onChangeGambar:Q,children:[R?Object(r.jsx)(v.a,{style:{marginRight:"0.5rem"}}):Object(r.jsx)(x.U,{size:15,color:"#ffffff"}),"Atur Ulang"]})})]})]}),Object(r.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(r.jsx)(p.h,{name:"parent_id",onChangeTreeselect:function(e,t,a){N(_(_({},k),{},{parent_id:e})),I((function(e){return e+1}))},label:"Induk Lokasi",treeData:d}),Object(r.jsx)(p.c,{name:"name",onChangeInput:G,label:"Nama Sub Lokasi"}),Object(r.jsx)(p.e,{name:"address",label:"Alamat Sub Lokasi",onChangeRadio:function(e){!0===e.target.value?B(!0):B(!1),N(_(_({},k),{},{address_same:e.target.value})),I((function(e){return e+1}))},options:[{value:!0,title:"Sama dengan Induk"},{value:!1,title:"Alamat Berbeda"}]}),Object(r.jsx)("div",{className:"mb-5 px-3",children:Object(r.jsx)(l.a,{name:"address",onChange:G,disabled:!!K})}),Object(r.jsx)(p.c,{name:"phone_number",onChangeInput:G,label:"Nomor Telepon"}),J&&Object(r.jsx)("p",{className:" text-red-500 text-sm mb-3 -mt-3 mx-3",children:"Nomor Telepon harus angka"}),Object(r.jsx)(p.c,{name:"penanggung_jawab",onChangeInput:G,label:"Penanggung Jawab (PIC)"})]})]})})})}},ye1Q:function(e,t,a){"use strict";var n=a("VTBJ"),c=a("q1tI"),s={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},l=a("6VBw"),r=function(e,t){return c.createElement(l.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:s}))};r.displayName="LoadingOutlined";t.a=c.forwardRef(r)}},[["M5BK",0,2,18,1,3,4,5,6,7,8,9,10,11,13,14,17,16,15,19,20,21,23,24,25,28]]]);