_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[102],{"1W/9":function(e,t,n){"use strict";var a=n("1OyB"),c=n("vuIU"),r=n("Ji7U"),i=n("LK+K"),s=n("U8pU"),o=n("q1tI"),l=n("wgJM"),d=n("QC+M"),u=n("MNnm"),m=n("qx4F");var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,a=void 0===n?document.body:n,c={},r=Object.keys(e);return r.forEach((function(e){c[e]=a.style[e]})),r.forEach((function(t){a.style[t]=e[t]})),c};var f={},p=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),a=document.body.className;if(e){if(!n.test(a))return;return b(f),f={},void(document.body.className=a.replace(n,"").trim())}var c=Object(m.a)();if(c&&(f=b({position:"relative",width:"calc(100% - ".concat(c,"px)")}),!n.test(a))){var r="".concat(a," ").concat(t);document.body.className=r.trim()}}},j=n("KQm4"),h=[],g="ant-scrolling-effect",O=new RegExp("".concat(g),"g"),x=0,v=new Map,y=Object(c.a)((function e(t){var n=this;Object(a.a)(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=h.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!h.some((function(e){return e.target===n.lockTarget})))if(h.some((function(e){var t,a=e.options;return(null===a||void 0===a?void 0:a.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))h=[].concat(Object(j.a)(h),[{target:n.lockTarget,options:n.options}]);else{var t=0,a=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(a===document.body&&window.innerWidth-document.documentElement.clientWidth>0||a.scrollHeight>a.clientHeight)&&(t=Object(m.a)());var c=a.className;if(0===h.filter((function(e){var t,a=e.options;return(null===a||void 0===a?void 0:a.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&v.set(a,b({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:a})),!O.test(c)){var r="".concat(c," ").concat(g);a.className=r.trim()}h=[].concat(Object(j.a)(h),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=h.find((function(e){return e.target===n.lockTarget}));if(h=h.filter((function(e){return e.target!==n.lockTarget})),t&&!h.some((function(e){var n,a=e.options;return(null===a||void 0===a?void 0:a.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var a=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,c=a.className;O.test(c)&&(b(v.get(a),{element:a}),v.delete(a),a.className=a.className.replace(O,"").trim())}},this.lockTarget=x++,this.options=t})),k=0,w=Object(u.a)();var N={},_=function(e){if(!w)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===Object(s.a)(e)&&e instanceof window.HTMLElement)return e}return document.body},C=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).container=void 0,c.componentRef=o.createRef(),c.rafId=void 0,c.scrollLocker=void 0,c.renderComponent=void 0,c.updateScrollLocker=function(e){var t=(e||{}).visible,n=c.props,a=n.getContainer,r=n.visible;r&&r!==t&&w&&_(a)!==c.scrollLocker.getContainer()&&c.scrollLocker.reLock({container:_(a)})},c.updateOpenCount=function(e){var t=e||{},n=t.visible,a=t.getContainer,r=c.props,i=r.visible,s=r.getContainer;i!==n&&w&&_(s)===document.body&&(i&&!n?k+=1:e&&(k-=1)),("function"===typeof s&&"function"===typeof a?s.toString()!==a.toString():s!==a)&&c.removeCurrentContainer()},c.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||c.container&&!c.container.parentNode){var t=_(c.props.getContainer);return!!t&&(t.appendChild(c.container),!0)}return!0},c.getContainer=function(){return w?(c.container||(c.container=document.createElement("div"),c.attachToParent(!0)),c.setWrapperClassName(),c.container):null},c.setWrapperClassName=function(){var e=c.props.wrapperClassName;c.container&&e&&e!==c.container.className&&(c.container.className=e)},c.removeCurrentContainer=function(){var e,t;null===(e=c.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(c.container)},c.switchScrollingEffect=function(){1!==k||Object.keys(N).length?k||(b(N),N={},p(!0)):(p(),N=b({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},c.scrollLocker=new y({container:_(e.getContainer)}),c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Object(l.a)((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;w&&_(n)===document.body&&(k=t&&k?k-1:k),this.removeCurrentContainer(),l.a.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,a=e.visible,c=null,r={getOpenCount:function(){return k},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||a||this.componentRef.current)&&(c=o.createElement(d.a,{getContainer:this.getContainer,ref:this.componentRef},t(r))),c}}]),n}(o.Component);t.a=C},"4dyW":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/company/myCompany/locations",function(){return n("9x4Y")}])},"8Skl":function(e,t,n){"use strict";var a=n("VTBJ"),c=n("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},i=n("6VBw"),s=function(e,t){return c.createElement(i.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:r}))};s.displayName="DownOutlined";t.a=c.forwardRef(s)},"9x4Y":function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return R}));var a=n("CgBw"),c=n.n(a),r=n("sF4d"),i=n.n(r),s=n("kEgK"),o=n.n(s),l=n("nKUr"),d=n("MM9K"),u=n.n(d),m=n("iJl9"),b=n.n(m),f=n("cpVT"),p=n("vJKn"),j=n.n(p),h=n("rg98"),g=n("8Skl"),O=n("wd/R"),x=n.n(O),v=n("20a2"),y=n("q1tI"),k=n("ymym"),w=n("ZXdF"),N=n("rR1Q"),_=n.n(N),C=n("ye1Q"),E=n("ckOl"),P=n("44PY"),S=n("8TZf"),L=n("cFzE");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t=e.title,n=e.visible,a=(e.onClose,e.children,e.buttonOkText),c=e.initProps,r=e.onvisible,i=Object(v.useRouter)(),s=Object(y.useState)({name:"",address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),o=s[0],d=s[1],m=Object(y.useState)([]),b=m[0],p=m[1],g=Object(y.useState)(!1),O=g[0],k=g[1],N=Object(y.useState)(!1),I=N[0],D=N[1],B=Object(y.useState)(!1),z=B[0],A=B[1],M=Object(y.useState)(!1),K=M[0],F=M[1],R=Object(y.useState)({email:!1,website:!1,npwp:!1,fax:!1,tanggal_pkp:!1}),J=R[0],W=R[1],U=Object(y.useState)(!0),q=U[0],G=U[1],Z=Object(y.useState)(-1),V=Z[0],Q=Z[1],Y=function(e){d(T(T({},o),{},Object(f.a)({},e.target.name,e.target.value))),Q((function(e){return e+1}))},H=function(e){d(T(T({},o),{},Object(f.a)({},e.target.name,e.target.value)))},X=function(){var e=Object(h.a)(j.a.mark((function e(t){var n,a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),n=t.target.files,(a=new FormData).append("file",n[0]),a.append("upload_preset","migsys"),e.next=7,fetch("https://api.Cloudinary.com/v1_1/aqlpeduli/image/upload",{method:"POST",body:a});case 7:return c=e.sent,e.next=10,c.json();case 10:r=e.sent,d(T(T({},o),{},{image_logo:r.secure_url})),D(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/getBranchCompanyList"),{method:"GET",headers:{Authorization:JSON.parse(c)}}).then((function(e){return e.json()})).then((function(e){p([e.data])}))}),[O]),Object(y.useEffect)((function(){-1!==V&&(null!==o.parent_id&&""!==o.name&&""!==o.address&&""!==o.phone_number&&""!==o.penanggung_jawab?G(!1):G(!0))}),[V]),Object(l.jsx)(L.a,{title:t,visible:n,onClose:function(){d({name:"",address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),W({email:!1,website:!1,npwp:!1,fax:!1,tanggal_pkp:!1}),A(!1),F(!1),G(!0),r(!1)},buttonOkText:a,onClick:function(){!1===/(^\d+$)/.test(o.phone_number)||!1===/(\-)|(^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/.test(o.email)?""===o.email?(k(!0),fetch("".concat("https://service-staging.mig.id","/addCompanyBranch"),{method:"POST",headers:{Authorization:JSON.parse(c),"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){k(!1),r(!1),e.success?(_.a.success({message:e.message,duration:3}),d({name:"",address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),W({email:!1,website:!1,npwp:!1,fax:!1,tanggal_pkp:!1}),A(!1),F(!1),G(!0),i.push("/company/myCompany/locations")):_.a.error({message:e.message,duration:3})}))):(!1===new RegExp(/(^\d+$)/).test(o.phone_number)?A(!0):A(!1),!1===new RegExp(/(\-)|(^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/).test(o.email)?""===o.email?F(!1):F(!0):F(!1),G(!0)):(k(!0),fetch("".concat("https://service-staging.mig.id","/addCompanyBranch"),{method:"POST",headers:{Authorization:JSON.parse(c),"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){k(!1),r(!1),e.success?(_.a.success({message:e.message,duration:3}),d({name:"",address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),W({email:!1,website:!1,npwp:!1,fax:!1,tanggal_pkp:!1}),A(!1),F(!1),G(!0),i.push("/company/myCompany/locations")):_.a.error({message:e.message,duration:3})})))},disabled:q,children:Object(l.jsx)(u.a,{spinning:O,children:Object(l.jsxs)("div",{className:"flex flex-col",children:[Object(l.jsx)("div",{className:"mb-8",children:Object(l.jsx)("p",{className:"mb-0 text-red-500 text-xs italic",children:"*Informasi ini harus diisi"})}),Object(l.jsxs)("div",{className:"mb-5 flex",children:[Object(l.jsx)("div",{className:"mr-2",children:""===o.image_logo?Object(l.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-400 flex justify-center items-center",children:Object(l.jsx)(E.l,{size:20,color:"#ffffff"})}):Object(l.jsx)("img",{src:o.image_logo,className:"object-contain w-20 h-20 rounded-full",alt:""})}),Object(l.jsxs)("div",{className:"flex flex-col w-9/12 px-3",children:[Object(l.jsx)("div",{className:"mb-5",children:Object(l.jsx)(S.e,{children:"Unggah gambar JPG/PNG dari komputer Anda (Max. 5 MB)"})}),Object(l.jsx)("div",{className:"flex justify-end items-end",children:Object(l.jsxs)(w.a,{type:"primaryInput",onChangeGambar:X,children:[I?Object(l.jsx)(C.a,{style:{marginRight:"0.5rem"}}):Object(l.jsx)(E.U,{size:15,color:"#ffffff"}),"Atur Ulang"]})})]})]}),Object(l.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(l.jsx)(P.h,{name:"parent_id",onChangeTreeselect:function(e,t,n){d(T(T({},o),{},{parent_id:e}))},label:"Induk Lokasi",treeData:b}),Object(l.jsx)(P.c,{name:"name",onChangeInput:Y,label:"Nama Lokasi"}),Object(l.jsx)(P.c,{name:"address",onChangeInput:Y,label:"Alamat Lokasi"}),Object(l.jsx)(P.c,{name:"phone_number",onChangeInput:Y,label:"Nomor Telepon"}),z&&Object(l.jsx)("p",{className:" text-red-500 text-sm mb-3 -mt-3 mx-3",children:"Nomor Telepon harus angka"}),Object(l.jsx)(P.c,{name:"penanggung_jawab",onChangeInput:Y,label:"Penanggung Jawab (PIC)"}),J.email&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(P.b,{name:"email",onChangeInput:function(e){d(T(T({},o),{},{email:e.target.value})),Q((function(e){return e+1}))},label:"Email"}),K&&Object(l.jsx)("p",{className:" text-red-500 text-sm mb-3 -mt-3 mx-3",children:"Email belum diisi dengan benar"})]}),J.website&&Object(l.jsx)(P.b,{name:"website",onChangeInput:H,label:"Website"}),J.npwp&&Object(l.jsx)(P.b,{name:"npwp",onChangeInput:H,label:"NPWP"}),J.fax&&Object(l.jsx)(P.b,{name:"fax",onChangeInput:H,label:"Fax"}),J.tanggal_pkp&&Object(l.jsx)(P.a,{name:"tanggal_pkp",onChangeDate:function(e,t){d(T(T({},o),{},{tanggal_pkp:t}))},label:"Tanggal PKP",defaultValue:null===o.tanggal_pkp?null:x()(o.tanggal_pkp)})]}),Object(l.jsxs)("div",{className:"mb-5 flex flex-col",children:[Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)(S.c,{children:"Informasi Tambahan"})}),!J.email&&Object(l.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(E.x,{size:18,color:"#808080"})}),"Email"]}),Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){W(T(T({},J),{},{email:!0}))},children:Object(l.jsx)(E.cb,{size:18,color:"#808080"})})]}),!J.website&&Object(l.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(E.lb,{size:18,color:"#808080"})}),"Website"]}),Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){W(T(T({},J),{},{website:!0}))},children:Object(l.jsx)(E.cb,{size:18,color:"#808080"})})]}),!J.npwp&&Object(l.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(E.N,{size:18,color:"#808080"})}),"NPWP"]}),Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){W(T(T({},J),{},{npwp:!0}))},children:Object(l.jsx)(E.cb,{size:18,color:"#808080"})})]}),!J.fax&&Object(l.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(E.z,{size:18,color:"#808080"})}),"Fax"]}),Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){W(T(T({},J),{},{fax:!0}))},children:Object(l.jsx)(E.cb,{size:18,color:"#808080"})})]}),!J.tanggal_pkp&&Object(l.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(E.Q,{size:18,color:"#808080"})}),"Tanggal PKP"]}),Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){W(T(T({},J),{},{tanggal_pkp:!0}))},children:Object(l.jsx)(E.cb,{size:18,color:"#808080"})})]})]})]})})})},B=n("qe3g"),z=n.n(B),A=n("D1C7"),M=n("m0r1");function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}M.f.register(M.a,M.p);var R=!0;t.default=function(e){var t=e.initProps,n=e.dataProfile,a=e.sidemenu,r=Object(v.useRouter)(),s=r.pathname.split("/").slice(1);s.splice(1,1);var d=r.query,m=d.active;d.id;var f=Object(y.useState)([]),p=(f[0],f[1],Object(y.useState)({id:"",name:"",address:"",phone_number:"",image_logo:"",singkatan:"",tanggal_pkp:x()(new Date),penanggung_jawab:"",npwp:"",fax:"",email:"",website:"",role:"",induk_level_1_count:"",induk_level_2_count:"",induk_level_3_count:""})),O=(p[0],p[1],Object(y.useState)({id:"",name:"",address:"",phone_number:"",image_logo:"",singkatan:"",tanggal_pkp:x()(new Date),penanggung_jawab:"",npwp:"",fax:"",email:"",website:""})),N=(O[0],O[1],Object(y.useState)(!0)),_=N[0],C=N[1],P=Object(y.useState)(!1),L=(P[0],P[1],Object(y.useState)([])),I=L[0],T=L[1],B=Object(y.useState)([]),M=(B[0],B[1]),K=Object(y.useState)([]),R=K[0],J=K[1],W=Object(y.useState)("A-Z"),U=W[0],q=W[1],G=Object(y.useState)(!1),Z=G[0],V=G[1],Q=Object(y.useState)(!1),Y=Q[0],H=Q[1],X=Object(y.useState)(!1),$=X[0],ee=X[1],te=Object(y.useState)(null),ne=te[0],ae=te[1],ce=Object(y.useState)(!1),re=ce[0],ie=ce[1],se=Object(y.useState)({id:2,name:"",image_logo:"",phone_number:"",address:"",role:3,is_enabled:!0,singkatan:"",tanggal_pkp:"",penanggung_jawab:"",npwp:"-",fax:"-",email:"",website:"-",parent:{name:""}}),oe=se[0],le=se[1],de=Object(y.useState)(!1),ue=de[0],me=de[1],be=Object(y.useState)(""),fe=be[0],pe=be[1],je=Object(y.useState)(!0),he=je[0],ge=je[1],Oe=function(){var e=Object(h.a)(j.a.mark((function e(a){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),V(-1===Z||a),H(!0),!0!==a){e.next=11;break}return e.next=6,I.sort((function(e,t){return e.title>t.title?1:-1}));case 6:c=e.sent,T(c),q("A-Z"),e.next=12;break;case 11:fetch("".concat("https://service-staging.mig.id","/").concat(2!==n.data.company.role?"getMainLocations":"getLocations?company_id=".concat(n.data.company.company_id)),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){if(e.data.children){var t=e.data.children.sort((function(e,t){return e.title<t.title?1:-1}));T(t),q("Z-A")}else T([])}));case 12:C(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=[];!function e(t){for(var n=0;n<t.length;n++){var a=t[n],c=a.id,r=a.key,i=a.value,s=a.parent_id,o=a.title,l=a.children_count;xe.push({id:c,key:r,value:i,parent_id:s,title:o,children_count:l}),a.children&&e(a.children)}}(I);var ve=function e(t,n){for(var a,c=0;c<n.length;c++){var r=n[c];r.children&&(r.children.some((function(e){return e.key===t}))?a=r.key:e(t,r.children)&&(a=e(t,r.children)))}return a};return Object(y.useEffect)((function(){fetch("".concat("https://service-staging.mig.id","/").concat(2!==n.data.company.role?"getMainLocations":"getLocations?company_id=".concat(n.data.company.company_id)),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){e.data.children?(T(e.data.children),M(e.data.children)):(T([]),M([]));var t=e.data.children.map((function(e){return e.key}));e.data.children?J(t):J([]),C(!1),ie(!1)}))}),[ue]),Object(y.useEffect)((function(){!0===$&&fetch("".concat("https://service-staging.mig.id","/getSubCompanyProfile?id=").concat(ne),{method:"GET",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){le(F(F({},e.data),{},{image_logo:"-"===e.data.image_logo||""===e.data.image_logo?"/image/Induk.png":e.data.image_logo})),ie(!1)}))}),[ne]),Object(l.jsxs)(A.a,{tok:t,dataProfile:n,sidemenu:a,pathArr:s,st:z.a,children:[Object(l.jsxs)("div",{className:"grid grid-cols-12",children:[Object(l.jsxs)("div",{className:"col-span-6 flex flex-col m-3",children:[Object(l.jsxs)("div",{className:"flex justify-around mb-5",children:[Object(l.jsx)("div",{className:"mx-0",children:Object(l.jsx)(b.a,{placeholder:"Cari Lokasi",style:{backgroundColor:"transparent"},onChange:function(e){var t=e.target.value,n=xe.map((function(e){return e.title.indexOf(t)>-1?ve(e.key,I):null})).filter((function(e,t,n){return e&&n.indexOf(e)===t}));t?(J(n),pe(t),ge(!0)):(J(I.map((function(e){return e.key}))),pe(""),ge(!1))}})}),Object(l.jsx)("div",{className:"mx-0",children:Object(l.jsxs)(w.a,{type:"ghost",selected:!0===Y,onClick:function(){Oe(-1===Z||!Z)},children:[Object(l.jsx)(E.bb,{size:12,color:"#35763B"}),"Urutkan: ",U]})}),Object(l.jsx)("div",{className:"mx-0",children:Object(l.jsx)(w.a,{type:"primary",onClick:function(){me(!0)},children:"+ Tambah Lokasi"})})]}),Object(l.jsx)("div",{className:"flex flex-col max-h-screen overflow-auto",children:_?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(u.a,{})}):0===I.length?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(o.a,{image:o.a.PRESENTED_IMAGE_SIMPLE})}):Object(l.jsx)(i.a,{className:"treeMyCompanyMain",showIcon:!0,onExpand:function(e){J(e),ge(!1)},filterTreeNode:function(e){var t=e.title.props.children[0].props?e.title.props.children[0].props.children[2]:e.title.props.children[2];return!!t&&-1!==t.indexOf(fe)},autoExpandParent:he,expandedKeys:R,treeData:function e(t){return t.map((function(t){var n=t.title.indexOf(fe),a=t.title.substr(0,n),c=t.title.substr(n+fe.length),r=n>-1?Object(l.jsxs)("div",{id:"wrap".concat(t.key),className:"flex items-start w-full py-3 rounded-md px-2",onMouseOver:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-primary100"),e.classList.remove("text-gray-400"),document.getElementById("wrap".concat(t.key)).classList.add("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-primary100"),n.classList.remove("bg-gray-300")},onMouseLeave:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-gray-400"),e.classList.remove("text-primary100"),document.getElementById("wrap".concat(t.key)).classList.remove("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-gray-300"),n.classList.remove("bg-primary100")},onClick:function(){ae(t.id),ee(!0),ie(!0)},children:[Object(l.jsx)("div",{className:"mr-3 flex items-start",children:Object(l.jsx)(E.K,{id:"icon".concat(t.key),size:15,color:"#808080"})}),Object(l.jsx)("div",{className:"mr-3",children:Object(l.jsxs)(S.c,{id:"text".concat(t.key),children:[a,Object(l.jsx)("span",{className:" text-primary100",children:fe}),c]})}),Object(l.jsx)("div",{id:"badge".concat(t.key),className:"w-5 h-5 rounded-full bg-gray-400 text-white text-2xs flex items-center justify-center",children:t.children_count})]}):Object(l.jsxs)("div",{id:"wrap".concat(t.key),className:"flex items-start w-full py-3 rounded-md px-2",onMouseOver:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-primary100"),e.classList.remove("text-gray-400"),document.getElementById("wrap".concat(t.key)).classList.add("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-primary100"),n.classList.remove("bg-gray-300")},onMouseLeave:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-gray-400"),e.classList.remove("text-primary100"),document.getElementById("wrap".concat(t.key)).classList.remove("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-gray-300"),n.classList.remove("bg-primary100")},onClick:function(){ae(t.id),ee(!0),ie(!0)},children:[Object(l.jsx)("div",{className:"mr-3 flex items-start",children:Object(l.jsx)(E.K,{id:"icon".concat(t.key),size:15,color:"#808080"})}),Object(l.jsx)("div",{className:"mr-3",children:Object(l.jsx)(S.c,{id:"text".concat(t.key),children:t.title})}),Object(l.jsx)("div",{id:"badge".concat(t.key),className:"w-5 h-5 rounded-full bg-gray-400 text-white text-2xs flex items-center justify-center",children:t.children_count})]});return t.children?{title:r,key:t.key,children:e(t.children)}:{title:r,key:t.key}}))}(I),switcherIcon:Object(l.jsx)(g.a,{}),style:{backgroundColor:"transparent"},blockNode:!0})})]}),Object(l.jsx)("div",{className:"col-span-6 m-3 flex flex-col",children:$?re?Object(l.jsx)("div",{className:"flex items-center justify-center",children:Object(l.jsx)(u.a,{})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"flex shadow-md rounded-md bg-white p-5 mb-5 mx-2",children:[Object(l.jsx)("div",{className:"mr-5",children:Object(l.jsx)("img",{src:oe.image_logo,className:"object-contain w-24 h-24 rounded-full",alt:""})}),Object(l.jsxs)("div",{className:"flex flex-col w-9/12",children:[Object(l.jsxs)("div",{className:"flex justify-between items-center",children:[Object(l.jsx)(S.a,{children:oe.name}),Object(l.jsx)("a",{href:"/company/myCompany/locations/".concat(oe.id),target:"_blank",children:Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(S.c,{color:"green",cursor:"pointer",children:"Lihat Detail"})}),Object(l.jsx)(E.y,{size:15,color:"#35763B"})]})})]}),Object(l.jsx)("div",{className:"flex",children:Object(l.jsx)(S.c,{children:oe.singkatan})}),Object(l.jsxs)("div",{className:"h-full flex items-end text-primary100",children:[Object(l.jsx)("div",{className:"mr-1",children:Object(l.jsx)(E.P,{size:20,color:"#35763B"})}),oe.phone_number]})]})]}),Object(l.jsxs)("div",{className:"flex flex-col shadow-md rounded-md bg-white p-5 mb-5 mx-2",children:[Object(l.jsx)("div",{className:"flex items-center mb-3",children:Object(l.jsx)(S.a,{children:"Kondisi Aset"})}),Object(l.jsxs)("div",{className:"flex items-center justify-between",children:[Object(l.jsxs)("div",{className:"w-6/12 flex-col flex items-center",children:[0===oe.asset_cluster.length?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(o.a,{image:o.a.PRESENTED_IMAGE_SIMPLE})}):Object(l.jsx)("div",{className:"w-32 h-32",id:"chart",children:Object(l.jsx)(k.d,{data:{labels:oe.asset_cluster.map((function(e){return e.name})),datasets:[{data:oe.asset_cluster.map((function(e){return e.asset_count})),backgroundColor:["#EE6DD9","#6AAA70","#ED962F","#BF4A40","#2F80ED","#E5C471"],borderColor:["#EE6DD9","#6AAA70","#ED962F","#BF4A40","#2F80ED","#E5C471"],borderWidth:1}]},options:{title:{display:!1},legend:{display:!1}}})}),Object(l.jsxs)("div",{className:"flex flex-col items-center",children:[Object(l.jsx)(S.b,{children:oe.inventory_count}),Object(l.jsx)(S.c,{children:"Total Aset"})]})]}),Object(l.jsxs)("div",{className:"w-6/12 flex-col flex items-center",children:[Object(l.jsx)(c.a,{type:"dashboard",percent:oe.good_inventory_percentage,strokeColor:{from:"#65976a",to:"#35763B"}}),Object(l.jsxs)("div",{className:"flex flex-col items-center",children:[Object(l.jsxs)(S.b,{children:[oe.good_inventory_count,"/",oe.inventory_count]}),Object(l.jsx)(S.c,{children:"Aset dalam kondisi baik"})]})]})]})]}),Object(l.jsx)("div",{className:"flex flex-col shadow-md rounded-md bg-white p-5 mb-5 mx-2",children:Object(l.jsx)("div",{className:"flex items-center mb-3",children:Object(l.jsx)(S.a,{children:"Keuangan"})})})]}):Object(l.jsx)("div",{className:"flex h-screen items-center justify-center",children:Object(l.jsx)(o.a,{image:o.a.PRESENTED_IMAGE_SIMPLE,description:"Silahkan pilih untuk lihat detail lokasi"})})})]}),Object(l.jsx)(D,{title:"Tambah Lokasi",visible:ue,onClose:function(){me(!1)},buttonOkText:"Simpan Lokasi",initProps:t,onvisible:me})]})}},cpVT:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},rg98:function(e,t,n){"use strict";function a(e,t,n,a,c,r,i){try{var s=e[r](i),o=s.value}catch(l){return void n(l)}s.done?t(o):Promise.resolve(o).then(a,c)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(c,r){var i=e.apply(t,n);function s(e){a(i,c,r,s,o,"next",e)}function o(e){a(i,c,r,s,o,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return c}))},x1Ya:function(e,t,n){"use strict";n.r(t);var a=n("wx14"),c=n("rePB"),r=n("Ff2n"),i=n("VTBJ"),s=n("1OyB"),o=n("vuIU"),l=n("Ji7U"),d=n("LK+K"),u=n("q1tI"),m=n.n(u),b=n("TSYQ"),f=n.n(b),p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(s.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,c=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),c&&c({target:Object(i.a)(Object(i.a)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var c="checked"in e?e.checked:e.defaultChecked;return a.state={checked:c},a}return Object(o.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,s=t.style,o=t.name,l=t.id,d=t.type,u=t.disabled,b=t.readOnly,p=t.tabIndex,j=t.onClick,h=t.onFocus,g=t.onBlur,O=t.onKeyDown,x=t.onKeyPress,v=t.onKeyUp,y=t.autoFocus,k=t.value,w=t.required,N=Object(r.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),_=Object.keys(N).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=N[t]),e}),{}),C=this.state.checked,E=f()(n,i,(e={},Object(c.a)(e,"".concat(n,"-checked"),C),Object(c.a)(e,"".concat(n,"-disabled"),u),e));return m.a.createElement("span",{className:E,style:s},m.a.createElement("input",Object(a.a)({name:o,id:l,type:d,required:w,readOnly:b,disabled:u,tabIndex:p,className:"".concat(n,"-input"),checked:!!C,onClick:j,onFocus:h,onBlur:g,onKeyUp:v,onKeyDown:O,onKeyPress:x,onChange:this.handleChange,autoFocus:y,ref:this.saveInput,value:k},_)),m.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(i.a)(Object(i.a)({},t),{},{checked:e.checked}):null}}]),n}(u.Component);p.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.default=p},"y+Pq":function(e,t,n){"use strict";var a=n("TqRt"),c=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=i.useReducer((function(e){return e+1}),0);return(0,r.default)(e,2)[1]};var r=a(n("J4zp")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI"));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},ye1Q:function(e,t,n){"use strict";var a=n("VTBJ"),c=n("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},i=n("6VBw"),s=function(e,t){return c.createElement(i.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:r}))};s.displayName="LoadingOutlined";t.a=c.forwardRef(s)},ymym:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h}));var a=n("q1tI"),c=n.n(a),r=n("m0r1");const i="label";function s(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function o(e,t){e.labels=t}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const a=[];e.datasets=t.map((t=>{const c=e.datasets.find((e=>e[n]===t[n]));return c&&t.data&&!a.includes(c)?(a.push(c),Object.assign(c,t),c):{...t}}))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;const n={labels:[],datasets:[]};return o(n,e.labels),l(n,e.datasets,t),n}function u(e,t){let{height:n=150,width:i=300,redraw:u=!1,datasetIdKey:m,type:b,data:f,options:p,plugins:j=[],fallbackContent:h,...g}=e;const O=Object(a.useRef)(null),x=Object(a.useRef)(),v=()=>{O.current&&(x.current=new r.f(O.current,{type:b,data:d(f,m),options:p,plugins:j}),s(t,x.current))},y=()=>{s(t,null),x.current&&(x.current.destroy(),x.current=null)};return Object(a.useEffect)((()=>{var e,t;!u&&x.current&&p&&(e=x.current,t=p,e.options={...t})}),[u,p]),Object(a.useEffect)((()=>{!u&&x.current&&o(x.current.config.data,f.labels)}),[u,f.labels]),Object(a.useEffect)((()=>{!u&&x.current&&f.datasets&&l(x.current.config.data,f.datasets,m)}),[u,f.datasets]),Object(a.useEffect)((()=>{x.current&&(u?(y(),setTimeout(v)):x.current.update())}),[u,p,f.labels,f.datasets]),Object(a.useEffect)((()=>(v(),()=>y())),[]),c.a.createElement("canvas",Object.assign({ref:O,role:"img",height:n,width:i},g),h)}const m=Object(a.forwardRef)(u);function b(e,t){return r.f.register(t),Object(a.forwardRef)(((t,n)=>c.a.createElement(m,Object.assign({},t,{ref:n,type:e}))))}const f=b("line",r.h),p=b("bar",r.b),j=(r.n,b("doughnut",r.g)),h=(r.m,r.d,b("pie",r.k));r.o}},[["4dyW",0,2,19,30,1,3,4,5,6,7,9,12,14,18,20,21,22,23,25,29,33]]]);