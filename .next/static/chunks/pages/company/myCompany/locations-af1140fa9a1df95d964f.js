_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[103],{"1W/9":function(e,t,n){"use strict";var a=n("1OyB"),c=n("vuIU"),i=n("Ji7U"),r=n("LK+K"),s=n("U8pU"),o=n("q1tI"),l=n("wgJM"),d=n("QC+M"),u=n("MNnm"),m=n("qx4F");var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,a=void 0===n?document.body:n,c={},i=Object.keys(e);return i.forEach((function(e){c[e]=a.style[e]})),i.forEach((function(t){a.style[t]=e[t]})),c};var p={},j=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),a=document.body.className;if(e){if(!n.test(a))return;return b(p),p={},void(document.body.className=a.replace(n,"").trim())}var c=Object(m.a)();if(c&&(p=b({position:"relative",width:"calc(100% - ".concat(c,"px)")}),!n.test(a))){var i="".concat(a," ").concat(t);document.body.className=i.trim()}}},f=n("KQm4"),h=[],g="ant-scrolling-effect",x=new RegExp("".concat(g),"g"),O=0,v=new Map,y=function e(t){var n=this;Object(a.a)(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=h.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!h.some((function(e){return e.target===n.lockTarget})))if(h.some((function(e){var t,a=e.options;return(null===a||void 0===a?void 0:a.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))h=[].concat(Object(f.a)(h),[{target:n.lockTarget,options:n.options}]);else{var t=0,a=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(a===document.body&&window.innerWidth-document.documentElement.clientWidth>0||a.scrollHeight>a.clientHeight)&&(t=Object(m.a)());var c=a.className;if(0===h.filter((function(e){var t,a=e.options;return(null===a||void 0===a?void 0:a.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&v.set(a,b({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:a})),!x.test(c)){var i="".concat(c," ").concat(g);a.className=i.trim()}h=[].concat(Object(f.a)(h),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=h.find((function(e){return e.target===n.lockTarget}));if(h=h.filter((function(e){return e.target!==n.lockTarget})),t&&!h.some((function(e){var n,a=e.options;return(null===a||void 0===a?void 0:a.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var a=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,c=a.className;x.test(c)&&(b(v.get(a),{element:a}),v.delete(a),a.className=a.className.replace(x,"").trim())}},this.lockTarget=O++,this.options=t},w=0,k=Object(u.a)();var N={},_=function(e){if(!k)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===Object(s.a)(e)&&e instanceof window.HTMLElement)return e}return document.body},C=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).container=void 0,c.componentRef=o.createRef(),c.rafId=void 0,c.scrollLocker=void 0,c.renderComponent=void 0,c.updateScrollLocker=function(e){var t=(e||{}).visible,n=c.props,a=n.getContainer,i=n.visible;i&&i!==t&&k&&_(a)!==c.scrollLocker.getContainer()&&c.scrollLocker.reLock({container:_(a)})},c.updateOpenCount=function(e){var t=e||{},n=t.visible,a=t.getContainer,i=c.props,r=i.visible,s=i.getContainer;r!==n&&k&&_(s)===document.body&&(r&&!n?w+=1:e&&(w-=1)),("function"===typeof s&&"function"===typeof a?s.toString()!==a.toString():s!==a)&&c.removeCurrentContainer()},c.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||c.container&&!c.container.parentNode){var t=_(c.props.getContainer);return!!t&&(t.appendChild(c.container),!0)}return!0},c.getContainer=function(){return k?(c.container||(c.container=document.createElement("div"),c.attachToParent(!0)),c.setWrapperClassName(),c.container):null},c.setWrapperClassName=function(){var e=c.props.wrapperClassName;c.container&&e&&e!==c.container.className&&(c.container.className=e)},c.removeCurrentContainer=function(){var e,t;null===(e=c.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(c.container)},c.switchScrollingEffect=function(){1!==w||Object.keys(N).length?w||(b(N),N={},j(!0)):(j(),N=b({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},c.scrollLocker=new y({container:_(e.getContainer)}),c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Object(l.a)((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;k&&_(n)===document.body&&(w=t&&w?w-1:w),this.removeCurrentContainer(),l.a.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,a=e.visible,c=null,i={getOpenCount:function(){return w},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||a||this.componentRef.current)&&(c=o.createElement(d.a,{getContainer:this.getContainer,ref:this.componentRef},t(i))),c}}]),n}(o.Component);t.a=C},"4dyW":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/company/myCompany/locations",function(){return n("LhxT")}])},"4uu0":function(e,t,n){"use strict";var a;function c(e){if("undefined"===typeof document)return 0;if(e||void 0===a){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),c=n.style;c.position="absolute",c.top="0",c.left="0",c.pointerEvents="none",c.visibility="hidden",c.width="200px",c.height="150px",c.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var r=t.offsetWidth;i===r&&(r=n.clientWidth),document.body.removeChild(n),a=i-r}return a}function i(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?c():n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,t.getTargetScrollBarSize=function(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,a=t.height;return{width:i(n),height:i(a)}}},"8Skl":function(e,t,n){"use strict";var a=n("VTBJ"),c=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},r=n("6VBw"),s=function(e,t){return c.createElement(r.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:i}))};s.displayName="DownOutlined";t.a=c.forwardRef(s)},LhxT:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return J}));var a=n("CgBw"),c=n.n(a),i=n("sF4d"),r=n.n(i),s=n("kEgK"),o=n.n(s),l=n("nKUr"),d=n("MM9K"),u=n.n(d),m=n("iJl9"),b=n.n(m),p=n("rePB"),j=n("o0o1"),f=n.n(j),h=n("HaE+"),g=n("2Sck"),x=n("20a2"),O=n("q1tI"),v=n("g6Xq"),y=n.n(v),w=n("a3/r"),k=n("T+/+"),N=n("VXtC"),_=n("8Skl"),C=n("wd/R"),E=n.n(C),S=n("rR1Q"),P=n.n(S),L=n("8mU3"),T=n("yncA"),I=n("ye1Q");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){var t=e.title,n=e.visible,a=(e.onClose,e.children,e.buttonOkText),c=e.initProps,i=e.onvisible,r=Object(x.useRouter)(),s=Object(O.useState)({name:"",address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),o=s[0],d=s[1],m=Object(O.useState)([]),b=m[0],j=m[1],g=Object(O.useState)(!1),v=g[0],y=g[1],_=Object(O.useState)(!1),C=_[0],S=_[1],A=Object(O.useState)(!1),B=A[0],D=A[1],M=Object(O.useState)(!1),W=M[0],R=M[1],J=Object(O.useState)({email:!1,website:!1,npwp:!1,fax:!1,tanggal_pkp:!1}),F=J[0],K=J[1],U=Object(O.useState)(!0),q=U[0],G=U[1],H=Object(O.useState)(-1),Z=H[0],Q=H[1],V=function(e){d(z(z({},o),{},Object(p.a)({},e.target.name,e.target.value))),Q((function(e){return e+1}))},X=function(e){d(z(z({},o),{},Object(p.a)({},e.target.name,e.target.value)))},$=function(){var e=Object(h.a)(f.a.mark((function e(t){var n,a,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),n=t.target.files,(a=new FormData).append("file",n[0]),a.append("upload_preset","migsys"),e.next=7,fetch("https://api.Cloudinary.com/v1_1/aqlpeduli/image/upload",{method:"POST",body:a});case 7:return c=e.sent,e.next=10,c.json();case 10:i=e.sent,d(z(z({},o),{},{image_logo:i.secure_url})),S(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getBranchCompanyList",{method:"GET",headers:{Authorization:JSON.parse(c)}}).then((function(e){return e.json()})).then((function(e){j([e.data])}))}),[v]),Object(O.useEffect)((function(){-1!==Z&&(null!==o.parent_id&&""!==o.name&&""!==o.address&&""!==o.phone_number&&""!==o.penanggung_jawab?G(!1):G(!0))}),[Z]),Object(l.jsx)(L.a,{title:t,visible:n,onClose:function(){d({name:"",address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),K({email:!1,website:!1,npwp:!1,fax:!1,tanggal_pkp:!1}),D(!1),R(!1),G(!0),i(!1)},buttonOkText:a,onClick:function(){!1===/(^\d+$)/.test(o.phone_number)||!1===/(\-)|(^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/.test(o.email)?""===o.email?(y(!0),fetch("https://boiling-thicket-46501.herokuapp.com/addCompanyBranch",{method:"POST",headers:{Authorization:JSON.parse(c),"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){y(!1),i(!1),e.success?(P.a.success({message:e.message,duration:3}),d({name:"",address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),K({email:!1,website:!1,npwp:!1,fax:!1,tanggal_pkp:!1}),D(!1),R(!1),G(!0),r.push("/company/myCompany/locations")):P.a.error({message:e.message,duration:3})}))):(!1===new RegExp(/(^\d+$)/).test(o.phone_number)?D(!0):D(!1),!1===new RegExp(/(\-)|(^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/).test(o.email)?""===o.email?R(!1):R(!0):R(!1),G(!0)):(y(!0),fetch("https://boiling-thicket-46501.herokuapp.com/addCompanyBranch",{method:"POST",headers:{Authorization:JSON.parse(c),"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){y(!1),i(!1),e.success?(P.a.success({message:e.message,duration:3}),d({name:"",address:"",phone_number:"",image_logo:"",parent_id:null,singkatan:"",tanggal_pkp:null,penanggung_jawab:"",npwp:"",fax:"",email:"",website:""}),K({email:!1,website:!1,npwp:!1,fax:!1,tanggal_pkp:!1}),D(!1),R(!1),G(!0),r.push("/company/myCompany/locations")):P.a.error({message:e.message,duration:3})})))},disabled:q,children:Object(l.jsx)(u.a,{spinning:v,children:Object(l.jsxs)("div",{className:"flex flex-col",children:[Object(l.jsx)("div",{className:"mb-8",children:Object(l.jsx)("p",{className:"mb-0 text-red-500 text-xs italic",children:"*Informasi ini harus diisi"})}),Object(l.jsxs)("div",{className:"mb-5 flex",children:[Object(l.jsx)("div",{className:"mr-2",children:""===o.image_logo?Object(l.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-400 flex justify-center items-center",children:Object(l.jsx)(N.l,{size:20,color:"#ffffff"})}):Object(l.jsx)("img",{src:o.image_logo,className:"object-contain w-20 h-20 rounded-full",alt:""})}),Object(l.jsxs)("div",{className:"flex flex-col w-9/12 px-3",children:[Object(l.jsx)("div",{className:"mb-5",children:Object(l.jsx)(k.e,{children:"Unggah gambar JPG/PNG dari komputer Anda (Max. 5 MB)"})}),Object(l.jsx)("div",{className:"flex justify-end items-end",children:Object(l.jsxs)(w.a,{type:"primaryInput",onChangeGambar:$,children:[C?Object(l.jsx)(I.a,{style:{marginRight:"0.5rem"}}):Object(l.jsx)(N.U,{size:15,color:"#ffffff"}),"Atur Ulang"]})})]})]}),Object(l.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(l.jsx)(T.h,{name:"parent_id",onChangeTreeselect:function(e,t,n){d(z(z({},o),{},{parent_id:e}))},label:"Induk Lokasi",treeData:b}),Object(l.jsx)(T.c,{name:"name",onChangeInput:V,label:"Nama Lokasi"}),Object(l.jsx)(T.c,{name:"address",onChangeInput:V,label:"Alamat Lokasi"}),Object(l.jsx)(T.c,{name:"phone_number",onChangeInput:V,label:"Nomor Telepon"}),B&&Object(l.jsx)("p",{className:" text-red-500 text-sm mb-3 -mt-3 mx-3",children:"Nomor Telepon harus angka"}),Object(l.jsx)(T.c,{name:"penanggung_jawab",onChangeInput:V,label:"Penanggung Jawab (PIC)"}),F.email&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(T.b,{name:"email",onChangeInput:function(e){d(z(z({},o),{},{email:e.target.value})),Q((function(e){return e+1}))},label:"Email"}),W&&Object(l.jsx)("p",{className:" text-red-500 text-sm mb-3 -mt-3 mx-3",children:"Email belum diisi dengan benar"})]}),F.website&&Object(l.jsx)(T.b,{name:"website",onChangeInput:X,label:"Website"}),F.npwp&&Object(l.jsx)(T.b,{name:"npwp",onChangeInput:X,label:"NPWP"}),F.fax&&Object(l.jsx)(T.b,{name:"fax",onChangeInput:X,label:"Fax"}),F.tanggal_pkp&&Object(l.jsx)(T.a,{name:"tanggal_pkp",onChangeDate:function(e,t){d(z(z({},o),{},{tanggal_pkp:t}))},label:"Tanggal PKP",defaultValue:null===o.tanggal_pkp?null:E()(o.tanggal_pkp)})]}),Object(l.jsxs)("div",{className:"mb-5 flex flex-col",children:[Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)(k.c,{children:"Informasi Tambahan"})}),!F.email&&Object(l.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(N.x,{size:18,color:"#808080"})}),"Email"]}),Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){K(z(z({},F),{},{email:!0}))},children:Object(l.jsx)(N.cb,{size:18,color:"#808080"})})]}),!F.website&&Object(l.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(N.lb,{size:18,color:"#808080"})}),"Website"]}),Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){K(z(z({},F),{},{website:!0}))},children:Object(l.jsx)(N.cb,{size:18,color:"#808080"})})]}),!F.npwp&&Object(l.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(N.N,{size:18,color:"#808080"})}),"NPWP"]}),Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){K(z(z({},F),{},{npwp:!0}))},children:Object(l.jsx)(N.cb,{size:18,color:"#808080"})})]}),!F.fax&&Object(l.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(N.z,{size:18,color:"#808080"})}),"Fax"]}),Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){K(z(z({},F),{},{fax:!0}))},children:Object(l.jsx)(N.cb,{size:18,color:"#808080"})})]}),!F.tanggal_pkp&&Object(l.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(N.Q,{size:18,color:"#808080"})}),"Tanggal PKP"]}),Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){K(z(z({},F),{},{tanggal_pkp:!0}))},children:Object(l.jsx)(N.cb,{size:18,color:"#808080"})})]})]})]})})})},D=n("m0r1"),M=n("pCoS");function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}D.f.register(D.a,D.p);var J=!0;t.default=function(e){var t=e.initProps,n=e.dataProfile,a=e.sidemenu,i=Object(x.useRouter)(),s=i.pathname.split("/").slice(1);s.splice(1,1);var d=i.query,m=d.active;d.id;var p=Object(O.useState)([]),j=(p[0],p[1],Object(O.useState)({id:"",name:"",address:"",phone_number:"",image_logo:"",singkatan:"",tanggal_pkp:E()(new Date),penanggung_jawab:"",npwp:"",fax:"",email:"",website:"",role:"",induk_level_1_count:"",induk_level_2_count:"",induk_level_3_count:""})),v=(j[0],j[1],Object(O.useState)({id:"",name:"",address:"",phone_number:"",image_logo:"",singkatan:"",tanggal_pkp:E()(new Date),penanggung_jawab:"",npwp:"",fax:"",email:"",website:""})),C=(v[0],v[1],Object(O.useState)(!0)),S=C[0],P=C[1],L=Object(O.useState)(!1),T=(L[0],L[1],Object(O.useState)([])),I=T[0],A=T[1],z=Object(O.useState)([]),D=(z[0],z[1]),W=Object(O.useState)([]),J=W[0],F=W[1],K=Object(O.useState)("A-Z"),U=K[0],q=K[1],G=Object(O.useState)(!1),H=G[0],Z=G[1],Q=Object(O.useState)(!1),V=Q[0],X=Q[1],$=Object(O.useState)(!1),Y=$[0],ee=$[1],te=Object(O.useState)(null),ne=te[0],ae=te[1],ce=Object(O.useState)(!1),ie=ce[0],re=ce[1],se=Object(O.useState)({id:2,name:"",image_logo:"",phone_number:"",address:"",role:3,is_enabled:!0,singkatan:"",tanggal_pkp:"",penanggung_jawab:"",npwp:"-",fax:"-",email:"",website:"-",parent:{name:""}}),oe=se[0],le=se[1],de=Object(O.useState)(!1),ue=de[0],me=de[1],be=Object(O.useState)(""),pe=be[0],je=be[1],fe=Object(O.useState)(!0),he=fe[0],ge=fe[1],xe=function(){var e=Object(h.a)(f.a.mark((function e(a){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!0),Z(-1===H||a),X(!0),!0!==a){e.next=11;break}return e.next=6,I.sort((function(e,t){return e.title>t.title?1:-1}));case 6:c=e.sent,A(c),q("A-Z"),e.next=12;break;case 11:fetch("https://boiling-thicket-46501.herokuapp.com/".concat(2!==n.data.company.role?"getMainLocations":"getLocations?company_id=".concat(n.data.company.company_id)),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){if(e.data.children){var t=e.data.children.sort((function(e,t){return e.title<t.title?1:-1}));A(t),q("Z-A")}else A([])}));case 12:P(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=[];!function e(t){for(var n=0;n<t.length;n++){var a=t[n],c=a.id,i=a.key,r=a.value,s=a.parent_id,o=a.title,l=a.children_count;Oe.push({id:c,key:i,value:r,parent_id:s,title:o,children_count:l}),a.children&&e(a.children)}}(I);var ve=function e(t,n){for(var a,c=0;c<n.length;c++){var i=n[c];i.children&&(i.children.some((function(e){return e.key===t}))?a=i.key:e(t,i.children)&&(a=e(t,i.children)))}return a};return Object(O.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/".concat(2!==n.data.company.role?"getMainLocations":"getLocations?company_id=".concat(n.data.company.company_id)),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){e.data.children?(A(e.data.children),D(e.data.children)):(A([]),D([]));var t=e.data.children.map((function(e){return e.key}));e.data.children?F(t):F([]),P(!1),re(!1)}))}),[ue]),Object(O.useEffect)((function(){!0===Y&&fetch("https://boiling-thicket-46501.herokuapp.com/getSubCompanyProfile?id=".concat(ne),{method:"GET",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){le(R(R({},e.data),{},{image_logo:"-"===e.data.image_logo||""===e.data.image_logo?"/image/Induk.png":e.data.image_logo})),re(!1)}))}),[ne]),Object(l.jsxs)(g.a,{tok:t,dataProfile:n,sidemenu:a,pathArr:s,st:y.a,children:[Object(l.jsxs)("div",{className:"grid grid-cols-12",children:[Object(l.jsxs)("div",{className:"col-span-6 flex flex-col m-3",children:[Object(l.jsxs)("div",{className:"flex justify-around mb-5",children:[Object(l.jsx)("div",{className:"mx-0",children:Object(l.jsx)(b.a,{placeholder:"Cari Lokasi",style:{backgroundColor:"transparent"},onChange:function(e){var t=e.target.value,n=Oe.map((function(e){return e.title.indexOf(t)>-1?ve(e.key,I):null})).filter((function(e,t,n){return e&&n.indexOf(e)===t}));t?(F(n),je(t),ge(!0)):(F(I.map((function(e){return e.key}))),je(""),ge(!1))}})}),Object(l.jsx)("div",{className:"mx-0",children:Object(l.jsxs)(w.a,{type:"ghost",selected:!0===V,onClick:function(){xe(-1===H||!H)},children:[Object(l.jsx)(N.bb,{size:12,color:"#35763B"}),"Urutkan: ",U]})}),Object(l.jsx)("div",{className:"mx-0",children:Object(l.jsx)(w.a,{type:"primary",onClick:function(){me(!0)},children:"+ Tambah Lokasi"})})]}),Object(l.jsx)("div",{className:"flex flex-col max-h-screen overflow-auto",children:S?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(u.a,{})}):0===I.length?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(o.a,{image:o.a.PRESENTED_IMAGE_SIMPLE})}):Object(l.jsx)(r.a,{className:"treeMyCompanyMain",showIcon:!0,onExpand:function(e){F(e),ge(!1)},filterTreeNode:function(e){var t=e.title.props.children[0].props?e.title.props.children[0].props.children[2]:e.title.props.children[2];return!!t&&-1!==t.indexOf(pe)},autoExpandParent:he,expandedKeys:J,treeData:function e(t){return t.map((function(t){var n=t.title.indexOf(pe),a=t.title.substr(0,n),c=t.title.substr(n+pe.length),i=n>-1?Object(l.jsxs)("div",{id:"wrap".concat(t.key),className:"flex items-start w-full py-3 rounded-md px-2",onMouseOver:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-primary100"),e.classList.remove("text-gray-400"),document.getElementById("wrap".concat(t.key)).classList.add("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-primary100"),n.classList.remove("bg-gray-300")},onMouseLeave:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-gray-400"),e.classList.remove("text-primary100"),document.getElementById("wrap".concat(t.key)).classList.remove("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-gray-300"),n.classList.remove("bg-primary100")},onClick:function(){ae(t.id),ee(!0),re(!0)},children:[Object(l.jsx)("div",{className:"mr-3 flex items-start",children:Object(l.jsx)(N.K,{id:"icon".concat(t.key),size:15,color:"#808080"})}),Object(l.jsx)("div",{className:"mr-3",children:Object(l.jsxs)(k.c,{id:"text".concat(t.key),children:[a,Object(l.jsx)("span",{className:" text-primary100",children:pe}),c]})}),Object(l.jsx)("div",{id:"badge".concat(t.key),className:"w-5 h-5 rounded-full bg-gray-400 text-white text-2xs flex items-center justify-center",children:t.children_count})]}):Object(l.jsxs)("div",{id:"wrap".concat(t.key),className:"flex items-start w-full py-3 rounded-md px-2",onMouseOver:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-primary100"),e.classList.remove("text-gray-400"),document.getElementById("wrap".concat(t.key)).classList.add("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-primary100"),n.classList.remove("bg-gray-300")},onMouseLeave:function(){var e=document.getElementById("text".concat(t.key));e.classList.add("text-gray-400"),e.classList.remove("text-primary100"),document.getElementById("wrap".concat(t.key)).classList.remove("bg-primary10");var n=document.getElementById("badge".concat(t.key));n.classList.add("bg-gray-300"),n.classList.remove("bg-primary100")},onClick:function(){ae(t.id),ee(!0),re(!0)},children:[Object(l.jsx)("div",{className:"mr-3 flex items-start",children:Object(l.jsx)(N.K,{id:"icon".concat(t.key),size:15,color:"#808080"})}),Object(l.jsx)("div",{className:"mr-3",children:Object(l.jsx)(k.c,{id:"text".concat(t.key),children:t.title})}),Object(l.jsx)("div",{id:"badge".concat(t.key),className:"w-5 h-5 rounded-full bg-gray-400 text-white text-2xs flex items-center justify-center",children:t.children_count})]});return t.children?{title:i,key:t.key,children:e(t.children)}:{title:i,key:t.key}}))}(I),switcherIcon:Object(l.jsx)(_.a,{}),style:{backgroundColor:"transparent"},blockNode:!0})})]}),Object(l.jsx)("div",{className:"col-span-6 m-3 flex flex-col",children:Y?ie?Object(l.jsx)("div",{className:"flex items-center justify-center",children:Object(l.jsx)(u.a,{})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"flex shadow-md rounded-md bg-white p-5 mb-5 mx-2",children:[Object(l.jsx)("div",{className:"mr-5",children:Object(l.jsx)("img",{src:oe.image_logo,className:"object-contain w-24 h-24 rounded-full",alt:""})}),Object(l.jsxs)("div",{className:"flex flex-col w-9/12",children:[Object(l.jsxs)("div",{className:"flex justify-between items-center",children:[Object(l.jsx)(k.a,{children:oe.name}),Object(l.jsx)("a",{href:"/company/myCompany/locations/".concat(oe.id),target:"_blank",children:Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"mr-2",children:Object(l.jsx)(k.c,{color:"green",cursor:"pointer",children:"Lihat Detail"})}),Object(l.jsx)(N.y,{size:15,color:"#35763B"})]})})]}),Object(l.jsx)("div",{className:"flex",children:Object(l.jsx)(k.c,{children:oe.singkatan})}),Object(l.jsxs)("div",{className:"h-full flex items-end text-primary100",children:[Object(l.jsx)("div",{className:"mr-1",children:Object(l.jsx)(N.P,{size:20,color:"#35763B"})}),oe.phone_number]})]})]}),Object(l.jsxs)("div",{className:"flex flex-col shadow-md rounded-md bg-white p-5 mb-5 mx-2",children:[Object(l.jsx)("div",{className:"flex items-center mb-3",children:Object(l.jsx)(k.a,{children:"Kondisi Aset"})}),Object(l.jsxs)("div",{className:"flex items-center justify-between",children:[Object(l.jsxs)("div",{className:"w-6/12 flex-col flex items-center",children:[0===oe.asset_cluster.length?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(o.a,{image:o.a.PRESENTED_IMAGE_SIMPLE})}):Object(l.jsx)("div",{className:"w-32 h-32",id:"chart",children:Object(l.jsx)(M.d,{data:{labels:oe.asset_cluster.map((function(e){return e.name})),datasets:[{data:oe.asset_cluster.map((function(e){return e.asset_count})),backgroundColor:["#EE6DD9","#6AAA70","#ED962F","#BF4A40","#2F80ED","#E5C471"],borderColor:["#EE6DD9","#6AAA70","#ED962F","#BF4A40","#2F80ED","#E5C471"],borderWidth:1}]},options:{title:{display:!1},legend:{display:!1}}})}),Object(l.jsxs)("div",{className:"flex flex-col items-center",children:[Object(l.jsx)(k.b,{children:oe.inventory_count}),Object(l.jsx)(k.c,{children:"Total Aset"})]})]}),Object(l.jsxs)("div",{className:"w-6/12 flex-col flex items-center",children:[Object(l.jsx)(c.a,{type:"dashboard",percent:oe.good_inventory_percentage,strokeColor:{from:"#65976a",to:"#35763B"}}),Object(l.jsxs)("div",{className:"flex flex-col items-center",children:[Object(l.jsxs)(k.b,{children:[oe.good_inventory_count,"/",oe.inventory_count]}),Object(l.jsx)(k.c,{children:"Aset dalam kondisi baik"})]})]})]})]}),Object(l.jsx)("div",{className:"flex flex-col shadow-md rounded-md bg-white p-5 mb-5 mx-2",children:Object(l.jsx)("div",{className:"flex items-center mb-3",children:Object(l.jsx)(k.a,{children:"Keuangan"})})})]}):Object(l.jsx)("div",{className:"flex h-screen items-center justify-center",children:Object(l.jsx)(o.a,{image:o.a.PRESENTED_IMAGE_SIMPLE,description:"Silahkan pilih untuk lihat detail lokasi"})})})]}),Object(l.jsx)(B,{title:"Tambah Lokasi",visible:ue,onClose:function(){me(!1)},buttonOkText:"Simpan Lokasi",initProps:t,onvisible:me})]})}},"y+Pq":function(e,t,n){"use strict";var a=n("TqRt"),c=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=r.useReducer((function(e){return e+1}),0);return(0,i.default)(e,2)[1]};var i=a(n("J4zp")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n("q1tI"));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},ye1Q:function(e,t,n){"use strict";var a=n("VTBJ"),c=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},r=n("6VBw"),s=function(e,t){return c.createElement(r.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:i}))};s.displayName="LoadingOutlined";t.a=c.forwardRef(s)}},[["4dyW",0,2,18,29,1,3,4,5,6,8,9,11,13,16,19,20,21,23,24,30,35,33]]]);