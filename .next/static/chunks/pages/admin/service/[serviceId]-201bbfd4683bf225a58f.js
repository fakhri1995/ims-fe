_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[92],{"4c/V":function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/service/[serviceId]",function(){return i("Lil5")}])},Lil5:function(e,t,i){"use strict";i.r(t),i.d(t,"__N_SSP",(function(){return D}));var n=i("CC+v"),a=i.n(n),s=i("g4D/"),r=i.n(s),c=i("qu0K"),l=i.n(c),o=i("iJl9"),d=i.n(o),u=i("4IMT"),m=i.n(u),f=i("nKUr"),h=i("rVaU"),b=i.n(h),j=i("rR1Q"),p=i.n(j),v=i("cpVT"),g=i("z7pX"),O=i("FAat"),x=i.n(O),y=i("eoY8"),_=i.n(y),k=i("d2Hs"),C=i("20a2"),w=i("q1tI"),N=i("p/jd"),S=i("qe3g"),I=i.n(S);function P(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?P(Object(i),!0).forEach((function(t){Object(v.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var D=!0;t.default=function(e){var t=e.initProps,i=e.dataProfile,n=e.dataDetailServiceItem,s=e.dataListServiceItem,c=e.dataListServiceCategories,o=e.serviceid,u=e.sidemenu,h=Object(C.useRouter)(),j=h.pathname.split("/").slice(1);j[j.length-1]=n.data.service.nama_service_item;var v=_.a.Link,O=x.a.Option,y=s.data.filter((function(e){return e.id!=o})).map((function(e,t){return{id:e.id,itemName:e.nama_service_item,categoryName:e.nama_kategori,usageType:"Permanent",status:e.is_publish}})),S=Object(w.useState)({id:o,id_service_kategori:n.data.service.id_service_kategori,nama_service_item:n.data.service.nama_service_item,deskripsi_singkat:n.data.service.deskripsi_singkat,deskripsi_lengkap:n.data.service.deskripsi_lengkap}),P=S[0],D=S[1],E=Object(w.useState)(n.data.childs),F=E[0],A=E[1],V=Object(w.useState)(n.data.childs.map((function(e,t){return e.id}))),J=V[0],q=V[1],L=Object(w.useState)(!1),R=L[0],W=L[1],K=Object(w.useState)(!1),z=K[0],B=K[1],H=Object(w.useState)(!1),M=H[0],U=H[1],X=Object(w.useState)(!1),Y=X[0],G=X[1],Q=Object(w.useState)(!1),Z=Q[0],$=Q[1],ee=function(){var e=T(T({},P),{},{new_child_ids:J});W(!0),fetch("".concat("https://service-staging.mig.id","/updateServiceItem"),{method:"PUT",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.success?(p.a.success({message:e.message,duration:3}),setTimeout((function(){W(!1),h.push("/admin/service")}),500)):e.success||(p.a.error({message:e.message.errorInfo.status_detail,duration:3}),W(!1))}))};return Object(f.jsx)(N.a,{tok:t,dataProfile:i,sidemenu:u,pathArr:j,st:I.a,children:Object(f.jsxs)("div",{className:"w-full border-t border-opacity-30 border-gray-500 bg-white",children:[Object(f.jsxs)("div",{className:"w-full flex flex-col md:flex-row justify-between p-3",children:[Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("p",{className:"font-semibold text-lg mr-3 my-0",children:n.data.service.nama_service_item}),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(f.Fragment,{children:n.data.service.is_publish?Object(f.jsx)(b.a,{checked:!0,onChange:function(){G(!0)},checkedChildren:"Published"}):Object(f.jsx)(b.a,{checked:!1,onChange:function(){$(!0)},unCheckedChildren:"Draft"})})})]}),Object(f.jsxs)("div",{className:"pt-3",children:[Object(f.jsx)(m.a,{type:"default",style:{marginRight:"1rem"},onClick:function(){h.push("/admin/service")},children:"Cancel"}),Object(f.jsx)(m.a,{type:"ghost",style:{marginRight:"1rem"},onClick:function(){U(!0)},children:"Delete"}),Object(f.jsx)(m.a,{style:{backgroundColor:"rgb(24,144,255)",color:"white"},loading:R,onClick:ee,children:"Save "})]})]}),Object(f.jsxs)("div",{className:"w-full grid grid-cols-7",children:[Object(f.jsx)("div",{className:"col-span-7 lg:col-span-1 flex flex-col p-3",children:Object(f.jsxs)(_.a,{children:[Object(f.jsx)(v,{href:"#generalDetail",title:"General Detail"}),Object(f.jsx)(v,{href:"#customFields",title:"Custom Fields"}),Object(f.jsx)(v,{href:"#additionalFields",title:"Addtional Fields"}),Object(f.jsx)(v,{href:"#settings",title:"Settings"})]})}),Object(f.jsxs)("div",{className:"col-span-7 lg:col-span-6 flex flex-col",children:[Object(f.jsxs)("div",{id:"generalDetail",className:"mb-5 flex flex-col",children:[Object(f.jsxs)("div",{className:"flex justify-between items-center p-3",children:[Object(f.jsx)("div",{children:Object(f.jsx)("p",{className:"font-semibold text-base",children:"General Detail"})}),Object(f.jsx)("div",{children:Object(f.jsx)("a",{href:"#",children:"Help"})})]}),Object(f.jsx)("div",{className:"flex p-3",children:Object(f.jsx)("div",{className:"w-full lg:w-7/12",children:Object(f.jsxs)(l.a,{layout:"vertical",onFinish:ee,initialValues:P,children:[Object(f.jsx)(l.a.Item,{label:"Item Name",name:"nama_service_item",rules:[{required:!0,message:"Nama Item wajib diisi"}],children:Object(f.jsx)(d.a,{name:"nama_service_item",onChange:function(e){D(T(T({},P),{},{nama_service_item:e.target.value}))},defaultValue:P.nama_service_item})}),Object(f.jsx)(l.a.Item,{label:"Service Category",name:"id_service_kategori",rules:[{required:!0,message:"Service Category wajib diisi"}],children:Object(f.jsx)(x.a,{placeholder:"Pilih Service Category",onChange:function(e){D(T(T({},P),{},{id_service_kategori:e}))},name:"id_service_kategori",defaultValue:P.id_service_kategori,children:c.data.map((function(e,t){return Object(f.jsx)(O,{value:e.id,children:e.nama_kategori},t)}))})}),Object(f.jsx)(l.a.Item,{label:"Short Description",name:"deskripsi_singkat",children:Object(f.jsx)(d.a,{name:"deskripsi_singkat",onChange:function(e){D(T(T({},P),{},{deskripsi_singkat:e.target.value}))},defaultValue:P.deskripsi_singkat})}),Object(f.jsx)(l.a.Item,{label:"Description",name:"deskripsi_lengkap",children:Object(f.jsx)(d.a.TextArea,{name:"deskripsi_lengkap",onChange:function(e){D(T(T({},P),{},{deskripsi_lengkap:e.target.value}))},defaultValue:P.deskripsi_lengkap})})]})})})]}),Object(f.jsx)("div",{id:"customFields",className:" h-96 mb-5",children:Object(f.jsx)("div",{className:"flex justify-between items-center p-3",children:Object(f.jsx)("div",{children:Object(f.jsx)("p",{className:"font-semibold text-base",children:"Custom Fields"})})})}),Object(f.jsxs)("div",{id:"additionalFields",className:" flex flex-col mb-5 p-3",children:[Object(f.jsx)("h1",{className:"font-semibold text-base",children:"Additional Items"}),Object(f.jsx)("p",{className:"text-xs text-gray-500",children:"Add related service items that can be requested along with this item"}),Object(f.jsx)(x.a,{showSearch:!0,placeholder:"Cari & Tambah Service Items",onChange:function(e){var t=y.filter((function(t){return t.id==e})).map((function(e,t){return{id:e.id,nama_service_item:e.itemName}}))[0];t&&(A([].concat(Object(g.a)(F),[t])),q((function(t){return[].concat(Object(g.a)(t),[e])})))},onSearch:function(e){""===e&&A(F)},optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},style:{marginBottom:"0.7rem",width:"20rem"},allowClear:!0,children:y.map((function(e,t){return Object(f.jsx)(O,{value:e.id,children:e.itemName},t)}))}),Object(f.jsx)("div",{className:"flex flex-col",children:F.map((function(e,t){return Object(f.jsxs)("div",{className:" w-6/12 flex justify-between border-2 border-blue-500 p-3 divide-x-2 mb-2",children:[Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)(k.a,{style:{marginRight:"0.5rem",cursor:"pointer"},onClick:function(){var t;t=e.id,A((function(e){return e.filter((function(e){return e.id!==t}))})),q((function(e){return e.filter((function(e){return e!==t}))}))}}),e.nama_service_item]}),Object(f.jsxs)("div",{className:"flex pl-3",children:[Object(f.jsx)(r.a,{disabled:!0,style:{marginRight:"0.7rem"}})," ","Tandai sebagai Wajib"]})]})}))})]}),Object(f.jsx)("div",{id:"settings",className:" h-96 mb-5",children:Object(f.jsx)("div",{className:"flex justify-between items-center p-3",children:Object(f.jsx)("div",{children:Object(f.jsx)("p",{className:"font-semibold text-base",children:"Settings"})})})}),Object(f.jsxs)(a.a,{title:"Konfirmasi Hapus Service Item",visible:M,okButtonProps:{disabled:z},onCancel:function(){U(!1)},onOk:function(){B(!0),fetch("".concat("https://service-staging.mig.id","/deleteServiceItem"),{method:"DELETE",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"},body:JSON.stringify({id:o})}).then((function(e){return e.json()})).then((function(e){e.success?(p.a.success({message:e.message,duration:3}),setTimeout((function(){B(!1),h.push("/admin/service")}),500)):e.success||(p.a.error({message:e.message.errorInfo.status_detail,duration:3}),B(!1))}))},maskClosable:!1,style:{top:"3rem"},width:500,destroyOnClose:!0,children:["Yakin ingin hapus Service Item:"," ",Object(f.jsx)("strong",{children:n.data.service.nama_service_item}),"?"]}),Object(f.jsxs)(a.a,{title:"Konfirmasi Draft Service Item",visible:Y,okButtonProps:{disabled:z},onCancel:function(){G(!1)},onOk:function(){B(!0),fetch("".concat("https://service-staging.mig.id","/depublishingServiceItem"),{method:"PUT",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"},body:JSON.stringify({id:o})}).then((function(e){return e.json()})).then((function(e){e.success?(p.a.success({message:e.message,duration:3}),setTimeout((function(){B(!1),G(!1),h.push("/admin/service")}),500)):e.success||(p.a.error({message:e.message.errorInfo.status_detail,duration:3}),B(!1),G(!1))}))},maskClosable:!1,style:{top:"3rem"},width:500,destroyOnClose:!0,children:["Yakin ingin mengubah status menjadi draft pada Service Item:"," ",Object(f.jsx)("strong",{children:n.data.service.nama_service_item}),"?"]}),Object(f.jsxs)(a.a,{title:"Konfirmasi Publish Service Item",visible:Z,okButtonProps:{disabled:z},onCancel:function(){$(!1)},onOk:function(){B(!0),fetch("".concat("https://service-staging.mig.id","/publishingServiceItem"),{method:"PUT",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"},body:JSON.stringify({id:o})}).then((function(e){return e.json()})).then((function(e){e.success?(p.a.success({message:e.message,duration:3}),setTimeout((function(){B(!1),$(!1),h.push("/admin/service/".concat(o))}),500)):e.success||(p.a.error({message:e.message.errorInfo.status_detail,duration:3}),B(!1),$(!1))}))},maskClosable:!1,style:{top:"3rem"},width:500,destroyOnClose:!0,children:["Yakin ingin mengubah status menjadi Published pada Service Item:"," ",Object(f.jsx)("strong",{children:n.data.service.nama_service_item}),"?"]})]})]})]})})}},XIdC:function(e,t,i){"use strict";i.r(t);var n=i("rePB"),a=i("ODXe"),s=i("Ff2n"),r=i("q1tI"),c=i("TSYQ"),l=i.n(c),o=i("6cGi"),d=i("4IlW"),u=r.forwardRef((function(e,t){var i,c=e.prefixCls,u=void 0===c?"rc-switch":c,m=e.className,f=e.checked,h=e.defaultChecked,b=e.disabled,j=e.loadingIcon,p=e.checkedChildren,v=e.unCheckedChildren,g=e.onClick,O=e.onChange,x=e.onKeyDown,y=Object(s.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),_=Object(o.a)(!1,{value:f,defaultValue:h}),k=Object(a.a)(_,2),C=k[0],w=k[1];function N(e,t){var i=C;return b||(w(i=e),null===O||void 0===O||O(i,t)),i}var S=l()(u,m,(i={},Object(n.a)(i,"".concat(u,"-checked"),C),Object(n.a)(i,"".concat(u,"-disabled"),b),i));return r.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":C,disabled:b,className:S,ref:t,onKeyDown:function(e){e.which===d.a.LEFT?N(!1,e):e.which===d.a.RIGHT&&N(!0,e),null===x||void 0===x||x(e)},onClick:function(e){var t=N(!C,e);null===g||void 0===g||g(t,e)}}),j,r.createElement("span",{className:"".concat(u,"-inner")},C?p:v))}));u.displayName="Switch",t.default=u},qx4F:function(e,t,i){"use strict";var n;function a(e){if("undefined"===typeof document)return 0;if(e||void 0===n){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var i=document.createElement("div"),a=i.style;a.position="absolute",a.top="0",a.left="0",a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",i.appendChild(t),document.body.appendChild(i);var s=t.offsetWidth;i.style.overflow="scroll";var r=t.offsetWidth;s===r&&(r=i.clientWidth),document.body.removeChild(i),n=s-r}return n}function s(e){var t=e.match(/^(.*)px$/),i=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(i)?a():i}function r(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),i=t.width,n=t.height;return{width:s(i),height:s(n)}}i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return r}))},rVaU:function(e,t,i){"use strict";var n=i("TqRt"),a=i("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i("pVnL")),r=n(i("lSNA")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var i=b(t);if(i&&i.has(e))return i.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var c=s?Object.getOwnPropertyDescriptor(e,r):null;c&&(c.get||c.set)?Object.defineProperty(n,r,c):n[r]=e[r]}n.default=e,i&&i.set(e,n);return n}(i("q1tI")),l=n(i("XIdC")),o=n(i("TSYQ")),d=n(i("gZBC")),u=n(i("ev5A")),m=i("vgIT"),f=n(i("fVhf")),h=n(i("m4nH"));function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(b=function(e){return e?i:t})(e)}var j=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i},p=c.forwardRef((function(e,t){var i,n=e.prefixCls,a=e.size,b=e.loading,p=e.className,v=void 0===p?"":p,g=e.disabled,O=j(e,["prefixCls","size","loading","className","disabled"]);(0,h.default)("checked"in O||!("value"in O),"Switch","`value` is not a valid prop, do you mean `checked`?");var x=c.useContext(m.ConfigContext),y=x.getPrefixCls,_=x.direction,k=c.useContext(f.default),C=y("switch",n),w=c.createElement("div",{className:"".concat(C,"-handle")},b&&c.createElement(d.default,{className:"".concat(C,"-loading-icon")})),N=(0,o.default)((i={},(0,r.default)(i,"".concat(C,"-small"),"small"===(a||k)),(0,r.default)(i,"".concat(C,"-loading"),b),(0,r.default)(i,"".concat(C,"-rtl"),"rtl"===_),i),v);return c.createElement(u.default,{insertExtraNode:!0},c.createElement(l.default,(0,s.default)({},O,{prefixCls:C,className:N,disabled:g||b,ref:t,loadingIcon:w})))}));p.__ANT_SWITCH=!0,p.displayName="Switch";var v=p;t.default=v}},[["4c/V",0,2,1,3,4,5,6,7,8,10,11,15,16,38]]]);