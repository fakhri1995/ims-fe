_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[95],{"FB9+":function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/service/create",function(){return i("x+1X")}])},"x+1X":function(e,t,i){"use strict";i.r(t),i.d(t,"__N_SSP",(function(){return I}));var s=i("g4D/"),a=i.n(s),n=i("qu0K"),r=i.n(n),c=i("iJl9"),l=i.n(c),d=i("nKUr"),o=i("4IMT"),j=i.n(o),m=i("Jv8k"),b=i.n(m),u=i("rR1Q"),h=i.n(u),f=i("rePB"),x=i("KQm4"),p=i("FAat"),O=i.n(p),g=i("eoY8"),v=i.n(g),_=i("20a2"),k=i("q1tI"),N=i("d2Hs"),w=i("Nfnr"),y=i("g6Xq"),S=i.n(y);function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){Object(f.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var I=!0;t.default=function(e){var t=e.initProps,i=e.dataProfile,s=e.dataListServiceCategories,n=e.dataListServiceItem,c=e.sidemenu,o=Object(_.useRouter)(),m=o.pathname.split("/").slice(1),u=v.a.Link,f=O.a.Option,p=n.data.map((function(e,t){return{id:e.id,itemName:e.nama_service_item,categoryName:e.nama_kategori,usageType:"Permanent",status:e.is_publish}})),g=Object(k.useState)([]),y=g[0],C=g[1],I=Object(k.useState)({id_service_kategori:"",nama_service_item:"",deskripsi_singkat:"",deskripsi_lengkap:""}),F=I[0],D=I[1],T=Object(k.useState)([]),A=T[0],E=T[1],q=Object(k.useState)(!1),J=q[0],L=q[1],R=function(){var e=P(P({},F),{},{child_ids:y});L(!0),fetch("https://boiling-thicket-46501.herokuapp.com/addServiceItem",{method:"POST",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.success?(h.a.success({message:e.message,duration:3}),setTimeout((function(){L(!1),o.push("/admin/service")}),500)):e.success||(h.a.error({message:e.message.errorInfo.status_detail,duration:3}),L(!1))}))};return b.a,b.a.Item,Object(d.jsx)(w.a,{tok:t,dataProfile:i,sidemenu:c,pathArr:m,st:S.a,children:Object(d.jsxs)("div",{className:"w-full border-t border-opacity-30 border-gray-500 bg-white",children:[Object(d.jsxs)("div",{className:"w-full flex flex-col md:flex-row justify-between p-3",children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-semibold text-lg",children:"Add Service Item"})}),Object(d.jsxs)("div",{children:[Object(d.jsx)(j.a,{type:"default",style:{marginRight:"1rem"},onClick:function(){o.push("/admin/service")},children:"Cancel"}),Object(d.jsx)(j.a,{style:{backgroundColor:"rgb(24,144,255)",color:"white"},loading:J,onClick:R,children:"Save "})]})]}),Object(d.jsxs)("div",{className:"w-full grid grid-cols-7",children:[Object(d.jsx)("div",{className:" col-span-7 md:col-span-1 flex flex-col",children:Object(d.jsxs)(v.a,{children:[Object(d.jsx)(u,{href:"#generalDetail",title:"General Detail"}),Object(d.jsx)(u,{href:"#customFields",title:"Custom Fields"}),Object(d.jsx)(u,{href:"#additionalFields",title:"Addtional Fields"}),Object(d.jsx)(u,{href:"#settings",title:"Settings"})]})}),Object(d.jsxs)("div",{className:" col-span-7 md:col-span-6 flex flex-col",children:[Object(d.jsxs)("div",{id:"generalDetail",className:"mb-5 flex flex-col",children:[Object(d.jsxs)("div",{className:"flex justify-between items-center p-3",children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-semibold text-base",children:"General Detail"})}),Object(d.jsx)("div",{children:Object(d.jsx)("a",{href:"#",children:"Help"})})]}),Object(d.jsx)("div",{className:"flex p-3",children:Object(d.jsx)("div",{className:" w-full md:w-7/12",children:Object(d.jsxs)(r.a,{layout:"vertical",onFinish:R,initialValues:F,children:[Object(d.jsx)(r.a.Item,{label:"Item Name",name:"nama_service_item",rules:[{required:!0,message:"Nama Item wajib diisi"}],children:Object(d.jsx)(l.a,{name:"nama_service_item",onChange:function(e){D(P(P({},F),{},{nama_service_item:e.target.value}))},defaultValue:F.nama_service_item})}),Object(d.jsx)(r.a.Item,{label:"Service Category",name:"id_service_kategori",rules:[{required:!0,message:"Service Category wajib diisi"}],children:Object(d.jsx)(O.a,{placeholder:"Pilih Service Category",onChange:function(e){D(P(P({},F),{},{id_service_kategori:e}))},name:"id_service_kategori",defaultValue:F.id_service_kategori,children:s.data.map((function(e,t){return Object(d.jsx)(f,{value:e.id,children:e.nama_kategori},t)}))})}),Object(d.jsx)(r.a.Item,{label:"Deskripsi Singkat",name:"deskripsi_singkat",children:Object(d.jsx)(l.a,{name:"deskripsi_singkat",onChange:function(e){D(P(P({},F),{},{deskripsi_singkat:e.target.value}))},defaultValue:F.deskripsi_singkat})}),Object(d.jsx)(r.a.Item,{label:"Deskripsi",name:"deskripsi_lengkap",children:Object(d.jsx)(l.a.TextArea,{name:"deskripsi_lengkap",onChange:function(e){D(P(P({},F),{},{deskripsi_lengkap:e.target.value}))},defaultValue:F.deskripsi_lengkap})})]})})})]}),Object(d.jsx)("div",{id:"customFields",className:" h-96 mb-5",children:Object(d.jsx)("div",{className:"flex justify-between items-center p-3",children:Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-semibold text-base",children:"Custom Fields"})})})}),Object(d.jsxs)("div",{id:"additionalFields",className:" flex flex-col mb-5 p-3",children:[Object(d.jsx)("h1",{className:"font-semibold text-base",children:"Additional Items"}),Object(d.jsx)("p",{className:"text-xs text-gray-500",children:"Add related service items that can be requested along with this item"}),Object(d.jsx)(O.a,{showSearch:!0,placeholder:"Cari & Tambah Service Items",onChange:function(e){var t=p.filter((function(t){return t.id==e}))[0];t&&(E([].concat(Object(x.a)(A),[t])),C((function(t){return[].concat(Object(x.a)(t),[e])})))},onSearch:function(e){""===e&&E(A)},optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},style:{marginBottom:"0.7rem",width:"20rem"},allowClear:!0,children:p.map((function(e,t){return Object(d.jsx)(f,{value:e.id,children:e.itemName})}))}),Object(d.jsx)("div",{className:"flex flex-col",children:A.map((function(e,t){return Object(d.jsxs)("div",{className:" w-6/12 flex justify-between border-2 border-blue-500 p-3 divide-x-2 mb-2",children:[Object(d.jsxs)("div",{className:"flex items-center",children:[Object(d.jsx)(N.a,{style:{marginRight:"0.5rem",cursor:"pointer"},onClick:function(){var t;t=e.id,E((function(e){return e.filter((function(e){return e.id!==t}))})),C((function(e){return e.filter((function(e){return e!==t}))}))}}),e.itemName]}),Object(d.jsxs)("div",{className:"flex pl-3",children:[Object(d.jsx)(a.a,{style:{marginRight:"0.7rem"}})," Tandai sebagai Wajib"]})]})}))})]}),Object(d.jsx)("div",{id:"settings",className:" h-96 mb-5",children:Object(d.jsx)("div",{className:"flex justify-between items-center p-3",children:Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-semibold text-base",children:"Settings"})})})})]})]})]})})}}},[["FB9+",0,2,1,3,4,5,6,7,8,9,10,40]]]);