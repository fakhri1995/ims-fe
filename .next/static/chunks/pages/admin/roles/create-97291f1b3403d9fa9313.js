_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[89],{"+Wdk":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/roles/create",function(){return n("Guy3")}])},"6FTQ":function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},"8rE2":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("6FTQ");function r(e,t){if(e){if("string"===typeof e)return Object(a.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a.a)(e,t):void 0}}},DMXp:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GroupContext=void 0;var c=a(n("pVnL")),i=a(n("lSNA")),o=a(n("RIqP")),l=a(n("J4zp")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=c?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),u=a(n("TSYQ")),d=a(n("+04X")),f=a(n("JmJJ")),p=n("vgIT");function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}var h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},j=s.createContext(null);t.GroupContext=j;var m=function(e,t){var n=e.defaultValue,a=e.children,r=e.options,b=void 0===r?[]:r,m=e.prefixCls,O=e.className,v=e.style,g=e.onChange,y=h(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),x=s.useContext(p.ConfigContext),k=x.getPrefixCls,w=x.direction,C=s.useState(y.value||n||[]),P=(0,l.default)(C,2),N=P[0],S=P[1],E=s.useState([]),_=(0,l.default)(E,2),I=_[0],M=_[1];s.useEffect((function(){"value"in y&&S(y.value||[])}),[y.value]);var T=function(){return b.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},D=k("checkbox",m),A="".concat(D,"-group"),F=(0,d.default)(y,["value","disabled"]);b&&b.length>0&&(a=T().map((function(e){return s.createElement(f.default,{prefixCls:D,key:e.value.toString(),disabled:"disabled"in e?e.disabled:y.disabled,value:e.value,checked:-1!==N.indexOf(e.value),onChange:e.onChange,className:"".concat(A,"-item"),style:e.style},e.label)})));var K={toggleOption:function(e){var t=N.indexOf(e.value),n=(0,o.default)(N);-1===t?n.push(e.value):n.splice(t,1),"value"in y||S(n);var a=T();null===g||void 0===g||g(n.filter((function(e){return-1!==I.indexOf(e)})).sort((function(e,t){return a.findIndex((function(t){return t.value===e}))-a.findIndex((function(e){return e.value===t}))})))},value:N,disabled:y.disabled,name:y.name,registerValue:function(e){M((function(t){return[].concat((0,o.default)(t),[e])}))},cancelValue:function(e){M((function(t){return t.filter((function(t){return t!==e}))}))}},R=(0,u.default)(A,(0,i.default)({},"".concat(A,"-rtl"),"rtl"===w),O);return s.createElement("div",(0,c.default)({className:R,style:v},F,{ref:t}),s.createElement(j.Provider,{value:K},a))},O=s.forwardRef(m),v=s.memo(O);t.default=v},Guy3:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return _}));var a=n("kEgK"),r=n.n(a),c=n("nKUr"),i=n("g4D/"),o=n.n(i),l=n("4IMT"),s=n.n(l),u=n("rR1Q"),d=n.n(u),f=n("cpVT"),p=n("qu0K"),b=n.n(p),h=n("xvhg"),j=n("j7zX"),m=n.n(j),O=n("iJl9"),v=n.n(O),g=n("20a2"),y=n("q1tI"),x=n("Nfnr"),k=n("g6Xq"),w=n.n(k),C=n("YFqc"),P=n.n(C),N=n("vgPz");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=!0;t.default=function(e){var t=e.initProps,n=e.dataProfile,a=(e.dataListModules,e.sidemenu),i=Object(g.useRouter)(),l=t,u=i.pathname.split("/").slice(1);u[u.length-1]="Buat Role";var p=i.query.originPath,j=v.a.TextArea,O=m.a.TabPane,k=b.a.useForm(),C=Object(h.a)(k,1)[0],S=Object(y.useState)(!1),_=S[0],I=S[1],M=Object(y.useState)(!0),T=M[0],D=M[1],A=Object(y.useState)({name:"",description:"",feature_ids:[]}),F=A[0],K=A[1],R=Object(y.useState)([{id:"",key:"",name:"",status:"",company_id:0,description:"",feature:[{id:"",key:"",name:""}]}]),q=R[0],J=R[1],V=function(e){var t=e.target.value;K(E(E({},F),{},Object(f.a)({},e.target.name,t)))};return Object(y.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getModules",{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){J(e.data),D(!1)}))}),[]),Object(c.jsx)(x.a,{tok:l,dataProfile:n,pathArr:u,sidemenu:a,originPath:p,st:w.a,children:Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"w-full h-auto grid grid-cols-1 md:grid-cols-4",id:"formAgentsWrapper",children:[Object(c.jsx)("div",{className:"col-span-1 md:col-span-4",children:Object(c.jsx)(N.a,{containerSelectorFocus:"#formAgentsWrapper",children:Object(c.jsxs)("div",{className:"flex justify-between p-4 border-gray-400 border-t border-b bg-white mb-8",children:[Object(c.jsx)("h1",{className:"font-semibold text-base w-auto ",children:"Buat Role"}),Object(c.jsxs)("div",{className:"flex space-x-2",children:[Object(c.jsx)(P.a,{href:"/admin/roles",children:Object(c.jsx)(s.a,{type:"default",size:"middle",children:"Batal"})}),Object(c.jsx)(s.a,{type:"primary",size:"middle",onClick:C.submit,loading:_,children:"Simpan"})]})]})})}),Object(c.jsx)(b.a,{layout:"vertical",style:{display:"contents"},form:C,onFinish:function(){I(!0),fetch("https://boiling-thicket-46501.herokuapp.com/addRole",{method:"POST",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"},body:JSON.stringify(F)}).then((function(e){return e.json()})).then((function(e){e.success?(d.a.success({message:"Role berhasil ditambahkan",duration:3}),K({name:"",description:"",feature_ids:[]}),setTimeout((function(){I(!1),i.push("/admin/roles/detail/".concat(e.id))}),300)):e.success||(d.a.error({message:e.message.errorInfo.status_detail,duration:3}),I(!1))}))},initialValues:F,children:Object(c.jsxs)("div",{className:" col-span-1 md:col-span-3 flex flex-col",children:[Object(c.jsx)("div",{className:"pb-4 md:mb-0 ",children:Object(c.jsx)(b.a.Item,{name:"name",style:{marginRight:"1rem"},label:"Nama Role",rules:[{required:!0,message:"Nama role wajib diisi"}],children:Object(c.jsx)(v.a,{name:"name",onChange:V})})}),Object(c.jsx)("div",{className:"pb-4 md:mb-0",children:Object(c.jsx)(b.a.Item,{name:"description",style:{marginRight:"1rem"},label:"Deskripsi",rules:[{required:!0,message:"Deskripsi role wajib diisi"}],children:Object(c.jsx)(j,{rows:2,name:"description",onChange:V})})}),Object(c.jsx)("hr",{}),Object(c.jsx)("h1",{className:"font-semibold text-base w-auto p-2",children:"Permissions"}),T?null:Object(c.jsx)(m.a,{defaultActiveKey:"1",tabPosition:"left",children:q.map((function(e,t){return Object(c.jsx)(O,{tab:e.name,children:Object(c.jsx)("div",{className:"mb-5",children:null!==e.features?Object(c.jsx)(c.Fragment,{children:e.features.map((function(e,t){return Object(c.jsxs)("div",{className:"flex items-center hover:bg-gray-300 p-3",children:[Object(c.jsx)(o.a,{style:{marginRight:"1rem"},onChange:function(t){!function(e,t){if(e.target.checked){var n=F.feature_ids;n.push(t),K(E(E({},F),{},{feature_ids:n}))}else{var a=F.feature_ids,r=a.indexOf(t);a.splice(r,1),K(E(E({},F),{},{feature_ids:a}))}}(t,e.id)}})," ",e.name]},t)}))}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(r.a,{image:r.a.PRESENTED_IMAGE_SIMPLE})})})},t+1)}))})]})})]})})})}},JmJJ:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n("lSNA")),i=a(n("pVnL")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=c?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),l=a(n("TSYQ")),s=a(n("x1Ya")),u=n("DMXp"),d=n("vgIT"),f=a(n("m4nH"));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},h=function(e,t){var n,a=e.prefixCls,r=e.className,p=e.children,h=e.indeterminate,j=void 0!==h&&h,m=e.style,O=e.onMouseEnter,v=e.onMouseLeave,g=e.skipGroup,y=void 0!==g&&g,x=b(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),k=o.useContext(d.ConfigContext),w=k.getPrefixCls,C=k.direction,P=o.useContext(u.GroupContext),N=o.useRef(x.value);o.useEffect((function(){null===P||void 0===P||P.registerValue(x.value),(0,f.default)("checked"in x||!!P||!("value"in x),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),o.useEffect((function(){if(!y)return x.value!==N.current&&(null===P||void 0===P||P.cancelValue(N.current),null===P||void 0===P||P.registerValue(x.value),N.current=x.value),function(){return null===P||void 0===P?void 0:P.cancelValue(x.value)}}),[x.value]);var S=w("checkbox",a),E=(0,i.default)({},x);P&&!y&&(E.onChange=function(){x.onChange&&x.onChange.apply(x,arguments),P.toggleOption&&P.toggleOption({label:p,value:x.value})},E.name=P.name,E.checked=-1!==P.value.indexOf(x.value),E.disabled=x.disabled||P.disabled);var _=(0,l.default)((n={},(0,c.default)(n,"".concat(S,"-wrapper"),!0),(0,c.default)(n,"".concat(S,"-rtl"),"rtl"===C),(0,c.default)(n,"".concat(S,"-wrapper-checked"),E.checked),(0,c.default)(n,"".concat(S,"-wrapper-disabled"),E.disabled),n),r),I=(0,l.default)((0,c.default)({},"".concat(S,"-indeterminate"),j));return o.createElement("label",{className:_,style:m,onMouseEnter:O,onMouseLeave:v},o.createElement(s.default,(0,i.default)({},E,{prefixCls:S,className:I,ref:t})),void 0!==p&&o.createElement("span",null,p))},j=o.forwardRef(h);j.displayName="Checkbox";var m=j;t.default=m},Nfnr:function(e,t,n){"use strict";var a=n("MM9K"),r=n.n(a),c=n("Y/VR"),i=n.n(c),o=n("nKUr"),l=n("d2CI"),s=n.n(l),u=n("q1tI"),d=n("20a2"),f=n("YFqc"),p=n.n(f),b=n("p46w"),h=n.n(b),j=n("2MCQ"),m=n.n(j),O=n("MjGk"),v=n.n(O),g=n("Gv1R"),y=n("cPPd");t.a=function(e){var t=e.children,n=e.tok,a=e.dataProfile,c=e.pathArr,l=e.sidemenu,f=e.st,b=Object(d.useRouter)(),j="",O=[];if(c)if("dashboard"===c[0])j=(j=c[1])[0].toUpperCase()+j.slice(1);else for(var x=0;x<c.length;x++)O.push(c[x]);var k=O.map((function(e,t){return e[0].toUpperCase()+e.slice(1)})),w=(s.a.Sider,s.a.Content,s.a.Header),C=Object(u.useState)(!0),P=C[0],N=C[1],S=Object(u.useState)(!0),E=S[0],_=S[1],I=Object(u.useState)(90),M=(I[0],I[1]),T=Object(u.useState)(!1),D=T[0],A=T[1],F=function(){N((function(e){return!e}))},K=function(){_((function(e){return!e}))};Object(u.useEffect)((function(){var e=window.innerHeight;M(e)}),[]);var R="";return Object(o.jsx)(r.a,{spinning:D,children:Object(o.jsxs)("div",{className:" min-h-screen flex",children:[Object(o.jsx)(g.a,{dataProfile:a,handleCollSmall:K,sidemenu:l,coll:P,collsmall:E,st:f}),Object(o.jsxs)("div",{className:"h-auto w-full",children:[Object(o.jsxs)(w,{className:"site-layout-background",style:{padding:0,backgroundColor:"white",display:"flex",alignItems:"center",flexDirection:"row",flexWrap:"wrap",width:"100%",justifyContent:"space-between",height:"auto"},children:[Object(o.jsxs)("div",{className:"flex z-50",children:[P?Object(o.jsx)(m.a,{onClick:F,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:f.trigger}):Object(o.jsx)(v.a,{onClick:F,style:{padding:"24px",float:"left"},className:f.trigger}),E?Object(o.jsx)(m.a,{onClick:K,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:f.triggerSmall}):Object(o.jsx)(v.a,{onClick:K,style:{padding:"24px",float:"left"},className:f.triggerSmall}),c?Object(o.jsx)(i.a,{separator:">",style:{float:"left",padding:"24px 10px",backgroundColor:"white"},className:f.breadcrumbClients,children:0!==k.length?k.map((function(e,t){return R+="/".concat(c[t]),0===t?Object(o.jsxs)(i.a.Item,{href:"/dashboard/".concat(c[t]),children:[" ",Object(o.jsx)("strong",{children:e})," "]},t):t===k.length-1&&t>0?"Assets"===e?Object(o.jsxs)(i.a.Item,{children:[" ",Object(o.jsx)("strong",{children:"Assets Types & Fields"})," "]},t):Object(o.jsxs)(i.a.Item,{children:[" ",Object(o.jsx)("strong",{children:e})," "]},t):Object(o.jsx)(i.a.Item,{href:R,children:Object(o.jsx)("strong",{children:e})},t)})):null}):null]}),Object(o.jsx)("label",{htmlFor:"menutoggle",className:"pointer-cursor md:hidden block cursor-pointer mr-4",children:Object(o.jsxs)("svg",{className:"fill-current text-gray-900",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",children:[Object(o.jsx)("title",{children:"menu"}),Object(o.jsx)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})}),Object(o.jsx)("input",{className:"hidden ".concat(f.menuToggle),type:"checkbox",id:"menutoggle"}),Object(o.jsx)(y.a,{dataProfile:a,Linkheader:p.a,handleLogout:function(){A(!0),fetch("https://boiling-thicket-46501.herokuapp.com/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(n)}}).then((function(e){return e.json()})).then((function(e){A(!1),e.success&&(h.a.remove("token"),console.log("token abis logout: "+h.a.get("token")),b.push("/login"))})).catch((function(e){A(!1),console.log(e.message)}))},st:f}),c?Object(o.jsx)(i.a,{separator:">",style:{float:"left",padding:"24px 24px",fontSize:"0.825rem",width:"100%"},className:f.breadcrumbClientsSmall,children:0!==k.length?k.map((function(e,t){return R+="/".concat(c[t]),0===t?Object(o.jsxs)(i.a.Item,{href:"dashboard/".concat(e),children:[" ",Object(o.jsx)("strong",{children:e})," "]},t):t===k.length-1&&t>0?Object(o.jsxs)(i.a.Item,{children:[" ",Object(o.jsx)("strong",{children:e})," "]},t):Object(o.jsx)(i.a.Item,{href:R,children:Object(o.jsx)("strong",{children:e})},t)})):null}):null]}),Object(o.jsx)("main",{className:"slb min-h-screen bg-white",style:{padding:24},children:t})]})]})})}},"g4D/":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("JmJJ")),c=a(n("DMXp")),i=r.default;i.Group=c.default,i.__ANT_CHECKBOX=!0;var o=i;t.default=o},x1Ya:function(e,t,n){"use strict";n.r(t);var a=n("wx14"),r=n("rePB"),c=n("Ff2n"),i=n("VTBJ"),o=n("1OyB"),l=n("vuIU"),s=n("Ji7U"),u=n("LK+K"),d=n("q1tI"),f=n.n(d),p=n("TSYQ"),b=n.n(p),h=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,r=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),r&&r({target:Object(i.a)(Object(i.a)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var r="checked"in e?e.checked:e.defaultChecked;return a.state={checked:r},a}return Object(l.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,o=t.style,l=t.name,s=t.id,u=t.type,d=t.disabled,p=t.readOnly,h=t.tabIndex,j=t.onClick,m=t.onFocus,O=t.onBlur,v=t.onKeyDown,g=t.onKeyPress,y=t.onKeyUp,x=t.autoFocus,k=t.value,w=t.required,C=Object(c.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),P=Object.keys(C).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=C[t]),e}),{}),N=this.state.checked,S=b()(n,i,(e={},Object(r.a)(e,"".concat(n,"-checked"),N),Object(r.a)(e,"".concat(n,"-disabled"),d),e));return f.a.createElement("span",{className:S,style:o},f.a.createElement("input",Object(a.a)({name:l,id:s,type:u,required:w,readOnly:p,disabled:d,tabIndex:h,className:"".concat(n,"-input"),checked:!!N,onClick:j,onFocus:m,onBlur:O,onKeyUp:y,onKeyDown:v,onKeyPress:g,onChange:this.handleChange,autoFocus:x,ref:this.saveInput,value:k},P)),f.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(i.a)(Object(i.a)({},t),{},{checked:e.checked}):null}}]),n}(d.Component);h.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.default=h},xvhg:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("8rE2");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(l){r=!0,c=l}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}return n}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},[["+Wdk",0,2,1,3,4,5,6,9,10,12,22]]]);