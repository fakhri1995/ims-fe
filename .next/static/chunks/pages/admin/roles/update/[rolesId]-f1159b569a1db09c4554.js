_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[92],{DMXp:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GroupContext=void 0;var c=a(n("pVnL")),i=a(n("lSNA")),l=a(n("RIqP")),s=a(n("J4zp")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=c?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),u=a(n("TSYQ")),d=a(n("+04X")),f=a(n("JmJJ")),p=n("vgIT");function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},j=o.createContext(null);t.GroupContext=j;var m=function(e,t){var n=e.defaultValue,a=e.children,r=e.options,h=void 0===r?[]:r,m=e.prefixCls,O=e.className,g=e.style,v=e.onChange,x=b(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),y=o.useContext(p.ConfigContext),k=y.getPrefixCls,w=y.direction,C=o.useState(x.value||n||[]),N=(0,s.default)(C,2),P=N[0],S=N[1],_=o.useState([]),E=(0,s.default)(_,2),I=E[0],M=E[1];o.useEffect((function(){"value"in x&&S(x.value||[])}),[x.value]);var D=function(){return h.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))},T=k("checkbox",m),R="".concat(T,"-group"),F=(0,d.default)(x,["value","disabled"]);h&&h.length>0&&(a=D().map((function(e){return o.createElement(f.default,{prefixCls:T,key:e.value.toString(),disabled:"disabled"in e?e.disabled:x.disabled,value:e.value,checked:-1!==P.indexOf(e.value),onChange:e.onChange,className:"".concat(R,"-item"),style:e.style},e.label)})));var K={toggleOption:function(e){var t=P.indexOf(e.value),n=(0,l.default)(P);-1===t?n.push(e.value):n.splice(t,1),"value"in x||S(n);var a=D();null===v||void 0===v||v(n.filter((function(e){return-1!==I.indexOf(e)})).sort((function(e,t){return a.findIndex((function(t){return t.value===e}))-a.findIndex((function(e){return e.value===t}))})))},value:P,disabled:x.disabled,name:x.name,registerValue:function(e){M((function(t){return[].concat((0,l.default)(t),[e])}))},cancelValue:function(e){M((function(t){return t.filter((function(t){return t!==e}))}))}},q=(0,u.default)(R,(0,i.default)({},"".concat(R,"-rtl"),"rtl"===w),O);return o.createElement("div",(0,c.default)({className:q,style:g},F,{ref:t}),o.createElement(j.Provider,{value:K},a))},O=o.forwardRef(m),g=o.memo(O);t.default=g},JmJJ:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n("lSNA")),i=a(n("pVnL")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=c?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),s=a(n("TSYQ")),o=a(n("x1Ya")),u=n("DMXp"),d=n("vgIT"),f=a(n("m4nH"));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},b=function(e,t){var n,a=e.prefixCls,r=e.className,p=e.children,b=e.indeterminate,j=void 0!==b&&b,m=e.style,O=e.onMouseEnter,g=e.onMouseLeave,v=e.skipGroup,x=void 0!==v&&v,y=h(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),k=l.useContext(d.ConfigContext),w=k.getPrefixCls,C=k.direction,N=l.useContext(u.GroupContext),P=l.useRef(y.value);l.useEffect((function(){null===N||void 0===N||N.registerValue(y.value),(0,f.default)("checked"in y||!!N||!("value"in y),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),l.useEffect((function(){if(!x)return y.value!==P.current&&(null===N||void 0===N||N.cancelValue(P.current),null===N||void 0===N||N.registerValue(y.value)),function(){return null===N||void 0===N?void 0:N.cancelValue(y.value)}}),[y.value]);var S=w("checkbox",a),_=(0,i.default)({},y);N&&!x&&(_.onChange=function(){y.onChange&&y.onChange.apply(y,arguments),N.toggleOption&&N.toggleOption({label:p,value:y.value})},_.name=N.name,_.checked=-1!==N.value.indexOf(y.value),_.disabled=y.disabled||N.disabled);var E=(0,s.default)((n={},(0,c.default)(n,"".concat(S,"-wrapper"),!0),(0,c.default)(n,"".concat(S,"-rtl"),"rtl"===C),(0,c.default)(n,"".concat(S,"-wrapper-checked"),_.checked),(0,c.default)(n,"".concat(S,"-wrapper-disabled"),_.disabled),n),r),I=(0,s.default)((0,c.default)({},"".concat(S,"-indeterminate"),j));return l.createElement("label",{className:E,style:m,onMouseEnter:O,onMouseLeave:g},l.createElement(o.default,(0,i.default)({},_,{prefixCls:S,className:I,ref:t})),void 0!==p&&l.createElement("span",null,p))},j=l.forwardRef(b);j.displayName="Checkbox";var m=j;t.default=m},Nfnr:function(e,t,n){"use strict";var a=n("MM9K"),r=n.n(a),c=n("Y/VR"),i=n.n(c),l=n("nKUr"),s=n("d2CI"),o=n.n(s),u=n("q1tI"),d=n("20a2"),f=n("YFqc"),p=n.n(f),h=n("p46w"),b=n.n(h),j=n("2MCQ"),m=n.n(j),O=n("MjGk"),g=n.n(O),v=n("Gv1R"),x=n("cPPd");t.a=function(e){var t=e.children,n=e.tok,a=e.dataProfile,c=e.pathArr,s=e.sidemenu,f=e.st,h=Object(d.useRouter)(),j="",O=[];if(c)if("dashboard"===c[0])j=(j=c[1])[0].toUpperCase()+j.slice(1);else for(var y=0;y<c.length;y++)O.push(c[y]);var k=O.map((function(e,t){return e[0].toUpperCase()+e.slice(1)})),w=(o.a.Sider,o.a.Content,o.a.Header),C=Object(u.useState)(!0),N=C[0],P=C[1],S=Object(u.useState)(!0),_=S[0],E=S[1],I=Object(u.useState)(90),M=(I[0],I[1]),D=Object(u.useState)(!1),T=D[0],R=D[1],F=function(){P((function(e){return!e}))},K=function(){E((function(e){return!e}))};Object(u.useEffect)((function(){var e=window.innerHeight;M(e)}),[]);var q="";return Object(l.jsx)(r.a,{spinning:T,children:Object(l.jsxs)("div",{className:" min-h-screen flex",children:[Object(l.jsx)(v.a,{dataProfile:a,handleCollSmall:K,sidemenu:s,coll:N,collsmall:_,st:f}),Object(l.jsxs)("div",{className:"h-auto w-full",children:[Object(l.jsxs)(w,{className:"site-layout-background",style:{padding:0,backgroundColor:"white",display:"flex",alignItems:"center",flexDirection:"row",flexWrap:"wrap",width:"100%",justifyContent:"space-between",height:"auto"},children:[Object(l.jsxs)("div",{className:"flex z-50",children:[N?Object(l.jsx)(m.a,{onClick:F,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:f.trigger}):Object(l.jsx)(g.a,{onClick:F,style:{padding:"24px",float:"left"},className:f.trigger}),_?Object(l.jsx)(m.a,{onClick:K,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:f.triggerSmall}):Object(l.jsx)(g.a,{onClick:K,style:{padding:"24px",float:"left"},className:f.triggerSmall}),c?Object(l.jsx)(i.a,{separator:">",style:{float:"left",padding:"24px 10px",backgroundColor:"white"},className:f.breadcrumbClients,children:0!==k.length?k.map((function(e,t){return q+="/".concat(c[t]),0===t?Object(l.jsxs)(i.a.Item,{href:"/dashboard/".concat(c[t]),children:[" ",Object(l.jsx)("strong",{children:e})," "]},t):t===k.length-1&&t>0?"Assets"===e?Object(l.jsxs)(i.a.Item,{children:[" ",Object(l.jsx)("strong",{children:"Assets Types & Fields"})," "]},t):Object(l.jsxs)(i.a.Item,{children:[" ",Object(l.jsx)("strong",{children:e})," "]},t):Object(l.jsx)(i.a.Item,{href:q,children:Object(l.jsx)("strong",{children:e})},t)})):null}):null]}),Object(l.jsx)("label",{htmlFor:"menutoggle",className:"pointer-cursor md:hidden block cursor-pointer mr-4",children:Object(l.jsxs)("svg",{className:"fill-current text-gray-900",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",children:[Object(l.jsx)("title",{children:"menu"}),Object(l.jsx)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})}),Object(l.jsx)("input",{className:"hidden ".concat(f.menuToggle),type:"checkbox",id:"menutoggle"}),Object(l.jsx)(x.a,{dataProfile:a,Linkheader:p.a,handleLogout:function(){R(!0),fetch("https://boiling-thicket-46501.herokuapp.com/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(n)}}).then((function(e){return e.json()})).then((function(e){R(!1),e.success&&(b.a.remove("token"),console.log("token abis logout: "+b.a.get("token")),h.push("/login"))})).catch((function(e){R(!1),console.log(e.message)}))},st:f}),c?Object(l.jsx)(i.a,{separator:">",style:{float:"left",padding:"24px 24px",fontSize:"0.825rem",width:"100%"},className:f.breadcrumbClientsSmall,children:0!==k.length?k.map((function(e,t){return q+="/".concat(c[t]),0===t?Object(l.jsxs)(i.a.Item,{href:"dashboard/".concat(e),children:[" ",Object(l.jsx)("strong",{children:e})," "]},t):t===k.length-1&&t>0?Object(l.jsxs)(i.a.Item,{children:[" ",Object(l.jsx)("strong",{children:e})," "]},t):Object(l.jsx)(i.a.Item,{href:q,children:Object(l.jsx)("strong",{children:e})},t)})):null}):null]}),Object(l.jsx)("main",{className:"slb min-h-screen bg-white",style:{padding:24},children:t})]})]})})}},S3px:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return E}));var a=n("kEgK"),r=n.n(a),c=n("nKUr"),i=n("g4D/"),l=n.n(i),s=n("4IMT"),o=n.n(s),u=n("rR1Q"),d=n.n(u),f=n("rePB"),p=n("qu0K"),h=n.n(p),b=n("ODXe"),j=n("j7zX"),m=n.n(j),O=n("iJl9"),g=n.n(O),v=n("q1tI"),x=n("20a2"),y=n("Nfnr"),k=n("g6Xq"),w=n.n(k),C=n("YFqc"),N=n.n(C),P=n("vgPz");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=!0;t.default=function(e){var t=e.initProps,n=e.dataProfile,a=e.sidemenu,i=(e.dataRolesDetail,e.dataListModules,e.idrole),s=Object(x.useRouter)(),u=t,p=g.a.TextArea,j=m.a.TabPane,O=h.a.useForm(),k=Object(b.a)(O,1)[0],C=Object(v.useState)(!0),S=C[0],E=C[1],I=Object(v.useState)(!0),M=I[0],D=I[1],T=Object(v.useState)([]),R=T[0],F=T[1],K=Object(v.useState)(!1),q=K[0],J=K[1],V=Object(v.useState)(!1),A=(V[0],V[1],Object(v.useState)(!1)),z=(A[0],A[1],Object(v.useState)({id:"",name:"",description:"",feature_ids:[]})),U=z[0],G=z[1],B=Object(v.useState)([{id:"",key:"",name:"",status:"",company_id:0,description:"",feature:[{id:"",key:"",name:""}]}]),L=B[0],X=B[1],W=function(e){var t=e.target.value;G(_(_({},U),{},Object(f.a)({},e.target.name,t)))};return Object(v.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getRole?id=".concat(i),{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){var t={id:e.data.id,name:e.data.name,description:e.data.description,feature_ids:0===e.data.features.length?[]:e.data.features.map((function(e){return e.id}))};G(t);var n=s.pathname.split("/").slice(1);n.splice(2,1),n[n.length-1]="Update Role - "+e.data.name,F(n),E(!1)}))}),[]),Object(v.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getModules",{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){X(e.data),D(!1)}))}),[]),Object(c.jsx)(y.a,{tok:u,dataProfile:n,pathArr:R,sidemenu:a,st:w.a,children:Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"w-full h-auto grid grid-cols-1 md:grid-cols-4",id:"formAgentsWrapper",children:[Object(c.jsx)("div",{className:"col-span-1 md:col-span-4",children:Object(c.jsx)(P.a,{containerSelectorFocus:"#formAgentsWrapper",children:Object(c.jsxs)("div",{className:"flex justify-between p-4 border-gray-400 border-t border-b bg-white mb-8",children:[Object(c.jsx)("h1",{className:"font-semibold text-base w-auto ",children:"Edit Role"}),Object(c.jsxs)("div",{className:"flex space-x-2",children:[Object(c.jsx)(N.a,{href:"/admin/roles/detail/".concat(i),children:Object(c.jsx)(o.a,{type:"default",size:"middle",children:"Batal"})}),Object(c.jsx)(o.a,{type:"primary",size:"middle",onClick:k.submit,loading:q,children:"Simpan"})]})]})})}),Object(c.jsxs)("div",{className:" col-span-1 md:col-span-3 flex flex-col",children:[S?null:Object(c.jsxs)(h.a,{layout:"vertical",style:{display:"contents"},form:k,onFinish:function(){J(!0),fetch("https://boiling-thicket-46501.herokuapp.com/updateRole",{method:"PUT",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"},body:JSON.stringify(U)}).then((function(e){return e.json()})).then((function(e){e.success?(d.a.success({message:"Role berhasil diubah",duration:3}),G({id:0,name:"",description:"",feature_ids:[]}),setTimeout((function(){J(!1),s.push("/admin/roles/detail/".concat(i))}),300)):e.success||(d.a.error({message:e.message.errorInfo.status_detail,duration:3}),J(!1))}))},initialValues:U,children:[Object(c.jsx)("div",{className:"pb-4 md:mb-0 ",children:Object(c.jsx)(h.a.Item,{name:"name",style:{marginRight:"1rem"},label:"Nama Role",rules:[{required:!0,message:"Nama Role wajib diisi"}],children:Object(c.jsx)(g.a,{placeholder:"Role Name",name:"name",onChange:W,defaultValue:U.name})})}),Object(c.jsx)("div",{className:"pb-4 md:mb-0",children:Object(c.jsx)(h.a.Item,{name:"description",style:{marginRight:"1rem"},label:"Deskripsi",rules:[{required:!0,message:"Deskripsi wajib diisi"}],children:Object(c.jsx)(p,{placeholder:"Description",rows:2,name:"description",defaultValue:U.description,onChange:W})})})]}),Object(c.jsx)("hr",{}),M?null:Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"font-semibold text-base w-auto p-2",children:"Permissions"}),Object(c.jsx)(m.a,{defaultActiveKey:"1",tabPosition:"left",children:L.map((function(e,t){return Object(c.jsx)(j,{tab:e.name,children:Object(c.jsx)("div",{className:" overflow-y-auto h-80 mb-5",children:null!==e.features?Object(c.jsx)(c.Fragment,{children:e.features.map((function(e,t){var n=U.feature_ids.includes(e.id);return Object(c.jsxs)("div",{className:"flex items-center hover:bg-gray-300 p-3",children:[Object(c.jsx)(l.a,{style:{marginRight:"1rem"},onChange:function(t){!function(e,t){if(e.target.checked){var n=U.feature_ids;n.push(t),G(_(_({},U),{},{feature_ids:n}))}else{var a=U.feature_ids,r=a.indexOf(t);a.splice(r,1),G(_(_({},U),{},{feature_ids:a}))}}(t,e.id)},defaultChecked:n})," ",e.name]},t)}))}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(r.a,{image:r.a.PRESENTED_IMAGE_SIMPLE})})})},t+1)}))})]})})]})]})})})}},"g4D/":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("JmJJ")),c=a(n("DMXp")),i=r.default;i.Group=c.default,i.__ANT_CHECKBOX=!0;var l=i;t.default=l},qGU8:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/roles/update/[rolesId]",function(){return n("S3px")}])},x1Ya:function(e,t,n){"use strict";n.r(t);var a=n("wx14"),r=n("rePB"),c=n("Ff2n"),i=n("VTBJ"),l=n("1OyB"),s=n("vuIU"),o=n("Ji7U"),u=n("LK+K"),d=n("q1tI"),f=n.n(d),p=n("TSYQ"),h=n.n(p),b=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,r=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),r&&r({target:Object(i.a)(Object(i.a)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var r="checked"in e?e.checked:e.defaultChecked;return a.state={checked:r},a}return Object(s.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,l=t.style,s=t.name,o=t.id,u=t.type,d=t.disabled,p=t.readOnly,b=t.tabIndex,j=t.onClick,m=t.onFocus,O=t.onBlur,g=t.onKeyDown,v=t.onKeyPress,x=t.onKeyUp,y=t.autoFocus,k=t.value,w=t.required,C=Object(c.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),N=Object.keys(C).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=C[t]),e}),{}),P=this.state.checked,S=h()(n,i,(e={},Object(r.a)(e,"".concat(n,"-checked"),P),Object(r.a)(e,"".concat(n,"-disabled"),d),e));return f.a.createElement("span",{className:S,style:l},f.a.createElement("input",Object(a.a)({name:s,id:o,type:u,required:w,readOnly:p,disabled:d,tabIndex:b,className:"".concat(n,"-input"),checked:!!P,onClick:j,onFocus:m,onBlur:O,onKeyUp:x,onKeyDown:g,onKeyPress:v,onChange:this.handleChange,autoFocus:y,ref:this.saveInput,value:k},N)),f.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(i.a)(Object(i.a)({},t),{},{checked:e.checked}):null}}]),n}(d.Component);b.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.default=b}},[["qGU8",0,2,1,3,4,5,6,7,10,12,22]]]);