_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[90],{"+Wdk":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/roles/create",function(){return n("Guy3")}])},DMXp:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GroupContext=void 0;var c=a(n("pVnL")),i=a(n("lSNA")),l=a(n("RIqP")),s=a(n("J4zp")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=c?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),u=a(n("TSYQ")),d=a(n("+04X")),f=a(n("JmJJ")),p=n("vgIT");function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}var h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},j=o.createContext(null);t.GroupContext=j;var m=function(e,t){var n=e.defaultValue,a=e.children,r=e.options,b=void 0===r?[]:r,m=e.prefixCls,O=e.className,g=e.style,v=e.onChange,x=h(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),y=o.useContext(p.ConfigContext),k=y.getPrefixCls,w=y.direction,C=o.useState(x.value||n||[]),P=(0,s.default)(C,2),N=P[0],S=P[1],_=o.useState([]),E=(0,s.default)(_,2),I=E[0],M=E[1];o.useEffect((function(){"value"in x&&S(x.value||[])}),[x.value]);var D=function(){return b.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))},T=k("checkbox",m),K="".concat(T,"-group"),R=(0,d.default)(x,["value","disabled"]);b&&b.length>0&&(a=D().map((function(e){return o.createElement(f.default,{prefixCls:T,key:e.value.toString(),disabled:"disabled"in e?e.disabled:x.disabled,value:e.value,checked:-1!==N.indexOf(e.value),onChange:e.onChange,className:"".concat(K,"-item"),style:e.style},e.label)})));var q={toggleOption:function(e){var t=N.indexOf(e.value),n=(0,l.default)(N);-1===t?n.push(e.value):n.splice(t,1),"value"in x||S(n);var a=D();null===v||void 0===v||v(n.filter((function(e){return-1!==I.indexOf(e)})).sort((function(e,t){return a.findIndex((function(t){return t.value===e}))-a.findIndex((function(e){return e.value===t}))})))},value:N,disabled:x.disabled,name:x.name,registerValue:function(e){M((function(t){return[].concat((0,l.default)(t),[e])}))},cancelValue:function(e){M((function(t){return t.filter((function(t){return t!==e}))}))}},F=(0,u.default)(K,(0,i.default)({},"".concat(K,"-rtl"),"rtl"===w),O);return o.createElement("div",(0,c.default)({className:F,style:g},R,{ref:t}),o.createElement(j.Provider,{value:q},a))},O=o.forwardRef(m),g=o.memo(O);t.default=g},Guy3:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return E}));var a=n("kEgK"),r=n.n(a),c=n("nKUr"),i=n("g4D/"),l=n.n(i),s=n("4IMT"),o=n.n(s),u=n("rR1Q"),d=n.n(u),f=n("rePB"),p=n("qu0K"),b=n.n(p),h=n("ODXe"),j=n("j7zX"),m=n.n(j),O=n("iJl9"),g=n.n(O),v=n("20a2"),x=n("q1tI"),y=n("Nfnr"),k=n("g6Xq"),w=n.n(k),C=n("YFqc"),P=n.n(C),N=n("vgPz");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=!0;t.default=function(e){var t=e.initProps,n=e.dataProfile,a=(e.dataListModules,e.sidemenu),i=Object(v.useRouter)(),s=t,u=i.pathname.split("/").slice(1);u[u.length-1]="Buat Role";var p=i.query.originPath,j=g.a.TextArea,O=m.a.TabPane,k=b.a.useForm(),C=Object(h.a)(k,1)[0],S=Object(x.useState)(!1),E=S[0],I=S[1],M=Object(x.useState)(!0),D=M[0],T=M[1],K=Object(x.useState)({name:"",description:"",feature_ids:[]}),R=K[0],q=K[1],F=Object(x.useState)([{id:"",key:"",name:"",status:"",company_id:0,description:"",feature:[{id:"",key:"",name:""}]}]),J=F[0],A=F[1],V=function(e){var t=e.target.value;q(_(_({},R),{},Object(f.a)({},e.target.name,t)))};return Object(x.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getModules",{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){A(e.data),T(!1)}))}),[]),Object(c.jsx)(y.a,{tok:s,dataProfile:n,pathArr:u,sidemenu:a,originPath:p,st:w.a,children:Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"w-full h-auto grid grid-cols-1 md:grid-cols-4",id:"formAgentsWrapper",children:[Object(c.jsx)("div",{className:"col-span-1 md:col-span-4",children:Object(c.jsx)(N.a,{containerSelectorFocus:"#formAgentsWrapper",children:Object(c.jsxs)("div",{className:"flex justify-between p-4 border-gray-400 border-t border-b bg-white mb-8",children:[Object(c.jsx)("h1",{className:"font-semibold text-base w-auto ",children:"Buat Role"}),Object(c.jsxs)("div",{className:"flex space-x-2",children:[Object(c.jsx)(P.a,{href:"/admin/roles",children:Object(c.jsx)(o.a,{type:"default",size:"middle",children:"Batal"})}),Object(c.jsx)(o.a,{type:"primary",size:"middle",onClick:C.submit,loading:E,children:"Simpan"})]})]})})}),Object(c.jsx)(b.a,{layout:"vertical",style:{display:"contents"},form:C,onFinish:function(){I(!0),fetch("https://boiling-thicket-46501.herokuapp.com/addRole",{method:"POST",headers:{Authorization:JSON.parse(t),"Content-Type":"application/json"},body:JSON.stringify(R)}).then((function(e){return e.json()})).then((function(e){e.success?(d.a.success({message:"Role berhasil ditambahkan",duration:3}),q({name:"",description:"",feature_ids:[]}),setTimeout((function(){I(!1),i.push("/admin/roles/detail/".concat(e.id))}),300)):e.success||(d.a.error({message:e.message.errorInfo.status_detail,duration:3}),I(!1))}))},initialValues:R,children:Object(c.jsxs)("div",{className:" col-span-1 md:col-span-3 flex flex-col",children:[Object(c.jsx)("div",{className:"pb-4 md:mb-0 ",children:Object(c.jsx)(b.a.Item,{name:"name",style:{marginRight:"1rem"},label:"Nama Role",rules:[{required:!0,message:"Nama role wajib diisi"}],children:Object(c.jsx)(g.a,{name:"name",onChange:V})})}),Object(c.jsx)("div",{className:"pb-4 md:mb-0",children:Object(c.jsx)(b.a.Item,{name:"description",style:{marginRight:"1rem"},label:"Deskripsi",rules:[{required:!0,message:"Deskripsi role wajib diisi"}],children:Object(c.jsx)(j,{rows:2,name:"description",onChange:V})})}),Object(c.jsx)("hr",{}),Object(c.jsx)("h1",{className:"font-semibold text-base w-auto p-2",children:"Permissions"}),D?null:Object(c.jsx)(m.a,{defaultActiveKey:"1",tabPosition:"left",children:J.map((function(e,t){return Object(c.jsx)(O,{tab:e.name,children:Object(c.jsx)("div",{className:"mb-5",children:null!==e.features?Object(c.jsx)(c.Fragment,{children:e.features.map((function(e,t){return Object(c.jsxs)("div",{className:"flex items-center hover:bg-gray-300 p-3",children:[Object(c.jsx)(l.a,{style:{marginRight:"1rem"},onChange:function(t){!function(e,t){if(e.target.checked){var n=R.feature_ids;n.push(t),q(_(_({},R),{},{feature_ids:n}))}else{var a=R.feature_ids,r=a.indexOf(t);a.splice(r,1),q(_(_({},R),{},{feature_ids:a}))}}(t,e.id)}})," ",e.name]},t)}))}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(r.a,{image:r.a.PRESENTED_IMAGE_SIMPLE})})})},t+1)}))})]})})]})})})}},JmJJ:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n("lSNA")),i=a(n("pVnL")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=c?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),s=a(n("TSYQ")),o=a(n("x1Ya")),u=n("DMXp"),d=n("vgIT"),f=a(n("m4nH"));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},h=function(e,t){var n,a=e.prefixCls,r=e.className,p=e.children,h=e.indeterminate,j=void 0!==h&&h,m=e.style,O=e.onMouseEnter,g=e.onMouseLeave,v=e.skipGroup,x=void 0!==v&&v,y=b(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),k=l.useContext(d.ConfigContext),w=k.getPrefixCls,C=k.direction,P=l.useContext(u.GroupContext),N=l.useRef(y.value);l.useEffect((function(){null===P||void 0===P||P.registerValue(y.value),(0,f.default)("checked"in y||!!P||!("value"in y),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),l.useEffect((function(){if(!x)return y.value!==N.current&&(null===P||void 0===P||P.cancelValue(N.current),null===P||void 0===P||P.registerValue(y.value)),function(){return null===P||void 0===P?void 0:P.cancelValue(y.value)}}),[y.value]);var S=w("checkbox",a),_=(0,i.default)({},y);P&&!x&&(_.onChange=function(){y.onChange&&y.onChange.apply(y,arguments),P.toggleOption&&P.toggleOption({label:p,value:y.value})},_.name=P.name,_.checked=-1!==P.value.indexOf(y.value),_.disabled=y.disabled||P.disabled);var E=(0,s.default)((n={},(0,c.default)(n,"".concat(S,"-wrapper"),!0),(0,c.default)(n,"".concat(S,"-rtl"),"rtl"===C),(0,c.default)(n,"".concat(S,"-wrapper-checked"),_.checked),(0,c.default)(n,"".concat(S,"-wrapper-disabled"),_.disabled),n),r),I=(0,s.default)((0,c.default)({},"".concat(S,"-indeterminate"),j));return l.createElement("label",{className:E,style:m,onMouseEnter:O,onMouseLeave:g},l.createElement(o.default,(0,i.default)({},_,{prefixCls:S,className:I,ref:t})),void 0!==p&&l.createElement("span",null,p))},j=l.forwardRef(h);j.displayName="Checkbox";var m=j;t.default=m},Nfnr:function(e,t,n){"use strict";var a=n("MM9K"),r=n.n(a),c=n("Y/VR"),i=n.n(c),l=n("nKUr"),s=n("d2CI"),o=n.n(s),u=n("q1tI"),d=n("20a2"),f=n("YFqc"),p=n.n(f),b=n("p46w"),h=n.n(b),j=n("2MCQ"),m=n.n(j),O=n("MjGk"),g=n.n(O),v=n("Gv1R"),x=n("cPPd");t.a=function(e){var t=e.children,n=e.tok,a=e.dataProfile,c=e.pathArr,s=e.sidemenu,f=e.st,b=Object(d.useRouter)(),j="",O=[];if(c)if("dashboard"===c[0])j=(j=c[1])[0].toUpperCase()+j.slice(1);else for(var y=0;y<c.length;y++)O.push(c[y]);var k=O.map((function(e,t){return e[0].toUpperCase()+e.slice(1)})),w=(o.a.Sider,o.a.Content,o.a.Header),C=Object(u.useState)(!0),P=C[0],N=C[1],S=Object(u.useState)(!0),_=S[0],E=S[1],I=Object(u.useState)(90),M=(I[0],I[1]),D=Object(u.useState)(!1),T=D[0],K=D[1],R=function(){N((function(e){return!e}))},q=function(){E((function(e){return!e}))};Object(u.useEffect)((function(){var e=window.innerHeight;M(e)}),[]);var F="";return Object(l.jsx)(r.a,{spinning:T,children:Object(l.jsxs)("div",{className:" min-h-screen flex",children:[Object(l.jsx)(v.a,{dataProfile:a,handleCollSmall:q,sidemenu:s,coll:P,collsmall:_,st:f}),Object(l.jsxs)("div",{className:"h-auto w-full",children:[Object(l.jsxs)(w,{className:"site-layout-background",style:{padding:0,backgroundColor:"white",display:"flex",alignItems:"center",flexDirection:"row",flexWrap:"wrap",width:"100%",justifyContent:"space-between",height:"auto"},children:[Object(l.jsxs)("div",{className:"flex z-50",children:[P?Object(l.jsx)(m.a,{onClick:R,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:f.trigger}):Object(l.jsx)(g.a,{onClick:R,style:{padding:"24px",float:"left"},className:f.trigger}),_?Object(l.jsx)(m.a,{onClick:q,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:f.triggerSmall}):Object(l.jsx)(g.a,{onClick:q,style:{padding:"24px",float:"left"},className:f.triggerSmall}),c?Object(l.jsx)(i.a,{separator:">",style:{float:"left",padding:"24px 10px",backgroundColor:"white"},className:f.breadcrumbClients,children:0!==k.length?k.map((function(e,t){return F+="/".concat(c[t]),0===t?Object(l.jsxs)(i.a.Item,{href:"/dashboard/".concat(c[t]),children:[" ",Object(l.jsx)("strong",{children:e})," "]},t):t===k.length-1&&t>0?"Assets"===e?Object(l.jsxs)(i.a.Item,{children:[" ",Object(l.jsx)("strong",{children:"Assets Types & Fields"})," "]},t):Object(l.jsxs)(i.a.Item,{children:[" ",Object(l.jsx)("strong",{children:e})," "]},t):Object(l.jsx)(i.a.Item,{href:F,children:Object(l.jsx)("strong",{children:e})},t)})):null}):null]}),Object(l.jsx)("label",{htmlFor:"menutoggle",className:"pointer-cursor md:hidden block cursor-pointer mr-4",children:Object(l.jsxs)("svg",{className:"fill-current text-gray-900",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",children:[Object(l.jsx)("title",{children:"menu"}),Object(l.jsx)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})}),Object(l.jsx)("input",{className:"hidden ".concat(f.menuToggle),type:"checkbox",id:"menutoggle"}),Object(l.jsx)(x.a,{dataProfile:a,Linkheader:p.a,handleLogout:function(){K(!0),fetch("https://boiling-thicket-46501.herokuapp.com/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(n)}}).then((function(e){return e.json()})).then((function(e){K(!1),e.success&&(h.a.remove("token"),console.log("token abis logout: "+h.a.get("token")),b.push("/login"))})).catch((function(e){K(!1),console.log(e.message)}))},st:f}),c?Object(l.jsx)(i.a,{separator:">",style:{float:"left",padding:"24px 24px",fontSize:"0.825rem",width:"100%"},className:f.breadcrumbClientsSmall,children:0!==k.length?k.map((function(e,t){return F+="/".concat(c[t]),0===t?Object(l.jsxs)(i.a.Item,{href:"dashboard/".concat(e),children:[" ",Object(l.jsx)("strong",{children:e})," "]},t):t===k.length-1&&t>0?Object(l.jsxs)(i.a.Item,{children:[" ",Object(l.jsx)("strong",{children:e})," "]},t):Object(l.jsx)(i.a.Item,{href:F,children:Object(l.jsx)("strong",{children:e})},t)})):null}):null]}),Object(l.jsx)("main",{className:"slb min-h-screen bg-white",style:{padding:24},children:t})]})]})})}},"g4D/":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("JmJJ")),c=a(n("DMXp")),i=r.default;i.Group=c.default,i.__ANT_CHECKBOX=!0;var l=i;t.default=l},x1Ya:function(e,t,n){"use strict";n.r(t);var a=n("wx14"),r=n("rePB"),c=n("Ff2n"),i=n("VTBJ"),l=n("1OyB"),s=n("vuIU"),o=n("Ji7U"),u=n("LK+K"),d=n("q1tI"),f=n.n(d),p=n("TSYQ"),b=n.n(p),h=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,r=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),r&&r({target:Object(i.a)(Object(i.a)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var r="checked"in e?e.checked:e.defaultChecked;return a.state={checked:r},a}return Object(s.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,l=t.style,s=t.name,o=t.id,u=t.type,d=t.disabled,p=t.readOnly,h=t.tabIndex,j=t.onClick,m=t.onFocus,O=t.onBlur,g=t.onKeyDown,v=t.onKeyPress,x=t.onKeyUp,y=t.autoFocus,k=t.value,w=t.required,C=Object(c.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),P=Object.keys(C).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=C[t]),e}),{}),N=this.state.checked,S=b()(n,i,(e={},Object(r.a)(e,"".concat(n,"-checked"),N),Object(r.a)(e,"".concat(n,"-disabled"),d),e));return f.a.createElement("span",{className:S,style:l},f.a.createElement("input",Object(a.a)({name:s,id:o,type:u,required:w,readOnly:p,disabled:d,tabIndex:h,className:"".concat(n,"-input"),checked:!!N,onClick:j,onFocus:m,onBlur:O,onKeyUp:x,onKeyDown:g,onKeyPress:v,onChange:this.handleChange,autoFocus:y,ref:this.saveInput,value:k},P)),f.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(i.a)(Object(i.a)({},t),{},{checked:e.checked}):null}}]),n}(d.Component);h.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.default=h}},[["+Wdk",0,2,1,3,4,5,6,7,10,12,22]]]);