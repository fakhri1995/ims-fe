_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[56],{"8qpl":function(e,t,s){"use strict";s.r(t),s.d(t,"__N_SSP",(function(){return E}));var n=s("sF4d"),a=s.n(n),c=s("kEgK"),l=s.n(c),i=s("MM9K"),r=s.n(i),o=s("CC+v"),d=s.n(o),u=s("qu0K"),h=s.n(u),j=s("rmht"),m=s.n(j),b=s("iJl9"),p=s.n(b),f=s("4IMT"),x=s.n(f),O=s("rR1Q"),g=s.n(O),y=s("nKUr"),v=s("rePB"),N=s("20a2"),w=s("q1tI"),k=s("Nfnr"),C=s("g6Xq"),S=s.n(C);function P(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function T(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?P(Object(s),!0).forEach((function(t){Object(v.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var E=!0;t.default=function(e){var t=e.initProps,s=e.dataProfile,n=e.sidemenu,c=(e.dataAssetsList,Object(N.useRouter)()),i=t,o=c.pathname.split("/").slice(1),u=Object(w.useState)(!1),j=u[0],b=u[1],f=Object(w.useState)(!1),O=f[0],C=f[1],P=Object(w.useState)(!1),E=P[0],_=P[1],A=Object(w.useState)(""),I=A[0],D=A[1],M=Object(w.useState)([]),z=M[0],L=M[1],q=Object(w.useState)(!0),H=q[0],J=q[1],F=Object(w.useState)(!1),K=F[0],R=F[1],B=Object(w.useState)(!1),G=B[0],U=B[1],V=Object(w.useState)(!1),X=V[0],Y=V[1],Q=Object(w.useState)(""),W=Q[0],Z=Q[1],$=Object(w.useState)(""),ee=$[0],te=($[1],Object(w.useState)({name:"",parent:""})),se=te[0],ne=te[1],ae=Object(w.useState)({id:0}),ce=ae[0],le=(ae[1],function(e){ne(T(T({},se),{},Object(v.a)({},e.target.name,e.target.value)))}),ie=Object(w.useState)(!0),re=ie[0],oe=ie[1],de=Object(w.useState)([]),ue=de[0],he=de[1],je=[];!function e(t){for(var s=0;s<t.length;s++){var n=t[s],a=n.id,c=n.key,l=n.value,i=n.id_parent,r=n.title;je.push({id:a,key:c,value:l,id_parent:i,title:r}),n.children&&e(n.children)}}(z);var me=function e(t,s){for(var n,a=0;a<s.length;a++){var c=s[a];c.children&&(c.children.some((function(e){return e.key===t}))?n=c.key:e(t,c.children)&&(n=e(t,c.children)))}return n},be=function(){b(!0),C(!0),fetch("https://boiling-thicket-46501.herokuapp.com/addAsset",{method:"POST",headers:{Authorization:JSON.parse(i),"Content-Type":"application/json"},body:JSON.stringify(se)}).then((function(e){return e.json()})).then((function(e){b(!1),C(!1),e.success?(R(!1),g.a.success({message:e.message,duration:3}),setTimeout((function(){c.push("/admin/assets/".concat(se.name,"?parent=").concat(se.parent,"&create=true"))}),500)):e.success||(R(!1),g.a.error({message:e.message.errorInfo.status_detail,duration:3}))}))};return Object(w.useEffect)((function(){fetch("https://boiling-thicket-46501.herokuapp.com/getAssets",{method:"GET",headers:{Authorization:JSON.parse(t)}}).then((function(e){return e.json()})).then((function(e){if("undefined"===typeof e.data)e.data=[],L(e.data),J(!1);else{L(e.data);var t=e.data.map((function(e){return e.key}));he(t),J(!1)}}))}),[]),Object(y.jsx)(k.a,{tok:i,pathArr:o,sidemenu:n,dataProfile:s,st:S.a,children:Object(y.jsx)("div",{className:"w-full h-auto border-t border-opacity-30 border-gray-500 bg-white",children:Object(y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4",children:Object(y.jsxs)("div",{className:"col-span-1 md:col-span-4 flex flex-col",children:[Object(y.jsxs)("div",{className:"p-2 md:p-5 mb-5 border-b flex justify-between",children:[Object(y.jsx)("div",{className:"text-xs md:text-sm font-semibold",children:Object(y.jsx)("h1",{className:"mt-2 font-semibold text-xl",children:"Assets Types"})}),Object(y.jsx)(x.a,{disabled:H,type:"primary",size:"large",onClick:function(){c.push("/admin/assets/create?idparent=&codeparent=")},children:"Tambah"}),H?null:Object(y.jsx)(d.a,{title:"Tambah Assets Type & Field",visible:K,onCancel:function(){return R(!1)},maskClosable:!1,footer:null,style:{top:"3rem"},width:800,destroyOnClose:!0,children:Object(y.jsxs)(h.a,{layout:"vertical",onFinish:be,children:[Object(y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 mb-5",children:[Object(y.jsxs)("div",{className:"flex flex-col mx-3",children:[Object(y.jsx)("h1",{className:"text-sm",children:"Nama:"}),Object(y.jsx)(p.a,{onChange:le,name:"name",value:se.name,allowClear:!0,required:!0})]}),Object(y.jsxs)("div",{className:"flex flex-col mx-3",children:[Object(y.jsx)("h1",{className:"text-sm",children:"Deskripsi:"}),Object(y.jsx)(p.a,{name:"description",allowClear:!0})]}),Object(y.jsxs)("div",{className:"flex flex-col mx-3",children:[Object(y.jsx)("h1",{className:"text-sm",children:"Parent:"}),Object(y.jsx)(m.a,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:z,placeholder:"Pilih parent",treeDefaultExpandAll:!0,onChange:function(e){!function(e){ne(T(T({},se),{},Object(v.a)({},"parent",e)))}(e)},allowClear:!0,required:!0})]})]}),Object(y.jsxs)("div",{className:"flex justify-end",children:[Object(y.jsx)(x.a,{type:"default",onClick:function(){R(!1)},style:{marginRight:"1rem"},children:"Cancel"}),Object(y.jsx)(x.a,{htmlType:"submit",loading:j,type:"primary",size:"middle",children:"Save"})]})]})}),H?null:Object(y.jsx)(d.a,{title:"Tambah Assets Type & Field dari parent ".concat(ee),visible:G,onCancel:function(){U(!1),Z("")},maskClosable:!1,footer:null,style:{top:"3rem"},width:800,destroyOnClose:!0,children:Object(y.jsxs)(h.a,{layout:"vertical",onFinish:be,children:[Object(y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 mb-5",children:[Object(y.jsxs)("div",{className:"flex flex-col mx-3",children:[Object(y.jsx)("h1",{className:"text-sm",children:"Nama:"}),Object(y.jsx)(p.a,{onChange:le,name:"name",value:se.name,allowClear:!0,required:!0})]}),Object(y.jsxs)("div",{className:"flex flex-col mx-3",children:[Object(y.jsx)("h1",{className:"text-sm",children:"Deskripsi:"}),Object(y.jsx)(p.a,{name:"description",allowClear:!0})]}),Object(y.jsxs)("div",{className:"flex flex-col mx-3",children:[Object(y.jsx)("h1",{className:"text-sm",children:"Parent:"}),Object(y.jsx)(m.a,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},defaultValue:W,treeData:z,placeholder:"Pilih parent",treeDefaultExpandAll:!0,disabled:!0,allowClear:!0})]})]}),Object(y.jsx)(x.a,{htmlType:"submit",loading:O,type:"primary",size:"middle",children:"Submit"})]})}),Object(y.jsx)(d.a,{title:"Konfirmasi hapus asset",visible:X,okButtonProps:{disabled:E},onCancel:function(){Y(!1)},onOk:function(){_(!0),fetch("https://boiling-thicket-46501.herokuapp.com/deleteAsset",{method:"DELETE",headers:{Authorization:JSON.parse(i),"Content-Type":"application/json"},body:JSON.stringify(ce)}).then((function(e){return e.json()})).then((function(e){e.success?(_(!1),Y(!1),g.a.success({message:e.message,duration:3}),setTimeout((function(){c.push("/admin/assets")}),500)):e.success||(_(!1),Y(!1),g.a.error({message:e.message.errorInfo.status_detail,duration:3}))}))},maskClosable:!1,style:{top:"3rem"},width:500,destroyOnClose:!0,children:"Yakin ingin hapus asset ini?"})]}),Object(y.jsx)("div",{className:"flex mb-2 md:mb-5",children:Object(y.jsx)(p.a,{placeholder:"Masukkan Nama Asset Type",style:{width:"75%"},onChange:function(e){var t=e.target.value,s=je.map((function(e){return e.title.indexOf(t)>-1?me(e.key,z):null})).filter((function(e,t,s){return e&&s.indexOf(e)===t}));t?(he(s),D(t),oe(!0)):(he(z.map((function(e){return e.key}))),D(""),oe(!1))},allowClear:!0})}),H?Object(y.jsx)("div",{className:"flex",children:Object(y.jsx)(r.a,{})}):Object(y.jsx)("div",{className:"p-2 md:p-5 w-full md:w-9/12 border rounded-md shadow-md",children:0===z.length?Object(y.jsx)(l.a,{image:l.a.PRESENTED_IMAGE_SIMPLE}):Object(y.jsx)(a.a,{onExpand:function(e){he(e),oe(!1)},expandedKeys:ue,autoExpandParent:re,treeData:function e(t){return t.map((function(t){var s=t.title.indexOf(I),n=t.title.substr(0,s),a=t.title.substr(s+I.length),l=s>-1?Object(y.jsxs)("div",{className:"flex justify-between md:h-7 hover:bg-blue-100 text-black",onMouseOver:function(){var e=document.getElementById("node".concat(t.key));e.classList.add("flex"),e.classList.remove("hidden")},onMouseLeave:function(){var e=document.getElementById("node".concat(t.key));e.classList.add("hidden"),e.classList.remove("flex")},children:[Object(y.jsxs)("div",{className:"w-full",onClick:function(){c.push("/admin/assets/detail/".concat(t.id))},children:[n,Object(y.jsx)("span",{className:" text-blue-500",children:I}),a]}),Object(y.jsx)("div",{className:"hidden mx-2",id:"node".concat(t.key),children:Object(y.jsx)("a",{className:"mx-2 py-2 flex items-center",alt:"add",onClick:function(){c.push("/admin/assets/create?idparent=".concat(t.id,"&codeparent=").concat(t.value))},children:Object(y.jsx)("div",{className:"rounded-full bg-black text-white h-5 w-5 flex items-center text-xs justify-center hover:bg-gray-700",children:"+"})})})]}):Object(y.jsx)("span",{children:t.title});return t.children?{title:l,key:t.key,children:e(t.children)}:{title:l,key:t.key}}))}(z),filterTreeNode:function(e){var t=e.title.props.children[0].props?e.title.props.children[0].props.children[2]:e.title.props.children[2];return!!t&&-1!==t.indexOf(I)},showLine:{showLeafIcon:!1},blockNode:!0})})]})})})})}},H83l:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/assets",function(){return s("8qpl")}])},Nfnr:function(e,t,s){"use strict";var n=s("MM9K"),a=s.n(n),c=s("Y/VR"),l=s.n(c),i=s("nKUr"),r=s("d2CI"),o=s.n(r),d=s("q1tI"),u=s("20a2"),h=s("YFqc"),j=s.n(h),m=s("p46w"),b=s.n(m),p=s("2MCQ"),f=s.n(p),x=s("MjGk"),O=s.n(x),g=s("Gv1R"),y=s("cPPd");t.a=function(e){var t=e.children,s=e.tok,n=e.dataProfile,c=e.pathArr,r=e.sidemenu,h=e.st,m=Object(u.useRouter)(),p="",x=[];if(c)if("dashboard"===c[0])p=(p=c[1])[0].toUpperCase()+p.slice(1);else for(var v=0;v<c.length;v++)x.push(c[v]);var N=x.map((function(e,t){return e[0].toUpperCase()+e.slice(1)})),w=(o.a.Sider,o.a.Content,o.a.Header),k=Object(d.useState)(!0),C=k[0],S=k[1],P=Object(d.useState)(!0),T=P[0],E=P[1],_=Object(d.useState)(90),A=(_[0],_[1]),I=Object(d.useState)(!1),D=I[0],M=I[1],z=function(){S((function(e){return!e}))},L=function(){E((function(e){return!e}))};Object(d.useEffect)((function(){var e=window.innerHeight;A(e)}),[]);var q="";return Object(i.jsx)(a.a,{spinning:D,children:Object(i.jsxs)("div",{className:" min-h-screen flex",children:[Object(i.jsx)(g.a,{dataProfile:n,handleCollSmall:L,sidemenu:r,coll:C,collsmall:T,st:h}),Object(i.jsxs)("div",{className:"h-auto w-full",children:[Object(i.jsxs)(w,{className:"site-layout-background",style:{padding:0,backgroundColor:"white",display:"flex",alignItems:"center",flexDirection:"row",flexWrap:"wrap",width:"100%",justifyContent:"space-between",height:"auto"},children:[Object(i.jsxs)("div",{className:"flex z-50",children:[C?Object(i.jsx)(f.a,{onClick:z,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:h.trigger}):Object(i.jsx)(O.a,{onClick:z,style:{padding:"24px",float:"left"},className:h.trigger}),T?Object(i.jsx)(f.a,{onClick:L,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:h.triggerSmall}):Object(i.jsx)(O.a,{onClick:L,style:{padding:"24px",float:"left"},className:h.triggerSmall}),c?Object(i.jsx)(l.a,{separator:">",style:{float:"left",padding:"24px 10px",backgroundColor:"white"},className:h.breadcrumbClients,children:0!==N.length?N.map((function(e,t){return q+="/".concat(c[t]),0===t?Object(i.jsxs)(l.a.Item,{href:"/dashboard/".concat(c[t]),children:[" ",Object(i.jsx)("strong",{children:e})," "]},t):t===N.length-1&&t>0?"Assets"===e?Object(i.jsxs)(l.a.Item,{children:[" ",Object(i.jsx)("strong",{children:"Assets Types & Fields"})," "]},t):Object(i.jsxs)(l.a.Item,{children:[" ",Object(i.jsx)("strong",{children:e})," "]},t):Object(i.jsx)(l.a.Item,{href:q,children:Object(i.jsx)("strong",{children:e})},t)})):null}):null]}),Object(i.jsx)("label",{htmlFor:"menutoggle",className:"pointer-cursor md:hidden block cursor-pointer mr-4",children:Object(i.jsxs)("svg",{className:"fill-current text-gray-900",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",children:[Object(i.jsx)("title",{children:"menu"}),Object(i.jsx)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})}),Object(i.jsx)("input",{className:"hidden ".concat(h.menuToggle),type:"checkbox",id:"menutoggle"}),Object(i.jsx)(y.a,{dataProfile:n,Linkheader:j.a,handleLogout:function(){M(!0),fetch("https://boiling-thicket-46501.herokuapp.com/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(s)}}).then((function(e){return e.json()})).then((function(e){M(!1),e.success&&(b.a.remove("token"),console.log("token abis logout: "+b.a.get("token")),m.push("/login"))})).catch((function(e){M(!1),console.log(e.message)}))},st:h}),c?Object(i.jsx)(l.a,{separator:">",style:{float:"left",padding:"24px 24px",fontSize:"0.825rem",width:"100%"},className:h.breadcrumbClientsSmall,children:0!==N.length?N.map((function(e,t){return q+="/".concat(c[t]),0===t?Object(i.jsxs)(l.a.Item,{href:"dashboard/".concat(e),children:[" ",Object(i.jsx)("strong",{children:e})," "]},t):t===N.length-1&&t>0?Object(i.jsxs)(l.a.Item,{children:[" ",Object(i.jsx)("strong",{children:e})," "]},t):Object(i.jsx)(l.a.Item,{href:q,children:Object(i.jsx)("strong",{children:e})},t)})):null}):null]}),Object(i.jsx)("main",{className:"slb min-h-screen bg-white",style:{padding:24},children:t})]})]})})}}},[["H83l",0,2,1,3,4,5,6,7,8,10,13,14,16,15,33]]]);