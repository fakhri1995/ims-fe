_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[68],{"76vQ":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/groups/create/requesters",function(){return a("rzEd")}])},rzEd:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return C}));var r=a("nKUr"),s=a("9xET"),n=a.n(s),i=a("ZPTe"),c=a.n(i),o=a("qPIi"),l=a.n(o),d=a("UIqZ"),u=a.n(d),p=a("FAat"),m=a.n(p),b=a("4IMT"),h=a.n(b),j=a("iJl9"),g=a.n(j),O=a("rR1Q"),f=a.n(O),x=a("cpVT"),w=a("qu0K"),v=a.n(w),y=a("xvhg"),N=a("YFqc"),P=a.n(N),_=a("20a2"),q=a("q1tI"),A=a("vgPz"),S=a("p/jd"),G=a("qe3g"),T=a.n(G);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=!0;t.default=function(e){var t=e.initProps,a=e.dataProfile,s=e.dataListAccount,i=e.sidemenu,o=Object(_.useRouter)(),d=t,p=o.pathname.split("/").slice(1);p.splice(2,1),p[p.length-1]="Create Requesters Group";var b=o.query.originPath,j=v.a.useForm(),O=Object(y.a)(j,1)[0],w=Object(q.useState)(!1),N=w[0],G=w[1],k=Object(q.useState)({name:"",description:"",grup_head:null,user_ids:[]}),C=k[0],R=k[1],D=function(e){var t=e.target.value;R(E(E({},C),{},Object(x.a)({},e.target.name,t)))},F=Object(q.useState)(1),I=F[0],z=F[1],J=s.data.data.map((function(e,t){return{value:e.id,label:e.name}})),H=g.a.TextArea;return Object(r.jsx)(S.a,{tok:d,dataProfile:a,pathArr:p,sidemenu:i,originPath:b,dataDetailGroup:[],st:T.a,children:Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"w-full h-auto grid grid-cols-1 md:grid-cols-4",id:"formAgentsWrapper",children:[Object(r.jsx)("div",{className:"col-span-1 md:col-span-4",children:Object(r.jsx)(A.a,{containerSelectorFocus:"#formAgentsWrapper",children:Object(r.jsxs)("div",{className:"flex justify-between p-4 border-gray-400 border-t border-b bg-white mb-8",children:[Object(r.jsx)("h1",{className:"font-semibold text-base w-auto",children:"New Requesters Group"}),Object(r.jsxs)("div",{className:"flex space-x-2",children:[Object(r.jsx)(P.a,{href:"/admin/groups",children:Object(r.jsx)(h.a,{type:"default",size:"middle",children:"Cancel"})}),Object(r.jsx)(h.a,{type:"primary",size:"middle",onClick:O.submit,loading:N,children:"Save"})]})]})})}),Object(r.jsx)(v.a,{layout:"vertical",onFinish:function(){G(!0),fetch("".concat("https://service-staging.mig.id","/addRequesterGroup"),{method:"POST",headers:{Authorization:JSON.parse(d),"Content-Type":"application/json"},body:JSON.stringify(C)}).then((function(e){return e.json()})).then((function(e){G(!1),e.success?(f.a.success({message:e.message,duration:3}),setTimeout((function(){o.push("/admin/groups")}),100)):e.success||f.a.error({message:e.message,duration:3})}))},style:{display:"contents"},form:O,children:Object(r.jsxs)("div",{className:" col-span-1 md:col-span-3 flex flex-col",children:[Object(r.jsx)("div",{className:"pb-4 md:mb-0 ",children:Object(r.jsx)(v.a.Item,{name:"name",style:{marginRight:"1rem"},label:"Group Name",rules:[{required:!0,message:"Nama grup harus diisi"}],children:Object(r.jsx)(g.a,{placeholder:"Group Name",value:C.name,name:"name",onChange:D})})}),Object(r.jsx)("div",{className:"pb-4 md:mb-0",children:Object(r.jsx)(v.a.Item,{name:"description",style:{marginRight:"1rem"},label:"Group Description",rules:[{required:!0,message:"Deskripsi grup harus diisi"}],children:Object(r.jsx)(H,{placeholder:"Group Description",rows:2,value:C.description,name:"description",onChange:D})})}),Object(r.jsx)("div",{className:"pb-4 md:mb-0 ",children:Object(r.jsx)(v.a.Item,{name:"group_head",style:{marginRight:"1rem"},label:"Group Head",rules:[{required:!0,message:"Ketua grup harus diisi"}],initialValue:C.group_head,children:Object(r.jsx)(m.a,{showSearch:!0,placeholder:"Add Group Head",name:"group_head",showArrow:!0,options:J,optionFilterProp:"label",onChange:function(e){R(E(E({},C),{},Object(x.a)({},"group_head",e)))},style:{width:"100%",lineHeight:"2.4"}})})}),Object(r.jsx)(u.a,{style:{borderTop:"1px solid rgba(0, 0, 0, 0.2)"}}),Object(r.jsx)("h1",{className:"font-semibold text-base w-auto py-2",children:"Agents"}),Object(r.jsxs)("div",{className:"border-gray-300 md:px-4 px-0 py-4 mb-5 border bg-white w-full h-auto ",children:[Object(r.jsxs)(l.a.Group,{className:"flex flex-col md:flex-row",row:!0,onChange:function(e){z(e.target.value)},value:I,children:[Object(r.jsxs)(l.a,{className:"flex-initial font-bold ",value:1,children:["Add as a Member",Object(r.jsx)("p",{className:"pl-6 whitespace-normal font-normal",style:{width:"min-content",minWidth:"15rem"},children:"Members can be assigned tickets, tasks and other items that belong to this group."})]}),Object(r.jsxs)(l.a,{disabled:!0,className:"flex-initial font-bold",value:2,children:["Add as an Observer",Object(r.jsx)("p",{className:"pl-6 whitespace-normal font-normal",style:{width:"min-content",minWidth:"15rem"},children:"Members can be assigned tickets, tasks and other items that belong to this group."})]})]}),Object(r.jsx)(n.a,{children:Object(r.jsx)(c.a,{flex:"auto",children:Object(r.jsx)(m.a,{showSearch:!0,placeholder:"Add an Requester",showArrow:!0,mode:"multiple",options:J,optionFilterProp:"label",onChange:function(e){R(E(E({},C),{},Object(x.a)({},"user_ids",e)))},style:{width:"100%",padding:"0 5px",lineHeight:"2.4"}})})})]})]})}),Object(r.jsx)("div",{className:"".concat(T.a.grupdesc," flex flex-col space-y-3 px-4")})]})})})}}},[["76vQ",0,2,1,3,4,5,6,7,10,11,12,13,34]]]);