_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[68],{"1yiD":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/groups/update/agents/[groupsId]",function(){return a("NE2W")}])},NE2W:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return q}));var r=a("nKUr"),s=a("9xET"),n=a.n(s),i=a("ZPTe"),c=a.n(i),o=a("qPIi"),l=a.n(o),d=a("UIqZ"),u=a.n(d),p=a("FAat"),m=a.n(p),b=a("4IMT"),h=a.n(b),j=a("iJl9"),g=a.n(j),O=a("rR1Q"),f=a.n(O),x=a("cpVT"),w=a("qu0K"),y=a.n(w),v=a("xvhg"),N=a("YFqc"),_=a.n(N),P=a("20a2"),A=a("q1tI"),E=a("vgPz"),G=a("p/jd"),S=a("qe3g"),D=a.n(S);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=!0;t.default=function(e){var t=e.initProps,a=e.dataProfile,s=e.dataListAccount,i=e.dataDetailGroup,o=e.sidemenu,d=Object(P.useRouter)(),p=t,b=d.pathname.split("/").slice(1);b.splice(2,2),b[b.length-1]="Edit Agents Group";var j=d.query.originPath,O=y.a.useForm(),w=Object(v.a)(O,1)[0],N=Object(A.useState)(!1),S=N[0],T=N[1],q=Object(A.useState)({id:i.data.group_detail.id,name:i.data.group_detail.name,description:i.data.group_detail.description,group_head:i.data.group_detail.group_head,user_ids:i.data.group_user}),F=q[0],C=q[1],I=function(e){var t=e.target.value;C(k(k({},F),{},Object(x.a)({},e.target.name,t)))},W=Object(A.useState)(1),J=W[0],R=W[1],V=s.data.map((function(e,t){return{value:e.id,label:e.name}})),z=g.a.TextArea;return Object(r.jsx)(G.a,{tok:p,dataProfile:a,pathArr:b,sidemenu:o,dataDetailGroup:i,originPath:j,st:D.a,children:Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"w-full h-auto grid grid-cols-1 md:grid-cols-4",id:"formAgentsWrapper",children:[Object(r.jsx)("div",{className:"col-span-1 md:col-span-4",children:Object(r.jsx)(E.a,{containerSelectorFocus:"#formAgentsWrapper",children:Object(r.jsxs)("div",{className:"flex justify-between p-4 border-gray-400 border-t border-b bg-white mb-8",children:[Object(r.jsx)("h1",{className:"font-semibold text-base w-auto",children:"Edit Group Agents"}),Object(r.jsxs)("div",{className:"flex space-x-2",children:[Object(r.jsx)(_.a,{href:"/admin/groups",children:Object(r.jsx)(h.a,{type:"default",size:"middle",children:"Cancel"})}),Object(r.jsx)(h.a,{type:"primary",size:"middle",onClick:w.submit,loading:S,children:"Save"})]})]})})}),Object(r.jsx)(y.a,{layout:"vertical",onFinish:function(){T(!0),fetch("".concat("https://service-staging.mig.id","/updateAgentGroup"),{method:"PUT",headers:{Authorization:JSON.parse(p),"Content-Type":"application/json"},body:JSON.stringify(F)}).then((function(e){return e.json()})).then((function(e){T(!1),e.success?(f.a.success({message:e.message,duration:3}),setTimeout((function(){d.push("/admin/groups/update/agents/".concat(i.data.group_detail.id))}),100)):e.success||f.a.error({message:e.message,duration:3})}))},style:{display:"contents"},form:w,children:Object(r.jsxs)("div",{className:" col-span-1 md:col-span-3 flex flex-col",children:[Object(r.jsx)("div",{className:"pb-4 md:mb-0 ",children:Object(r.jsx)(y.a.Item,{name:"name",style:{marginRight:"1rem"},label:"Group Name",rules:[{required:!0,message:"Nama grup harus diisi"}],initialValue:F.name,children:Object(r.jsx)(g.a,{placeholder:"Group Name",name:"name",onChange:I})})}),Object(r.jsx)("div",{className:"pb-4 md:mb-0",children:Object(r.jsx)(y.a.Item,{name:"description",style:{marginRight:"1rem"},label:"Group Description",rules:[{required:!0,message:"Deskripsi grup harus diisi"}],initialValue:F.description,children:Object(r.jsx)(z,{placeholder:"Group Description",rows:2,name:"description",onChange:I})})}),Object(r.jsx)("div",{className:"pb-4 md:mb-0 ",children:Object(r.jsx)(y.a.Item,{name:"group_head",style:{marginRight:"1rem"},label:"Group Head",rules:[{required:!0,message:"Ketua grup harus diisi"}],initialValue:F.group_head,children:Object(r.jsx)(m.a,{showSearch:!0,placeholder:"Add Group Head",name:"group_head",showArrow:!0,options:V,optionFilterProp:"label",onChange:function(e){C(k(k({},F),{},Object(x.a)({},"group_head",e)))},style:{width:"100%",lineHeight:"2.4"}})})}),Object(r.jsx)(u.a,{style:{borderTop:"1px solid rgba(0, 0, 0, 0.2)"}}),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{className:"font-semibold text-base w-auto py-2",children:"Agents"}),Object(r.jsxs)("div",{className:"border-gray-300 md:px-4 px-0 py-4 mb-5 border bg-white w-full h-auto ",children:[Object(r.jsxs)(l.a.Group,{className:"flex flex-col md:flex-row",row:!0,onChange:function(e){R(e.target.value)},value:J,children:[Object(r.jsxs)(l.a,{className:"flex-initial font-bold ",value:1,children:["Add as a Member",Object(r.jsx)("p",{className:"pl-6 whitespace-normal font-normal",style:{width:"min-content",minWidth:"15rem"},children:"Members can be assigned tickets, tasks and other items that belong to this group."})]}),Object(r.jsxs)(l.a,{disabled:!0,className:"flex-initial font-bold",value:2,children:["Add as an Observer",Object(r.jsx)("p",{className:"pl-6 whitespace-normal font-normal",style:{width:"min-content",minWidth:"15rem"},children:"Members can be assigned tickets, tasks and other items that belong to this group."})]})]}),Object(r.jsx)(n.a,{children:Object(r.jsx)(c.a,{flex:"auto",children:Object(r.jsx)(m.a,{placeholder:"Add an Agent",showArrow:!0,mode:"multiple",optionFilterProp:"label",onChange:function(e){C(k(k({},F),{},Object(x.a)({},"user_ids",e)))},defaultValue:F.user_ids,options:V,style:{width:"100%",padding:"0 5px",lineHeight:"2.4"}})})})]})]})]})}),Object(r.jsx)("div",{className:"".concat(D.a.grupdesc," flex flex-col space-y-3 px-4")})]})})})}}},[["1yiD",0,2,1,3,4,5,6,7,10,11,12,13,34]]]);