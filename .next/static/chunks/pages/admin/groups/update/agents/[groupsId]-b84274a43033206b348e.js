_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[70],{"1yiD":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/groups/update/agents/[groupsId]",function(){return n("Wmvp")}])},"9xET":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("vhhj").Row;t.default=a},EWAn:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),s=n("q1tI"),i=a(n("hf16"));var c=function(){var e=(0,s.useState)({}),t=(0,r.default)(e,2),n=t[0],a=t[1];return(0,s.useEffect)((function(){var e=i.default.subscribe((function(e){a(e)}));return function(){return i.default.unsubscribe(e)}}),[]),n};t.default=c},Nfnr:function(e,t,n){"use strict";var a=n("MM9K"),r=n.n(a),s=n("Y/VR"),i=n.n(s),c=n("nKUr"),l=n("d2CI"),o=n.n(l),d=n("q1tI"),u=n("20a2"),p=n("YFqc"),h=n.n(p),j=n("p46w"),b=n.n(j),f=n("2MCQ"),m=n.n(f),g=n("MjGk"),O=n.n(g),x=n("Gv1R"),v=n("cPPd");t.a=function(e){var t=e.children,n=e.tok,a=e.dataProfile,s=e.pathArr,l=e.sidemenu,p=e.st,j=Object(u.useRouter)(),f="",g=[];if(s)if("dashboard"===s[0])f=(f=s[1])[0].toUpperCase()+f.slice(1);else for(var y=0;y<s.length;y++)g.push(s[y]);var w=g.map((function(e,t){return e[0].toUpperCase()+e.slice(1)})),N=(o.a.Sider,o.a.Content,o.a.Header),P=Object(d.useState)(!0),_=P[0],k=P[1],C=Object(d.useState)(!0),S=C[0],A=C[1],I=Object(d.useState)(90),T=(I[0],I[1]),E=Object(d.useState)(!1),q=E[0],M=E[1],D=function(){k((function(e){return!e}))},G=function(){A((function(e){return!e}))};Object(d.useEffect)((function(){var e=window.innerHeight;T(e)}),[]);var R="";return Object(c.jsx)(r.a,{spinning:q,children:Object(c.jsxs)("div",{className:" min-h-screen flex",children:[Object(c.jsx)(x.a,{dataProfile:a,handleCollSmall:G,sidemenu:l,coll:_,collsmall:S,st:p}),Object(c.jsxs)("div",{className:"h-auto w-full",children:[Object(c.jsxs)(N,{className:"site-layout-background",style:{padding:0,backgroundColor:"white",display:"flex",alignItems:"center",flexDirection:"row",flexWrap:"wrap",width:"100%",justifyContent:"space-between",height:"auto"},children:[Object(c.jsxs)("div",{className:"flex z-50",children:[_?Object(c.jsx)(m.a,{onClick:D,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:p.trigger}):Object(c.jsx)(O.a,{onClick:D,style:{padding:"24px",float:"left"},className:p.trigger}),S?Object(c.jsx)(m.a,{onClick:G,style:{padding:"24px",float:"left",marginTop:"0.3rem"},className:p.triggerSmall}):Object(c.jsx)(O.a,{onClick:G,style:{padding:"24px",float:"left"},className:p.triggerSmall}),s?Object(c.jsx)(i.a,{separator:">",style:{float:"left",padding:"24px 10px",backgroundColor:"white"},className:p.breadcrumbClients,children:0!==w.length?w.map((function(e,t){return R+="/".concat(s[t]),0===t?Object(c.jsxs)(i.a.Item,{href:"/dashboard/".concat(s[t]),children:[" ",Object(c.jsx)("strong",{children:e})," "]},t):t===w.length-1&&t>0?"Assets"===e?Object(c.jsxs)(i.a.Item,{children:[" ",Object(c.jsx)("strong",{children:"Assets Types & Fields"})," "]},t):Object(c.jsxs)(i.a.Item,{children:[" ",Object(c.jsx)("strong",{children:e})," "]},t):Object(c.jsx)(i.a.Item,{href:R,children:Object(c.jsx)("strong",{children:e})},t)})):null}):null]}),Object(c.jsx)("label",{htmlFor:"menutoggle",className:"pointer-cursor md:hidden block cursor-pointer mr-4",children:Object(c.jsxs)("svg",{className:"fill-current text-gray-900",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",children:[Object(c.jsx)("title",{children:"menu"}),Object(c.jsx)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})}),Object(c.jsx)("input",{className:"hidden ".concat(p.menuToggle),type:"checkbox",id:"menutoggle"}),Object(c.jsx)(v.a,{dataProfile:a,Linkheader:h.a,handleLogout:function(){M(!0),fetch("https://boiling-thicket-46501.herokuapp.com/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(n)}}).then((function(e){return e.json()})).then((function(e){M(!1),e.success&&(b.a.remove("token"),console.log("token abis logout: "+b.a.get("token")),j.push("/login"))})).catch((function(e){M(!1),console.log(e.message)}))},st:p}),s?Object(c.jsx)(i.a,{separator:">",style:{float:"left",padding:"24px 24px",fontSize:"0.825rem",width:"100%"},className:p.breadcrumbClientsSmall,children:0!==w.length?w.map((function(e,t){return R+="/".concat(s[t]),0===t?Object(c.jsxs)(i.a.Item,{href:"dashboard/".concat(e),children:[" ",Object(c.jsx)("strong",{children:e})," "]},t):t===w.length-1&&t>0?Object(c.jsxs)(i.a.Item,{children:[" ",Object(c.jsx)("strong",{children:e})," "]},t):Object(c.jsx)(i.a.Item,{href:R,children:Object(c.jsx)("strong",{children:e})},t)})):null}):null]}),Object(c.jsx)("main",{className:"slb min-h-screen bg-white",style:{padding:24},children:t})]})]})})}},UIqZ:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n("pVnL")),i=a(n("lSNA")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=s?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(a,i,c):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),l=a(n("TSYQ")),o=n("vgIT");function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var u=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},p=function(e){return c.createElement(o.ConfigConsumer,null,(function(t){var n,a=t.getPrefixCls,r=t.direction,o=e.prefixCls,d=e.type,p=void 0===d?"horizontal":d,h=e.orientation,j=void 0===h?"center":h,b=e.className,f=e.children,m=e.dashed,g=e.plain,O=u(e,["prefixCls","type","orientation","className","children","dashed","plain"]),x=a("divider",o),v=j.length>0?"-".concat(j):j,y=!!f,w=(0,l.default)(x,"".concat(x,"-").concat(p),(n={},(0,i.default)(n,"".concat(x,"-with-text"),y),(0,i.default)(n,"".concat(x,"-with-text").concat(v),y),(0,i.default)(n,"".concat(x,"-dashed"),!!m),(0,i.default)(n,"".concat(x,"-plain"),!!g),(0,i.default)(n,"".concat(x,"-rtl"),"rtl"===r),n),b);return c.createElement("div",(0,s.default)({className:w},O,{role:"separator"}),f&&c.createElement("span",{className:"".concat(x,"-inner-text")},f))}))};t.default=p},Wmvp:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return q}));var a=n("nKUr"),r=n("9xET"),s=n.n(r),i=n("ZPTe"),c=n.n(i),l=n("qPIi"),o=n.n(l),d=n("UIqZ"),u=n.n(d),p=n("FAat"),h=n.n(p),j=n("4IMT"),b=n.n(j),f=n("iJl9"),m=n.n(f),g=n("rR1Q"),O=n.n(g),x=n("rePB"),v=n("qu0K"),y=n.n(v),w=n("ODXe"),N=n("Nfnr"),P=n("20a2"),_=n("q1tI"),k=n("YFqc"),C=n.n(k),S=n("vgPz"),A=n("g6Xq"),I=n.n(A);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=!0;t.default=function(e){var t=e.initProps,n=e.dataProfile,r=e.dataListAccount,i=e.dataDetailGroup,l=e.sidemenu,d=Object(P.useRouter)(),p=t,j=d.pathname.split("/").slice(1);j.splice(2,2),j[j.length-1]="Edit Agents Group";var f=d.query.originPath,g=y.a.useForm(),v=Object(w.a)(g,1)[0],k=Object(_.useState)(!1),A=k[0],T=k[1],q=Object(_.useState)({id:i.data.group_detail.id,name:i.data.group_detail.name,description:i.data.group_detail.description,group_head:i.data.group_detail.group_head,user_ids:i.data.group_user}),M=q[0],D=q[1],G=function(e){var t=e.target.value;D(E(E({},M),{},Object(x.a)({},e.target.name,t)))},R=Object(_.useState)(1),z=R[0],F=R[1],W=r.data.map((function(e,t){return{value:e.id,label:e.name}})),H=m.a.TextArea;return Object(a.jsx)(N.a,{tok:p,dataProfile:n,pathArr:j,sidemenu:l,dataDetailGroup:i,originPath:f,st:I.a,children:Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"w-full h-auto grid grid-cols-1 md:grid-cols-4",id:"formAgentsWrapper",children:[Object(a.jsx)("div",{className:"col-span-1 md:col-span-4",children:Object(a.jsx)(S.a,{containerSelectorFocus:"#formAgentsWrapper",children:Object(a.jsxs)("div",{className:"flex justify-between p-4 border-gray-400 border-t border-b bg-white mb-8",children:[Object(a.jsx)("h1",{className:"font-semibold text-base w-auto",children:"Edit Group Agents"}),Object(a.jsxs)("div",{className:"flex space-x-2",children:[Object(a.jsx)(C.a,{href:"/admin/groups",children:Object(a.jsx)(b.a,{type:"default",size:"middle",children:"Cancel"})}),Object(a.jsx)(b.a,{type:"primary",size:"middle",onClick:v.submit,loading:A,children:"Save"})]})]})})}),Object(a.jsx)(y.a,{layout:"vertical",onFinish:function(){T(!0),fetch("https://boiling-thicket-46501.herokuapp.com/updateAgentGroup",{method:"PUT",headers:{Authorization:JSON.parse(p),"Content-Type":"application/json"},body:JSON.stringify(M)}).then((function(e){return e.json()})).then((function(e){T(!1),e.success?(O.a.success({message:e.message,duration:3}),setTimeout((function(){d.push("/admin/groups/update/agents/".concat(i.data.group_detail.id))}),100)):e.success||O.a.error({message:e.message,duration:3})}))},style:{display:"contents"},form:v,children:Object(a.jsxs)("div",{className:" col-span-1 md:col-span-3 flex flex-col",children:[Object(a.jsx)("div",{className:"pb-4 md:mb-0 ",children:Object(a.jsx)(y.a.Item,{name:"name",style:{marginRight:"1rem"},label:"Group Name",rules:[{required:!0,message:"Nama grup harus diisi"}],initialValue:M.name,children:Object(a.jsx)(m.a,{placeholder:"Group Name",name:"name",onChange:G})})}),Object(a.jsx)("div",{className:"pb-4 md:mb-0",children:Object(a.jsx)(y.a.Item,{name:"description",style:{marginRight:"1rem"},label:"Group Description",rules:[{required:!0,message:"Deskripsi grup harus diisi"}],initialValue:M.description,children:Object(a.jsx)(H,{placeholder:"Group Description",rows:2,name:"description",onChange:G})})}),Object(a.jsx)("div",{className:"pb-4 md:mb-0 ",children:Object(a.jsx)(y.a.Item,{name:"group_head",style:{marginRight:"1rem"},label:"Group Head",rules:[{required:!0,message:"Ketua grup harus diisi"}],initialValue:M.group_head,children:Object(a.jsx)(h.a,{showSearch:!0,placeholder:"Add Group Head",name:"group_head",showArrow:!0,options:W,optionFilterProp:"label",onChange:function(e){D(E(E({},M),{},Object(x.a)({},"group_head",e)))},style:{width:"100%",lineHeight:"2.4"}})})}),Object(a.jsx)(u.a,{style:{borderTop:"1px solid rgba(0, 0, 0, 0.2)"}}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"font-semibold text-base w-auto py-2",children:"Agents"}),Object(a.jsxs)("div",{className:"border-gray-300 md:px-4 px-0 py-4 mb-5 border bg-white w-full h-auto ",children:[Object(a.jsxs)(o.a.Group,{className:"flex flex-col md:flex-row",row:!0,onChange:function(e){F(e.target.value)},value:z,children:[Object(a.jsxs)(o.a,{className:"flex-initial font-bold ",value:1,children:["Add as a Member",Object(a.jsx)("p",{className:"pl-6 whitespace-normal font-normal",style:{width:"min-content",minWidth:"15rem"},children:"Members can be assigned tickets, tasks and other items that belong to this group."})]}),Object(a.jsxs)(o.a,{disabled:!0,className:"flex-initial font-bold",value:2,children:["Add as an Observer",Object(a.jsx)("p",{className:"pl-6 whitespace-normal font-normal",style:{width:"min-content",minWidth:"15rem"},children:"Members can be assigned tickets, tasks and other items that belong to this group."})]})]}),Object(a.jsx)(s.a,{children:Object(a.jsx)(c.a,{flex:"auto",children:Object(a.jsx)(h.a,{placeholder:"Add an Agent",showArrow:!0,mode:"multiple",optionFilterProp:"label",onChange:function(e){D(E(E({},M),{},Object(x.a)({},"user_ids",e)))},defaultValue:M.user_ids,options:W,style:{width:"100%",padding:"0 5px",lineHeight:"2.4"}})})})]})]})]})}),Object(a.jsx)("div",{className:"".concat(I.a.grupdesc," flex flex-col space-y-3 px-4")})]})})})}},ZPTe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("vhhj").Col;t.default=a},vhhj:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Row",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Col",{enumerable:!0,get:function(){return s.default}}),t.default=void 0;var r=a(n("1Ot+")),s=a(n("Y7j8")),i={useBreakpoint:a(n("EWAn")).default};t.default=i}},[["1yiD",0,2,1,3,4,5,6,7,8,9,10,11,12]]]);